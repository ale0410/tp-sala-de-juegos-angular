"use strict";(self.webpackChunktp_sala_de_juegos=self.webpackChunktp_sala_de_juegos||[]).push([[179],{7128:(Qt,rt,k)=>{k.d(rt,{nm:()=>ht});var c=k(880),Ie=(k(5e3),k(3692),k(5867),k(5861)),Te=k(9681),De=k(4859),oe=k(2090),Oe=k(1877);const ne=new Map,de={activated:!1,tokenObservers:[]},Le={initialized:!1,enabled:!1};function ot(ze){return ne.get(ze)||de}function it(ze,Fe){ne.set(ze,Fe)}function Dt(){return Le}class Re{constructor(Fe,qe,Nt,zt,sn){if(this.operation=Fe,this.retryPolicy=qe,this.getWaitDuration=Nt,this.lowerBound=zt,this.upperBound=sn,this.pending=null,this.nextErrorWaitInterval=zt,zt>sn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Fe){var qe=this;return(0,Ie.Z)(function*(){qe.stop();try{qe.pending=new oe.BH,yield function at(ze){return new Promise(Fe=>{setTimeout(Fe,ze)})}(qe.getNextRun(Fe)),qe.pending.resolve(),yield qe.pending.promise,qe.pending=new oe.BH,yield qe.operation(),qe.pending.resolve(),yield qe.pending.promise,qe.process(!0).catch(()=>{})}catch(Nt){qe.retryPolicy(Nt)?qe.process(!1).catch(()=>{}):qe.stop()}})()}getNextRun(Fe){if(Fe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const qe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),qe}}}const Ne=new oe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ae(ze){if(!ot(ze).activated)throw Ne.create("use-before-activation",{appName:ze.name})}function He(ze,Fe){return fe.apply(this,arguments)}function fe(){return(fe=(0,Ie.Z)(function*({url:ze,body:Fe},qe){const Nt={"Content-Type":"application/json"},zt=qe.getImmediate({optional:!0});if(zt){const Hr=yield zt.getHeartbeatsHeader();Hr&&(Nt["X-Firebase-Client"]=Hr)}const sn={method:"POST",body:JSON.stringify(Fe),headers:Nt};let qn,wr;try{qn=yield fetch(ze,sn)}catch(Hr){throw Ne.create("fetch-network-error",{originalErrorMessage:Hr.message})}if(200!==qn.status)throw Ne.create("fetch-status-error",{httpStatus:qn.status});try{wr=yield qn.json()}catch(Hr){throw Ne.create("fetch-parse-error",{originalErrorMessage:Hr.message})}const Wn=wr.ttl.match(/^([\d.]+)(s)$/);if(!Wn||!Wn[2]||isNaN(Number(Wn[1])))throw Ne.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${wr.ttl}`});const qr=1e3*Number(Wn[1]),$r=Date.now();return{token:wr.token,expireTimeMillis:$r+qr,issuedAtTimeMillis:$r}})).apply(this,arguments)}function hn(ze,Fe){const{projectId:qe,appId:Nt,apiKey:zt}=ze.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${qe}/apps/${Nt}:exchangeDebugToken?key=${zt}`,body:{debug_token:Fe}}}const Jt="firebase-app-check-store";let dt=null;function pt(){return dt||(dt=new Promise((ze,Fe)=>{try{const qe=indexedDB.open("firebase-app-check-database",1);qe.onsuccess=Nt=>{ze(Nt.target.result)},qe.onerror=Nt=>{var zt;Fe(Ne.create("storage-open",{originalErrorMessage:null===(zt=Nt.target.error)||void 0===zt?void 0:zt.message}))},qe.onupgradeneeded=Nt=>{0===Nt.oldVersion&&Nt.target.result.createObjectStore(Jt,{keyPath:"compositeKey"})}}catch(qe){Fe(Ne.create("storage-open",{originalErrorMessage:qe.message}))}}),dt)}function vn(){return(vn=(0,Ie.Z)(function*(ze,Fe){const Nt=(yield pt()).transaction(Jt,"readwrite"),sn=Nt.objectStore(Jt).put({compositeKey:ze,value:Fe});return new Promise((qn,wr)=>{sn.onsuccess=Wn=>{qn()},Nt.onerror=Wn=>{var qr;wr(Ne.create("storage-set",{originalErrorMessage:null===(qr=Wn.target.error)||void 0===qr?void 0:qr.message}))}})})).apply(this,arguments)}const un=new Oe.Yd("@firebase/app-check");function tn(ze,Fe){return(0,oe.hl)()?function Ke(ze,Fe){return function Dn(ze,Fe){return vn.apply(this,arguments)}(function Fn(ze){return`${ze.options.appId}-${ze.name}`}(ze),Fe)}(ze,Fe).catch(qe=>{un.warn(`Failed to write token to IndexedDB. Error: ${qe}`)}):Promise.resolve()}function Jn(){return Dt().enabled}function vt(){return ke.apply(this,arguments)}function ke(){return(ke=(0,Ie.Z)(function*(){const ze=Dt();if(ze.enabled&&ze.token)return ze.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const tt={error:"UNKNOWN_ERROR"};function At(ze){return oe.US.encodeString(JSON.stringify(ze),!1)}function Ut(ze){return kt.apply(this,arguments)}function kt(){return(kt=(0,Ie.Z)(function*(ze,Fe=!1){const qe=ze.app;ae(qe);const Nt=ot(qe);let sn,zt=Nt.token;if(!zt){const Wn=yield Nt.cachedTokenPromise;Wn&&jn(Wn)&&(zt=Wn)}if(!Fe&&zt&&jn(zt))return{token:zt.token};let wr,qn=!1;if(Jn()){Nt.exchangeTokenPromise||(Nt.exchangeTokenPromise=He(hn(qe,yield vt()),ze.heartbeatServiceProvider).then(qr=>(Nt.exchangeTokenPromise=void 0,qr)),qn=!0);const Wn=yield Nt.exchangeTokenPromise;return yield tn(qe,Wn),it(qe,Object.assign(Object.assign({},Nt),{token:Wn})),{token:Wn.token}}try{Nt.exchangeTokenPromise||(Nt.exchangeTokenPromise=Nt.provider.getToken().then(Wn=>(Nt.exchangeTokenPromise=void 0,Wn)),qn=!0),zt=yield Nt.exchangeTokenPromise}catch(Wn){"appCheck/throttled"===Wn.code?un.warn(Wn.message):un.error(Wn),sn=Wn}return zt?(wr={token:zt.token},it(qe,Object.assign(Object.assign({},Nt),{token:zt})),yield tn(qe,zt)):wr=fn(sn),qn&&En(qe,wr),wr})).apply(this,arguments)}function Tn(ze,Fe){const qe=ot(ze),Nt=qe.tokenObservers.filter(zt=>zt.next!==Fe);0===Nt.length&&qe.tokenRefresher&&qe.tokenRefresher.isRunning()&&qe.tokenRefresher.stop(),it(ze,Object.assign(Object.assign({},qe),{tokenObservers:Nt}))}function tr(ze){const{app:Fe}=ze,qe=ot(Fe);let Nt=qe.tokenRefresher;Nt||(Nt=function hr(ze){const{app:Fe}=ze;return new Re((0,Ie.Z)(function*(){let Nt;if(Nt=ot(Fe).token?yield Ut(ze,!0):yield Ut(ze),Nt.error)throw Nt.error}),()=>!0,()=>{const qe=ot(Fe);if(qe.token){let Nt=qe.token.issuedAtTimeMillis+.5*(qe.token.expireTimeMillis-qe.token.issuedAtTimeMillis)+3e5;return Nt=Math.min(Nt,qe.token.expireTimeMillis-3e5),Math.max(0,Nt-Date.now())}return 0},3e4,96e4)}(ze),it(Fe,Object.assign(Object.assign({},qe),{tokenRefresher:Nt}))),!Nt.isRunning()&&qe.isTokenAutoRefreshEnabled&&Nt.start()}function En(ze,Fe){const qe=ot(ze).tokenObservers;for(const Nt of qe)try{"EXTERNAL"===Nt.type&&null!=Fe.error?Nt.error(Fe.error):Nt.next(Fe)}catch(zt){}}function jn(ze){return ze.expireTimeMillis-Date.now()>0}function fn(ze){return{token:At(tt),error:ze}}class on{constructor(Fe,qe){this.app=Fe,this.heartbeatServiceProvider=qe}_delete(){const{tokenObservers:Fe}=ot(this.app);for(const qe of Fe)Tn(this.app,qe.next);return Promise.resolve()}}const vr="app-check-internal";!function Ir(){(0,Te._registerComponent)(new De.wA("app-check",ze=>function wn(ze,Fe){return new on(ze,Fe)}(ze.getProvider("app").getImmediate(),ze.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ze,Fe,qe)=>{ze.getProvider(vr).initialize()})),(0,Te._registerComponent)(new De.wA(vr,ze=>function nt(ze){return{getToken:Fe=>Ut(ze,Fe),addTokenListener:Fe=>function xt(ze,Fe,qe,Nt){const{app:zt}=ze,sn=ot(zt),qn={next:qe,error:Nt,type:Fe};if(it(zt,Object.assign(Object.assign({},sn),{tokenObservers:[...sn.tokenObservers,qn]})),sn.token&&jn(sn.token)){const wr=sn.token;Promise.resolve().then(()=>{qe({token:wr.token}),tr(ze)}).catch(()=>{})}sn.cachedTokenPromise.then(()=>tr(ze))}(ze,"INTERNAL",Fe),removeTokenListener:Fe=>Tn(ze.app,Fe)}}(ze.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Te.registerVersion)("@firebase/app-check","0.5.7")}();class ht{constructor(){return(0,c.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(Qt,rt,k)=>{k.d(rt,{Ot:()=>ve,ZF:()=>Pe,hX:()=>ot,z6:()=>Ie});var c=k(5867),_=k(5e3),G=k(880);class ve{constructor(Re){return Re}}class Ie{constructor(){return(0,c.C6)()}}const oe=new _.OlP("angularfire2._apps"),Oe={provide:ve,useFactory:function De(We){return We&&1===We.length?We[0]:new ve((0,c.Mq)())},deps:[[new _.FiY,oe]]},ne={provide:Ie,deps:[[new _.FiY,oe]]};function de(We){return(Re,at)=>{const It=Re.runOutsideAngular(()=>We(at));return new ve(It)}}let Le=(()=>{class We{constructor(at){(0,c.KN)("angularfire",G.q4.full,"core"),(0,c.KN)("angularfire",G.q4.full,"app"),(0,c.KN)("angular",_.q4F.full,at.toString())}}return We.\u0275fac=function(at){return new(at||We)(_.LFG(_.Lbi))},We.\u0275mod=_.oAB({type:We}),We.\u0275inj=_.cJS({providers:[Oe,ne]}),We})();function ot(We,...Re){return{ngModule:Le,providers:[{provide:oe,useFactory:de(We),multi:!0,deps:[_.R0b,_.zs3,G.HU,...Re]}]}}const Pe=(0,G.u3)(c.ZF,!0)},3385:(Qt,rt,k)=>{k.d(rt,{zQ:()=>_e,ww:()=>xe,rT:()=>Ne,f7:()=>ae,L6:()=>at,_Q:()=>It,lh:()=>Ct,Qv:()=>Re,nw:()=>me});var c=k(5e3),_=k(7579),G=k(9646),ve=k(8306),Ie=k(8996),Te=k(6451),De=k(3900),oe=k(576);function Oe(He,fe){return(0,oe.m)(fe)?(0,De.w)(()=>He,fe):(0,De.w)(()=>He)}var ne=k(5363),de=k(4004),Le=k(3151),ot=k(590),it=k(9468),Dt=k(9300),Ot=k(880),Pe=k(2011),Ye=k(9808),lt=k(7128),Et=k(127);const Re=new c.OlP("angularfire2.auth.use-emulator"),at=new c.OlP("angularfire2.auth.settings"),It=new c.OlP("angularfire2.auth.tenant-id"),Ne=new c.OlP("angularfire2.auth.langugage-code"),Ct=new c.OlP("angularfire2.auth.use-device-language"),ae=new c.OlP("angularfire.auth.persistence"),me=(He,fe,mt,Vt,hn,wt,Kt,Jt)=>(0,Pe.cc)(`${He.name}.auth`,"AngularFireAuth",He.name,()=>{const rn=fe.runOutsideAngular(()=>He.auth());if(mt&&rn.useEmulator(...mt),Vt&&(rn.tenantId=Vt),rn.languageCode=hn,wt&&rn.useDeviceLanguage(),Kt)for(const[dt,pt]of Object.entries(Kt))rn.settings[dt]=pt;return Jt&&rn.setPersistence(Jt),rn},[mt,Vt,hn,wt,Kt,Jt]);let _e=(()=>{class He{constructor(mt,Vt,hn,wt,Kt,Jt,rn,dt,pt,Ae,Ke,Mt){const en=new _.x,Dn=(0,G.of)(void 0).pipe((0,ne.Q)(Kt.outsideAngular),(0,De.w)(()=>wt.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,de.U)(()=>(0,Pe.on)(mt,wt,Vt)),(0,de.U)(vn=>me(vn,wt,Jt,dt,pt,Ae,rn,Ke)),(0,Le.d)({bufferSize:1,refCount:!1}));if((0,Ye.PM)(hn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,G.of)(null);else{Dn.pipe((0,ot.P)()).subscribe();const Qn=Dn.pipe((0,De.w)(un=>un.getRedirectResult().then(sr=>sr,()=>null)),Ot.iC,(0,Le.d)({bufferSize:1,refCount:!1})),dr=Dn.pipe((0,De.w)(un=>new ve.y(sr=>({unsubscribe:wt.runOutsideAngular(()=>un.onAuthStateChanged(er=>sr.next(er),er=>sr.error(er),()=>sr.complete()))})))),Fn=Dn.pipe((0,De.w)(un=>new ve.y(sr=>({unsubscribe:wt.runOutsideAngular(()=>un.onIdTokenChanged(er=>sr.next(er),er=>sr.error(er),()=>sr.complete()))}))));this.authState=Qn.pipe(Oe(dr),(0,it.R)(Kt.outsideAngular),(0,ne.Q)(Kt.insideAngular)),this.user=Qn.pipe(Oe(Fn),(0,it.R)(Kt.outsideAngular),(0,ne.Q)(Kt.insideAngular)),this.idToken=this.user.pipe((0,De.w)(un=>un?(0,Ie.D)(un.getIdToken()):(0,G.of)(null))),this.idTokenResult=this.user.pipe((0,De.w)(un=>un?(0,Ie.D)(un.getIdTokenResult()):(0,G.of)(null))),this.credential=(0,Te.T)(Qn,en,this.authState.pipe((0,Dt.h)(un=>!un))).pipe((0,de.U)(un=>(null==un?void 0:un.user)?un:null),(0,it.R)(Kt.outsideAngular),(0,ne.Q)(Kt.insideAngular))}return(0,Pe.pX)(this,Dn,wt,{spy:{apply:(vn,Qn,dr)=>{(vn.startsWith("signIn")||vn.startsWith("createUser"))&&dr.then(Fn=>en.next(Fn))}}})}}return He.\u0275fac=function(mt){return new(mt||He)(c.LFG(Pe.Dh),c.LFG(Pe.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ot.HU),c.LFG(Re,8),c.LFG(at,8),c.LFG(It,8),c.LFG(Ne,8),c.LFG(Ct,8),c.LFG(ae,8),c.LFG(lt.nm,8))},He.\u0275prov=c.Yz7({token:He,factory:He.\u0275fac,providedIn:"any"}),He})(),xe=(()=>{class He{constructor(){Et.Z.registerVersion("angularfire",Ot.q4.full,"auth-compat")}}return He.\u0275fac=function(mt){return new(mt||He)},He.\u0275mod=c.oAB({type:He}),He.\u0275inj=c.cJS({providers:[_e]}),He})()},3290:(Qt,rt,k)=>{k.d(rt,{ST:()=>on,yb:()=>wn});var c=k(5e3),_=k(4986),G=k(8306),ve=k(8996),Ie=k(9646),Te=k(880),De=k(8675),oe=k(1520),Oe=k(4004),ne=k(5026),de=k(1884),Le=k(9300),ot=k(2011),it=k(9808),Ot=(k(5881),k(3942)),Pe=k(5525),Ye=k(2090),lt=k(4859);function Re(nt,j){if(void 0===j)return{merge:!1};if(void 0!==j.mergeFields&&void 0!==j.merge)throw new Pe.WA("invalid-argument",`Invalid options passed to function ${nt}(): You cannot specify both "merge" and "mergeFields".`);return j}function at(){if("undefined"==typeof Uint8Array)throw new Pe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function It(){if(!(0,Pe.Me)())throw new Pe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ne{constructor(j){this._delegate=j}static fromBase64String(j){return It(),new Ne(Pe.Jj.fromBase64String(j))}static fromUint8Array(j){return at(),new Ne(Pe.Jj.fromUint8Array(j))}toBase64(){return It(),this._delegate.toBase64()}toUint8Array(){return at(),this._delegate.toUint8Array()}isEqual(j){return this._delegate.isEqual(j._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ct(nt){return function ae(nt,j){if("object"!=typeof nt||null===nt)return!1;const Z=nt;for(const $e of j)if($e in Z&&"function"==typeof Z[$e])return!0;return!1}(nt,["next","error","complete"])}class me{enableIndexedDbPersistence(j,Z){return(0,Pe.ST)(j._delegate,{forceOwnership:Z})}enableMultiTabIndexedDbPersistence(j){return(0,Pe.fH)(j._delegate)}clearIndexedDbPersistence(j){return(0,Pe.Fc)(j._delegate)}}class _e{constructor(j,Z,$e){this._delegate=Z,this._persistenceProvider=$e,this.INTERNAL={delete:()=>this.terminate()},j instanceof Pe.l7||(this._appCompat=j)}get _databaseId(){return this._delegate._databaseId}settings(j){const Z=this._delegate._getSettings();!j.merge&&Z.host!==j.host&&(0,Pe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),j.merge&&delete(j=Object.assign(Object.assign({},Z),j)).merge,this._delegate._setSettings(j)}useEmulator(j,Z,$e={}){(0,Pe.at)(this._delegate,j,Z,$e)}enableNetwork(){return(0,Pe.Ix)(this._delegate)}disableNetwork(){return(0,Pe.TF)(this._delegate)}enablePersistence(j){let Z=!1,$e=!1;return j&&(Z=!!j.synchronizeTabs,$e=!!j.experimentalForceOwningTab,(0,Pe.Wi)("synchronizeTabs",Z,"experimentalForceOwningTab",$e)),Z?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,$e)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Pe.Mx)(this._delegate)}onSnapshotsInSync(j){return(0,Pe.sc)(this._delegate,j)}get app(){if(!this._appCompat)throw new Pe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(j){try{return new Mt(this,(0,Pe.hJ)(this._delegate,j))}catch(Z){throw wt(Z,"collection()","Firestore.collection()")}}doc(j){try{return new hn(this,(0,Pe.JU)(this._delegate,j))}catch(Z){throw wt(Z,"doc()","Firestore.doc()")}}collectionGroup(j){try{return new pt(this,(0,Pe.B$)(this._delegate,j))}catch(Z){throw wt(Z,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(j){return(0,Pe.i3)(this._delegate,Z=>j(new fe(this,Z)))}batch(){return(0,Pe.qY)(this._delegate),new mt(new Pe.PU(this._delegate,j=>(0,Pe.GL)(this._delegate,j)))}loadBundle(j){return(0,Pe.Pb)(this._delegate,j)}namedQuery(j){return(0,Pe.L$)(this._delegate,j).then(Z=>Z?new pt(this,Z):null)}}class xe extends Pe.u7{constructor(j){super(),this.firestore=j}convertBytes(j){return new Ne(new Pe.Jj(j))}convertReference(j){const Z=this.convertDocumentKey(j,this.firestore._databaseId);return hn.forKey(Z,this.firestore,null)}}class fe{constructor(j,Z){this._firestore=j,this._delegate=Z,this._userDataWriter=new xe(j)}get(j){const Z=en(j);return this._delegate.get(Z).then($e=>new rn(this._firestore,new Pe.xU(this._firestore._delegate,this._userDataWriter,$e._key,$e._document,$e.metadata,Z.converter)))}set(j,Z,$e){const pe=en(j);return $e?(Re("Transaction.set",$e),this._delegate.set(pe,Z,$e)):this._delegate.set(pe,Z),this}update(j,Z,$e,...pe){const Ze=en(j);return 2===arguments.length?this._delegate.update(Ze,Z):this._delegate.update(Ze,Z,$e,...pe),this}delete(j){const Z=en(j);return this._delegate.delete(Z),this}}class mt{constructor(j){this._delegate=j}set(j,Z,$e){const pe=en(j);return $e?(Re("WriteBatch.set",$e),this._delegate.set(pe,Z,$e)):this._delegate.set(pe,Z),this}update(j,Z,$e,...pe){const Ze=en(j);return 2===arguments.length?this._delegate.update(Ze,Z):this._delegate.update(Ze,Z,$e,...pe),this}delete(j){const Z=en(j);return this._delegate.delete(Z),this}commit(){return this._delegate.commit()}}class Vt{constructor(j,Z,$e){this._firestore=j,this._userDataWriter=Z,this._delegate=$e}fromFirestore(j,Z){const $e=new Pe.$q(this._firestore._delegate,this._userDataWriter,j._key,j._document,j.metadata,null);return this._delegate.fromFirestore(new dt(this._firestore,$e),null!=Z?Z:{})}toFirestore(j,Z){return Z?this._delegate.toFirestore(j,Z):this._delegate.toFirestore(j)}static getInstance(j,Z){const $e=Vt.INSTANCES;let pe=$e.get(j);pe||(pe=new WeakMap,$e.set(j,pe));let Ze=pe.get(Z);return Ze||(Ze=new Vt(j,new xe(j),Z),pe.set(Z,Ze)),Ze}}Vt.INSTANCES=new WeakMap;class hn{constructor(j,Z){this.firestore=j,this._delegate=Z,this._userDataWriter=new xe(j)}static forPath(j,Z,$e){if(j.length%2!=0)throw new Pe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${j.canonicalString()} has ${j.length}`);return new hn(Z,new Pe.my(Z._delegate,$e,new Pe.Ky(j)))}static forKey(j,Z,$e){return new hn(Z,new Pe.my(Z._delegate,$e,j))}get id(){return this._delegate.id}get parent(){return new Mt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(j){try{return new Mt(this.firestore,(0,Pe.hJ)(this._delegate,j))}catch(Z){throw wt(Z,"collection()","DocumentReference.collection()")}}isEqual(j){return(j=(0,Ye.m9)(j))instanceof Pe.my&&(0,Pe.Eo)(this._delegate,j)}set(j,Z){Z=Re("DocumentReference.set",Z);try{return Z?(0,Pe.pl)(this._delegate,j,Z):(0,Pe.pl)(this._delegate,j)}catch($e){throw wt($e,"setDoc()","DocumentReference.set()")}}update(j,Z,...$e){try{return 1===arguments.length?(0,Pe.r7)(this._delegate,j):(0,Pe.r7)(this._delegate,j,Z,...$e)}catch(pe){throw wt(pe,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Pe.oe)(this._delegate)}onSnapshot(...j){const Z=Kt(j),$e=Jt(j,pe=>new rn(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,pe._key,pe._document,pe.metadata,this._delegate.converter)));return(0,Pe.cf)(this._delegate,Z,$e)}get(j){let Z;return Z="cache"===(null==j?void 0:j.source)?(0,Pe.kl)(this._delegate):"server"===(null==j?void 0:j.source)?(0,Pe.Xk)(this._delegate):(0,Pe.QT)(this._delegate),Z.then($e=>new rn(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,$e._key,$e._document,$e.metadata,this._delegate.converter)))}withConverter(j){return new hn(this.firestore,this._delegate.withConverter(j?Vt.getInstance(this.firestore,j):null))}}function wt(nt,j,Z){return nt.message=nt.message.replace(j,Z),nt}function Kt(nt){for(const j of nt)if("object"==typeof j&&!Ct(j))return j;return{}}function Jt(nt,j){var Z,$e;let pe;return pe=Ct(nt[0])?nt[0]:Ct(nt[1])?nt[1]:"function"==typeof nt[0]?{next:nt[0],error:nt[1],complete:nt[2]}:{next:nt[1],error:nt[2],complete:nt[3]},{next:Ze=>{pe.next&&pe.next(j(Ze))},error:null===(Z=pe.error)||void 0===Z?void 0:Z.bind(pe),complete:null===($e=pe.complete)||void 0===$e?void 0:$e.bind(pe)}}class rn{constructor(j,Z){this._firestore=j,this._delegate=Z}get ref(){return new hn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(j){return this._delegate.data(j)}get(j,Z){return this._delegate.get(j,Z)}isEqual(j){return(0,Pe.qK)(this._delegate,j._delegate)}}class dt extends rn{data(j){const Z=this._delegate.data(j);return(0,Pe.K9)(void 0!==Z,"Document in a QueryDocumentSnapshot should exist"),Z}}class pt{constructor(j,Z){this.firestore=j,this._delegate=Z,this._userDataWriter=new xe(j)}where(j,Z,$e){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.ar)(j,Z,$e)))}catch(pe){throw wt(pe,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(j,Z){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Xo)(j,Z)))}catch($e){throw wt($e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(j){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.b9)(j)))}catch(Z){throw wt(Z,"limit()","Query.limit()")}}limitToLast(j){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.vh)(j)))}catch(Z){throw wt(Z,"limitToLast()","Query.limitToLast()")}}startAt(...j){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.e0)(...j)))}catch(Z){throw wt(Z,"startAt()","Query.startAt()")}}startAfter(...j){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.TQ)(...j)))}catch(Z){throw wt(Z,"startAfter()","Query.startAfter()")}}endBefore(...j){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Lx)(...j)))}catch(Z){throw wt(Z,"endBefore()","Query.endBefore()")}}endAt(...j){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Wu)(...j)))}catch(Z){throw wt(Z,"endAt()","Query.endAt()")}}isEqual(j){return(0,Pe.iE)(this._delegate,j._delegate)}get(j){let Z;return Z="cache"===(null==j?void 0:j.source)?(0,Pe.UQ)(this._delegate):"server"===(null==j?void 0:j.source)?(0,Pe.zN)(this._delegate):(0,Pe.PL)(this._delegate),Z.then($e=>new Ke(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,$e._snapshot)))}onSnapshot(...j){const Z=Kt(j),$e=Jt(j,pe=>new Ke(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,pe._snapshot)));return(0,Pe.cf)(this._delegate,Z,$e)}withConverter(j){return new pt(this.firestore,this._delegate.withConverter(j?Vt.getInstance(this.firestore,j):null))}}class Ae{constructor(j,Z){this._firestore=j,this._delegate=Z}get type(){return this._delegate.type}get doc(){return new dt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ke{constructor(j,Z){this._firestore=j,this._delegate=Z}get query(){return new pt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(j=>new dt(this._firestore,j))}docChanges(j){return this._delegate.docChanges(j).map(Z=>new Ae(this._firestore,Z))}forEach(j,Z){this._delegate.forEach($e=>{j.call(Z,new dt(this._firestore,$e))})}isEqual(j){return(0,Pe.qK)(this._delegate,j._delegate)}}class Mt extends pt{constructor(j,Z){super(j,Z),this.firestore=j,this._delegate=Z}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const j=this._delegate.parent;return j?new hn(this.firestore,j):null}doc(j){try{return new hn(this.firestore,void 0===j?(0,Pe.JU)(this._delegate):(0,Pe.JU)(this._delegate,j))}catch(Z){throw wt(Z,"doc()","CollectionReference.doc()")}}add(j){return(0,Pe.ET)(this._delegate,j).then(Z=>new hn(this.firestore,Z))}isEqual(j){return(0,Pe.Eo)(this._delegate,j._delegate)}withConverter(j){return new Mt(this.firestore,this._delegate.withConverter(j?Vt.getInstance(this.firestore,j):null))}}function en(nt){return(0,Pe.Cf)(nt,Pe.my)}class Dn{constructor(...j){this._delegate=new Pe.Lz(...j)}static documentId(){return new Dn(Pe.Xb.keyField().canonicalString())}isEqual(j){return(j=(0,Ye.m9)(j))instanceof Pe.Lz&&this._delegate._internalPath.isEqual(j._internalPath)}}class vn{constructor(j){this._delegate=j}static serverTimestamp(){const j=(0,Pe.Bt)();return j._methodName="FieldValue.serverTimestamp",new vn(j)}static delete(){const j=(0,Pe.AK)();return j._methodName="FieldValue.delete",new vn(j)}static arrayUnion(...j){const Z=(0,Pe.vr)(...j);return Z._methodName="FieldValue.arrayUnion",new vn(Z)}static arrayRemove(...j){const Z=(0,Pe.Ab)(...j);return Z._methodName="FieldValue.arrayRemove",new vn(Z)}static increment(j){const Z=(0,Pe.nP)(j);return Z._methodName="FieldValue.increment",new vn(Z)}isEqual(j){return this._delegate.isEqual(j._delegate)}}const Qn={Firestore:_e,GeoPoint:Pe.F8,Timestamp:Pe.EK,Blob:Ne,Transaction:fe,WriteBatch:mt,DocumentReference:hn,DocumentSnapshot:rn,Query:pt,QueryDocumentSnapshot:dt,QuerySnapshot:Ke,CollectionReference:Mt,FieldPath:Dn,FieldValue:vn,setLogLevel:function He(nt){(0,Pe.Ub)(nt)},CACHE_SIZE_UNLIMITED:Pe.IX};!function Fn(nt){(function dr(nt,j){nt.INTERNAL.registerComponent(new lt.wA("firestore-compat",Z=>{const $e=Z.getProvider("app-compat").getImmediate(),pe=Z.getProvider("firestore").getImmediate();return j($e,pe)},"PUBLIC").setServiceProps(Object.assign({},Qn)))})(nt,(j,Z)=>new _e(j,Z,new me)),nt.registerVersion("@firebase/firestore-compat","0.1.17")}(Ot.Z);var un=k(3385),sr=k(7128),er=k(127);function Ln(nt,j){return function tn(nt,j=_.z){return new G.y(Z=>{let $e;return null!=j?j.schedule(()=>{$e=nt.onSnapshot({includeMetadataChanges:!0},Z)}):$e=nt.onSnapshot({includeMetadataChanges:!0},Z),()=>{null!=$e&&$e()}})}(nt,j)}function Jn(nt,j){return Ln(nt,j).pipe((0,Oe.U)(Z=>({payload:Z,type:"query"})))}function vt(nt,j){return Jn(nt,j).pipe((0,De.O)(void 0),(0,oe.G)(),(0,Oe.U)(([Z,$e])=>{const pe=$e.payload.docChanges(),Ze=pe.map(ct=>({type:ct.type,payload:ct}));return Z&&JSON.stringify(Z.payload.metadata)!==JSON.stringify($e.payload.metadata)&&$e.payload.docs.forEach((ct,ue)=>{const re=pe.find(je=>je.doc.ref.isEqual(ct.ref)),ce=null==Z?void 0:Z.payload.docs.find(je=>je.ref.isEqual(ct.ref));re&&JSON.stringify(re.doc.metadata)===JSON.stringify(ct.metadata)||!re&&ce&&JSON.stringify(ce.metadata)===JSON.stringify(ct.metadata)||Ze.push({type:"modified",payload:{oldIndex:ue,newIndex:ue,type:"modified",doc:ct}})}),Ze}))}function ke(nt,j,Z){return vt(nt,Z).pipe((0,ne.R)(($e,pe)=>function Se(nt,j,Z){return j.forEach($e=>{Z.indexOf($e.type)>-1&&(nt=function At(nt,j){switch(j.type){case"added":if(!nt[j.newIndex]||!nt[j.newIndex].doc.ref.isEqual(j.doc.ref))return tt(nt,j.newIndex,0,j);break;case"modified":if(null==nt[j.oldIndex]||nt[j.oldIndex].doc.ref.isEqual(j.doc.ref)){if(j.oldIndex!==j.newIndex){const Z=nt.slice();return Z.splice(j.oldIndex,1),Z.splice(j.newIndex,0,j),Z}return tt(nt,j.newIndex,1,j)}break;case"removed":if(nt[j.oldIndex]&&nt[j.oldIndex].doc.ref.isEqual(j.doc.ref))return tt(nt,j.oldIndex,1)}return nt}(nt,$e))}),nt}($e,pe.map(Ze=>Ze.payload),j),[]),(0,de.x)(),(0,Oe.U)($e=>$e.map(pe=>({type:pe.type,payload:pe}))))}function tt(nt,j,Z,...$e){const pe=nt.slice();return pe.splice(j,Z,...$e),pe}function Ut(nt){return(!nt||0===nt.length)&&(nt=["added","removed","modified"]),nt}class kt{constructor(j,Z,$e){this.ref=j,this.query=Z,this.afs=$e}stateChanges(j){let Z=vt(this.query,this.afs.schedulers.outsideAngular);return j&&j.length>0&&(Z=Z.pipe((0,Oe.U)($e=>$e.filter(pe=>j.indexOf(pe.type)>-1)))),Z.pipe((0,De.O)(void 0),(0,oe.G)(),(0,Le.h)(([$e,pe])=>pe.length>0||!$e),(0,Oe.U)(([$e,pe])=>pe),Te.iC)}auditTrail(j){return this.stateChanges(j).pipe((0,ne.R)((Z,$e)=>[...Z,...$e],[]))}snapshotChanges(j){const Z=Ut(j);return ke(this.query,Z,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(j={}){return Jn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Oe.U)(Z=>Z.payload.docs.map($e=>j.idField?Object.assign(Object.assign({},$e.data()),{[j.idField]:$e.id}):$e.data())),Te.iC)}get(j){return(0,ve.D)(this.query.get(j)).pipe(Te.iC)}add(j){return this.ref.add(j)}doc(j){return new xt(this.ref.doc(j),this.afs)}}class xt{constructor(j,Z){this.ref=j,this.afs=Z}set(j,Z){return this.ref.set(j,Z)}update(j){return this.ref.update(j)}delete(){return this.ref.delete()}collection(j,Z){const $e=this.ref.collection(j),{ref:pe,query:Ze}=fn($e,Z);return new kt(pe,Ze,this.afs)}snapshotChanges(){return function ln(nt,j){return Ln(nt,j).pipe((0,De.O)(void 0),(0,oe.G)(),(0,Oe.U)(([Z,$e])=>$e.exists?(null==Z?void 0:Z.exists)?{payload:$e,type:"modified"}:{payload:$e,type:"added"}:{payload:$e,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(j={}){return this.snapshotChanges().pipe((0,Oe.U)(({payload:Z})=>j.idField?Object.assign(Object.assign({},Z.data()),{[j.idField]:Z.id}):Z.data()))}get(j){return(0,ve.D)(this.ref.get(j)).pipe(Te.iC)}}class Tn{constructor(j,Z){this.query=j,this.afs=Z}stateChanges(j){return j&&0!==j.length?vt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Oe.U)(Z=>Z.filter($e=>j.indexOf($e.type)>-1)),(0,Le.h)(Z=>Z.length>0),Te.iC):vt(this.query,this.afs.schedulers.outsideAngular).pipe(Te.iC)}auditTrail(j){return this.stateChanges(j).pipe((0,ne.R)((Z,$e)=>[...Z,...$e],[]))}snapshotChanges(j){const Z=Ut(j);return ke(this.query,Z,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(j={}){return Jn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Oe.U)($e=>$e.payload.docs.map(pe=>j.idField?Object.assign({[j.idField]:pe.id},pe.data()):pe.data())),Te.iC)}get(j){return(0,ve.D)(this.query.get(j)).pipe(Te.iC)}}const tr=new c.OlP("angularfire2.enableFirestorePersistence"),hr=new c.OlP("angularfire2.firestore.persistenceSettings"),En=new c.OlP("angularfire2.firestore.settings"),jn=new c.OlP("angularfire2.firestore.use-emulator");function fn(nt,j=(Z=>Z)){return{query:j(nt),ref:nt}}let on=(()=>{class nt{constructor(Z,$e,pe,Ze,ct,ue,re,ce,je,te,ie,U,J,Q,be,Je,Tt){this.schedulers=re;const Zt=(0,ot.on)(Z,ue,$e),Sn=je;te&&(0,un.nw)(Zt,ue,ie,J,Q,be,U,Je),[this.firestore,this.persistenceEnabled$]=(0,ot.cc)(`${Zt.name}.firestore`,"AngularFirestore",Zt.name,()=>{const Rn=ue.runOutsideAngular(()=>Zt.firestore());if(Ze&&Rn.settings(Ze),Sn&&Rn.useEmulator(...Sn),pe&&!(0,it.PM)(ct)){const xn=()=>{try{return(0,ve.D)(Rn.enablePersistence(ce||void 0).then(()=>!0,()=>!1))}catch(pr){return"undefined"!=typeof console&&console.warn(pr),(0,Ie.of)(!1)}};return[Rn,ue.runOutsideAngular(xn)]}return[Rn,(0,Ie.of)(!1)]},[Ze,Sn,pe])}collection(Z,$e){let pe;pe="string"==typeof Z?this.firestore.collection(Z):Z;const{ref:Ze,query:ct}=fn(pe,$e),ue=this.schedulers.ngZone.run(()=>Ze);return new kt(ue,ct,this)}collectionGroup(Z,$e){const pe=$e||(ct=>ct),Ze=this.firestore.collectionGroup(Z);return new Tn(pe(Ze),this)}doc(Z){let $e;$e="string"==typeof Z?this.firestore.doc(Z):Z;const pe=this.schedulers.ngZone.run(()=>$e);return new xt(pe,this)}createId(){return this.firestore.collection("_").doc().id}}return nt.\u0275fac=function(Z){return new(Z||nt)(c.LFG(ot.Dh),c.LFG(ot.xv,8),c.LFG(tr,8),c.LFG(En,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Te.HU),c.LFG(hr,8),c.LFG(jn,8),c.LFG(un.zQ,8),c.LFG(un.Qv,8),c.LFG(un.L6,8),c.LFG(un._Q,8),c.LFG(un.rT,8),c.LFG(un.lh,8),c.LFG(un.f7,8),c.LFG(sr.nm,8))},nt.\u0275prov=c.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"any"}),nt})(),wn=(()=>{class nt{constructor(){er.Z.registerVersion("angularfire",Te.q4.full,"fst-compat")}static enablePersistence(Z){return{ngModule:nt,providers:[{provide:tr,useValue:!0},{provide:hr,useValue:Z}]}}}return nt.\u0275fac=function(Z){return new(Z||nt)},nt.\u0275mod=c.oAB({type:nt}),nt.\u0275inj=c.cJS({providers:[on]}),nt})()},2011:(Qt,rt,k)=>{k.d(rt,{Dh:()=>oe,GT:()=>Te,Ot:()=>De,cc:()=>it,hO:()=>ot,on:()=>ne,pX:()=>Ie,xv:()=>Oe});var c=k(5e3),_=k(127),G=k(880);Qt=k.hmd(Qt);const ve=["ngOnDestroy"],Ie=(Ye,lt,Et,We={})=>new Proxy(Ye,{get:(Re,at)=>Et.runOutsideAngular(()=>{var It;if(Ye[at])return(null===(It=null==We?void 0:We.spy)||void 0===It?void 0:It.get)&&We.spy.get(at,Ye[at]),Ye[at];if(ve.indexOf(at)>-1)return()=>{};const Ne=lt.toPromise().then(Ct=>{const ae=Ct&&Ct[at];return"function"==typeof ae?ae.bind(Ct):ae&&ae.then?ae.then(me=>Et.run(()=>me)):Et.run(()=>ae)});return new Proxy(()=>{},{get:(Ct,ae)=>Ne[ae],apply:(Ct,ae,me)=>Ne.then(_e=>{var xe;const He=_e&&_e(...me);return(null===(xe=null==We?void 0:We.spy)||void 0===xe?void 0:xe.apply)&&We.spy.apply(at,me,He),He})})})}),Te=(Ye,lt)=>{lt.forEach(Et=>{Object.getOwnPropertyNames(Et.prototype||Et).forEach(We=>{Object.defineProperty(Ye.prototype,We,Object.getOwnPropertyDescriptor(Et.prototype||Et,We))})})};class De{constructor(lt){return lt}}const oe=new c.OlP("angularfire2.app.options"),Oe=new c.OlP("angularfire2.app.name");function ne(Ye,lt,Et){const Re="object"==typeof Et&&Et||{};Re.name=Re.name||"string"==typeof Et&&Et||"[DEFAULT]";const It=_.Z.apps.filter(Ne=>Ne&&Ne.name===Re.name)[0]||lt.runOutsideAngular(()=>_.Z.initializeApp(Ye,Re));try{JSON.stringify(Ye)!==JSON.stringify(It.options)&&de("error",`${It.name} Firebase App already initialized with different options${Qt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ne){}return new De(It)}const de=(Ye,...lt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ye](...lt)},Le={provide:De,useFactory:ne,deps:[oe,c.R0b,[new c.FiY,Oe]]};let ot=(()=>{class Ye{constructor(Et){_.Z.registerVersion("angularfire",G.q4.full,"core"),_.Z.registerVersion("angularfire",G.q4.full,"app-compat"),_.Z.registerVersion("angular",c.q4F.full,Et.toString())}static initializeApp(Et,We){return{ngModule:Ye,providers:[{provide:oe,useValue:Et},{provide:Oe,useValue:We}]}}}return Ye.\u0275fac=function(Et){return new(Et||Ye)(c.LFG(c.Lbi))},Ye.\u0275mod=c.oAB({type:Ye}),Ye.\u0275inj=c.cJS({providers:[Le]}),Ye})();function it(Ye,lt,Et,We,Re){const[,at,It]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===Ye)||[];if(at)return function Dt(Ye,lt){try{return Ye.toString()===lt.toString()}catch(Et){return Ye===lt}}(Re,It)||(Pe("error",`${lt} was already initialized on the ${Et} Firebase App with different settings.${Ot?" You may need to reload as Firebase is not HMR aware.":""}`),Pe("warn",{is:Re,was:It})),at;{const Ne=We();return globalThis.\u0275AngularfireInstanceCache.push([Ye,Ne,Re]),Ne}}const Ot=!!Qt.hot,Pe=(Ye,...lt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ye](...lt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(Qt,rt,k)=>{k.d(rt,{q4:()=>hi,iC:()=>_t,HU:()=>Gr,vb:()=>gs,JM:()=>ki,nk:()=>rs,u3:()=>L});var c=k(5e3),_=k(5867),G=k(5861),ve=k(9681),Ie=k(2090),Te=k(4859),De=k(1877);k(2833);const Oe="@firebase/remote-config",it=new Ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vt{constructor(y,x,le,Qe){this.client=y,this.storage=x,this.storageCache=le,this.logger=Qe}isCachedDataFresh(y,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const le=Date.now()-x,Qe=le<=y;return this.logger.debug(`Config fetch cache check. Cache age millis: ${le}. Cache max age millis (minimumFetchIntervalMillis setting): ${y}. Is cache hit: ${Qe}.`),Qe}fetch(y){var x=this;return(0,G.Z)(function*(){const[le,Qe]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Qe&&x.isCachedDataFresh(y.cacheMaxAgeMillis,le))return Qe;y.eTag=Qe&&Qe.eTag;const St=yield x.client.fetch(y),Ft=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===St.status&&Ft.push(x.storage.setLastSuccessfulFetchResponse(St)),yield Promise.all(Ft),St})()}}function hn(w=navigator){return w.languages&&w.languages[0]||w.language}class wt{constructor(y,x,le,Qe,St,Ft){this.firebaseInstallations=y,this.sdkVersion=x,this.namespace=le,this.projectId=Qe,this.apiKey=St,this.appId=Ft}fetch(y){var x=this;return(0,G.Z)(function*(){const[le,Qe]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ft=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,$n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":y.eTag||"*"},br={sdk_version:x.sdkVersion,app_instance_id:le,app_instance_id_token:Qe,app_id:x.appId,language_code:hn()},ar={method:"POST",headers:$n,body:JSON.stringify(br)},yr=fetch(Ft,ar),Bn=new Promise((Kn,Ts)=>{y.signal.addEventListener(()=>{const Ji=new Error("The operation was aborted.");Ji.name="AbortError",Ts(Ji)})});let is;try{yield Promise.race([yr,Bn]),is=yield yr}catch(Kn){let Ts="fetch-client-network";throw"AbortError"===Kn.name&&(Ts="fetch-timeout"),it.create(Ts,{originalErrorMessage:Kn.message})}let Fi=is.status;const Rt=is.headers.get("ETag")||void 0;let or,Ws;if(200===is.status){let Kn;try{Kn=yield is.json()}catch(Ts){throw it.create("fetch-client-parse",{originalErrorMessage:Ts.message})}or=Kn.entries,Ws=Kn.state}if("INSTANCE_STATE_UNSPECIFIED"===Ws?Fi=500:"NO_CHANGE"===Ws?Fi=304:("NO_TEMPLATE"===Ws||"EMPTY_CONFIG"===Ws)&&(or={}),304!==Fi&&200!==Fi)throw it.create("fetch-status",{httpStatus:Fi});return{status:Fi,eTag:Rt,config:or}})()}}class rn{constructor(y,x){this.client=y,this.storage=x}fetch(y){var x=this;return(0,G.Z)(function*(){const le=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(y,le)})()}attemptFetch(y,{throttleEndTimeMillis:x,backoffCount:le}){var Qe=this;return(0,G.Z)(function*(){yield function Kt(w,y){return new Promise((x,le)=>{const Qe=Math.max(y-Date.now(),0),St=setTimeout(x,Qe);w.addEventListener(()=>{clearTimeout(St),le(it.create("fetch-throttle",{throttleEndTimeMillis:y}))})})}(y.signal,x);try{const St=yield Qe.client.fetch(y);return yield Qe.storage.deleteThrottleMetadata(),St}catch(St){if(!function Jt(w){if(!(w instanceof Ie.ZR&&w.customData))return!1;const y=Number(w.customData.httpStatus);return 429===y||500===y||503===y||504===y}(St))throw St;const Ft={throttleEndTimeMillis:Date.now()+(0,Ie.$s)(le),backoffCount:le+1};return yield Qe.storage.setThrottleMetadata(Ft),Qe.attemptFetch(y,Ft)}})()}}class Ae{constructor(y,x,le,Qe,St){this.app=y,this._client=x,this._storageCache=le,this._storage=Qe,this._logger=St,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ke(w,y){const x=w.target.error||void 0;return it.create(y,{originalErrorMessage:x&&x.message})}const Mt="app_namespace_store";class Qn{constructor(y,x,le,Qe=function vn(){return new Promise((w,y)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=le=>{y(Ke(le,"storage-open"))},x.onsuccess=le=>{w(le.target.result)},x.onupgradeneeded=le=>{0===le.oldVersion&&le.target.result.createObjectStore(Mt,{keyPath:"compositeKey"})}}catch(x){y(it.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=y,this.appName=x,this.namespace=le,this.openDbPromise=Qe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(y){return this.set("last_fetch_status",y)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(y){return this.set("last_successful_fetch_timestamp_millis",y)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(y){return this.set("last_successful_fetch_response",y)}getActiveConfig(){return this.get("active_config")}setActiveConfig(y){return this.set("active_config",y)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(y){return this.set("active_config_etag",y)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(y){return this.set("throttle_metadata",y)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(y){var x=this;return(0,G.Z)(function*(){const le=yield x.openDbPromise;return new Promise((Qe,St)=>{const $n=le.transaction([Mt],"readonly").objectStore(Mt),br=x.createCompositeKey(y);try{const ar=$n.get(br);ar.onerror=yr=>{St(Ke(yr,"storage-get"))},ar.onsuccess=yr=>{const Bn=yr.target.result;Qe(Bn?Bn.value:void 0)}}catch(ar){St(it.create("storage-get",{originalErrorMessage:ar&&ar.message}))}})})()}set(y,x){var le=this;return(0,G.Z)(function*(){const Qe=yield le.openDbPromise;return new Promise((St,Ft)=>{const br=Qe.transaction([Mt],"readwrite").objectStore(Mt),ar=le.createCompositeKey(y);try{const yr=br.put({compositeKey:ar,value:x});yr.onerror=Bn=>{Ft(Ke(Bn,"storage-set"))},yr.onsuccess=()=>{St()}}catch(yr){Ft(it.create("storage-set",{originalErrorMessage:yr&&yr.message}))}})})()}delete(y){var x=this;return(0,G.Z)(function*(){const le=yield x.openDbPromise;return new Promise((Qe,St)=>{const $n=le.transaction([Mt],"readwrite").objectStore(Mt),br=x.createCompositeKey(y);try{const ar=$n.delete(br);ar.onerror=yr=>{St(Ke(yr,"storage-delete"))},ar.onsuccess=()=>{Qe()}}catch(ar){St(it.create("storage-delete",{originalErrorMessage:ar&&ar.message}))}})})()}createCompositeKey(y){return[this.appId,this.appName,this.namespace,y].join()}}class dr{constructor(y){this.storage=y}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var y=this;return(0,G.Z)(function*(){const x=y.storage.getLastFetchStatus(),le=y.storage.getLastSuccessfulFetchTimestampMillis(),Qe=y.storage.getActiveConfig(),St=yield x;St&&(y.lastFetchStatus=St);const Ft=yield le;Ft&&(y.lastSuccessfulFetchTimestampMillis=Ft);const $n=yield Qe;$n&&(y.activeConfig=$n)})()}setLastFetchStatus(y){return this.lastFetchStatus=y,this.storage.setLastFetchStatus(y)}setLastSuccessfulFetchTimestampMillis(y){return this.lastSuccessfulFetchTimestampMillis=y,this.storage.setLastSuccessfulFetchTimestampMillis(y)}setActiveConfig(y){return this.activeConfig=y,this.storage.setActiveConfig(y)}}function er(){return tn.apply(this,arguments)}function tn(){return(tn=(0,G.Z)(function*(){if(!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch(w){return!1}})).apply(this,arguments)}!function Fn(){(0,ve._registerComponent)(new Te.wA("remote-config",function w(y,{instanceIdentifier:x}){const le=y.getProvider("app").getImmediate(),Qe=y.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw it.create("registration-window");if(!(0,Ie.hl)())throw it.create("indexed-db-unavailable");const{projectId:St,apiKey:Ft,appId:$n}=le.options;if(!St)throw it.create("registration-project-id");if(!Ft)throw it.create("registration-api-key");if(!$n)throw it.create("registration-app-id");const br=new Qn($n,le.name,x=x||"firebase"),ar=new dr(br),yr=new De.Yd(Oe);yr.logLevel=De.in.ERROR;const Bn=new wt(Qe,ve.SDK_VERSION,x,St,Ft,$n),is=new rn(Bn,br),Fi=new Vt(is,br,ar,yr),Rt=new Ae(le,Fi,ar,br,yr);return function It(w){const y=(0,Ie.m9)(w);y._initializePromise||(y._initializePromise=y._storageCache.loadFromStorage().then(()=>{y._isInitializationComplete=!0}))}(Rt),Rt},"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(Oe,"0.3.7"),(0,ve.registerVersion)(Oe,"0.3.7","esm2017")}();const Ln="/firebase-messaging-sw.js",ln="/firebase-cloud-messaging-push-scope",Jn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ke="google.c.a.c_id",Se="google.c.a.c_l",tt="google.c.a.ts",At="google.c.a.e";var kt=(()=>{return(w=kt||(kt={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",kt;var w})();function xt(w){const y=new Uint8Array(w);return btoa(String.fromCharCode(...y)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Tn(w){const x=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),le=atob(x),Qe=new Uint8Array(le.length);for(let St=0;St<le.length;++St)Qe[St]=le.charCodeAt(St);return Qe}const tr="fcm_token_details_db",En="fcm_token_object_Store";function jn(w){return fn.apply(this,arguments)}function fn(){return fn=(0,G.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(St=>St.name).includes(tr))return null;let y=null;return(yield(0,Ie.X3)(tr,5,function(){var le=(0,G.Z)(function*(Qe,St,Ft,$n){var br;if(St<2||!Qe.objectStoreNames.contains(En))return;const ar=$n.objectStore(En),yr=yield ar.index("fcmSenderId").get(w);if(yield ar.clear(),yr)if(2===St){const Bn=yr;if(!Bn.auth||!Bn.p256dh||!Bn.endpoint)return;y={token:Bn.fcmToken,createTime:null!==(br=Bn.createTime)&&void 0!==br?br:Date.now(),subscriptionOptions:{auth:Bn.auth,p256dh:Bn.p256dh,endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:"string"==typeof Bn.vapidKey?Bn.vapidKey:xt(Bn.vapidKey)}}}else if(3===St){const Bn=yr;y={token:Bn.fcmToken,createTime:Bn.createTime,subscriptionOptions:{auth:xt(Bn.auth),p256dh:xt(Bn.p256dh),endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:xt(Bn.vapidKey)}}}else if(4===St){const Bn=yr;y={token:Bn.fcmToken,createTime:Bn.createTime,subscriptionOptions:{auth:xt(Bn.auth),p256dh:xt(Bn.p256dh),endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:xt(Bn.vapidKey)}}}});return function(Qe,St,Ft,$n){return le.apply(this,arguments)}}())).close(),yield(0,Ie.Lj)(tr),yield(0,Ie.Lj)("fcm_vapid_details_db"),yield(0,Ie.Lj)("undefined"),on(y)?y:null}),fn.apply(this,arguments)}function on(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:y}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof y.auth&&y.auth.length>0&&"string"==typeof y.p256dh&&y.p256dh.length>0&&"string"==typeof y.endpoint&&y.endpoint.length>0&&"string"==typeof y.swScope&&y.swScope.length>0&&"string"==typeof y.vapidKey&&y.vapidKey.length>0}const j="firebase-messaging-store";let Z=null;function $e(){return Z||(Z=(0,Ie.X3)("firebase-messaging-database",1,(w,y)=>{0===y&&w.createObjectStore(j)})),Z}function pe(w){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,G.Z)(function*(w){const y=je(w),le=yield(yield $e()).transaction(j).objectStore(j).get(y);if(le)return le;{const Qe=yield jn(w.appConfig.senderId);if(Qe)return yield ct(w,Qe),Qe}})).apply(this,arguments)}function ct(w,y){return ue.apply(this,arguments)}function ue(){return(ue=(0,G.Z)(function*(w,y){const x=je(w),Qe=(yield $e()).transaction(j,"readwrite");return yield Qe.objectStore(j).put(y,x),yield Qe.complete,y})).apply(this,arguments)}function re(w){return ce.apply(this,arguments)}function ce(){return(ce=(0,G.Z)(function*(w){const y=je(w),le=(yield $e()).transaction(j,"readwrite");yield le.objectStore(j).delete(y),yield le.complete})).apply(this,arguments)}function je({appConfig:w}){return w.appId}const ie=new Ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function U(w,y){return J.apply(this,arguments)}function J(){return(J=(0,G.Z)(function*(w,y){const x=yield Sn(w),le=xn(y),Qe={method:"POST",headers:x,body:JSON.stringify(le)};let St;try{St=yield(yield fetch(Zt(w.appConfig),Qe)).json()}catch(Ft){throw ie.create("token-subscribe-failed",{errorInfo:Ft})}if(St.error)throw ie.create("token-subscribe-failed",{errorInfo:St.error.message});if(!St.token)throw ie.create("token-subscribe-no-token");return St.token})).apply(this,arguments)}function Q(w,y){return be.apply(this,arguments)}function be(){return(be=(0,G.Z)(function*(w,y){const x=yield Sn(w),le=xn(y.subscriptionOptions),Qe={method:"PATCH",headers:x,body:JSON.stringify(le)};let St;try{St=yield(yield fetch(`${Zt(w.appConfig)}/${y.token}`,Qe)).json()}catch(Ft){throw ie.create("token-update-failed",{errorInfo:Ft})}if(St.error)throw ie.create("token-update-failed",{errorInfo:St.error.message});if(!St.token)throw ie.create("token-update-no-token");return St.token})).apply(this,arguments)}function Je(w,y){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,G.Z)(function*(w,y){const le={method:"DELETE",headers:yield Sn(w)};try{const St=yield(yield fetch(`${Zt(w.appConfig)}/${y}`,le)).json();if(St.error)throw ie.create("token-unsubscribe-failed",{errorInfo:St.error.message})}catch(Qe){throw ie.create("token-unsubscribe-failed",{errorInfo:Qe})}})).apply(this,arguments)}function Zt({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Sn(w){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,G.Z)(function*({appConfig:w,installations:y}){const x=yield y.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function xn({p256dh:w,auth:y,endpoint:x,vapidKey:le}){const Qe={web:{endpoint:x,auth:y,p256dh:w}};return le!==Jn&&(Qe.web.applicationPubKey=le),Qe}const pr=6048e5;function Sr(w){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,G.Z)(function*(w){const y=yield Un(w.swRegistration,w.vapidKey),x={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:y.endpoint,auth:xt(y.getKey("auth")),p256dh:xt(y.getKey("p256dh"))},le=yield pe(w.firebaseDependencies);if(le){if(zn(le.subscriptionOptions,x))return Date.now()>=le.createTime+pr?Ge(w,{token:le.token,createTime:Date.now(),subscriptionOptions:x}):le.token;try{yield Je(w.firebaseDependencies,le.token)}catch(Qe){console.warn(Qe)}return ht(w.firebaseDependencies,x)}return ht(w.firebaseDependencies,x)})).apply(this,arguments)}function vr(w){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,G.Z)(function*(w){const y=yield pe(w.firebaseDependencies);y&&(yield Je(w.firebaseDependencies,y.token),yield re(w.firebaseDependencies));const x=yield w.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Ge(w,y){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,G.Z)(function*(w,y){try{const x=yield Q(w.firebaseDependencies,y),le=Object.assign(Object.assign({},y),{token:x,createTime:Date.now()});return yield ct(w.firebaseDependencies,le),x}catch(x){throw yield vr(w),x}})).apply(this,arguments)}function ht(w,y){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,G.Z)(function*(w,y){const le={token:yield U(w,y),createTime:Date.now(),subscriptionOptions:y};return yield ct(w,le),le.token})).apply(this,arguments)}function Un(w,y){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,G.Z)(function*(w,y){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Tn(y)})})).apply(this,arguments)}function zn(w,y){return y.vapidKey===w.vapidKey&&y.endpoint===w.endpoint&&y.auth===w.auth&&y.p256dh===w.p256dh}function Dr(w){const y={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Xn(w,y){if(!y.notification)return;w.notification={};const x=y.notification.title;x&&(w.notification.title=x);const le=y.notification.body;le&&(w.notification.body=le);const Qe=y.notification.image;Qe&&(w.notification.image=Qe)}(y,w),function jr(w,y){!y.data||(w.data=y.data)}(y,w),function ji(w,y){if(!y.fcmOptions)return;w.fcmOptions={};const x=y.fcmOptions.link;x&&(w.fcmOptions.link=x);const le=y.fcmOptions.analytics_label;le&&(w.fcmOptions.analyticsLabel=le)}(y,w),y}function Vn(w){return"object"==typeof w&&!!w&&ke in w}function Mi(w,y){const x=[];for(let le=0;le<w.length;le++)x.push(w.charAt(le)),le<y.length&&x.push(y.charAt(le));return x.join("")}function ni(w){return ie.create("missing-app-config-values",{valueName:w})}Mi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Mi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wr{constructor(y,x,le){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Qe=function Oi(w){if(!w||!w.options)throw ni("App Configuration Object");if(!w.name)throw ni("App Name");const y=["projectId","apiKey","appId","messagingSenderId"],{options:x}=w;for(const le of y)if(!x[le])throw ni(le);return{appName:w.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(y);this.firebaseDependencies={app:y,appConfig:Qe,installations:x,analyticsProvider:le}}_delete(){return Promise.resolve()}}function Lr(w){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,G.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Ln,{scope:ln}),w.swRegistration.update().catch(()=>{})}catch(y){throw ie.create("failed-service-worker-registration",{browserErrorMessage:y.message})}})).apply(this,arguments)}function ze(w,y){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,G.Z)(function*(w,y){if(!y&&!w.swRegistration&&(yield Lr(w)),y||!w.swRegistration){if(!(y instanceof ServiceWorkerRegistration))throw ie.create("invalid-sw-registration");w.swRegistration=y}})).apply(this,arguments)}function qe(w,y){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,G.Z)(function*(w,y){y?w.vapidKey=y:w.vapidKey||(w.vapidKey=Jn)})).apply(this,arguments)}function sn(){return(sn=(0,G.Z)(function*(w,y){if(!navigator)throw ie.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ie.create("permission-blocked");return yield qe(w,null==y?void 0:y.vapidKey),yield ze(w,null==y?void 0:y.serviceWorkerRegistration),Sr(w)})).apply(this,arguments)}function qn(w,y,x){return wr.apply(this,arguments)}function wr(){return(wr=(0,G.Z)(function*(w,y,x){const le=Wn(y);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(le,{message_id:x[ke],message_name:x[Se],message_time:x[tt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wn(w){switch(w){case kt.NOTIFICATION_CLICKED:return"notification_open";case kt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $r(){return($r=(0,G.Z)(function*(w,y){const x=y.data;if(!x.isFirebaseMessaging)return;w.onMessageHandler&&x.messageType===kt.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Dr(x)):w.onMessageHandler.next(Dr(x)));const le=x.data;Vn(le)&&"1"===le[At]&&(yield qn(w,x.messageType,le))})).apply(this,arguments)}const Hr="@firebase/messaging",rr=w=>{const y=new Wr(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function qr(w,y){return $r.apply(this,arguments)}(y,x)),y},eo=w=>{const y=w.getProvider("messaging").getImmediate();return{getToken:le=>function zt(w,y){return sn.apply(this,arguments)}(y,le)}};function Yr(){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,G.Z)(function*(){try{yield(0,Ie.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,Ie.hl)()&&(0,Ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ri(){(0,ve._registerComponent)(new Te.wA("messaging",rr,"PUBLIC")),(0,ve._registerComponent)(new Te.wA("messaging-internal",eo,"PRIVATE")),(0,ve.registerVersion)(Hr,"0.9.12"),(0,ve.registerVersion)(Hr,"0.9.12","esm2017")}();var $i=k(7982),Ps=k(4408),zs=k(7565);const Ti=new class di extends zs.v{}(class yi extends Ps.o{constructor(y,x){super(y,x),this.scheduler=y,this.work=x}schedule(y,x=0){return x>0?super.schedule(y,x):(this.delay=x,this.state=y,this.scheduler.flush(this),this)}execute(y,x){return x>0||this.closed?super.execute(y,x):this._execute(y,x)}requestAsyncId(y,x,le=0){return null!=le&&le>0||null==le&&this.delay>0?super.requestAsyncId(y,x,le):y.flush(this)}});var Yi=k(4986),Ni=k(8306),_i=k(8505),Rr=k(9468),Ri=k(5363);const hi=new c.GfV("7.3.0"),ns="__angularfire_symbol__analyticsIsSupportedValue",Qi="__angularfire_symbol__analyticsIsSupported",mr="__angularfire_symbol__remoteConfigIsSupportedValue",Hi="__angularfire_symbol__remoteConfigIsSupported",Gi="__angularfire_symbol__messagingIsSupportedValue",Zr="__angularfire_symbol__messagingIsSupported";globalThis[Qi]||(globalThis[Qi]=(0,$i.Gb)().then(w=>globalThis[ns]=w).catch(()=>globalThis[ns]=!1)),globalThis[Zr]||(globalThis[Zr]=Yr().then(w=>globalThis[Gi]=w).catch(()=>globalThis[Gi]=!1)),globalThis[Hi]||(globalThis[Hi]=er().then(w=>globalThis[mr]=w).catch(()=>globalThis[mr]=!1));const rs={async:()=>globalThis[Qi],sync:()=>{const w=globalThis[ns];if(void 0===w)throw new Error((w=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${w} in the constructor, first ensure that ${w} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${w})\`.`)("Analytics"));return w}};function ki(w,y,x){if(y){if(1===y.length)return y[0];const St=y.filter(Ft=>Ft.app===x);if(1===St.length)return St[0]}return x.container.getProvider(w).getImmediate({optional:!0})}const gs=(w,y)=>{const x=y?[y]:(0,_.C6)(),le=[];return x.forEach(Qe=>{Qe.container.getProvider(w).instances.forEach(Ft=>{le.includes(Ft)||le.push(Ft)})}),le};function zi(){}class Mr{constructor(y,x=Ti){this.zone=y,this.delegate=x}now(){return this.delegate.now()}schedule(y,x,le){const Qe=this.zone;return this.delegate.schedule(function(Ft){Qe.runGuarded(()=>{y.apply(this,[Ft])})},x,le)}}class ai{constructor(y){this.zone=y,this.task=null}call(y,x){const le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zi,{},zi,zi)),x.pipe((0,_i.b)({next:le,complete:le,error:le})).subscribe(y).add(le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gr=(()=>{class w{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Mr(Zone.current)),this.insideAngular=x.run(()=>new Mr(Zone.current,Yi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(x){return new(x||w)(c.LFG(c.R0b))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function R(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function q(w){return R().ngZone.runOutsideAngular(()=>w())}function F(w){return R().ngZone.run(()=>w())}function _t(w){return R(),function Lt(w){return function(x){return(x=x.lift(new ai(w.ngZone))).pipe((0,Rr.R)(w.outsideAngular),(0,Ri.Q)(w.insideAngular))}}(R())(w)}const mn=(w,y)=>function(){const le=arguments;return y&&setTimeout(()=>{"scheduled"===y.state&&y.invoke()},10),F(()=>w.apply(void 0,le))},L=(w,y)=>function(){let x;const le=arguments;for(let St=0;St<arguments.length;St++)"function"==typeof le[St]&&(y&&(x||(x=F(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zi,{},zi,zi)))),le[St]=mn(le[St],x));const Qe=q(()=>w.apply(this,le));if(!y){if(Qe instanceof Ni.y){const St=R();return Qe.pipe((0,Rr.R)(St.outsideAngular),(0,Ri.Q)(St.insideAngular))}return F(()=>Qe)}return Qe instanceof Ni.y?Qe.pipe(_t):Qe instanceof Promise?F(()=>new Promise((St,Ft)=>Qe.then($n=>F(()=>St($n)),$n=>F(()=>Ft($n))))):"function"==typeof Qe&&x?function(){return setTimeout(()=>{x&&"scheduled"===x.state&&x.invoke()},10),Qe.apply(this,arguments)}:F(()=>Qe)}},573:(Qt,rt,k)=>{k.d(rt,{$:()=>yr,A:()=>de,E:()=>Ve,G:()=>zn,I:()=>ri,K:()=>re,L:()=>di,M:()=>Ni,N:()=>_i,P:()=>Xa,Q:()=>Rr,R:()=>Zl,T:()=>Yi,U:()=>Qi,V:()=>mr,W:()=>Pi,X:()=>Lt,Y:()=>L,Z:()=>y,_:()=>St,a:()=>Ys,a0:()=>is,a1:()=>Rt,a2:()=>Ws,a3:()=>Ts,a4:()=>Ks,a5:()=>Do,a6:()=>ml,a7:()=>go,a8:()=>To,a9:()=>to,aA:()=>_o,aB:()=>tu,aC:()=>Ir,aG:()=>Hn,aJ:()=>hi,aa:()=>jo,ab:()=>za,ae:()=>no,af:()=>zo,ag:()=>So,aj:()=>zi,ak:()=>Fs,am:()=>Ci,an:()=>Qa,ao:()=>Sn,ap:()=>ae,aq:()=>Zt,ar:()=>be,as:()=>Et,at:()=>ac,au:()=>_a,av:()=>We,aw:()=>Ne,ax:()=>_e,ay:()=>ce,az:()=>Ms,b:()=>qt,c:()=>ti,d:()=>wl,e:()=>Yl,f:()=>Jl,g:()=>Xl,h:()=>Gc,i:()=>Pn,j:()=>Fu,k:()=>ba,l:()=>Fo,m:()=>Wd,n:()=>cc,o:()=>oe,r:()=>El,s:()=>ui,u:()=>Ja,z:()=>it});var c=k(5861),_=k(2090),G=k(9681),ve=k(655),Ie=k(1877),Te=k(4859);const oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const it=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Dt=function ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ot=new _.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new Ie.Yd("@firebase/auth");function lt(D,...f){Ye.logLevel<=Ie.in.ERROR&&Ye.error(`Auth (${G.SDK_VERSION}): ${D}`,...f)}function Et(D,...f){throw It(D,...f)}function We(D,...f){return It(D,...f)}function Re(D,f,m){const A=Object.assign(Object.assign({},Dt()),{[f]:m});return new _.LL("auth","Firebase",A).create(f,{appName:D.name})}function at(D,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Et(D,"argument-error"),Re(D,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function It(D,...f){if("string"!=typeof D){const m=f[0],A=[...f.slice(1)];return A[0]&&(A[0].appName=D.name),D._errorFactory.create(m,...A)}return Ot.create(D,...f)}function Ne(D,f,...m){if(!D)throw It(f,...m)}function Ct(D){const f="INTERNAL ASSERTION FAILED: "+D;throw lt(f),new Error(f)}function ae(D,f){D||Ct(f)}const me=new Map;function _e(D){ae(D instanceof Function,"Expected a class definition");let f=me.get(D);return f?(ae(f instanceof D,"Instance stored in cache mismatched with class"),f):(f=new D,me.set(D,f),f)}function fe(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function mt(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Kt{constructor(f,m){this.shortDelay=f,this.longDelay=m,ae(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,_.uI)()||(0,_.b$)()}get(){return function hn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mt()||(0,_.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jt(D,f){ae(D.emulator,"Emulator should always be set here");const{url:m}=D.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class rn{static initialize(f,m,A){this.fetchImpl=f,m&&(this.headersImpl=m),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pt=new Kt(3e4,6e4);function Ae(D,f){return D.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:D.tenantId}):f}function Ke(D,f,m,A){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(D,f,m,A,z={}){return en(D,z,(0,c.Z)(function*(){let se={},ut={};A&&("GET"===f?ut=A:se={body:JSON.stringify(A)});const $t=(0,_.xO)(Object.assign({key:D.config.apiKey},ut)).slice(1),bn=yield D._getAdditionalHeaders();return bn["Content-Type"]="application/json",D.languageCode&&(bn["X-Firebase-Locale"]=D.languageCode),rn.fetch()(dr(D,D.config.apiHost,m,$t),Object.assign({method:f,headers:bn,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function en(D,f,m){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(D,f,m){D._canInitEmulator=!1;const A=Object.assign(Object.assign({},dt),f);try{const z=new Fn(D),se=yield Promise.race([m(),z.promise]);z.clearNetworkTimeout();const ut=yield se.json();if("needConfirmation"in ut)throw un(D,"account-exists-with-different-credential",ut);if(se.ok&&!("errorMessage"in ut))return ut;{const $t=se.ok?ut.errorMessage:ut.error.message,[bn,In]=$t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===bn)throw un(D,"credential-already-in-use",ut);if("EMAIL_EXISTS"===bn)throw un(D,"email-already-in-use",ut);const fr=A[bn]||bn.toLowerCase().replace(/[_\s]+/g,"-");if(In)throw Re(D,fr,In);Et(D,fr)}}catch(z){if(z instanceof _.ZR)throw z;Et(D,"network-request-failed")}})).apply(this,arguments)}function vn(D,f,m,A){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(D,f,m,A,z={}){const se=yield Ke(D,f,m,A,z);return"mfaPendingCredential"in se&&Et(D,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function dr(D,f,m,A){const z=`${f}${m}?${A}`;return D.config.emulator?Jt(D.config,z):`${D.config.apiScheme}://${z}`}class Fn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,A)=>{this.timer=setTimeout(()=>A(We(this.auth,"network-request-failed")),pt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function un(D,f,m){const A={appName:D.name};m.email&&(A.email=m.email),m.phoneNumber&&(A.phoneNumber=m.phoneNumber);const z=We(D,f,A);return z.customData._tokenResponse=m,z}function er(){return(er=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function tn(D,f){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ln(D,f){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function vt(D){if(D)try{const f=new Date(Number(D));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function tt(){return(tt=(0,c.Z)(function*(D,f=!1){const m=(0,_.m9)(D),A=yield m.getIdToken(f),z=Ut(A);Ne(z&&z.exp&&z.auth_time&&z.iat,m.auth,"internal-error");const se="object"==typeof z.firebase?z.firebase:void 0,ut=null==se?void 0:se.sign_in_provider;return{claims:z,token:A,authTime:vt(At(z.auth_time)),issuedAtTime:vt(At(z.iat)),expirationTime:vt(At(z.exp)),signInProvider:ut||null,signInSecondFactor:(null==se?void 0:se.sign_in_second_factor)||null}})).apply(this,arguments)}function At(D){return 1e3*Number(D)}function Ut(D){const[f,m,A]=D.split(".");if(void 0===f||void 0===m||void 0===A)return lt("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,_.tV)(m);return z?JSON.parse(z):(lt("Failed to decode base64 JWT payload"),null)}catch(z){return lt("Caught error parsing JWT payload as JSON",z),null}}function xt(D,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(D,f,m=!1){if(m)return f;try{return yield f}catch(A){throw A instanceof _.ZR&&tr(A)&&D.auth.currentUser===D&&(yield D.auth.signOut()),A}})).apply(this,arguments)}function tr({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class hr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const z=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const A=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),A)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class En{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=vt(this.lastLoginAt),this.creationTime=vt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jn(D){return fn.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(D){var f;const m=D.auth,A=yield D.getIdToken(),z=yield xt(D,ln(m,{idToken:A}));Ne(null==z?void 0:z.users.length,m,"internal-error");const se=z.users[0];D._notifyReloadListener(se);const ut=(null===(f=se.providerUserInfo)||void 0===f?void 0:f.length)?j(se.providerUserInfo):[],$t=nt(D.providerData,ut),fr=!!D.isAnonymous&&!(D.email&&se.passwordHash||(null==$t?void 0:$t.length)),_r={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:$t,metadata:new En(se.createdAt,se.lastLoginAt),isAnonymous:fr};Object.assign(D,_r)})).apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(D){const f=(0,_.m9)(D);yield jn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function nt(D,f){return[...D.filter(A=>!f.some(z=>z.providerId===A.providerId)),...f]}function j(D){return D.map(f=>{var{providerId:m}=f,A=(0,ve._T)(f,["providerId"]);return{providerId:m,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function $e(){return($e=(0,c.Z)(function*(D,f){const m=yield en(D,{},(0,c.Z)(function*(){const A=(0,_.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:z,apiKey:se}=D.config,ut=dr(D,z,"/v1/token",`key=${se}`),$t=yield D._getAdditionalHeaders();return $t["Content-Type"]="application/x-www-form-urlencoded",rn.fetch()(ut,{method:"POST",headers:$t,body:A})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Ne(f.idToken,"internal-error"),Ne(void 0!==f.idToken,"internal-error"),Ne(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function kt(D){const f=Ut(D);return Ne(f,"internal-error"),Ne(void 0!==f.exp,"internal-error"),Ne(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var A=this;return(0,c.Z)(function*(){return Ne(!A.accessToken||A.refreshToken,f,"user-token-expired"),m||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(f,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var A=this;return(0,c.Z)(function*(){const{accessToken:z,refreshToken:se,expiresIn:ut}=yield function Z(D,f){return $e.apply(this,arguments)}(f,m);A.updateTokensAndExpiration(z,se,Number(ut))})()}updateTokensAndExpiration(f,m,A){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(f,m){const{refreshToken:A,accessToken:z,expirationTime:se}=m,ut=new pe;return A&&(Ne("string"==typeof A,"internal-error",{appName:f}),ut.refreshToken=A),z&&(Ne("string"==typeof z,"internal-error",{appName:f}),ut.accessToken=z),se&&(Ne("number"==typeof se,"internal-error",{appName:f}),ut.expirationTime=se),ut}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new pe,this.toJSON())}_performRefresh(){return Ct("not implemented")}}function Ze(D,f){Ne("string"==typeof D||void 0===D,"internal-error",{appName:f})}class ct{constructor(f){var{uid:m,auth:A,stsTokenManager:z}=f,se=(0,ve._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=A,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new En(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,c.Z)(function*(){const A=yield xt(m,m.stsTokenManager.getToken(m.auth,f));return Ne(A,m.auth,"internal-error"),m.accessToken!==A&&(m.accessToken=A,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),A})()}getIdTokenResult(f){return function Se(D){return tt.apply(this,arguments)}(this,f)}reload(){return function on(D){return wn.apply(this,arguments)}(this)}_assign(f){this!==f&&(Ne(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new ct(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var A=this;return(0,c.Z)(function*(){let z=!1;f.idToken&&f.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(f),z=!0),m&&(yield jn(A)),yield A.auth._persistUserIfCurrent(A),z&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var f=this;return(0,c.Z)(function*(){const m=yield f.getIdToken();return yield xt(f,function sr(D,f){return er.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var A,z,se,ut,$t,bn,In,fr;const _r=null!==(A=m.displayName)&&void 0!==A?A:void 0,Tr=null!==(z=m.email)&&void 0!==z?z:void 0,Eo=null!==(se=m.phoneNumber)&&void 0!==se?se:void 0,wo=null!==(ut=m.photoURL)&&void 0!==ut?ut:void 0,Kd=null!==($t=m.tenantId)&&void 0!==$t?$t:void 0,Qs=null!==(bn=m._redirectEventId)&&void 0!==bn?bn:void 0,dc=null!==(In=m.createdAt)&&void 0!==In?In:void 0,Al=null!==(fr=m.lastLoginAt)&&void 0!==fr?fr:void 0,{uid:Va,emailVerified:Qc,isAnonymous:Jc,providerData:xr,stsTokenManager:$u}=m;Ne(Va&&$u,f,"internal-error");const Hu=pe.fromJSON(this.name,$u);Ne("string"==typeof Va,f,"internal-error"),Ze(_r,f.name),Ze(Tr,f.name),Ne("boolean"==typeof Qc,f,"internal-error"),Ne("boolean"==typeof Jc,f,"internal-error"),Ze(Eo,f.name),Ze(wo,f.name),Ze(Kd,f.name),Ze(Qs,f.name),Ze(dc,f.name),Ze(Al,f.name);const na=new ct({uid:Va,auth:f,email:Tr,emailVerified:Qc,displayName:_r,isAnonymous:Jc,photoURL:wo,phoneNumber:Eo,tenantId:Kd,stsTokenManager:Hu,createdAt:dc,lastLoginAt:Al});return xr&&Array.isArray(xr)&&(na.providerData=xr.map(Gu=>Object.assign({},Gu))),Qs&&(na._redirectEventId=Qs),na}static _fromIdTokenResponse(f,m,A=!1){return(0,c.Z)(function*(){const z=new pe;z.updateFromServerResponse(m);const se=new ct({uid:m.localId,auth:f,stsTokenManager:z,isAnonymous:A});return yield jn(se),se})()}}const re=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,A){var z=this;return(0,c.Z)(function*(){z.storage[m]=A})()}_get(m){var A=this;return(0,c.Z)(function*(){const z=A.storage[m];return void 0===z?null:z})()}_remove(m){var A=this;return(0,c.Z)(function*(){delete A.storage[m]})()}_addListener(m,A){}_removeListener(m,A){}}return D.type="NONE",D})();function ce(D,f,m){return`firebase:${D}:${f}:${m}`}class je{constructor(f,m,A){this.persistence=f,this.auth=m,this.userKey=A;const{config:z,name:se}=this.auth;this.fullUserKey=ce(this.userKey,z.apiKey,se),this.fullPersistenceKey=ce("persistence",z.apiKey,se),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?ct._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,c.Z)(function*(){if(m.persistence===f)return;const A=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,A?m.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,A="authUser"){return(0,c.Z)(function*(){if(!m.length)return new je(_e(re),f,A);const z=(yield Promise.all(m.map(function(){var In=(0,c.Z)(function*(fr){if(yield fr._isAvailable())return fr});return function(fr){return In.apply(this,arguments)}}()))).filter(In=>In);let se=z[0]||_e(re);const ut=ce(A,f.config.apiKey,f.name);let $t=null;for(const In of m)try{const fr=yield In._get(ut);if(fr){const _r=ct._fromJSON(f,fr);In!==se&&($t=_r),se=In;break}}catch(fr){}const bn=z.filter(In=>In._shouldAllowMigration);return se._shouldAllowMigration&&bn.length?(se=bn[0],$t&&(yield se._set(ut,$t.toJSON())),yield Promise.all(m.map(function(){var In=(0,c.Z)(function*(fr){if(fr!==se)try{yield fr._remove(ut)}catch(_r){}});return function(fr){return In.apply(this,arguments)}}())),new je(se,f,A)):new je(se,f,A)})()}}function te(D){const f=D.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Q(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ie(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Je(f))return"Blackberry";if(Tt(f))return"Webos";if(U(f))return"Safari";if((f.includes("chrome/")||J(f))&&!f.includes("edge/"))return"Chrome";if(be(f))return"Android";{const A=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function ie(D=(0,_.z$)()){return/firefox\//i.test(D)}function U(D=(0,_.z$)()){const f=D.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function J(D=(0,_.z$)()){return/crios\//i.test(D)}function Q(D=(0,_.z$)()){return/iemobile/i.test(D)}function be(D=(0,_.z$)()){return/android/i.test(D)}function Je(D=(0,_.z$)()){return/blackberry/i.test(D)}function Tt(D=(0,_.z$)()){return/webos/i.test(D)}function Zt(D=(0,_.z$)()){return/iphone|ipad|ipod/i.test(D)}function Sn(D=(0,_.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function pr(D=(0,_.z$)()){return Zt(D)||be(D)||Tt(D)||Je(D)||/windows phone/i.test(D)||Q(D)}function Xr(D,f=[]){let m;switch(D){case"Browser":m=te((0,_.z$)());break;case"Worker":m=`${te((0,_.z$)())}-${D}`;break;default:m=D}const A=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${G.SDK_VERSION}/${A}`}class vr{constructor(f,m,A){this.app=f,this.heartbeatServiceProvider=m,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ge(this),this.idTokenSubscription=new Ge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ot,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(f,m){var A=this;return m&&(this._popupRedirectResolver=_e(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var z,se;if(!A._deleted&&(A.persistenceManager=yield je.create(A,f),!A._deleted)){if(null===(z=A._popupRedirectResolver)||void 0===z?void 0:z._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(ut){}yield A.initializeCurrentUser(m),A.lastNotifiedUid=(null===(se=A.currentUser)||void 0===se?void 0:se.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m)}})()}initializeCurrentUser(f){var m=this;return(0,c.Z)(function*(){var A;let z=yield m.assertedPersistence.getCurrentUser();if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const se=null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId,ut=null==z?void 0:z._redirectEventId,$t=yield m.tryRedirectSignIn(f);(!se||se===ut)&&(null==$t?void 0:$t.user)&&(z=$t.user)}return z?z._redirectEventId?(Ne(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===z._redirectEventId?m.directlySetCurrentUser(z):m.reloadAndSetCurrentUserOrClear(z)):m.reloadAndSetCurrentUserOrClear(z):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var m=this;return(0,c.Z)(function*(){let A=null;try{A=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(z){yield m._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,c.Z)(function*(){try{yield jn(f)}catch(A){if("auth/network-request-failed"!==A.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function wt(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,c.Z)(function*(){const A=f?(0,_.m9)(f):null;return A&&Ne(A.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(A&&A._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,c.Z)(function*(){if(!m._deleted)return f&&Ne(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),m.queue((0,c.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(_e(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new _.LL("auth","Firebase",f())}onAuthStateChanged(f,m,A){return this.registerStateListener(this.authStateSubscription,f,m,A)}onIdTokenChanged(f,m,A){return this.registerStateListener(this.idTokenSubscription,f,m,A)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var A=this;return(0,c.Z)(function*(){const z=yield A.getOrInitRedirectPersistenceManager(m);return null===f?z.removeCurrentUser():z.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const A=f&&_e(f)||m._popupRedirectResolver;Ne(A,m,"argument-error"),m.redirectPersistenceManager=yield je.create(m,[_e(A._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,c.Z)(function*(){var A,z;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(A=m._currentUser)||void 0===A?void 0:A._redirectEventId)===f?m._currentUser:(null===(z=m.redirectUser)||void 0===z?void 0:z._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,c.Z)(function*(){if(f===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,A,z){if(this._deleted)return()=>{};const se="function"==typeof m?m:m.next.bind(m),ut=this._isInitialized?Promise.resolve():this._initializationPromise;return Ne(ut,this,"internal-error"),ut.then(()=>se(this.currentUser)),"function"==typeof m?f.addObserver(m,A,z):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Xr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var m;const A={"X-Client-Version":f.clientVersion};f.app.options.appId&&(A["X-Firebase-gmpid"]=f.app.options.appId);const z=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return z&&(A["X-Firebase-Client"]=z),A})()}}function Ir(D){return(0,_.m9)(D)}class Ge{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,_.ne)(m=>this.observer=m)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ve(D,f,m){const A=Ir(D);Ne(A._canInitEmulator,A,"emulator-config-failed"),Ne(/^https?:\/\//.test(f),A,"invalid-emulator-scheme");const z=!!(null==m?void 0:m.disableWarnings),se=ht(f),{host:ut,port:$t}=function Xt(D){const f=ht(D),m=/(\/\/)?([^?#/]+)/.exec(D.substr(f.length));if(!m)return{host:"",port:null};const A=m[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(A);if(z){const se=z[1];return{host:se,port:Un(A.substr(se.length+1))}}{const[se,ut]=A.split(":");return{host:se,port:Un(ut)}}}(f);A.config.emulator={url:`${se}//${ut}${null===$t?"":`:${$t}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:ut,port:$t,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function Gn(){function D(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function ht(D){const f=D.indexOf(":");return f<0?"":D.substr(0,f+1)}function Un(D){if(!D)return null;const f=Number(D);return isNaN(f)?null:f}class zn{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Ct("not implemented")}_getIdTokenResponse(f){return Ct("not implemented")}_linkToIdToken(f,m){return Ct("not implemented")}_getReauthenticationResolver(f){return Ct("not implemented")}}function Dr(D,f){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:resetPassword",Ae(D,f))})).apply(this,arguments)}function jr(D,f){return ji.apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Vn(D,f){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:update",Ae(D,f))})).apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(D,f){return vn(D,"POST","/v1/accounts:signInWithPassword",Ae(D,f))})).apply(this,arguments)}function Wr(D,f){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:sendOobCode",Ae(D,f))})).apply(this,arguments)}function Nr(D,f){return ze.apply(this,arguments)}function ze(){return(ze=(0,c.Z)(function*(D,f){return Wr(D,f)})).apply(this,arguments)}function Fe(D,f){return qe.apply(this,arguments)}function qe(){return(qe=(0,c.Z)(function*(D,f){return Wr(D,f)})).apply(this,arguments)}function Nt(D,f){return zt.apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(D,f){return Wr(D,f)})).apply(this,arguments)}function sn(D,f){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(D,f){return Wr(D,f)})).apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(D,f){return vn(D,"POST","/v1/accounts:signInWithEmailLink",Ae(D,f))})).apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(D,f){return vn(D,"POST","/v1/accounts:signInWithEmailLink",Ae(D,f))})).apply(this,arguments)}class Hr extends zn{constructor(f,m,A,z=null){super("password",A),this._email=f,this._password=m,this._tenantId=z}static _fromEmailAndPassword(f,m){return new Hr(f,m,"password")}static _fromEmailAndCode(f,m,A=null){return new Hr(f,m,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function Oi(D,f){return ni.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function wr(D,f){return Wn.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Et(f,"internal-error")}})()}_linkToIdToken(f,m){var A=this;return(0,c.Z)(function*(){switch(A.signInMethod){case"password":return jr(f,{idToken:m,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function qr(D,f){return $r.apply(this,arguments)}(f,{idToken:m,email:A._email,oobCode:A._password});default:Et(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function ci(D,f){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(D,f){return vn(D,"POST","/v1/accounts:signInWithIdp",Ae(D,f))})).apply(this,arguments)}class ri extends zn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new ri(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Et("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:A,signInMethod:z}=m,se=(0,ve._T)(m,["providerId","signInMethod"]);if(!A||!z)return null;const ut=new ri(A,z);return ut.idToken=se.idToken||void 0,ut.accessToken=se.accessToken||void 0,ut.secret=se.secret,ut.nonce=se.nonce,ut.pendingToken=se.pendingToken||null,ut}_getIdTokenResponse(f){return ci(f,this.buildRequest())}_linkToIdToken(f,m){const A=this.buildRequest();return A.idToken=m,ci(f,A)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,ci(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,_.xO)(m)}return f}}function Yr(D,f){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:sendVerificationCode",Ae(D,f))})).apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(D,f){return vn(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,f))})).apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(D,f){const m=yield vn(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,f));if(m.temporaryProof)throw un(D,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Gs={USER_NOT_FOUND:"user-not-found"};function Is(){return(Is=(0,c.Z)(function*(D,f){return vn(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Gs)})).apply(this,arguments)}class Di extends zn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Di({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Di({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function fs(D,f){return ts.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Rs(D,f){return ii.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ps(D,f){return Is.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:A,verificationCode:z}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:A,code:z}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:A,phoneNumber:z,temporaryProof:se}=f;return A||m||z||se?new Di({verificationId:m,verificationCode:A,phoneNumber:z,temporaryProof:se}):null}}class yi{constructor(f){var m,A,z,se,ut,$t;const bn=(0,_.zd)((0,_.pd)(f)),In=null!==(m=bn.apiKey)&&void 0!==m?m:null,fr=null!==(A=bn.oobCode)&&void 0!==A?A:null,_r=function $i(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=bn.mode)&&void 0!==z?z:null);Ne(In&&fr&&_r,"argument-error"),this.apiKey=In,this.operation=_r,this.code=fr,this.continueUrl=null!==(se=bn.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(ut=bn.languageCode)&&void 0!==ut?ut:null,this.tenantId=null!==($t=bn.tenantId)&&void 0!==$t?$t:null}static parseLink(f){const m=function Ps(D){const f=(0,_.zd)((0,_.pd)(D)).link,m=f?(0,_.zd)((0,_.pd)(f)).deep_link_id:null,A=(0,_.zd)((0,_.pd)(D)).deep_link_id;return(A?(0,_.zd)((0,_.pd)(A)).link:null)||A||m||f||D}(f);try{return new yi(m)}catch(A){return null}}}let di=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(m,A){return Hr._fromEmailAndPassword(m,A)}static credentialWithLink(m,A){const z=yi.parseLink(A);return Ne(z,"argument-error"),Hr._fromEmailAndCode(m,z.code,z.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Ti{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class xi extends Ti{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Yi extends xi{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return Ne("providerId"in m&&"signInMethod"in m,"argument-error"),ri._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Ne(f.idToken||f.accessToken,"argument-error"),ri._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Yi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Yi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:A,oauthTokenSecret:z,pendingToken:se,nonce:ut,providerId:$t}=f;if(!A&&!z&&!m&&!se||!$t)return null;try{return new Yi($t)._credential({idToken:m,accessToken:A,nonce:ut,pendingToken:se})}catch(bn){return null}}}let Ni=(()=>{class D extends xi{constructor(){super("facebook.com")}static credential(m){return ri._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch(A){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),_i=(()=>{class D extends xi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,A){return ri._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:A})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:A,oauthAccessToken:z}=m;if(!A&&!z)return null;try{return D.credential(A,z)}catch(se){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Rr=(()=>{class D extends xi{constructor(){super("github.com")}static credential(m){return ri._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch(A){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class hi extends zn{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return ci(f,this.buildRequest())}_linkToIdToken(f,m){const A=this.buildRequest();return A.idToken=m,ci(f,A)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,ci(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:A,signInMethod:z,pendingToken:se}=m;return A&&z&&se&&A===z?new hi(A,se):null}static _create(f,m){return new hi(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qi extends Ti{constructor(f){Ne(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Qi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Qi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=hi.fromJSON(f);return Ne(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:A}=f;if(!m||!A)return null;try{return hi._create(A,m)}catch(z){return null}}}let mr=(()=>{class D extends xi{constructor(){super("twitter.com")}static credential(m,A){return ri._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:A})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:A,oauthTokenSecret:z}=m;if(!A||!z)return null;try{return D.credential(A,z)}catch(se){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Hi(D,f){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(D,f){return vn(D,"POST","/v1/accounts:signUp",Ae(D,f))})).apply(this,arguments)}class Zr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,A,z=!1){return(0,c.Z)(function*(){const se=yield ct._fromIdTokenResponse(f,A,z),ut=Pr(A);return new Zr({user:se,providerId:ut,_tokenResponse:A,operationType:m})})()}static _forOperation(f,m,A){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(A,!0);const z=Pr(A);return new Zr({user:f,providerId:z,_tokenResponse:A,operationType:m})})()}}function Pr(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Pi(D){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(D){var f;const m=Ir(D);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new Zr({user:m.currentUser,providerId:null,operationType:"signIn"});const A=yield Hi(m,{returnSecureToken:!0}),z=yield Zr._fromIdTokenResponse(m,"signIn",A,!0);return yield m._updateCurrentUser(z.user),z})).apply(this,arguments)}class rs extends _.ZR{constructor(f,m,A,z){var se;super(m.code,m.message),this.operationType=A,this.user=z,Object.setPrototypeOf(this,rs.prototype),this.customData={appName:f.name,tenantId:null!==(se=f.tenantId)&&void 0!==se?se:void 0,_serverResponse:m.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(f,m,A,z){return new rs(f,m,A,z)}}function ki(D,f,m,A){return("reauthenticate"===f?m._getReauthenticationResolver(D):m._getIdTokenResponse(D)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?rs._fromErrorAndOperation(D,se,f,A):se})}function gs(D){return new Set(D.map(({providerId:f})=>f).filter(f=>!!f))}function zi(D,f){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(D,f){const m=(0,_.m9)(D);yield R(!0,m,f);const{providerUserInfo:A}=yield tn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),z=gs(A||[]);return m.providerData=m.providerData.filter(se=>z.has(se.providerId)),z.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ai(D,f){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(D,f,m=!1){const A=yield xt(D,f._linkToIdToken(D.auth,yield D.getIdToken()),m);return Zr._forOperation(D,"link",A)})).apply(this,arguments)}function R(D,f,m){return q.apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(D,f,m){yield jn(f);const z=!1===D?"provider-already-linked":"no-such-provider";Ne(gs(f.providerData).has(m)===D,f.auth,z)})).apply(this,arguments)}function F(D,f){return X.apply(this,arguments)}function X(){return(X=(0,c.Z)(function*(D,f,m=!1){const{auth:A}=D,z="reauthenticate";try{const se=yield xt(D,ki(A,z,f,D),m);Ne(se.idToken,A,"internal-error");const ut=Ut(se.idToken);Ne(ut,A,"internal-error");const{sub:$t}=ut;return Ne(D.uid===$t,A,"user-mismatch"),Zr._forOperation(D,z,se)}catch(se){throw"auth/user-not-found"===(null==se?void 0:se.code)&&Et(A,"user-mismatch"),se}})).apply(this,arguments)}function Ce(D,f){return _t.apply(this,arguments)}function _t(){return(_t=(0,c.Z)(function*(D,f,m=!1){const A="signIn",z=yield ki(D,A,f),se=yield Zr._fromIdTokenResponse(D,A,z);return m||(yield D._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Lt(D,f){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(D,f){return Ce(Ir(D),f)})).apply(this,arguments)}function L(D,f){return w.apply(this,arguments)}function w(){return(w=(0,c.Z)(function*(D,f){const m=(0,_.m9)(D);return yield R(!1,m,f.providerId),ai(m,f)})).apply(this,arguments)}function y(D,f){return x.apply(this,arguments)}function x(){return(x=(0,c.Z)(function*(D,f){return F((0,_.m9)(D),f)})).apply(this,arguments)}function le(D,f){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(D,f){return vn(D,"POST","/v1/accounts:signInWithCustomToken",Ae(D,f))})).apply(this,arguments)}function St(D,f){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,c.Z)(function*(D,f){const m=Ir(D),A=yield le(m,{token:f,returnSecureToken:!0}),z=yield Zr._fromIdTokenResponse(m,"signIn",A);return yield m._updateCurrentUser(z.user),z})).apply(this,arguments)}class $n{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?br._fromServerResponse(f,m):Et(f,"internal-error")}}class br extends $n{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new br(m)}}function ar(D,f,m){var A;Ne((null===(A=m.url)||void 0===A?void 0:A.length)>0,D,"invalid-continue-uri"),Ne(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ne(m.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(Ne(m.android.packageName.length>0,D,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function yr(D,f,m){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(D,f,m){const A=(0,_.m9)(D),z={requestType:"PASSWORD_RESET",email:f};m&&ar(A,z,m),yield Fe(A,z)})).apply(this,arguments)}function is(D,f,m){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,c.Z)(function*(D,f,m){yield Dr((0,_.m9)(D),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Rt(D,f){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(D,f){yield Vn((0,_.m9)(D),{oobCode:f})})).apply(this,arguments)}function Ws(D,f){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(D,f){const m=(0,_.m9)(D),A=yield Dr(m,{oobCode:f}),z=A.requestType;switch(Ne(z,m,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ne(A.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ne(A.mfaInfo,m,"internal-error");default:Ne(A.email,m,"internal-error")}let se=null;return A.mfaInfo&&(se=$n._fromServerResponse(Ir(m),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:se},operation:z}})).apply(this,arguments)}function Ts(D,f){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(D,f){const{data:m}=yield Ws((0,_.m9)(D),f);return m.email})).apply(this,arguments)}function Ks(D,f,m){return la.apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(D,f,m){const A=Ir(D),z=yield Hi(A,{returnSecureToken:!0,email:f,password:m}),se=yield Zr._fromIdTokenResponse(A,"signIn",z);return yield A._updateCurrentUser(se.user),se})).apply(this,arguments)}function Do(D,f,m){return Lt((0,_.m9)(D),di.credential(f,m))}function ml(D,f,m){return xa.apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(D,f,m){const A=(0,_.m9)(D),z={requestType:"EMAIL_SIGNIN",email:f};Ne(m.handleCodeInApp,A,"argument-error"),m&&ar(A,z,m),yield Nt(A,z)})).apply(this,arguments)}function go(D,f){const m=yi.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function To(D,f,m){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(D,f,m){const A=(0,_.m9)(D),z=di.credentialWithLink(f,m||fe());return Ne(z._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Lt(A,z)})).apply(this,arguments)}function vi(D,f){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:createAuthUri",Ae(D,f))})).apply(this,arguments)}function to(D,f){return ms.apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(D,f){const A={identifier:f,continueUri:mt()?fe():"http://localhost"},{signinMethods:z}=yield vi((0,_.m9)(D),A);return z||[]})).apply(this,arguments)}function jo(D,f){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(D,f){const m=(0,_.m9)(D),z={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};f&&ar(m.auth,z,f);const{email:se}=yield Nr(m.auth,z);se!==D.email&&(yield D.reload())})).apply(this,arguments)}function za(D,f,m){return $o.apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(D,f,m){const A=(0,_.m9)(D),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:f};m&&ar(A.auth,se,m);const{email:ut}=yield sn(A.auth,se);ut!==D.email&&(yield D.reload())})).apply(this,arguments)}function Ho(D,f){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function no(D,f){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(D,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const A=(0,_.m9)(D),se={idToken:yield A.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},ut=yield xt(A,Ho(A.auth,se));A.displayName=ut.displayName||null,A.photoURL=ut.photoUrl||null;const $t=A.providerData.find(({providerId:bn})=>"password"===bn);$t&&($t.displayName=A.displayName,$t.photoURL=A.photoURL),yield A._updateTokensIfNecessary(ut)})).apply(this,arguments)}function zo(D,f){return mo((0,_.m9)(D),f,null)}function So(D,f){return mo((0,_.m9)(D),null,f)}function mo(D,f,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(D,f,m){const{auth:A}=D,se={idToken:yield D.getIdToken(),returnSecureToken:!0};f&&(se.email=f),m&&(se.password=m);const ut=yield xt(D,jr(A,se));yield D._updateTokensIfNecessary(ut,!0)})).apply(this,arguments)}class ks{constructor(f,m,A={}){this.isNewUser=f,this.providerId=m,this.profile=A}}class Ka extends ks{constructor(f,m,A,z){super(f,m,A),this.username=z}}class Mo extends ks{constructor(f,m){super(f,"facebook.com",m)}}class Au extends Ka{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Na extends ks{constructor(f,m){super(f,"google.com",m)}}class si extends Ka{constructor(f,m,A){super(f,"twitter.com",m,A)}}function Fs(D){const{user:f,_tokenResponse:m}=D;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Wa(D){var f,m;if(!D)return null;const{providerId:A}=D,z=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},se=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!A&&(null==D?void 0:D.idToken)){const ut=null===(m=null===(f=Ut(D.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(ut)return new ks(se,"anonymous"!==ut&&"custom"!==ut?ut:null)}if(!A)return null;switch(A){case"facebook.com":return new Mo(se,z);case"github.com":return new Au(se,z);case"google.com":return new Na(se,z);case"twitter.com":return new si(se,z,D.screenName||null);case"custom":case"anonymous":return new ks(se,null);default:return new ks(se,A,z)}}(m)}class qs{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new qs("enroll",f)}static _fromMfaPendingCredential(f){return new qs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,A;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return qs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(A=f.multiFactorSession)||void 0===A?void 0:A.idToken)return qs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Oo{constructor(f,m,A){this.session=f,this.hints=m,this.signInResolver=A}static _fromError(f,m){const A=Ir(f),z=m.customData._serverResponse,se=(z.mfaInfo||[]).map($t=>$n._fromServerResponse(A,$t));Ne(z.mfaPendingCredential,A,"internal-error");const ut=qs._fromMfaPendingCredential(z.mfaPendingCredential);return new Oo(ut,se,function(){var $t=(0,c.Z)(function*(bn){const In=yield bn._process(A,ut);delete z.mfaInfo,delete z.mfaPendingCredential;const fr=Object.assign(Object.assign({},z),{idToken:In.idToken,refreshToken:In.refreshToken});switch(m.operationType){case"signIn":const _r=yield Zr._fromIdTokenResponse(A,m.operationType,fr);return yield A._updateCurrentUser(_r.user),_r;case"reauthenticate":return Ne(m.user,A,"internal-error"),Zr._forOperation(m.user,m.operationType,fr);default:Et(A,"internal-error")}});return function(bn){return $t.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,c.Z)(function*(){return m.signInResolver(f)})()}}function Ci(D,f){var m;const A=(0,_.m9)(D),z=f;return Ne(f.customData.operationType,A,"argument-error"),Ne(null===(m=z.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,A,"argument-error"),Oo._fromError(A,z)}function Ya(D,f){return Ke(D,"POST","/v2/accounts/mfaEnrollment:start",Ae(D,f))}class Zs{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(A=>$n._fromServerResponse(f.auth,A)))})}static _fromUser(f){return new Zs(f)}getSession(){var f=this;return(0,c.Z)(function*(){return qs._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var A=this;return(0,c.Z)(function*(){const z=f,se=yield A.getSession(),ut=yield xt(A.user,z._process(A.user.auth,se,m));return yield A.user._updateTokensIfNecessary(ut),A.user.reload()})()}unenroll(f){var m=this;return(0,c.Z)(function*(){const A="string"==typeof f?f:f.uid,z=yield m.user.getIdToken(),se=yield xt(m.user,function Ss(D,f){return Ke(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Ae(D,f))}(m.user.auth,{idToken:z,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ut})=>ut!==A),yield m.user._updateTokensIfNecessary(se);try{yield m.user.reload()}catch(ut){if("auth/user-token-expired"!==ut.code)throw ut}})()}}const Ls=new WeakMap;function Qa(D){const f=(0,_.m9)(D);return Ls.has(f)||Ls.set(f,Zs._fromUser(f)),Ls.get(f)}const ro="__sak";class Cr{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ro,"1"),this.storage.removeItem(ro),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const qt=(()=>{class D extends Cr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,A)=>this.onStorageEvent(m,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yo(){const D=(0,_.z$)();return U(D)||Zt(D)}()&&function Sr(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=pr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const A of Object.keys(this.listeners)){const z=this.storage.getItem(A),se=this.localCache[A];z!==se&&m(A,se,z)}}onStorageEvent(m,A=!1){if(!m.key)return void this.forAllChangedKeys(($t,bn,In)=>{this.notifyListeners($t,In)});const z=m.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const $t=this.storage.getItem(z);if(m.newValue!==$t)null!==m.newValue?this.storage.setItem(z,m.newValue):this.storage.removeItem(z);else if(this.localCache[z]===m.newValue&&!A)return}const se=()=>{const $t=this.storage.getItem(z);!A&&this.localCache[z]===$t||this.notifyListeners(z,$t)},ut=this.storage.getItem(z);!function xn(){return(0,_.w1)()&&10===document.documentMode}()||ut===m.newValue||m.newValue===m.oldValue?se():setTimeout(se,10)}notifyListeners(m,A){this.localCache[m]=A;const z=this.listeners[m];if(z)for(const se of Array.from(z))se(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,A,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:A,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,A){var z=()=>super._set,se=this;return(0,c.Z)(function*(){yield z().call(se,m,A),se.localCache[m]=JSON.stringify(A)})()}_get(m){var A=()=>super._get,z=this;return(0,c.Z)(function*(){const se=yield A().call(z,m);return z.localCache[m]=JSON.stringify(se),se})()}_remove(m){var A=()=>super._remove,z=this;return(0,c.Z)(function*(){yield A().call(z,m),delete z.localCache[m]})()}}return D.type="LOCAL",D})(),Ys=(()=>{class D extends Cr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,A){}_removeListener(m,A){}}return D.type="SESSION",D})();let _n=(()=>{class D{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const A=this.receivers.find(se=>se.isListeningto(m));if(A)return A;const z=new D(m);return this.receivers.push(z),z}isListeningto(m){return this.eventTarget===m}handleEvent(m){var A=this;return(0,c.Z)(function*(){const z=m,{eventId:se,eventType:ut,data:$t}=z.data,bn=A.handlersMap[ut];if(!(null==bn?void 0:bn.size))return;z.ports[0].postMessage({status:"ack",eventId:se,eventType:ut});const In=Array.from(bn).map(function(){var _r=(0,c.Z)(function*(Tr){return Tr(z.origin,$t)});return function(Tr){return _r.apply(this,arguments)}}()),fr=yield function Ko(D){return Promise.all(D.map(function(){var f=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(A){return{fulfilled:!1,reason:A}}});return function(m){return f.apply(this,arguments)}}()))}(In);z.ports[0].postMessage({status:"done",eventId:se,eventType:ut,response:fr})})()}_subscribe(m,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(A)}_unsubscribe(m,A){this.handlersMap[m]&&A&&this.handlersMap[m].delete(A),(!A||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Hn(D="",f=10){let m="";for(let A=0;A<f;A++)m+=Math.floor(10*Math.random());return D+m}class xo{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,A=50){var z=this;return(0,c.Z)(function*(){const se="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let ut,$t;return new Promise((bn,In)=>{const fr=Hn("",20);se.port1.start();const _r=setTimeout(()=>{In(new Error("unsupported_event"))},A);$t={messageChannel:se,onMessage(Tr){const Eo=Tr;if(Eo.data.eventId===fr)switch(Eo.data.status){case"ack":clearTimeout(_r),ut=setTimeout(()=>{In(new Error("timeout"))},3e3);break;case"done":clearTimeout(ut),bn(Eo.data.response);break;default:clearTimeout(_r),clearTimeout(ut),In(new Error("invalid_response"))}}},z.handlers.add($t),se.port1.addEventListener("message",$t.onMessage),z.target.postMessage({eventType:f,eventId:fr,data:m},[se.port2])}).finally(()=>{$t&&z.removeMessageHandler($t)})})()}}function Yt(){return window}function jt(){return void 0!==Yt().WorkerGlobalScope&&"function"==typeof Yt().importScripts}function ss(){return(ss=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const Ou="firebaseLocalStorageDb",io="firebaseLocalStorage",qo="fbase_key";class so{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function S(D,f){return D.transaction([io],f?"readwrite":"readonly").objectStore(io)}function b(){const D=indexedDB.open(Ou,1);return new Promise((f,m)=>{D.addEventListener("error",()=>{m(D.error)}),D.addEventListener("upgradeneeded",()=>{const A=D.result;try{A.createObjectStore(io,{keyPath:qo})}catch(z){m(z)}}),D.addEventListener("success",(0,c.Z)(function*(){const A=D.result;A.objectStoreNames.contains(io)?f(A):(A.close(),yield function I(){const D=indexedDB.deleteDatabase(Ou);return new so(D).toPromise()}(),f(yield b()))}))})}function P(D,f,m){return V.apply(this,arguments)}function V(){return(V=(0,c.Z)(function*(D,f,m){const A=S(D,!0).put({[qo]:f,value:m});return new so(A).toPromise()})).apply(this,arguments)}function ye(){return(ye=(0,c.Z)(function*(D,f){const m=S(D,!1).get(f),A=yield new so(m).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Me(D,f){const m=S(D,!0).delete(f);return new so(m).toPromise()}const Pn=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield b()),m.db})()}_withRetries(m){var A=this;return(0,c.Z)(function*(){let z=0;for(;;)try{const se=yield A._openDb();return yield m(se)}catch(se){if(z++>3)throw se;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return jt()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=_n._getInstance(function Ra(){return jt()?self:null}()),m.receiver._subscribe("keyChanged",function(){var A=(0,c.Z)(function*(z,se){return{keyProcessed:(yield m._poll()).includes(se.key)}});return function(z,se){return A.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var A=(0,c.Z)(function*(z,se){return["keyChanged"]});return function(z,se){return A.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var A,z;if(m.activeServiceWorker=yield function fi(){return ss.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new xo(m.activeServiceWorker);const se=yield m.sender._send("ping",{},800);!se||(null===(A=se[0])||void 0===A?void 0:A.fulfilled)&&(null===(z=se[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var A=this;return(0,c.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function No(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:m},A.serviceWorkerReceiverAvailable?800:50)}catch(z){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield b();return yield P(m,ro,"1"),yield Me(m,ro),!0}catch(m){}return!1})()}_withPendingWrite(m){var A=this;return(0,c.Z)(function*(){A.pendingWrites++;try{yield m()}finally{A.pendingWrites--}})()}_set(m,A){var z=this;return(0,c.Z)(function*(){return z._withPendingWrite((0,c.Z)(function*(){return yield z._withRetries(se=>P(se,m,A)),z.localCache[m]=A,z.notifyServiceWorker(m)}))})()}_get(m){var A=this;return(0,c.Z)(function*(){const z=yield A._withRetries(se=>function Y(D,f){return ye.apply(this,arguments)}(se,m));return A.localCache[m]=z,z})()}_remove(m){var A=this;return(0,c.Z)(function*(){return A._withPendingWrite((0,c.Z)(function*(){return yield A._withRetries(z=>Me(z,m)),delete A.localCache[m],A.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const A=yield m._withRetries(ut=>{const $t=S(ut,!1).getAll();return new so($t).toPromise()});if(!A)return[];if(0!==m.pendingWrites)return[];const z=[],se=new Set;for(const{fbase_key:ut,value:$t}of A)se.add(ut),JSON.stringify(m.localCache[ut])!==JSON.stringify($t)&&(m.notifyListeners(ut,$t),z.push(ut));for(const ut of Object.keys(m.localCache))m.localCache[ut]&&!se.has(ut)&&(m.notifyListeners(ut,null),z.push(ut));return z})()}notifyListeners(m,A){this.localCache[m]=A;const z=this.listeners[m];if(z)for(const se of Array.from(z))se(A)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Er(D,f){return Ke(D,"POST","/v2/accounts/mfaSignIn:start",Ae(D,f))}function Ar(){return(Ar=(0,c.Z)(function*(D){return(yield Ke(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Us(D){return new Promise((f,m)=>{const A=document.createElement("script");A.setAttribute("src",D),A.onload=f,A.onerror=z=>{const se=We("internal-error");se.customData=z,m(se)},A.type="text/javascript",A.charset="UTF-8",function Ai(){var D,f;return null!==(f=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==f?f:document}().appendChild(A)})}function Ur(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Kr=1e12;class Ro{constructor(f){this.auth=f,this.counter=Kr,this._widgets=new Map}render(f,m){const A=this.counter;return this._widgets.set(A,new Po(f,this.auth.name,m||{})),this.counter++,A}reset(f){var m;const A=f||Kr;null===(m=this._widgets.get(A))||void 0===m||m.delete(),this._widgets.delete(A)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Kr))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,c.Z)(function*(){var A;return null===(A=m._widgets.get(f||Kr))||void 0===A||A.execute(),""})()}}class Po{constructor(f,m,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof f?document.getElementById(f):f;Ne(z,"argument-error",{appName:m}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kl(D){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<D;A++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fa=Ur("rcb"),pi=new Kt(3e4,6e4);class pa{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Yt().grecaptcha}load(f,m=""){return Ne(function vl(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Yt().grecaptcha):new Promise((A,z)=>{const se=Yt().setTimeout(()=>{z(We(f,"network-request-failed"))},pi.get());Yt()[fa]=()=>{Yt().clearTimeout(se),delete Yt()[fa];const $t=Yt().grecaptcha;if(!$t)return void z(We(f,"internal-error"));const bn=$t.render;$t.render=(In,fr)=>{const _r=bn(In,fr);return this.counter++,_r},this.hostLanguage=m,A($t)},Us(`https://www.google.com/recaptcha/api.js??${(0,_.xO)({onload:fa,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(se),z(We(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Yt().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ql{load(f){return(0,c.Z)(function*(){return new Ro(f)})()}clearedOneInstance(){}}const an="recaptcha",Bc={theme:"light",type:"image"};class Zl{constructor(f,m=Object.assign({},Bc),A){this.parameters=m,this.type=an,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ir(A),this.isInvisible="invisible"===this.parameters.size,Ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof f?document.getElementById(f):f;Ne(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ql:new pa,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),A=f.getAssertedRecaptcha();return A.getResponse(m)||new Promise(se=>{const ut=$t=>{!$t||(f.tokenChangeListeners.delete(ut),se($t))};f.tokenChangeListeners.add(ut),f.isInvisible&&A.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Ne(!this.parameters.sitekey,this.auth,"argument-error"),Ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(A=>A(m)),"function"==typeof f)f(m);else if("string"==typeof f){const A=Yt()[f];"function"==typeof A&&A(m)}}}assertNotDestroyed(){Ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const A=document.createElement("div");m.appendChild(A),m=A}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){Ne(mt()&&!jt(),f.auth,"internal-error"),yield function oo(){let D=null;return new Promise(f=>{"complete"!==document.readyState?(D=()=>f(),window.addEventListener("load",D)):f()}).catch(f=>{throw D&&window.removeEventListener("load",D),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Vs(D){return Ar.apply(this,arguments)}(f.auth);Ne(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ao{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Di._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function ui(D,f,m){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(D,f,m){const A=Ir(D),z=yield _s(A,f,(0,_.m9)(m));return new ao(z,se=>Lt(A,se))})).apply(this,arguments)}function Fo(D,f,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(D,f,m){const A=(0,_.m9)(D);yield R(!1,A,"phone");const z=yield _s(A.auth,f,(0,_.m9)(m));return new ao(z,se=>L(A,se))})).apply(this,arguments)}function El(D,f,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,c.Z)(function*(D,f,m){const A=(0,_.m9)(D),z=yield _s(A.auth,f,(0,_.m9)(m));return new ao(z,se=>y(A,se))})).apply(this,arguments)}function _s(D,f,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(D,f,m){var A;const z=yield m.verify();try{let se;if(Ne("string"==typeof z,D,"argument-error"),Ne(m.type===an,D,"argument-error"),se="string"==typeof f?{phoneNumber:f}:f,"session"in se){const ut=se.session;if("phoneNumber"in se)return Ne("enroll"===ut.type,D,"internal-error"),(yield Ya(D,{idToken:ut.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{Ne("signin"===ut.type,D,"internal-error");const $t=(null===(A=se.multiFactorHint)||void 0===A?void 0:A.uid)||se.multiFactorUid;return Ne($t,D,"missing-multi-factor-info"),(yield Er(D,{mfaPendingCredential:ut.credential,mfaEnrollmentId:$t,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ut}=yield Yr(D,{phoneNumber:se.phoneNumber,recaptchaToken:z});return ut}}finally{m._reset()}})).apply(this,arguments)}function Ja(D,f){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(D,f){yield ai((0,_.m9)(D),f)})).apply(this,arguments)}let Xa=(()=>{class D{constructor(m){this.providerId=D.PROVIDER_ID,this.auth=Ir(m)}verifyPhoneNumber(m,A){return _s(this.auth,m,(0,_.m9)(A))}static credential(m,A){return Di._fromVerification(m,A)}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:A,temporaryProof:z}=m;return A&&z?Di._fromTokenResponse(A,z):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function uo(D,f){return f?_e(f):(Ne(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Nu extends zn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return ci(f,this._buildIdpRequest())}_linkToIdToken(f,m){return ci(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return ci(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function jc(D){return Ce(D.auth,new Nu(D),D.bypassAuthState)}function $c(D){const{auth:f,user:m}=D;return Ne(m,f,"internal-error"),F(m,new Nu(D),D.bypassAuthState)}function Ru(D){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(D){const{auth:f,user:m}=D;return Ne(m,f,"internal-error"),ai(m,new Nu(D),D.bypassAuthState)})).apply(this,arguments)}class Li{constructor(f,m,A,z,se=!1){this.auth=f,this.resolver=A,this.user=z,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,c.Z)(function*(A,z){f.pendingPromise={resolve:A,reject:z};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(se){f.reject(se)}});return function(A,z){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,c.Z)(function*(){const{urlResponse:A,sessionId:z,postBody:se,tenantId:ut,error:$t,type:bn}=f;if($t)return void m.reject($t);const In={auth:m.auth,requestUri:A,sessionId:z,tenantId:ut||void 0,postBody:se||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(bn)(In))}catch(fr){m.reject(fr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return jc;case"linkViaPopup":case"linkViaRedirect":return Ru;case"reauthViaPopup":case"reauthViaRedirect":return $c;default:Et(this.auth,"internal-error")}}resolve(f){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pa=new Kt(2e3,1e4);function ti(D,f,m){return ga.apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(D,f,m){const A=Ir(D);at(D,f,Ti);const z=uo(A,m);return new eu(A,"signInViaPopup",f,z).executeNotNull()})).apply(this,arguments)}function Yl(D,f,m){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(D,f,m){const A=(0,_.m9)(D);at(A.auth,f,Ti);const z=uo(A.auth,m);return new eu(A.auth,"reauthViaPopup",f,z,A).executeNotNull()})).apply(this,arguments)}function wl(D,f,m){return ka.apply(this,arguments)}function ka(){return(ka=(0,c.Z)(function*(D,f,m){const A=(0,_.m9)(D);at(A.auth,f,Ti);const z=uo(A.auth,m);return new eu(A.auth,"linkViaPopup",f,z,A).executeNotNull()})).apply(this,arguments)}let eu=(()=>{class D extends Li{constructor(m,A,z,se,ut){super(m,A,se,ut),this.provider=z,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const A=yield m.execute();return Ne(A,m.auth,"internal-error"),A})()}onExecution(){var m=this;return(0,c.Z)(function*(){ae(1===m.filter.length,"Popup operations only handle one event");const A=Hn();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],A),m.authWindow.associatedEvent=A,m.resolver._originValidation(m.auth).catch(z=>{m.reject(z)}),m.resolver._isIframeWebStorageSupported(m.auth,z=>{z||m.reject(We(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(We(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const m=()=>{var A,z;this.pollId=(null===(z=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===z?void 0:z.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(We(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Pa.get())};m()}}return D.currentPopupAction=null,D})();const vs=new Map;class bl extends Li{constructor(f,m,A=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,A),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,c.Z)(function*(){let A=vs.get(m.auth._key());if(!A){try{const se=(yield function Ql(D,f){return Xo.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;A=()=>Promise.resolve(se)}catch(z){A=()=>Promise.reject(z)}vs.set(m.auth._key(),A)}return m.bypassAuthState||vs.set(m.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,A=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(A,f);if("unknown"!==f.type){if(f.eventId){const z=yield A.auth._redirectUserForId(f.eventId);if(z)return A.user=z,m().call(A,f);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Xo(){return(Xo=(0,c.Z)(function*(D,f){const m=ru(f),A=nu(D);if(!(yield A._isAvailable()))return!1;const z="true"===(yield A._get(m));return yield A._remove(m),z})).apply(this,arguments)}function lo(D,f){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(D,f){return nu(D)._set(ru(f),"true")})).apply(this,arguments)}function tu(){vs.clear()}function nu(D){return _e(D._redirectPersistence)}function ru(D){return ce("pendingRedirect",D.config.apiKey,D.name)}function Jl(D,f,m){return function Hc(D,f,m){return gi.apply(this,arguments)}(D,f,m)}function gi(){return(gi=(0,c.Z)(function*(D,f,m){const A=Ir(D);at(D,f,Ti);const z=uo(A,m);return yield lo(z,A),z._openRedirect(A,f,"signInViaRedirect")})).apply(this,arguments)}function Gc(D,f,m){return function Hd(D,f,m){return Wi.apply(this,arguments)}(D,f,m)}function Wi(){return(Wi=(0,c.Z)(function*(D,f,m){const A=(0,_.m9)(D);at(A.auth,f,Ti);const z=uo(A.auth,m);yield lo(z,A.auth);const se=yield iu(A);return z._openRedirect(A.auth,f,"reauthViaRedirect",se)})).apply(this,arguments)}function Xl(D,f,m){return function nf(D,f,m){return ku.apply(this,arguments)}(D,f,m)}function ku(){return(ku=(0,c.Z)(function*(D,f,m){const A=(0,_.m9)(D);at(A.auth,f,Ti);const z=uo(A.auth,m);yield R(!1,A,f.providerId),yield lo(z,A.auth);const se=yield iu(A);return z._openRedirect(A.auth,f,"linkViaRedirect",se)})).apply(this,arguments)}function Fu(D,f){return ec.apply(this,arguments)}function ec(){return(ec=(0,c.Z)(function*(D,f){return yield Ir(D)._initializationPromise,_o(D,f,!1)})).apply(this,arguments)}function _o(D,f){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(D,f,m=!1){const A=Ir(D),z=uo(A,f),ut=yield new bl(A,z,m).execute();return ut&&!m&&(delete ut.user._redirectEventId,yield A._persistUserIfCurrent(ut.user),yield A._setRedirectUser(null,f)),ut})).apply(this,arguments)}function iu(D){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,c.Z)(function*(D){const f=Hn(`${D.uid}:::`);return D._redirectEventId=f,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),f})).apply(this,arguments)}class Ms{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(f,A)&&(m=!0,this.sendToConsumer(f,A),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function su(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ya(D);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var A;if(f.error&&!ya(f)){const z=(null===(A=f.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";m.onError(We(this.auth,z))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const A=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&A}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nc(f))}saveEventToCache(f){this.cachedEventUids.add(nc(f)),this.lastProcessedEventTime=Date.now()}}function nc(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(f=>f).join("-")}function ya({type:D,error:f}){return"unknown"===D&&"auth/no-auth-event"===(null==f?void 0:f.code)}function _a(D){return ou.apply(this,arguments)}function ou(){return(ou=(0,c.Z)(function*(D,f={}){return Ke(D,"GET","/v1/projects",f)})).apply(this,arguments)}const rc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ic=/^https?/;function Xi(){return(Xi=(0,c.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:f}=yield _a(D);for(const m of f)try{if(zc(m))return}catch(A){}Et(D,"unauthorized-domain")})).apply(this,arguments)}function zc(D){const f=fe(),{protocol:m,hostname:A}=new URL(f);if(D.startsWith("chrome-extension://")){const ut=new URL(D);return""===ut.hostname&&""===A?"chrome-extension:"===m&&D.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&ut.hostname===A}if(!ic.test(m))return!1;if(rc.test(D))return A===D;const z=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(A)}const Il=new Kt(3e4,6e4);function Dl(){const D=Yt().___jsl;if(null==D?void 0:D.H)for(const f of Object.keys(D.H))if(D.H[f].r=D.H[f].r||[],D.H[f].L=D.H[f].L||[],D.H[f].r=[...D.H[f].L],D.CP)for(let m=0;m<D.CP.length;m++)D.CP[m]=null}let Lu=null;function Wc(D){return Lu=Lu||function sc(D){return new Promise((f,m)=>{var A,z,se;function ut(){Dl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Dl(),m(We(D,"network-request-failed"))},timeout:Il.get()})}if(null===(z=null===(A=Yt().gapi)||void 0===A?void 0:A.iframes)||void 0===z?void 0:z.Iframe)f(gapi.iframes.getContext());else{if(!(null===(se=Yt().gapi)||void 0===se?void 0:se.load)){const $t=Ur("iframefcb");return Yt()[$t]=()=>{gapi.load?ut():m(We(D,"network-request-failed"))},Us(`https://apis.google.com/js/api.js?onload=${$t}`).catch(bn=>m(bn))}ut()}}).catch(f=>{throw Lu=null,f})}(D),Lu}const Kc=new Kt(5e3,15e3),Tl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},La=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cl(D){const f=D.config;Ne(f.authDomain,D,"auth-domain-config-required");const m=f.emulator?Jt(f,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,A={apiKey:f.apiKey,appName:D.name,v:G.SDK_VERSION},z=La.get(D.config.apiHost);z&&(A.eid=z);const se=D._getFrameworks();return se.length&&(A.fw=se.join(",")),`${m}?${(0,_.xO)(A).slice(1)}`}function qc(){return qc=(0,c.Z)(function*(D){const f=yield Wc(D),m=Yt().gapi;return Ne(m,D,"internal-error"),f.open({where:document.body,url:Cl(D),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tl,dontclear:!0},A=>new Promise(function(){var z=(0,c.Z)(function*(se,ut){yield A.restyle({setHideOnLeave:!1});const $t=We(D,"network-request-failed"),bn=Yt().setTimeout(()=>{ut($t)},Kc.get());function In(){Yt().clearTimeout(bn),se(A)}A.ping(In).then(In,()=>{ut($t)})});return function(se,ut){return z.apply(this,arguments)}}()))}),qc.apply(this,arguments)}const Uu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ea{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function ac(D,f,m,A,z,se){Ne(D.config.authDomain,D,"auth-domain-config-required"),Ne(D.config.apiKey,D,"invalid-api-key");const ut={apiKey:D.config.apiKey,appName:D.name,authType:m,redirectUrl:A,v:G.SDK_VERSION,eventId:z};if(f instanceof Ti){f.setDefaultLanguage(D.languageCode),ut.providerId=f.providerId||"",(0,_.xb)(f.getCustomParameters())||(ut.customParameters=JSON.stringify(f.getCustomParameters()));for(const[bn,In]of Object.entries(se||{}))ut[bn]=In}if(f instanceof xi){const bn=f.getScopes().filter(In=>""!==In);bn.length>0&&(ut.scopes=bn.join(","))}D.tenantId&&(ut.tid=D.tenantId);const $t=ut;for(const bn of Object.keys($t))void 0===$t[bn]&&delete $t[bn];return`${function ta({config:D}){return D.emulator?Jt(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,_.xO)($t).slice(1)}`}const Jr="webStorageSupport",ba=class uu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ys,this._completeRedirectFn=_o}_openPopup(f,m,A,z){var se=this;return(0,c.Z)(function*(){var ut;ae(null===(ut=se.eventManagers[f._key()])||void 0===ut?void 0:ut.manager,"_initialize() not called before _openPopup()");const $t=ac(f,m,A,fe(),z);return function au(D,f,m,A=500,z=600){const se=Math.max((window.screen.availHeight-z)/2,0).toString(),ut=Math.max((window.screen.availWidth-A)/2,0).toString();let $t="";const bn=Object.assign(Object.assign({},Uu),{width:A.toString(),height:z.toString(),top:se,left:ut}),In=(0,_.z$)().toLowerCase();m&&($t=J(In)?"_blank":m),ie(In)&&(f=f||"http://localhost",bn.scrollbars="yes");const fr=Object.entries(bn).reduce((Tr,[Eo,wo])=>`${Tr}${Eo}=${wo},`,"");if(function Rn(D=(0,_.z$)()){var f;return Zt(D)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(In)&&"_self"!==$t)return function Zc(D,f){const m=document.createElement("a");m.href=D,m.target=f;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(A)}(f||"",$t),new ea(null);const _r=window.open(f||"",$t,fr);Ne(_r,D,"popup-blocked");try{_r.focus()}catch(Tr){}return new ea(_r)}(f,$t,Hn())})()}_openRedirect(f,m,A,z){var se=this;return(0,c.Z)(function*(){return yield se._originValidation(f),function gt(D){Yt().location.href=D}(ac(f,m,A,fe(),z)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:z,promise:se}=this.eventManagers[m];return z?Promise.resolve(z):(ae(se,"If manager is not set, promise should be"),se)}const A=this.initAndGetManager(f);return this.eventManagers[m]={promise:A},A.catch(()=>{delete this.eventManagers[m]}),A}initAndGetManager(f){var m=this;return(0,c.Z)(function*(){const A=yield function zd(D){return qc.apply(this,arguments)}(f),z=new Ms(f);return A.register("authEvent",se=>(Ne(null==se?void 0:se.authEvent,f,"invalid-auth-event"),{status:z.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:z},m.iframes[f._key()]=A,z})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Jr,{type:Jr},z=>{var se;const ut=null===(se=null==z?void 0:z[0])||void 0===se?void 0:se[Jr];void 0!==ut&&m(!!ut),Et(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function vo(D){return Xi.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return pr()||U()||Zt()}};class lu extends class uc{constructor(f){this.factorId=f}_process(f,m,A){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,A);case"signin":return this._finalizeSignIn(f,m.credential);default:return Ct("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new lu(f)}_finalizeEnroll(f,m,A){return function da(D,f){return Ke(D,"POST","/v2/accounts/mfaEnrollment:finalize",Ae(D,f))}(f,{idToken:m,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Cn(D,f){return Ke(D,"POST","/v2/accounts/mfaSignIn:finalize",Ae(D,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wd=(()=>{class D{constructor(){}static assertion(m){return lu._fromCredential(m)}}return D.FACTOR_ID="phone",D})();var cu="@firebase/auth",ju="0.19.12";class du{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(A=>{var z;f((null===(z=A)||void 0===z?void 0:z.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cc(D=(0,G.getApp)()){const f=(0,G._getProvider)(D,"auth");return f.isInitialized()?f.getImmediate():function xe(D,f){const m=(0,G._getProvider)(D,"auth");if(m.isInitialized()){const z=m.getImmediate(),se=m.getOptions();if((0,_.vZ)(se,null!=f?f:{}))return z;Et(z,"already-initialized")}return m.initialize({options:f})}(D,{popupRedirectResolver:ba,persistence:[Pn,qt,Ys]})}!function lc(D){(0,G._registerComponent)(new Te.wA("auth",(f,{options:m})=>{const A=f.getProvider("app").getImmediate(),z=f.getProvider("heartbeat"),{apiKey:se,authDomain:ut}=A.options;return(($t,bn)=>{Ne(se&&!se.includes(":"),"invalid-api-key",{appName:$t.name}),Ne(!(null==ut?void 0:ut.includes(":")),"argument-error",{appName:$t.name});const In={apiKey:se,authDomain:ut,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xr(D)},fr=new vr($t,bn,In);return function He(D,f){const m=(null==f?void 0:f.persistence)||[],A=(Array.isArray(m)?m:[m]).map(_e);(null==f?void 0:f.errorMap)&&D._updateErrorMap(f.errorMap),D._initializeWithPersistence(A,null==f?void 0:f.popupRedirectResolver)}(fr,m),fr})(A,z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,A)=>{f.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new Te.wA("auth-internal",f=>{const m=Ir(f.getProvider("auth").getImmediate());return new du(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(cu,ju,function Ia(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,G.registerVersion)(cu,ju,"esm2017")}("Browser")},5525:(Qt,rt,k)=>{k.d(rt,{u7:()=>ua,Jj:()=>Iu,IX:()=>Jg,my:()=>es,xU:()=>dl,Lz:()=>zl,WA:()=>jt,F8:()=>xc,$q:()=>Fc,W:()=>hl,EK:()=>Me,PU:()=>Aa,l7:()=>ko,Ky:()=>an,Xb:()=>Ar,Cf:()=>Br,K9:()=>xo,Me:()=>Us,yq:()=>Ys,Wi:()=>qg,ET:()=>ym,Ab:()=>wm,vr:()=>qh,Fc:()=>nm,hJ:()=>vy,B$:()=>Qg,at:()=>_y,oe:()=>$y,AK:()=>Em,TF:()=>im,JU:()=>Ey,ST:()=>Dy,fH:()=>Ty,Ix:()=>rm,Wu:()=>Fy,Lx:()=>pm,qY:()=>ls,GL:()=>Wl,QT:()=>Sa,kl:()=>mm,Xk:()=>Vy,PL:()=>Uy,UQ:()=>By,zN:()=>jy,ad:()=>Xg,nP:()=>bm,b9:()=>Py,vh:()=>hm,Pb:()=>Q_,L$:()=>cp,cf:()=>Hy,sc:()=>_m,Xo:()=>Ry,IO:()=>xy,iE:()=>Gl,Eo:()=>wy,i3:()=>vm,Bt:()=>Cp,pl:()=>Tp,Ub:()=>_l,qK:()=>Oy,TQ:()=>ky,e0:()=>Vc,r7:()=>Ud,Mx:()=>Cy,ar:()=>dm});var oe,c=k(5861),_=k(9681),G=k(4859),ve=k(1877),Ie=k(2090),Te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},De={},Oe=Oe||{},ne=Te||self;function de(){}function Le(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ot(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Dt="closure_uid_"+(1e9*Math.random()>>>0),Ot=0;function Pe(i,e,n){return i.call.apply(i.bind,arguments)}function Ye(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function lt(i,e,n){return(lt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pe:Ye).apply(null,arguments)}function Et(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function We(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,u,h){for(var E=Array(arguments.length-2),M=2;M<arguments.length;M++)E[M-2]=arguments[M];return e.prototype[u].apply(o,E)}}function Re(){this.s=this.s,this.o=this.o}var It={};Re.prototype.s=!1,Re.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function it(i){return Object.prototype.hasOwnProperty.call(i,Dt)&&i[Dt]||(i[Dt]=++Ot)}(this);delete It[i]}},Re.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ne=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},Ct=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,u="string"==typeof i?i.split(""):i;for(let h=0;h<o;h++)h in u&&e.call(n,u[h],h,i)};function me(i){return Array.prototype.concat.apply([],arguments)}function _e(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function xe(i){return/^[\s\xa0]*$/.test(i)}var Vt,He=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function fe(i,e){return-1!=i.indexOf(e)}function mt(i,e){return i<e?-1:i>e?1:0}e:{var hn=ne.navigator;if(hn){var wt=hn.userAgent;if(wt){Vt=wt;break e}}Vt=""}function Kt(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Jt(i){const e={};for(const n in i)e[n]=i[n];return e}var rn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let h=0;h<rn.length;h++)n=rn[h],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function pt(i){return pt[" "](i),i}pt[" "]=de;var Fn,i,Ke=fe(Vt,"Opera"),Mt=fe(Vt,"Trident")||fe(Vt,"MSIE"),en=fe(Vt,"Edge"),Dn=en||Mt,vn=fe(Vt,"Gecko")&&!(fe(Vt.toLowerCase(),"webkit")&&!fe(Vt,"Edge"))&&!(fe(Vt,"Trident")||fe(Vt,"MSIE"))&&!fe(Vt,"Edge"),Qn=fe(Vt.toLowerCase(),"webkit")&&!fe(Vt,"Edge");function dr(){var i=ne.document;return i?i.documentMode:void 0}e:{var un="",sr=(i=Vt,vn?/rv:([^\);]+)(\)|;)/.exec(i):en?/Edge\/([\d\.]+)/.exec(i):Mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Qn?/WebKit\/(\S+)/.exec(i):Ke?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(sr&&(un=sr?sr[1]:""),Mt){var er=dr();if(null!=er&&er>parseFloat(un)){Fn=String(er);break e}}Fn=un}var tn={};var vt=ne.document&&Mt&&(dr()||parseInt(Fn,10))||void 0,ke=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ne.addEventListener("test",de,e),ne.removeEventListener("test",de,e)}catch(n){}return i}();function Se(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function tt(i,e){if(Se.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(vn){e:{try{pt(e.nodeName);var u=!0;break e}catch(h){}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:At[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&tt.Z.h.call(this)}}Se.prototype.h=function(){this.defaultPrevented=!0},We(tt,Se);var At={2:"touch",3:"pen",4:"mouse"};tt.prototype.h=function(){tt.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),kt=0;function xt(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=u,this.key=++kt,this.ca=this.fa=!1}function Tn(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function tr(i){this.src=i,this.g={},this.h=0}function hr(i,e){var n=e.type;if(n in i.g){var h,o=i.g[n],u=Ne(o,e);(h=0<=u)&&Array.prototype.splice.call(o,u,1),h&&(Tn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function En(i,e,n,o){for(var u=0;u<i.length;++u){var h=i[u];if(!h.ca&&h.listener==e&&h.capture==!!n&&h.ia==o)return u}return-1}tr.prototype.add=function(i,e,n,o,u){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var E=En(i,e,o,u);return-1<E?(e=i[E],n||(e.fa=!1)):((e=new xt(e,this.src,h,!!o,u)).fa=n,i.push(e)),e};var jn="closure_lm_"+(1e6*Math.random()|0),fn={};function on(i,e,n,o,u){if(o&&o.once)return j(i,e,n,o,u);if(Array.isArray(e)){for(var h=0;h<e.length;h++)on(i,e[h],n,o,u);return null}return n=re(n),i&&i[Ut]?i.N(e,n,ot(o)?!!o.capture:!!o,u):wn(i,e,n,!1,o,u)}function wn(i,e,n,o,u,h){if(!e)throw Error("Invalid event type");var E=ot(u)?!!u.capture:!!u,M=ct(i);if(M||(i[jn]=M=new tr(i)),(n=M.add(e,n,o,E,h)).proxy)return n;if(o=function nt(){var e=Ze;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)ke||(u=E),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(pe(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function j(i,e,n,o,u){if(Array.isArray(e)){for(var h=0;h<e.length;h++)j(i,e[h],n,o,u);return null}return n=re(n),i&&i[Ut]?i.O(e,n,ot(o)?!!o.capture:!!o,u):wn(i,e,n,!0,o,u)}function Z(i,e,n,o,u){if(Array.isArray(e))for(var h=0;h<e.length;h++)Z(i,e[h],n,o,u);else o=ot(o)?!!o.capture:!!o,n=re(n),i&&i[Ut]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=En(h=i.g[e],n,o,u))&&(Tn(h[n]),Array.prototype.splice.call(h,n,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=ct(i))&&(e=i.g[e.toString()],i=-1,e&&(i=En(e,n,o,u)),(n=-1<i?e[i]:null)&&$e(n))}function $e(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Ut])hr(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(pe(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=ct(e))?(hr(n,i),0==n.h&&(n.src=null,e[jn]=null)):Tn(i)}}}function pe(i){return i in fn?fn[i]:fn[i]="on"+i}function Ze(i,e){if(i.ca)i=!0;else{e=new tt(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&$e(i),i=n.call(o,e)}return i}function ct(i){return(i=i[jn])instanceof tr?i:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function re(i){return"function"==typeof i?i:(i[ue]||(i[ue]=function(e){return i.handleEvent(e)}),i[ue])}function ce(){Re.call(this),this.i=new tr(this),this.P=this,this.I=null}function je(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Se(e,i);else if(e instanceof Se)e.target=e.target||i;else{var u=e;dt(e=new Se(o,i),u)}if(u=!0,n)for(var h=n.length-1;0<=h;h--){var E=e.g=n[h];u=te(E,o,!0,e)&&u}if(u=te(E=e.g=i,o,!0,e)&&u,u=te(E,o,!1,e)&&u,n)for(h=0;h<n.length;h++)u=te(E=e.g=n[h],o,!1,e)&&u}function te(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,h=0;h<e.length;++h){var E=e[h];if(E&&!E.ca&&E.capture==n){var M=E.listener,H=E.ia||E.src;E.fa&&hr(i.i,E),u=!1!==M.call(H,o)&&u}}return u&&!o.defaultPrevented}We(ce,Re),ce.prototype[Ut]=!0,ce.prototype.removeEventListener=function(i,e,n,o){Z(this,i,e,n,o)},ce.prototype.M=function(){if(ce.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Tn(n[o]);delete i.g[e],i.h--}}this.I=null},ce.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},ce.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var ie=ne.JSON.stringify;function U(){var i=xn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Zt,Q=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new be,i=>i.reset());class be{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Je(i){ne.setTimeout(()=>{throw i},0)}function Tt(i,e){Zt||function Sn(){var i=ne.Promise.resolve(void 0);Zt=function(){i.then(pr)}}(),Rn||(Zt(),Rn=!0),xn.add(i,e)}var Rn=!1,xn=new class J{constructor(){this.h=this.g=null}add(e,n){const o=Q.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function pr(){for(var i;i=U();){try{i.h.call(i.g)}catch(n){Je(n)}var e=Q;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Rn=!1}function Sr(i,e){ce.call(this),this.h=i||1,this.g=e||ne,this.j=lt(this.kb,this),this.l=Date.now()}function Xr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function vr(i,e,n){if("function"==typeof i)n&&(i=lt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=lt(i.handleEvent,i)}return 2147483647<Number(e)?-1:ne.setTimeout(i,e||0)}function Ir(i){i.g=vr(()=>{i.g=null,i.i&&(i.i=!1,Ir(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}We(Sr,ce),(oe=Sr.prototype).da=!1,oe.S=null,oe.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),je(this,"tick"),this.da&&(Xr(this),this.start()))}},oe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},oe.M=function(){Sr.Z.M.call(this),Xr(this),delete this.g};class Ge extends Re{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ir(this)}M(){super.M(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ve(i){Re.call(this),this.h=i,this.g={}}We(Ve,Re);var ht=[];function Xt(i,e,n,o){Array.isArray(n)||(n&&(ht[0]=n.toString()),n=ht);for(var u=0;u<n.length;u++){var h=on(e,n[u],o||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function Un(i){Kt(i.g,function(e,n){this.g.hasOwnProperty(n)&&$e(e)},i),i.g={}}function Gn(){this.g=!0}function Xn(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ji(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var h=u[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var E=1;E<u.length;E++)u[E]=""}}}return ie(n)}catch(M){return e}}(i,n)+(o?" "+o:"")})}Ve.prototype.M=function(){Ve.Z.M.call(this),Un(this)},Ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gn.prototype.Aa=function(){this.g=!1},Gn.prototype.info=function(){};var Vn={},Mi=null;function Oi(){return Mi=Mi||new ce}function ni(i){Se.call(this,Vn.Ma,i)}function Wr(i){const e=Oi();je(e,new ni(e,i))}function Lr(i,e){Se.call(this,Vn.STAT_EVENT,i),this.stat=e}function Nr(i){const e=Oi();je(e,new Lr(e,i))}function ze(i,e){Se.call(this,Vn.Na,i),this.size=e}function Fe(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){i()},e)}Vn.Ma="serverreachability",We(ni,Se),Vn.STAT_EVENT="statevent",We(Lr,Se),Vn.Na="timingevent",We(ze,Se);var qe={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Nt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zt(){}function qn(){}zt.prototype.h=null;var $r,wr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Wn(){Se.call(this,"d")}function qr(){Se.call(this,"c")}function Hr(){}function ci(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new Ve(this),this.P=eo,this.W=new Sr(i=Dn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new rr}function rr(){this.i=null,this.g="",this.h=!1}We(Wn,Se),We(qr,Se),We(Hr,zt),Hr.prototype.g=function(){return new XMLHttpRequest},Hr.prototype.i=function(){return{}},$r=new Hr;var eo=45e3,ri={},Yr={};function Zi(i,e,n){i.K=1,i.v=Hi(Rr(e)),i.s=n,i.U=!0,fs(i,null)}function fs(i,e){i.F=Date.now(),Gs(i),i.A=Rr(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),F(n.h,"t",o),i.C=0,n=i.l.H,i.h=new rr,i.g=qa(i.l,n?e:null,!i.s),0<i.O&&(i.L=new Ge(lt(i.Ia,i,i.g),i.O)),Xt(i.V,i.g,"readystatechange",i.gb),e=i.H?Jt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Wr(1),function zn(i,e,n,o,u,h){i.info(function(){if(i.g)if(h)for(var E="",M=h.split("&"),H=0;H<M.length;H++){var K=M[H].split("=");if(1<K.length){var Ee=K[0];K=K[1];var Be=Ee.split("_");E=2<=Be.length&&"type"==Be[1]?E+(Ee+"=")+K+"&":E+(Ee+"=redacted&")}}else E=null;else E=h;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+E})}(i.j,i.u,i.A,i.m,i.X,i.s)}function ts(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Rs(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=ii(i,n),u==Yr){4==e&&(i.o=4,Nr(14),o=!1),Xn(i.j,i.m,null,"[Incomplete Response]");break}if(u==ri){i.o=4,Nr(15),Xn(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Xn(i.j,i.m,u,null),Ps(i,u)}ts(i)&&u!=Yr&&u!=ri&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Nr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ks(e),e.L=!0,Nr(11))):(Xn(i.j,i.m,n,"[Invalid Chunked Response]"),$i(i),Di(i))}function ii(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Yr:(n=Number(e.substring(n,o)),isNaN(n)?ri:(o+=1)+n>e.length?Yr:(e=e.substr(o,n),i.C=o+n,e))}function Gs(i){i.Y=Date.now()+i.P,ps(i,i.P)}function ps(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Fe(lt(i.eb,i),e)}function Is(i){i.B&&(ne.clearTimeout(i.B),i.B=null)}function Di(i){0==i.l.G||i.I||Au(i.l,i)}function $i(i){Is(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Xr(i.W),Un(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ps(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||y(n.i,i)))if(n.I=i.N,!i.J&&y(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch(K){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(n.u)n.ta=u[1],0<n.ta-n.U&&37500>u[2]&&n.N&&0==n.A&&!n.v&&(n.v=Fe(lt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<i.F))break e;Mo(n),$o(n)}Wa(n),Nr(18)}if(1>=w(n.i)&&n.ka){try{n.ka()}catch(K){}n.ka=void 0}}else si(n,11)}else if((i.J||n.g==i)&&Mo(n),!xe(e))for(u=n.Ca.g.parse(e),e=0;e<u.length;e++){let K=u[e];if(n.U=K[0],K=K[1],2==n.G)if("c"==K[0]){n.J=K[1],n.la=K[2];const Ee=K[3];null!=Ee&&(n.ma=Ee,n.h.info("VER="+n.ma));const Be=K[4];null!=Be&&(n.za=Be,n.h.info("SVER="+n.za));const yt=K[5];null!=yt&&"number"==typeof yt&&0<yt&&(n.K=o=1.5*yt,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const Ht=i.g;if(Ht){const Wt=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wt){var h=o.i;!h.g&&(fe(Wt,"spdy")||fe(Wt,"quic")||fe(Wt,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(x(h,h.h),h.h=null))}if(o.D){const On=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;On&&(o.sa=On,mr(o.F,o.D,On))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var E=i;if((o=n).oa=ei(o,o.H?o.la:null,o.W),E.J){le(o.i,E);var M=E,H=o.K;H&&M.setTimeout(H),M.B&&(Is(M),Gs(M)),o.g=E}else Wo(o);0<n.l.length&&no(n)}else"stop"!=K[0]&&"close"!=K[0]||si(n,7);else 3==n.G&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?si(n,7):za(n):"noop"!=K[0]&&n.j&&n.j.wa(K),n.A=0)}Wr(4)}catch(K){}}function zs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Le(i)||"string"==typeof i)Ct(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(Le(i)||"string"==typeof i){n=[];for(var o=i.length,u=0;u<o;u++)n.push(u)}else for(u in n=[],o=0,i)n[o++]=u;o=function yi(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Le(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length;for(var h=0;h<u;h++)e.call(void 0,o[h],n&&n[h],i)}}function di(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof di)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function Ti(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];xi(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var u={};for(n=e=0;e<i.g.length;)xi(u,o=i.g[e])||(i.g[n++]=o,u[o]=1),e++;i.g.length=n}}function xi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(oe=ci.prototype).setTimeout=function(i){this.P=i},oe.gb=function(i){i=i.target;const e=this.L;e&&3==vi(i)?e.l():this.Ia(i)},oe.Ia=function(i){try{if(i==this.g)e:{const Ee=vi(this.g);var e=this.g.Da();const Be=this.g.ba();if(!(3>Ee)&&(3!=Ee||Dn||this.g&&(this.h.h||this.g.ga()||Co(this.g)))){this.I||4!=Ee||7==e||Wr(8==e||0>=Be?3:2),Is(this);var n=this.g.ba();this.N=n;t:if(ts(this)){var o=Co(this.g);i="";var u=o.length,h=4==vi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$i(this),Di(this);var E="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:h&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,E=this.h.g}else E=this.g.ga();if(this.i=200==n,function Dr(i,e,n,o,u,h,E){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+h+" "+E})}(this.j,this.u,this.A,this.m,this.X,Ee,n),this.i){if(this.$&&!this.J){t:{if(this.g){var M,H=this.g;if((M=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xe(M)){var K=M;break t}}K=null}if(!(n=K)){this.i=!1,this.o=3,Nr(12),$i(this),Di(this);break e}Xn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ps(this,n)}this.U?(Rs(this,Ee,E),Dn&&this.i&&3==Ee&&(Xt(this.V,this.W,"tick",this.fb),this.W.start())):(Xn(this.j,this.m,E,null),Ps(this,E)),4==Ee&&$i(this),this.i&&!this.I&&(4==Ee?Au(this.l,this):(this.i=!1,Gs(this)))}else 400==n&&0<E.indexOf("Unknown SID")?(this.o=3,Nr(12)):(this.o=0,Nr(13)),$i(this),Di(this)}}}catch(Ee){}},oe.fb=function(){if(this.g){var i=vi(this.g),e=this.g.ga();this.C<e.length&&(Is(this),Rs(this,i,e),this.i&&4!=i&&Gs(this))}},oe.cancel=function(){this.I=!0,$i(this)},oe.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function jr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Wr(3),Nr(17)),$i(this),this.o=2,Di(this)):ps(this,this.Y-i)},(oe=di.prototype).R=function(){Ti(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},oe.T=function(){return Ti(this),this.g.concat()},oe.get=function(i,e){return xi(this.h,i)?this.h[i]:e},oe.set=function(i,e){xi(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},oe.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var u=n[o],h=this.get(u);i.call(e,h,u,this)}};var Yi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _i(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof _i){this.g=void 0!==e?e:i.g,Ri(this,i.j),this.s=i.s,hi(this,i.i),ns(this,i.m),this.l=i.l,e=i.h;var n=new ai;n.i=e.i,e.g&&(n.g=new di(e.g),n.h=e.h),Qi(this,n),this.o=i.o}else i&&(n=String(i).match(Yi))?(this.g=!!e,Ri(this,n[1]||"",!0),this.s=Pr(n[2]||""),hi(this,n[3]||"",!0),ns(this,n[4]),this.l=Pr(n[5]||"",!0),Qi(this,n[6]||"",!0),this.o=Pr(n[7]||"")):(this.g=!!e,this.h=new ai(null,this.g))}function Rr(i){return new _i(i)}function Ri(i,e,n){i.j=n?Pr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function hi(i,e,n){i.i=n?Pr(e,!0):e}function ns(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Qi(i,e,n){e instanceof ai?(i.h=e,function Ce(i,e){e&&!i.j&&(Gr(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(R(this,o),F(this,u,n))},i)),i.j=e}(i.h,i.g)):(n||(e=Pi(e,zi)),i.h=new ai(e,i.g))}function mr(i,e,n){i.h.set(e,n)}function Hi(i){return mr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Pr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Pi(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Ds),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ds(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}_i.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Pi(e,rs,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Pi(e,rs,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(Pi(n,"/"==n.charAt(0)?gs:ki,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Pi(n,Mr)),i.join("")};var rs=/[#\/\?@]/g,ki=/[#\?:]/g,gs=/[#\?]/g,zi=/[#\?@]/g,Mr=/#/g;function ai(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Gr(i){i.g||(i.g=new di,i.h=0,i.i&&function Ni(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var h=i[n].substring(0,o);u=i[n].substring(o+1)}else h=i[n];e(h,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function R(i,e){Gr(i),e=X(i,e),xi(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,xi((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Ti(i)))}function q(i,e){return Gr(i),e=X(i,e),xi(i.g.h,e)}function F(i,e,n){R(i,e),0<n.length&&(i.i=null,i.g.set(X(i,e),_e(n)),i.h+=n.length)}function X(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Lt(i){this.l=i||mn,i=ne.PerformanceNavigationTiming?0<(i=ne.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ne.g&&ne.g.Ea&&ne.g.Ea()&&ne.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(oe=ai.prototype).add=function(i,e){Gr(this),this.i=null,i=X(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},oe.forEach=function(i,e){Gr(this),this.g.forEach(function(n,o){Ct(n,function(u){i.call(e,u,o,this)},this)},this)},oe.T=function(){Gr(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var u=i[o],h=0;h<u.length;h++)n.push(e[o]);return n},oe.R=function(i){Gr(this);var e=[];if("string"==typeof i)q(this,i)&&(e=me(e,this.g.get(X(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=me(e,i[n])}return e},oe.set=function(i,e){return Gr(this),this.i=null,q(this,i=X(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},oe.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],u=encodeURIComponent(String(o));o=this.R(o);for(var h=0;h<o.length;h++){var E=u;""!==o[h]&&(E+="="+encodeURIComponent(String(o[h]))),i.push(E)}}return this.i=i.join("&")};var mn=10;function L(i){return!!i.h||!!i.g&&i.g.size>=i.j}function w(i){return i.h?1:i.g?i.g.size:0}function y(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function x(i,e){i.g?i.g.add(e):i.h=e}function le(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Qe(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return _e(i.i)}function St(){}function Ft(){this.g=new St}function $n(i,e,n){const o=n||"";try{zs(i,function(u,h){let E=u;ot(u)&&(E=ie(u)),e.push(o+h+"="+encodeURIComponent(E))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ar(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(h){}}function yr(i){this.l=i.$b||null,this.j=i.ib||!1}function Bn(i,e){ce.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=is,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lt.prototype.cancel=function(){if(this.i=Qe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},St.prototype.stringify=function(i){return ne.JSON.stringify(i,void 0)},St.prototype.parse=function(i){return ne.JSON.parse(i,void 0)},We(yr,zt),yr.prototype.g=function(){return new Bn(this.l,this.j)},yr.prototype.i=function(i){return function(){return i}}({}),We(Bn,ce);var is=0;function Fi(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Rt(i){i.readyState=4,i.l=null,i.j=null,i.A=null,or(i)}function or(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(oe=Bn.prototype).open=function(i,e){if(this.readyState!=is)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,or(this)},oe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ne).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=is},oe.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ne.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fi(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},oe.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Rt(this):or(this),3==this.readyState&&Fi(this)}},oe.Ua=function(i){this.g&&(this.response=this.responseText=i,Rt(this))},oe.Ta=function(i){this.g&&(this.response=i,Rt(this))},oe.ha=function(){this.g&&Rt(this)},oe.setRequestHeader=function(i,e){this.v.append(i,e)},oe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},oe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Bn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ws=ne.JSON.parse;function Kn(i){ce.call(this),this.headers=new di,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ts,this.K=this.L=!1}We(Kn,ce);var Ts="",Ji=/^https?$/i,Ks=["POST","PUT"];function Do(i){return"content-type"==i.toLowerCase()}function ml(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,xa(i),To(i)}function xa(i){i.D||(i.D=!0,je(i,"complete"),je(i,"error"))}function go(i){if(i.h&&void 0!==Oe&&(!i.C[1]||4!=vi(i)||2!=i.ba()))if(i.v&&4==vi(i))vr(i.Fa,0,i);else if(je(i,"readystatechange"),4==vi(i)){i.h=!1;try{const M=i.ba();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===M){var u=String(i.H).match(Yi)[1]||null;if(!u&&ne.self&&ne.self.location){var h=ne.self.location.protocol;u=h.substr(0,h.length-1)}o=!Ji.test(u?u.toLowerCase():"")}n=o}if(n)je(i,"complete"),je(i,"success");else{i.m=6;try{var E=2<vi(i)?i.g.statusText:""}catch(H){E=""}i.j=E+" ["+i.ba()+"]",xa(i)}}finally{To(i)}}}function To(i,e){if(i.g){Qr(i);const n=i.g,o=i.C[0]?de:null;i.g=null,i.C=null,e||je(i,"ready");try{n.onreadystatechange=o}catch(u){}}}function Qr(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ne.clearTimeout(i.A),i.A=null)}function vi(i){return i.g?i.g.readyState:0}function Co(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Ts:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ms(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function to(i){let e="";return Kt(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):mr(i,e,n))}function jo(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function ca(i){this.za=0,this.l=[],this.h=new Gn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jo("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jo("baseRetryDelayMs",5e3,i),this.$a=jo("retryDelaySeedMs",1e4,i),this.Ya=jo("forwardChannelMaxRetries",2,i),this.ra=jo("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Lt(i&&i.concurrentRequestLimit),this.Ca=new Ft,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function za(i){if(Ho(i),3==i.G){var e=i.V++,n=Rr(i.F);mr(n,"SID",i.J),mr(n,"RID",e),mr(n,"TYPE","terminate"),So(i,n),(e=new ci(i,i.h,e,void 0)).K=2,e.v=Hi(Rr(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon&&(n=ne.navigator.sendBeacon(e.v.toString(),"")),!n&&ne.Image&&((new Image).src=e.v,n=!0),n||(e.g=qa(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Gs(e)}Fs(i)}function $o(i){i.g&&(ks(i),i.g.cancel(),i.g=null)}function Ho(i){$o(i),i.u&&(ne.clearTimeout(i.u),i.u=null),Mo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ne.clearTimeout(i.m),i.m=null)}function Ao(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&no(i)}function no(i){L(i.i)||i.m||(i.m=!0,Tt(i.Ha,i),i.C=0)}function zo(i,e){var n;n=e?e.m:i.V++;const o=Rr(i.F);mr(o,"SID",i.J),mr(o,"RID",n),mr(o,"AID",i.U),So(i,o),i.o&&i.s&&ms(o,i.o,i.s),n=new ci(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=mo(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),x(i.i,n),Zi(n,o,e)}function So(i,e){i.j&&zs({},function(n,o){mr(e,o,n)})}function mo(i,e,n){n=Math.min(i.l.length,n);var o=i.j?lt(i.j.Oa,i.j,i):null;e:{var u=i.l;let h=-1;for(;;){const E=["count="+n];-1==h?0<n?(h=u[0].h,E.push("ofs="+h)):h=0:E.push("ofs="+h);let M=!0;for(let H=0;H<n;H++){let K=u[H].h;const Ee=u[H].g;if(K-=h,0>K)h=Math.max(0,u[H].h-100),M=!1;else try{$n(Ee,E,"req"+K+"_")}catch(Be){o&&o(Ee)}}if(M){o=E.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function Wo(i){i.g||i.u||(i.Y=1,Tt(i.Ga,i),i.A=0)}function Wa(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Fe(lt(i.Ga,i),Na(i,i.A)),i.A++,0))}function ks(i){null!=i.B&&(ne.clearTimeout(i.B),i.B=null)}function Ka(i){i.g=new ci(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Rr(i.oa);mr(e,"RID","rpc"),mr(e,"SID",i.J),mr(e,"CI",i.N?"0":"1"),mr(e,"AID",i.U),So(i,e),mr(e,"TYPE","xmlhttp"),i.o&&i.s&&ms(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=Hi(Rr(e)),n.s=null,n.U=!0,fs(n,i)}function Mo(i){null!=i.v&&(ne.clearTimeout(i.v),i.v=null)}function Au(i,e){var n=null;if(i.g==e){Mo(i),ks(i),i.g=null;var o=2}else{if(!y(i.i,e))return;n=e.D,le(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;je(o=Oi(),new ze(o,n,e,u)),no(i)}else Wo(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Go(i,e){return!(w(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Fe(lt(i.Ha,i,e),Na(i,i.C)),i.C++,0)))}(i,e)||2==o&&Wa(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:si(i,5);break;case 4:si(i,10);break;case 3:si(i,6);break;default:si(i,2)}}function Na(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function si(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=lt(i.jb,i);n||(n=new _i("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||Ri(n,"https"),Hi(n)),function br(i,e){const n=new Gn;if(ne.Image){const o=new Image;o.onload=Et(ar,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Et(ar,n,o,"TestLoadImage: error",!1,e),o.onabort=Et(ar,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Et(ar,n,o,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Nr(2);i.G=0,i.j&&i.j.va(e),Fs(i),Ho(i)}function Fs(i){i.G=0,i.I=-1,i.j&&((0!=Qe(i.i).length||0!=i.l.length)&&(i.i.i.length=0,_e(i.l),i.l.length=0),i.j.ua())}function ei(i,e,n){let o=function Gi(i){return i instanceof _i?Rr(i):new _i(i,void 0)}(n);if(""!=o.i)e&&hi(o,e+"."+o.i),ns(o,o.m);else{const u=ne.location;o=function Zr(i,e,n,o){var u=new _i(null,void 0);return i&&Ri(u,i),e&&hi(u,e),n&&ns(u,n),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,n)}return i.aa&&Kt(i.aa,function(u,h){mr(o,h,u)}),n=i.sa,(e=i.D)&&n&&mr(o,e,n),mr(o,"VER",i.ma),So(i,o),o}function qa(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kn(n&&i.Ba&&!i.qa?new yr({ib:!0}):i.qa)).L=i.H,e}function Su(){}function Za(){if(Mt&&!(10<=Number(vt)))throw Error("Environmental error: no available transport.")}function Cs(i,e){ce.call(this),this.g=new ca(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!xe(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xe(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new As(this)}function yl(i){Wn.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Mu(){qr.call(this),this.status=1}function As(i){this.g=i}(oe=Kn.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$r.g(),this.C=function sn(i){return i.h||(i.h=i.i())}(this.u?this.u:$r),this.g.onreadystatechange=lt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void ml(this,h)}i=n||"";const u=new di(this.headers);o&&zs(o,function(h,E){u.set(E,h)}),o=function ae(i){e:{var e=Do;const n=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<n;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),n=ne.FormData&&i instanceof ne.FormData,!(0<=Ne(Ks,e))||o||n||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(h,E){this.g.setRequestHeader(E,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Qr(this),0<this.B&&((this.K=function la(i){return Mt&&function Ln(){return function Ae(i){var e=tn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=He(String(Fn)).split("."),n=He("9").split("."),o=Math.max(e.length,n.length);for(let E=0;0==i&&E<o;E++){var u=e[E]||"",h=n[E]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==u[0].length&&0==h[0].length)break;i=mt(0==u[1].length?0:parseInt(u[1],10),0==h[1].length?0:parseInt(h[1],10))||mt(0==u[2].length,0==h[2].length)||mt(u[2],h[2]),u=u[3],h=h[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lt(this.pa,this)):this.A=vr(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){ml(this,h)}},oe.pa=function(){void 0!==Oe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,je(this,"timeout"),this.abort(8))},oe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,je(this,"complete"),je(this,"abort"),To(this))},oe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),To(this,!0)),Kn.Z.M.call(this)},oe.Fa=function(){this.s||(this.F||this.v||this.l?go(this):this.cb())},oe.cb=function(){go(this)},oe.ba=function(){try{return 2<vi(this)?this.g.status:-1}catch(i){return-1}},oe.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},oe.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ws(e)}},oe.Da=function(){return this.m},oe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(oe=ca.prototype).ma=8,oe.G=1,oe.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},oe.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new ci(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=Jt(h),dt(h,this.P)):h=this.P),null===this.o&&(u.H=h),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=mo(this,u,e),mr(n=Rr(this.F),"RID",i),mr(n,"CVER",22),this.D&&mr(n,"X-HTTP-Session-Id",this.D),So(this,n),this.o&&h&&ms(n,this.o,h),x(this.i,u),this.Ra&&mr(n,"TYPE","init"),this.ja?(mr(n,"$req",e),mr(n,"SID","null"),u.$=!0,Zi(u,n,null)):Zi(u,n,e),this.G=2}}else 3==this.G&&(i?zo(this,i):0==this.l.length||L(this.i)||zo(this))},oe.Ga=function(){if(this.u=null,Ka(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Fe(lt(this.bb,this),i)}},oe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nr(10),$o(this),Ka(this))},oe.ab=function(){null!=this.v&&(this.v=null,$o(this),Wa(this),Nr(19))},oe.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Nr(2)):(this.h.info("Failed to ping google.com"),Nr(1))},(oe=Su.prototype).xa=function(){},oe.wa=function(){},oe.va=function(){},oe.ua=function(){},oe.Oa=function(){},Za.prototype.g=function(i,e){return new Cs(i,e)},We(Cs,ce),Cs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Tt(lt(i.hb,i,e))),Nr(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=ei(i,null,i.W),no(i)},Cs.prototype.close=function(){za(this.g)},Cs.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Ao(this.g,e)}else this.v?((e={}).__data__=ie(i),Ao(this.g,e)):Ao(this.g,i)},Cs.prototype.M=function(){this.g.j=null,delete this.j,za(this.g),delete this.g,Cs.Z.M.call(this)},We(yl,Wn),We(Mu,qr),We(As,Su),As.prototype.xa=function(){je(this.g,"a")},As.prototype.wa=function(i){je(this.g,new yl(i))},As.prototype.va=function(i){je(this.g,new Mu(i))},As.prototype.ua=function(){je(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,Cs.prototype.send=Cs.prototype.u,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,Nt.COMPLETE="complete",qn.EventType=wr,wr.OPEN="a",wr.CLOSE="b",wr.ERROR="c",wr.MESSAGE="d",ce.prototype.listen=ce.prototype.N,Kn.prototype.listenOnce=Kn.prototype.O,Kn.prototype.getLastError=Kn.prototype.La,Kn.prototype.getLastErrorCode=Kn.prototype.Da,Kn.prototype.getStatus=Kn.prototype.ba,Kn.prototype.getResponseJson=Kn.prototype.Qa,Kn.prototype.getResponseText=Kn.prototype.ga,Kn.prototype.send=Kn.prototype.ea;var qs=De.createWebChannelTransport=function(){return new Za},Oo=De.getStatEventTarget=function(){return Oi()},Ci=De.ErrorCode=qe,Ya=De.EventType=Nt,da=De.Event=Vn,Ss=De.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Zs=De.FetchXmlHttpFactory=yr,Ls=De.WebChannel=qn,Qa=De.XhrIo=Kn;const ro="@firebase/firestore";class Cr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");let yo="9.6.11";const ys=new ve.Yd("@firebase/firestore");function ha(){return ys.logLevel}function _l(i){ys.setLogLevel(i)}function qt(i,...e){if(ys.logLevel<=ve.in.DEBUG){const n=e.map(Ko);ys.debug(`Firestore (${yo}): ${i}`,...n)}}function Vr(i,...e){if(ys.logLevel<=ve.in.ERROR){const n=e.map(Ko);ys.error(`Firestore (${yo}): ${i}`,...n)}}function Ys(i,...e){if(ys.logLevel<=ve.in.WARN){const n=e.map(Ko);ys.warn(`Firestore (${yo}): ${i}`,...n)}}function Ko(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(n){return i}}function _n(i="Unexpected state"){const e=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: `+i;throw Vr(e),new Error(e)}function Hn(i,e){i||_n()}function xo(i,e){i||_n()}function Yt(i,e){return i}const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jt extends Ie.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ss{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class No{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Cr.UNAUTHENTICATED))}shutdown(){}}class Ra{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ou{constructor(e){this.t=e,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const h=K=>this.i!==u?(u=this.i,n(K)):Promise.resolve();let E=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new fi,e.enqueueRetryable(()=>h(this.currentUser))};const M=()=>{const K=E;e.enqueueRetryable((0,c.Z)(function*(){yield K.promise,yield h(o.currentUser)}))},H=K=>{qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(K=>H(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?H(K):(qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new fi)}},0),M()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Hn("string"==typeof o.accessToken),new ss(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Hn(null===e||"string"==typeof e),new Cr(e)}}class xu{constructor(e,n,o){this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class io{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new xu(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class so{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const o=h=>{null!=h.error&&qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const E=h.token!==this.p;return this.p=h.token,qt("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?n(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const u=h=>{qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.g.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.g.getImmediate({optional:!0});h?u(h):qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Hn("string"==typeof n.token),this.p=n.token,new qo(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class I{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.I(o),this.T=o=>n.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function b(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}I.A=-1;class P{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=b(40);for(let h=0;h<u.length;++h)o.length<20&&u[h]<n&&(o+=e.charAt(u[h]%e.length))}return o}}function V(i,e){return i<e?-1:i>e?1:0}function Y(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}function ye(i){return i+"\0"}class Me{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new jt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new jt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new jt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new jt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Me(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?V(this.nanoseconds,e.nanoseconds):V(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new et(e)}static min(){return new et(new Me(0,0))}static max(){return new et(new Me(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function pn(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ir(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Pn(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Er{constructor(e,n,o){void 0===n?n=0:n>e.length&&_n(),void 0===o?o=e.length-n:o>e.length-n&&_n(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Er.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const h=e.get(u),E=n.get(u);if(h<E)return-1;if(h>E)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Cn extends Er{construct(e,n,o){return new Cn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new jt(gt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Cn(n)}static emptyPath(){return new Cn([])}}const Vs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends Er{construct(e,n,o){return new Ar(e,n,o)}static isValidIdentifier(e){return Vs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ar(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const h=()=>{if(0===o.length)throw new jt(gt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let E=!1;for(;u<e.length;){const M=e[u];if("\\"===M){if(u+1===e.length)throw new jt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const H=e[u+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new jt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=H,u+=2}else"`"===M?(E=!E,u++):"."!==M||E?(o+=M,u++):(h(),u++)}if(h(),E)throw new jt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ar(n)}static emptyPath(){return new Ar([])}}class Ai{constructor(e){this.fields=e,e.sort(Ar.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Y(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function Us(){return"undefined"!=typeof atob}class Ur{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ur(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Ur(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return V(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const os=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(i){if(Hn(!!i),"string"==typeof i){let e=0;const n=os.exec(i);if(Hn(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Kr(i.seconds),nanos:Kr(i.nanos)}}function Kr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ro(i){return"string"==typeof i?Ur.fromBase64String(i):Ur.fromUint8Array(i)}function Po(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kl(i){const e=i.mapValue.fields.__previous_value__;return Po(e)?Kl(e):e}function fa(i){const e=Ei(i.mapValue.fields.__local_write_time__.timestampValue);return new Me(e.seconds,e.nanos)}class pi{constructor(e,n,o,u,h,E,M,H){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=h,this.forceLongPolling=E,this.autoDetectLongPolling=M,this.useFetchStreams=H}}class ko{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ko("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ko&&e.projectId===this.projectId&&e.database===this.database}}function pa(i){return null==i}function vl(i){return 0===i&&1/i==-1/0}function ql(i){return"number"==typeof i&&Number.isInteger(i)&&!vl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class an{constructor(e){this.path=e}static fromPath(e){return new an(Cn.fromString(e))}static fromName(e){return new an(Cn.fromString(e).popFirst(5))}static empty(){return new an(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Cn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new an(new Cn(e.slice()))}}const Bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zl={nullValue:"NULL_VALUE"};function oo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Po(i)?4:Nu(i)?9:10:_n()}function ao(i,e){if(i===e)return!0;const n=oo(i);if(n!==oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return fa(i).isEqual(fa(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ei(o.timestampValue),E=Ei(u.timestampValue);return h.seconds===E.seconds&&h.nanos===E.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Ro(i.bytesValue).isEqual(Ro(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Kr(o.geoPointValue.latitude)===Kr(u.geoPointValue.latitude)&&Kr(o.geoPointValue.longitude)===Kr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Kr(o.integerValue)===Kr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Kr(o.doubleValue),E=Kr(u.doubleValue);return h===E?vl(h)===vl(E):isNaN(h)&&isNaN(E)}return!1}(i,e);case 9:return Y(i.arrayValue.values||[],e.arrayValue.values||[],ao);case 10:return function(o,u){const h=o.mapValue.fields||{},E=u.mapValue.fields||{};if(pn(h)!==pn(E))return!1;for(const M in h)if(h.hasOwnProperty(M)&&(void 0===E[M]||!ao(h[M],E[M])))return!1;return!0}(i,e);default:return _n()}var u}function ui(i,e){return void 0!==(i.values||[]).find(n=>ao(n,e))}function Bs(i,e){if(i===e)return 0;const n=oo(i),o=oo(e);if(n!==o)return V(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return V(i.booleanValue,e.booleanValue);case 2:return function(u,h){const E=Kr(u.integerValue||u.doubleValue),M=Kr(h.integerValue||h.doubleValue);return E<M?-1:E>M?1:E===M?0:isNaN(E)?isNaN(M)?0:-1:1}(i,e);case 3:return Fo(i.timestampValue,e.timestampValue);case 4:return Fo(fa(i),fa(e));case 5:return V(i.stringValue,e.stringValue);case 6:return function(u,h){const E=Ro(u),M=Ro(h);return E.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const E=u.split("/"),M=h.split("/");for(let H=0;H<E.length&&H<M.length;H++){const K=V(E[H],M[H]);if(0!==K)return K}return V(E.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const E=V(Kr(u.latitude),Kr(h.latitude));return 0!==E?E:V(Kr(u.longitude),Kr(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,h){const E=u.values||[],M=h.values||[];for(let H=0;H<E.length&&H<M.length;++H){const K=Bs(E[H],M[H]);if(K)return K}return V(E.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,h){const E=u.fields||{},M=Object.keys(E),H=h.fields||{},K=Object.keys(H);M.sort(),K.sort();for(let Ee=0;Ee<M.length&&Ee<K.length;++Ee){const Be=V(M[Ee],K[Ee]);if(0!==Be)return Be;const yt=Bs(E[M[Ee]],H[K[Ee]]);if(0!==yt)return yt}return V(M.length,K.length)}(i.mapValue,e.mapValue);default:throw _n()}}function Fo(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return V(i,e);const n=Ei(i),o=Ei(e),u=V(n.seconds,o.seconds);return 0!==u?u:V(n.nanos,o.nanos)}function Zo(i){return El(i)}function El(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Ei(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ro(i.bytesValue).toBase64():"referenceValue"in i?an.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",h=!0;for(const E of o.values||[])h?h=!1:u+=",",u+=El(E);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let h="{",E=!0;for(const M of u)E?E=!1:h+=",",h+=`${M}:${El(o.fields[M])}`;return h+"}"}(i.mapValue):_n();var e}function wi(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function _s(i){return!!i&&"integerValue"in i}function Yo(i){return!!i&&"arrayValue"in i}function Ja(i){return!!i&&"nullValue"in i}function Qo(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Xa(i){return!!i&&"mapValue"in i}function uo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ir(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=uo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Nu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function jc(i){return"nullValue"in i?Zl:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?wi(ko.empty(),an.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:_n()}function $c(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?wi(ko.empty(),an.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Bc:_n()}function Ru(i,e){return void 0===i?e:void 0===e||Bs(i,e)>0?i:e}function as(i,e){return void 0===i?e:void 0===e||Bs(i,e)<0?i:e}class Li{constructor(e){this.value=e}static empty(){return new Li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Xa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uo(n)}setAll(e){let n=Ar.emptyPath(),o={},u=[];e.forEach((E,M)=>{if(!n.isImmediateParentOf(M)){const H=this.getFieldsMap(n);this.applyChanges(H,o,u),o={},u=[],n=M.popLast()}E?o[M.lastSegment()]=uo(E):u.push(M.lastSegment())});const h=this.getFieldsMap(n);this.applyChanges(h,o,u)}delete(e){const n=this.field(e.popLast());Xa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ao(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Xa(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){ir(n,(u,h)=>e[u]=h);for(const u of o)delete e[u]}clone(){return new Li(uo(this.value))}}function Pa(i){const e=[];return ir(i.fields,(n,o)=>{const u=new Ar([n]);if(Xa(o)){const h=Pa(o.mapValue).fields;if(0===h.length)e.push(u);else for(const E of h)e.push(u.child(E))}else e.push(u)}),new Ai(e)}class ti{constructor(e,n,o,u,h,E){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=h,this.documentState=E}static newInvalidDocument(e){return new ti(e,0,et.min(),et.min(),Li.empty(),0)}static newFoundDocument(e,n,o){return new ti(e,1,n,et.min(),o,0)}static newNoDocument(e,n){return new ti(e,2,n,et.min(),Li.empty(),0)}static newUnknownDocument(e,n){return new ti(e,3,n,et.min(),Li.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ti(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ga{constructor(e,n,o,u){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=u}}function Yl(i){return i.fields.find(e=>2===e.kind)}function Jo(i){return i.fields.filter(e=>2!==e.kind)}ga.UNKNOWN_ID=-1;class wl{constructor(e,n){this.fieldPath=e,this.kind=n}}class ka{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new ka(0,vs.min())}}function eu(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=et.fromTimestamp(1e9===o?new Me(n+1,0):new Me(n,o));return new vs(u,an.empty(),e)}function Pu(i){return new vs(i.readTime,i.key,-1)}class vs{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new vs(et.min(),an.empty(),-1)}static max(){return new vs(et.max(),an.empty(),-1)}}function bl(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=an.comparator(i.documentKey,e.documentKey),0!==n?n:V(i.largestBatchId,e.largestBatchId))}class Ql{constructor(e,n=null,o=[],u=[],h=null,E=null,M=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=h,this.startAt=E,this.endAt=M,this.P=null}}function Xo(i,e=null,n=[],o=[],u=null,h=null,E=null){return new Ql(i,e,n,o,u,h,E)}function lo(i){const e=Yt(i);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+Zo(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),pa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Zo(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Zo(o)).join(",")),e.P=n}return e.P}function tu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!iu(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!ao(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!tc(i.startAt,e.startAt)&&tc(i.endAt,e.endAt)}function nu(i){return an.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function ru(i,e){return i.filters.filter(n=>n instanceof gi&&n.field.isEqual(e))}function Jl(i,e,n){let o,u=!0;for(const h of ru(i,e)){let E,M=!0;switch(h.op){case"<":case"<=":E=jc(h.value);break;case"==":case"in":case">=":E=h.value;break;case">":E=h.value,M=!1;break;case"!=":case"not-in":E=Zl}Ru(o,E)===E&&(o=E,u=M)}if(null!==n)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const E=n.position[h];Ru(o,E)===E&&(o=E,u=n.inclusive);break}return{value:o,inclusive:u}}function Hc(i,e,n){let o,u=!0;for(const h of ru(i,e)){let E,M=!0;switch(h.op){case">=":case">":E=$c(h.value),M=!1;break;case"==":case"in":case"<=":E=h.value;break;case"<":E=h.value,M=!1;break;case"!=":case"not-in":E=Bc}as(o,E)===E&&(o=E,u=M)}if(null!==n)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const E=n.position[h];as(o,E)===E&&(o=E,u=n.inclusive);break}return{value:o,inclusive:u}}class gi extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,o):new Gc(e,n,o):"array-contains"===n?new nf(e,o):"in"===n?new ku(e,o):"not-in"===n?new Fu(e,o):"array-contains-any"===n?new ec(e,o):new gi(e,n,o)}static V(e,n,o){return"in"===n?new Hd(e,o):new Wi(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(Bs(n,this.value)):null!==n&&oo(this.value)===oo(n)&&this.v(Bs(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _n()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Gc extends gi{constructor(e,n,o){super(e,n,o),this.key=an.fromName(o.referenceValue)}matches(e){const n=an.comparator(e.key,this.key);return this.v(n)}}class Hd extends gi{constructor(e,n){super(e,"in",n),this.keys=Xl(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Wi extends gi{constructor(e,n){super(e,"not-in",n),this.keys=Xl(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Xl(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>an.fromName(o.referenceValue))}class nf extends gi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yo(n)&&ui(n.arrayValue,this.value)}}class ku extends gi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ui(this.value.arrayValue,n)}}class Fu extends gi{constructor(e,n){super(e,"not-in",n)}matches(e){if(ui(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ui(this.value.arrayValue,n)}}class ec extends gi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>ui(this.value.arrayValue,o))}}class _o{constructor(e,n){this.position=e,this.inclusive=n}}class ma{constructor(e,n="asc"){this.field=e,this.dir=n}}function iu(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Lo(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const h=e[u],E=i.position[u];if(o=h.field.isKeyField()?an.comparator(an.fromName(E.referenceValue),n.key):Bs(E,n.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function tc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ao(i.position[n],e.position[n]))return!1;return!0}class Ms{constructor(e,n=null,o=[],u=[],h=null,E="F",M=null,H=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=h,this.limitType=E,this.startAt=M,this.endAt=H,this.D=null,this.C=null}}function nc(i,e,n,o,u,h,E,M){return new Ms(i,e,n,o,u,h,E,M)}function ya(i){return new Ms(i)}function su(i){return!pa(i.limit)&&"F"===i.limitType}function _a(i){return!pa(i.limit)&&"L"===i.limitType}function ou(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function rc(i){for(const e of i.filters)if(e.S())return e.field;return null}function ic(i){return null!==i.collectionGroup}function vo(i){const e=Yt(i);if(null===e.D){e.D=[];const n=rc(e),o=ou(e);if(null!==n&&null===o)n.isKeyField()||e.D.push(new ma(n)),e.D.push(new ma(Ar.keyField(),"asc"));else{let u=!1;for(const h of e.explicitOrderBy)e.D.push(h),h.field.isKeyField()&&(u=!0);if(!u){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new ma(Ar.keyField(),h))}}}return e.D}function Xi(i){const e=Yt(i);if(!e.C)if("F"===e.limitType)e.C=Xo(e.path,e.collectionGroup,vo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const h of vo(e))n.push(new ma(h.field,"desc"===h.dir?"asc":"desc"));const o=e.endAt?new _o(e.endAt.position,!e.endAt.inclusive):null,u=e.startAt?new _o(e.startAt.position,!e.startAt.inclusive):null;e.C=Xo(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.C}function zc(i,e,n){return new Ms(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Il(i,e){return tu(Xi(i),Xi(e))&&i.limitType===e.limitType}function Dl(i){return`${lo(Xi(i))}|lt:${i.limitType}`}function sc(i){return`Query(target=${function Fa(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${Zo(o.value)}`;var o}).join(", ")}]`),pa(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>Zo(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>Zo(n)).join(",")),`Target(${e})`}(Xi(i))}; limitType=${i.limitType})`}function Lu(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):an.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,h,E){const M=Lo(u,h,E);return u.inclusive?M<=0:M<0}(n.startAt,vo(n),o)||n.endAt&&!function(u,h,E){const M=Lo(u,h,E);return u.inclusive?M>=0:M>0}(n.endAt,vo(n),o)));var n,o}function Wc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Kc(i){return(e,n)=>{let o=!1;for(const u of vo(i)){const h=Gd(u,e,n);if(0!==h)return h;o=o||u.field.isKeyField()}return 0}}function Gd(i,e,n){const o=i.field.isKeyField()?an.comparator(e.key,n.key):function(u,h,E){const M=h.data.field(u),H=E.data.field(u);return null!==M&&null!==H?Bs(M,H):_n()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return _n()}}function Vu(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vl(e)?"-0":e}}function Tl(i){return{integerValue:""+i}}function La(i,e){return ql(e)?Tl(e):Vu(i,e)}class Cl{constructor(){this._=void 0}}function zd(i,e,n){return i instanceof va?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(h.fields.__previous_value__=u),{mapValue:h}}(n,e):i instanceof Ea?oc(i,e):i instanceof wa?ea(i,e):function(o,u){const h=Uu(o,u),E=Zc(h)+Zc(o.k);return _s(h)&&_s(o.k)?Tl(E):Vu(o.M,E)}(i,e)}function qc(i,e,n){return i instanceof Ea?oc(i,e):i instanceof wa?ea(i,e):n}function Uu(i,e){return i instanceof au?_s(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class va extends Cl{}class Ea extends Cl{constructor(e){super(),this.elements=e}}function oc(i,e){const n=Yc(e);for(const o of i.elements)n.some(u=>ao(u,o))||n.push(o);return{arrayValue:{values:n}}}class wa extends Cl{constructor(e){super(),this.elements=e}}function ea(i,e){let n=Yc(e);for(const o of i.elements)n=n.filter(u=>!ao(u,o));return{arrayValue:{values:n}}}class au extends Cl{constructor(e,n){super(),this.M=e,this.k=n}}function Zc(i){return Kr(i.integerValue||i.doubleValue)}function Yc(i){return Yo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Bu{constructor(e,n){this.field=e,this.transform=n}}class ta{constructor(e,n){this.version=e,this.transformResults=n}}class Jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ba{}function uc(i,e,n){i instanceof du?function(o,u,h){const E=o.value.clone(),M=cc(o.fieldTransforms,u,h.transformResults);E.setAll(M),u.convertToFoundDocument(h.version,E).setHasCommittedMutations()}(i,e,n):i instanceof Ia?function(o,u,h){if(!uu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const E=cc(o.fieldTransforms,u,h.transformResults),M=u.data;M.setAll(lc(o)),M.setAll(E),u.convertToFoundDocument(h.version,M).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function lu(i,e,n){var u;i instanceof du?function(o,u,h){if(!uu(o.precondition,u))return;const E=o.value.clone(),M=D(o.fieldTransforms,h,u);E.setAll(M),u.convertToFoundDocument(ju(u),E).setHasLocalMutations()}(i,e,n):i instanceof Ia?function(o,u,h){if(!uu(o.precondition,u))return;const E=D(o.fieldTransforms,h,u),M=u.data;M.setAll(lc(o)),M.setAll(E),u.convertToFoundDocument(ju(u),M).setHasLocalMutations()}(i,e,n):uu(i.precondition,u=e)&&u.convertToNoDocument(et.min())}function Wd(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),h=Uu(o.transform,u||null);null!=h&&(null==n&&(n=Li.empty()),n.set(o.field,h))}return n||null}function cu(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Y(n,o,(u,h)=>function ac(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof Ea&&o instanceof Ea||n instanceof wa&&o instanceof wa?Y(n.elements,o.elements,ao):n instanceof au&&o instanceof au?ao(n.k,o.k):n instanceof va&&o instanceof va);var n,o}(u,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}function ju(i){return i.isFoundDocument()?i.version:et.min()}class du extends ba{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}}class Ia extends ba{constructor(e,n,o,u,h=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=h,this.type=1}}function lc(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function cc(i,e,n){const o=new Map;Hn(i.length===n.length);for(let u=0;u<n.length;u++){const h=i[u],E=h.transform,M=e.data.field(h.field);o.set(h.field,qc(E,M,n[u]))}return o}function D(i,e,n){const o=new Map;for(const u of i){const h=u.transform,E=n.data.field(u.field);o.set(u.field,zd(h,E,e))}return o}class f extends ba{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class m extends ba{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class A{constructor(e){this.count=e}}var z,se;function ut(i){switch(i){default:return _n();case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0}}function $t(i){if(void 0===i)return Vr("GRPC error has no .code"),gt.UNKNOWN;switch(i){case z.OK:return gt.OK;case z.CANCELLED:return gt.CANCELLED;case z.UNKNOWN:return gt.UNKNOWN;case z.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case z.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case z.INTERNAL:return gt.INTERNAL;case z.UNAVAILABLE:return gt.UNAVAILABLE;case z.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case z.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case z.NOT_FOUND:return gt.NOT_FOUND;case z.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case z.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case z.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case z.ABORTED:return gt.ABORTED;case z.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case z.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case z.DATA_LOSS:return gt.DATA_LOSS;default:return _n()}}(se=z||(z={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";class bn{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,h]of o)if(this.equalsFn(u,e))return h}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ir(this.inner,(n,o)=>{for(const[u,h]of o)e(u,h)})}isEmpty(){return Pn(this.inner)}size(){return this.innerSize}}class In{constructor(e,n){this.comparator=e,this.root=n||_r.EMPTY}insert(e,n){return new In(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new In(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fr(this.root,e,this.comparator,!1)}getReverseIterator(){return new fr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fr(this.root,e,this.comparator,!0)}}class fr{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=n?o(e.key,n):1,n&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _r{constructor(e,n,o,u,h){this.key=e,this.value=n,this.color=null!=o?o:_r.RED,this.left=null!=u?u:_r.EMPTY,this.right=null!=h?h:_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,h){return new _r(null!=e?e:this.key,null!=n?n:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const h=o(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===h?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return _r.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _n();const e=this.left.check();if(e!==this.right.check())throw _n();return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1,_r.EMPTY=new class{constructor(){this.size=0}get key(){throw _n()}get value(){throw _n()}get color(){throw _n()}get left(){throw _n()}get right(){throw _n()}copy(i,e,n,o,u){return this}insert(i,e,n){return new _r(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tr{constructor(e){this.comparator=e,this.data=new In(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Eo(this.data.getIterator())}getIteratorFrom(e){return new Eo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,h=o.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tr(this.comparator);return n.data=e,n}}class Eo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wo(i){return i.hasNext()?i.getNext():void 0}const Kd=new In(an.comparator);function Qs(){return Kd}const dc=new In(an.comparator);function Al(){return dc}function Va(){return new bn(i=>i.toString(),(i,e)=>i.isEqual(e))}const Qc=new In(an.comparator),Jc=new Tr(an.comparator);function xr(...i){let e=Jc;for(const n of i)e=e.add(n);return e}const $u=new Tr(V);function Hu(){return $u}class na{constructor(e,n,o,u,h){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,n)),new na(et.min(),o,Hu(),Qs(),xr())}}class Gu{constructor(e,n,o,u,h){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Gu(Ur.EMPTY_BYTE_STRING,n,xr(),xr(),xr())}}class bi{constructor(e,n,o,u){this.O=e,this.removedTargetIds=n,this.key=o,this.F=u}}class qd{constructor(e,n){this.targetId=e,this.$=n}}class rf{constructor(e,n,o=Ur.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Xc{constructor(){this.B=0,this.L=Zd(),this.U=Ur.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=xr(),n=xr(),o=xr();return this.L.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:_n()}}),new Gu(this.U,this.q,e,n,o)}J(){this.K=!1,this.L=Zd()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class sf{constructor(e){this.nt=e,this.st=new Map,this.it=Qs(),this.rt=of(),this.ot=new Tr(V)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const o=this.lt(n);switch(e.state){case 0:this.ft(n)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(n);break;case 3:this.ft(n)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),o.W(e.resumeToken));break;default:_n()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((o,u)=>{this.ft(u)&&n(u)})}_t(e){const n=e.targetId,o=e.$.count,u=this.wt(n);if(u){const h=u.target;if(nu(h))if(0===o){const E=new an(h.path);this.ct(n,E,ti.newNoDocument(E,et.min()))}else Hn(1===o);else this.gt(n)!==o&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((h,E)=>{const M=this.wt(E);if(M){if(h.current&&nu(M.target)){const H=new an(M.target.path);null!==this.it.get(H)||this.It(E,H)||this.ct(E,H,ti.newNoDocument(H,e))}h.j&&(n.set(E,h.H()),h.J())}});let o=xr();this.rt.forEach((h,E)=>{let M=!0;E.forEachWhile(H=>{const K=this.wt(H);return!K||2===K.purpose||(M=!1,!1)}),M&&(o=o.add(h))}),this.it.forEach((h,E)=>E.setReadTime(e));const u=new na(e,n,this.ot,this.it,o);return this.it=Qs(),this.rt=of(),this.ot=new Tr(V),u}at(e,n){if(!this.ft(e))return;const o=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,o),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,o){if(!this.ft(e))return;const u=this.lt(e);this.It(e,n)?u.Y(n,1):u.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),o&&(this.it=this.it.insert(n,o))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new Xc,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Tr(V),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||qt("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Xc),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function of(){return new In(an.comparator)}function Zd(){return new In(an.comparator)}const Bp={asc:"ASCENDING",desc:"DESCENDING"},jp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $p{constructor(e,n){this.databaseId=e,this.N=n}}function ed(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hp(i,e){return i.N?e.toBase64():e.toUint8Array()}function hc(i,e){return ed(i,e.toTimestamp())}function zr(i){return Hn(!!i),et.fromTimestamp(function(e){const n=Ei(e);return new Me(n.seconds,n.nanos)}(i))}function fc(i,e){return(n=i,new Cn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Yd(i){const e=Cn.fromString(i);return Hn(bt(e)),e}function Sl(i,e){return fc(i.databaseId,e.path)}function mi(i,e){const n=Yd(e);if(n.get(1)!==i.databaseId.projectId)throw new jt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new jt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new an(af(n))}function zu(i,e){return fc(i.databaseId,e)}function td(i){const e=Yd(i);return 4===e.length?Cn.emptyPath():af(e)}function pc(i){return new Cn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function af(i){return Hn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Qd(i,e,n){return{name:Sl(i,e),fields:n.value.mapValue.fields}}function uf(i,e,n){const o=mi(i,e.name),u=zr(e.updateTime),h=new Li({mapValue:{fields:e.fields}}),E=ti.newFoundDocument(o,u,h);return n&&E.setHasCommittedMutations(),n?E.setHasCommittedMutations():E}function Ml(i,e){let n;if(e instanceof du)n={update:Qd(i,e.key,e.value)};else if(e instanceof f)n={delete:Sl(i,e.key)};else if(e instanceof Ia)n={update:Qd(i,e.key,e.data),updateMask:Xe(e.fieldMask)};else{if(!(e instanceof m))return _n();n={verify:Sl(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,h){const E=h.transform;if(E instanceof va)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof Ea)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof wa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof au)return{fieldPath:h.field.canonicalString(),increment:E.k};throw _n()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:hc(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:_n()),n;var u}function Jd(i,e){const n=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Jr.updateTime(zr(u.updateTime)):void 0!==u.exists?Jr.exists(u.exists):Jr.none():Jr.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(h,E){let M=null;"setToServerValue"in E?(Hn("REQUEST_TIME"===E.setToServerValue),M=new va):"appendMissingElements"in E?M=new Ea(E.appendMissingElements.values||[]):"removeAllFromArray"in E?M=new wa(E.removeAllFromArray.values||[]):"increment"in E?M=new au(h,E.increment):_n();const H=Ar.fromServerFormat(E.fieldPath);return new Bu(H,M)}(i,u)):[];var u;if(e.update){const u=mi(i,e.update.name),h=new Li({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=new Ai((e.updateMask.fieldPaths||[]).map(K=>Ar.fromServerFormat(K)));return new Ia(u,h,E,n,o)}return new du(u,h,n,o)}if(e.delete){const u=mi(i,e.delete);return new f(u,n)}if(e.verify){const u=mi(i,e.verify);return new m(u,n)}return _n()}function cf(i,e){return{documents:[zu(i,e.path)]}}function nd(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=zu(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zu(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(H){if(0===H.length)return;const K=H.map(Ee=>function(Be){if("=="===Be.op){if(Qo(Be.value))return{unaryFilter:{field:$(Be.field),op:"IS_NAN"}};if(Ja(Be.value))return{unaryFilter:{field:$(Be.field),op:"IS_NULL"}}}else if("!="===Be.op){if(Qo(Be.value))return{unaryFilter:{field:$(Be.field),op:"IS_NOT_NAN"}};if(Ja(Be.value))return{unaryFilter:{field:$(Be.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$(Be.field),op:C(Be.op),value:Be.value}}}(Ee));return 1===K.length?K[0]:{compositeFilter:{op:"AND",filters:K}}}(e.filters);u&&(n.structuredQuery.where=u);const h=function(H){if(0!==H.length)return H.map(K=>{return{field:$((Ee=K).field),direction:g(Ee.dir)};var Ee})}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const E=(K=e.limit,i.N||pa(K)?K:{value:K});var K,M,H;return null!==E&&(n.structuredQuery.limit=E),e.startAt&&(n.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(n.structuredQuery.endAt={before:!(H=e.endAt).inclusive,values:H.position}),n}function Xd(i){let e=td(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Hn(1===o);const Ee=n.from[0];Ee.allDescendants?u=Ee.collectionId:e=e.child(Ee.collectionId)}let h=[];n.where&&(h=p(n.where));let E=[];n.orderBy&&(E=n.orderBy.map(Ee=>{return new ma(ee((Be=Ee).field),function(yt){switch(yt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Be.direction));var Be}));let M=null;n.limit&&(M=function(Ee){let Be;return Be="object"==typeof Ee?Ee.value:Ee,pa(Be)?null:Be}(n.limit));let H=null;var Ee;n.startAt&&(H=new _o((Ee=n.startAt).values||[],!!Ee.before));let K=null;return n.endAt&&(K=function(Ee){return new _o(Ee.values||[],!Ee.before)}(n.endAt)),nc(e,u,E,h,M,"F",H,K)}function p(i){return i?void 0!==i.unaryFilter?[we(i)]:void 0!==i.fieldFilter?[ge(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>p(e)).reduce((e,n)=>e.concat(n)):_n():[]}function g(i){return Bp[i]}function C(i){return jp[i]}function $(i){return{fieldPath:i.canonicalString()}}function ee(i){return Ar.fromServerFormat(i.fieldPath)}function ge(i){return gi.create(ee(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _n()}}(i.fieldFilter.op),i.fieldFilter.value)}function we(i){switch(i.unaryFilter.op){case"IS_NAN":const e=ee(i.unaryFilter.field);return gi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ee(i.unaryFilter.field);return gi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ee(i.unaryFilter.field);return gi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ee(i.unaryFilter.field);return gi.create(u,"!=",{nullValue:"NULL_VALUE"});default:return _n()}}function Xe(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bt(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Bt(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=cn(e)),e=yn(i.get(n),e);return cn(e)}function yn(i,e){let n=e;const o=i.length;for(let u=0;u<o;u++){const h=i.charAt(u);switch(h){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=h}}return n}function cn(i){return i+"\x01\x01"}function dn(i){const e=i.length;if(Hn(e>=2),2===e)return Hn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Cn.emptyPath();const n=e-2,o=[];let u="";for(let h=0;h<e;){const E=i.indexOf("\x01",h);switch((E<0||E>n)&&_n(),i.charAt(E+1)){case"\x01":const M=i.substring(h,E);let H;0===u.length?H=M:(u+=M,H=u,u=""),o.push(H);break;case"\x10":u+=i.substring(h,E),u+="\0";break;case"\x11":u+=i.substring(h,E+1);break;default:_n()}h=E+2}return new Cn(o)}const An=["userId","batchId"];function kn(i,e){return[i,Bt(e)]}function Zn(i,e,n){return[i,Bt(e),n]}const Ii={},Vi=["prefixPath","collectionGroup","readTime","documentId"],js=["prefixPath","collectionGroup","documentId"],Si=["collectionGroup","readTime","prefixPath","documentId"],$s=["canonicalId","targetId"],Da=["targetId","path"],Js=["path","targetId"],ra=["collectionId","parent"],Ua=["indexId","uid"],us=["uid","sequenceNumber"],gc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hu=["indexId","uid","orderedDocumentKey"],fu=["userId","collectionPath","documentId"],rd=["userId","collectionPath","largestBatchId"],Wu=["userId","collectionGroup","largestBatchId"],Mn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Yn=[...Mn,"documentOverlays"],ur=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Or=[...ur,"indexConfiguration","indexState","indexEntries"],Ki="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ia{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ft{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_n(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ft((o,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,u)},this.catchCallback=h=>{this.wrapFailure(n,h).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ft?n:ft.resolve(n)}catch(n){return ft.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ft.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ft.reject(n)}static resolve(e){return new ft((n,o)=>{n(e)})}static reject(e){return new ft((n,o)=>{o(e)})}static waitFor(e){return new ft((n,o)=>{let u=0,h=0,E=!1;e.forEach(M=>{++u,M.next(()=>{++h,E&&h===u&&n()},H=>o(H))}),E=!0,h===u&&n()})}static or(e){let n=ft.resolve(!1);for(const o of e)n=n.next(u=>u?ft.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,h)=>{o.push(n.call(this,u,h))}),this.waitFor(o)}}class co{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.At=new fi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{n.error?this.At.reject(new Os(e,n.error)):this.At.resolve()},this.transaction.onerror=o=>{const u=hf(o.target.error);this.At.reject(new Os(e,u))}}static open(e,n,o,u){try{return new co(n,e.transaction(u,o))}catch(h){throw new Os(n,h)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(qt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new mc(n)}}class kr{constructor(e,n,o){this.name=e,this.version=n,this.bt=o,12.2===kr.Vt((0,Ie.z$)())&&Vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return qt("SimpleDb","Removing database:",e),ho(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Ie.hl)())return!1;if(kr.St())return!0;const e=(0,Ie.z$)(),n=kr.Vt(e),o=0<n&&n<10,u=kr.Dt(e),h=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||h)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,n){return e.store(n)}static Vt(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var n=this;return(0,c.Z)(function*(){return n.db||(qt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,u)=>{const h=indexedDB.open(n.name,n.version);h.onsuccess=E=>{o(E.target.result)},h.onblocked=()=>{u(new Os(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=E=>{const M=E.target.error;u("VersionError"===M.name?new jt(gt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new jt(gt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new Os(e,M))},h.onupgradeneeded=E=>{qt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',E.oldVersion),n.bt.kt(E.target.result,h.transaction,E.oldVersion,n.version).next(()=>{qt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Mt&&(n.db.onversionchange=o=>n.Mt(o)),n.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,u){var h=this;return(0,c.Z)(function*(){const E="readonly"===n;let M=0;for(;;){++M;try{h.db=yield h.Nt(e);const H=co.open(h.db,e,E?"readonly":"readwrite",o),K=u(H).next(Ee=>(H.Pt(),Ee)).catch(Ee=>(H.abort(Ee),ft.reject(Ee))).toPromise();return K.catch(()=>{}),yield H.Rt,K}catch(H){const K="FirebaseError"!==H.name&&M<3;if(qt("SimpleDb","Transaction failed with error:",H.message,"Retrying:",K),h.close(),!K)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class df{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return ho(this.Ft.delete())}}class Os extends jt{constructor(e,n){super(gt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Vo(i){return"IndexedDbTransactionError"===i.name}class mc{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(qt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(qt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ho(o)}add(e){return qt("SimpleDb","ADD",this.store.name,e,e),ho(this.store.add(e))}get(e){return ho(this.store.get(e)).next(n=>(void 0===n&&(n=null),qt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return qt("SimpleDb","DELETE",this.store.name,e),ho(this.store.delete(e))}count(){return qt("SimpleDb","COUNT",this.store.name),ho(this.store.count())}qt(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),h=[];return this.Kt(u,(E,M)=>{h.push(M)}).next(()=>h)}{const u=this.store.getAll(o.range);return new ft((h,E)=>{u.onerror=M=>{E(M.target.error)},u.onsuccess=M=>{h(M.target.result)}})}}Gt(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new ft((u,h)=>{o.onerror=E=>{h(E.target.error)},o.onsuccess=E=>{u(E.target.result)}})}Qt(e,n){qt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.jt=!1;const u=this.cursor(o);return this.Kt(u,(h,E,M)=>M.delete())}Wt(e,n){let o;n?o=e:(o={},n=e);const u=this.cursor(o);return this.Kt(u,n)}zt(e){const n=this.cursor({});return new ft((o,u)=>{n.onerror=h=>{const E=hf(h.target.error);u(E)},n.onsuccess=h=>{const E=h.target.result;E?e(E.primaryKey,E.value).next(M=>{M?E.continue():o()}):o()}})}Kt(e,n){const o=[];return new ft((u,h)=>{e.onerror=E=>{h(E.target.error)},e.onsuccess=E=>{const M=E.target.result;if(!M)return void u();const H=new df(M),K=n(M.primaryKey,M.value,H);if(K instanceof ft){const Ee=K.catch(Be=>(H.done(),ft.reject(Be)));o.push(Ee)}H.isDone?u():null===H.Lt?M.continue():M.continue(H.Lt)}}).next(()=>ft.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ho(i){return new ft((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=hf(o.target.error);n(u)}})}let yc=!1;function hf(i){const e=kr.Vt((0,Ie.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new jt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yc||(yc=!0,setTimeout(()=>{throw o},0)),o}}return i}class Wp extends ia{constructor(e,n){super(),this.Ht=e,this.currentSequenceNumber=n}}function Es(i,e){const n=Yt(i);return kr.xt(n.Ht,e)}class id{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&uc(h,e,o[u])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&lu(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&lu(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const o=e.get(n.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(et.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xr())}isEqual(e){return this.batchId===e.batchId&&Y(this.mutations,e.mutations,(n,o)=>cu(n,o))&&Y(this.baseMutations,e.baseMutations,(n,o)=>cu(n,o))}}class eh{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Hn(e.mutations.length===o.length);let u=Qc;const h=e.mutations;for(let E=0;E<h.length;E++)u=u.insert(h[E].key,o[E].version);return new eh(e,n,o,u)}}class sd{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ku{constructor(e,n,o,u,h=et.min(),E=et.min(),M=Ur.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=M}withSequenceNumber(e){return new Ku(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Kp{constructor(e){this.Jt=e}}function ff(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ba(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Sl(u=i.Jt,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:ed(u,h.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:qu(e.version)};else{if(!e.isUnknownDocument())return _n();o.unknownDocument={path:n.path.toArray(),version:qu(e.version)}}var u,h;return o}function Ba(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function qu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Zu(i){const e=new Me(i.seconds,i.nanoseconds);return et.fromTimestamp(e)}function _c(i,e){const n=(e.baseMutations||[]).map(h=>Jd(i.Jt,h));for(let h=0;h<e.mutations.length-1;++h){const E=e.mutations[h];h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(E.updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h)}const o=e.mutations.map(h=>Jd(i.Jt,h)),u=Me.fromMillis(e.localWriteTimeMs);return new id(e.batchId,u,n,o)}function Yu(i){const e=Zu(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Zu(i.lastLimboFreeSnapshotVersion):et.min();let o;var u;return void 0!==i.query.documents?(Hn(1===(u=i.query).documents.length),o=Xi(ya(td(u.documents[0])))):o=Xi(Xd(i.query)),new Ku(o,i.targetId,0,i.lastListenSequenceNumber,e,n,Ur.fromBase64String(i.resumeToken))}function Zp(i,e){const n=qu(e.snapshotVersion),o=qu(e.lastLimboFreeSnapshotVersion);let u;u=nu(e.target)?cf(i.Jt,e.target):nd(i.Jt,e.target);const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lo(e.target),readTime:n,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function th(i){const e=Xd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?zc(e,e.limit,"L"):e}function nh(i,e){return new sd(e.largestBatchId,Jd(i.Jt,e.overlayMutation))}function pf(i,e){const n=e.path.lastSegment();return[i,Bt(e.path.popLast()),n]}class gf{getBundleMetadata(e,n){return mf(e).get(n).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Zu(u.createTime),version:u.version};var u})}saveBundleMetadata(e,n){return mf(e).put({bundleId:(o=n).id,createTime:qu(zr(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return od(e).get(n).next(o=>{if(o)return{name:(u=o).name,query:th(u.bundledQuery),readTime:Zu(u.readTime)};var u})}saveNamedQuery(e,n){return od(e).put({name:(o=n).name,readTime:qu(zr(o.readTime)),bundledQuery:o.bundledQuery});var o}}function mf(i){return Es(i,"bundles")}function od(i){return Es(i,"namedQueries")}class vc{constructor(e,n){this.M=e,this.userId=n}static Yt(e,n){return new vc(e,n.uid||"")}getOverlay(e,n){return Ec(e).get(pf(this.userId,n)).next(o=>o?nh(this.M,o):null)}saveOverlays(e,n,o){const u=[];return o.forEach((h,E)=>{const M=new sd(n,E);u.push(this.Xt(e,M))}),ft.waitFor(u)}removeOverlaysForBatchId(e,n,o){const u=new Set;n.forEach(E=>u.add(Bt(E.getCollectionPath())));const h=[];return u.forEach(E=>{const M=IDBKeyRange.bound([this.userId,E,o],[this.userId,E,o+1],!1,!0);h.push(Ec(e).Qt("collectionPathOverlayIndex",M))}),ft.waitFor(h)}getOverlaysForCollection(e,n,o){const u=Va(),h=Bt(n),E=IDBKeyRange.bound([this.userId,h,o],[this.userId,h,Number.POSITIVE_INFINITY],!0);return Ec(e).qt("collectionPathOverlayIndex",E).next(M=>{for(const H of M){const K=nh(this.M,H);u.set(K.getKey(),K)}return u})}getOverlaysForCollectionGroup(e,n,o,u){const h=Va();let E;const M=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ec(e).Wt({index:"collectionGroupOverlayIndex",range:M},(H,K,Ee)=>{const Be=nh(this.M,K);h.size()<u||Be.largestBatchId===E?(h.set(Be.getKey(),Be),E=Be.largestBatchId):Ee.done()}).next(()=>h)}Xt(e,n){return Ec(e).put(function(o,u,h){const[E,M,H]=pf(u,h.mutation.key);return{userId:u,collectionPath:M,documentId:H,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:Ml(o.Jt,h.mutation)}}(this.M,this.userId,n))}}function Ec(i){return Es(i,"documentOverlays")}class pu{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(Kr(e.integerValue));else if("doubleValue"in e){const o=Kr(e.doubleValue);isNaN(o)?this.ne(n,13):(this.ne(n,15),vl(o)?n.se(0):n.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(n,20),"string"==typeof o?n.ie(o):(n.ie(`${o.seconds||""}`),n.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(Ro(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(n,45),n.se(o.latitude||0),n.se(o.longitude||0)}else"mapValue"in e?Nu(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):_n()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const o=e.fields||{};this.ne(n,55);for(const u of Object.keys(o))this.re(u,n),this.te(o[u],n)}he(e,n){const o=e.values||[];this.ne(n,50);for(const u of o)this.te(u,n)}ae(e,n){this.ne(n,37),an.fromName(e).path.forEach(o=>{this.ne(n,60),this.le(o,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}function Yp(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function rh(i){const e=64-function(n){let o=0;for(let u=0;u<8;++u){const h=Yp(255&n[u]);if(o+=h,8!==h)break}return o}(i);return Math.ceil(e/8)}pu.fe=new pu;class ad{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this._e(o.value),o=n.next();this.we()}me(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.ge(o.value),o=n.next();this.ye()}pe(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(n<"\ud800"||"\udbff"<n)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const u=n.codePointAt(0);this._e(240|u>>>18),this._e(128|63&u>>>12),this._e(128|63&u>>>6),this._e(128|63&u)}}this.we()}Ie(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const u=n.codePointAt(0);this.ge(240|u>>>18),this.ge(128|63&u>>>12),this.ge(128|63&u>>>6),this.ge(128|63&u)}}this.ye()}Te(e){const n=this.Ee(e),o=rh(n);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=255&n[u]}Re(e){const n=this.Ee(e),o=rh(n);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=~(255&n[u])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const n=function(u){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,u,!1),new Uint8Array(h.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let u=1;u<n.length;++u)n[u]^=o?255:0;return n}_e(e){const n=255&e;0===n?(this.be(0),this.be(255)):255===n?(this.be(255),this.be(0)):this.be(n)}ge(e){const n=255&e;0===n?(this.ve(0),this.ve(255)):255===n?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Vm{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Qp{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class ud{constructor(){this.De=new ad,this.Ce=new Vm(this.De),this.xe=new Qp(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Qu{constructor(e,n,o,u){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=u}ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Qu(this.indexId,this.documentKey,this.arrayValue,o)}}function Ju(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=ih(i.arrayValue,e.arrayValue),0!==n?n:(n=ih(i.directionalValue,e.directionalValue),0!==n?n:an.comparator(i.documentKey,e.documentKey)))}function ih(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class Jp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const n of e.filters){const o=n;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const n=Yl(e);if(void 0!==n&&!this.Be(n))return!1;const o=Jo(e);let u=0,h=0;for(;u<o.length&&this.Be(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Fe){const E=o[u];if(!this.Le(this.Fe,E)||!this.Ue(this.Me[h++],E))return!1;++u}for(;u<o.length;++u){const E=o[u];if(h>=this.Me.length||!this.Ue(this.Me[h++],E))return!1}return!0}Be(e){for(const n of this.Oe)if(this.Le(n,e))return!0;return!1}Le(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class V_{constructor(){this.qe=new sh}addToCollectionParentIndex(e,n){return this.qe.add(n),ft.resolve()}getCollectionParents(e,n){return ft.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return ft.resolve()}deleteFieldIndex(e,n){return ft.resolve()}getDocumentsMatchingTarget(e,n){return ft.resolve(null)}getFieldIndex(e,n){return ft.resolve(null)}getFieldIndexes(e,n){return ft.resolve([])}getNextCollectionGroupToUpdate(e){return ft.resolve(null)}updateCollectionGroup(e,n,o){return ft.resolve()}updateIndexEntries(e,n){return ft.resolve()}}class sh{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Tr(Cn.comparator),h=!u.has(o);return this.index[n]=u.add(o),h}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Tr(Cn.comparator)).toArray()}}const wc=new Uint8Array(0);class Xp{constructor(e,n){this.user=e,this.databaseId=n,this.Ke=new sh,this.Ge=new bn(o=>lo(o),(o,u)=>tu(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ke.has(n)){const o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(()=>{this.Ke.add(n)});const h={collectionId:o,parent:Bt(u)};return eg(e).put(h)}return ft.resolve()}getCollectionParents(e,n){const o=[],u=IDBKeyRange.bound([n,""],[ye(n),""],!1,!0);return eg(e).qt(u).next(h=>{for(const E of h){if(E.collectionId!==n)break;o.push(dn(E.parent))}return o})}addFieldIndex(e,n){const o=bo(e),u={indexId:(h=n).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(E=>[E.fieldPath.canonicalString(),E.kind])};var h;return delete u.indexId,o.add(u).next()}deleteFieldIndex(e,n){const o=bo(e),u=oh(e),h=ld(e);return o.delete(n.indexId).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=ld(e);let u=!0;const h=new Map;return ft.forEach(this.Qe(n),E=>this.getFieldIndex(e,E).next(M=>{u&&(u=!!M),h.set(E,M)})).next(()=>{if(u){let E=xr();const M=[];return ft.forEach(h,(H,K)=>{var Ee;qt("IndexedDbIndexManager",`Using index ${Ee=H,`id=${Ee.indexId}|cg=${Ee.collectionGroup}|f=${Ee.fields.map(Bi=>`${Bi.fieldPath}:${Bi.kind}`).join(",")}`} to execute ${lo(n)}`);const Be=function(Bi,Xs){const ds=Yl(Xs);if(void 0===ds)return null;for(const qi of ru(Bi,ds.fieldPath))switch(qi.op){case"array-contains-any":return qi.value.arrayValue.values||[];case"array-contains":return[qi.value]}return null}(K,H),yt=function(Bi,Xs){const ds=new Map;for(const qi of Jo(Xs))for(const po of ru(Bi,qi.fieldPath))switch(po.op){case"==":case"in":ds.set(qi.fieldPath.canonicalString(),po.value);break;case"not-in":case"!=":return ds.set(qi.fieldPath.canonicalString(),po.value),Array.from(ds.values())}return null}(K,H),Ht=function(Bi,Xs){const ds=[];let qi=!0;for(const po of Jo(Xs)){const pl=0===po.kind?Jl(Bi,po.fieldPath,Bi.startAt):Hc(Bi,po.fieldPath,Bi.startAt);if(!pl.value)return null;ds.push(pl.value),qi&&(qi=pl.inclusive)}return new _o(ds,qi)}(K,H),Wt=function(Bi,Xs){const ds=[];let qi=!0;for(const po of Jo(Xs)){const pl=0===po.kind?Hc(Bi,po.fieldPath,Bi.endAt):Jl(Bi,po.fieldPath,Bi.endAt);if(!pl.value)return null;ds.push(pl.value),qi&&(qi=pl.inclusive)}return new _o(ds,qi)}(K,H),On=this.je(H,K,Ht),gr=this.je(H,K,Wt),Ui=this.We(H,K,yt),cs=this.ze(H.indexId,Be,On,!!Ht&&Ht.inclusive,gr,!!Wt&&Wt.inclusive,Ui);return ft.forEach(cs,Bi=>o.Gt(Bi,n.limit).next(Xs=>{Xs.forEach(ds=>{const qi=an.fromSegments(ds.documentKey);E.has(qi)||(E=E.add(qi),M.push(qi))})}))}).next(()=>M)}return ft.resolve(null)})}Qe(e){let n=this.Ge.get(e);return n||(n=[e],this.Ge.set(e,n),n)}ze(e,n,o,u,h,E,M){const H=(null!=n?n.length:1)*Math.max(null!=o?o.length:1,null!=h?h.length:1),K=H/(null!=n?n.length:1),Ee=[];for(let Be=0;Be<H;++Be){const yt=n?this.He(n[Be/K]):wc,Ht=o?this.Je(e,yt,o[Be%K],u):this.Ye(e),Wt=h?this.Xe(e,yt,h[Be%K],E):this.Ye(e+1);Ee.push(...this.createRange(Ht,Wt,M.map(On=>this.Je(e,yt,On,!0))))}return Ee}Je(e,n,o,u){const h=new Qu(e,an.empty(),n,o);return u?h:h.ke()}Xe(e,n,o,u){const h=new Qu(e,an.empty(),n,o);return u?h.ke():h}Ye(e){return new Qu(e,an.empty(),wc,wc)}getFieldIndex(e,n){const o=new Jp(n),u=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,u).next(h=>{const E=h.filter(M=>o.$e(M));return E.sort((M,H)=>H.fields.length-M.fields.length),E.length>0?E[0]:null})}Ze(e,n){const o=new ud;for(const u of Jo(e)){const h=n.data.field(u.fieldPath);if(null==h)return null;const E=o.Ne(u.kind);pu.fe.Zt(h,E)}return o.Se()}He(e){const n=new ud;return pu.fe.Zt(e,n.Ne(0)),n.Se()}tn(e,n){const o=new ud;return pu.fe.Zt(wi(this.databaseId,n),o.Ne(function(u){const h=Jo(u);return 0===h.length?0:h[h.length-1].kind}(e))),o.Se()}We(e,n,o){if(null===o)return[];let u=[];u.push(new ud);let h=0;for(const E of Jo(e)){const M=o[h++];for(const H of u)if(this.en(n,E.fieldPath)&&Yo(M))u=this.nn(u,E,M);else{const K=H.Ne(E.kind);pu.fe.Zt(M,K)}}return this.sn(u)}je(e,n,o){return null==o?null:this.We(e,n,o.position)}sn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Se();return n}nn(e,n,o){const u=[...e],h=[];for(const E of o.arrayValue.values||[])for(const M of u){const H=new ud;H.seed(M.Se()),pu.fe.Zt(E,H.Ne(n.kind)),h.push(H)}return h}en(e,n){return!!e.filters.find(o=>o instanceof gi&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=bo(e),u=oh(e);return(n?o.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.qt()).next(h=>{const E=[];return ft.forEach(h,M=>u.get([M.indexId,this.uid]).next(H=>{E.push(function(K,Ee){const Be=Ee?new ka(Ee.sequenceNumber,new vs(Zu(Ee.readTime),new an(dn(Ee.documentKey)),Ee.largestBatchId)):ka.empty(),yt=K.fields.map(([Ht,Wt])=>new wl(Ar.fromServerFormat(Ht),Wt));return new ga(K.indexId,K.collectionGroup,yt,Be)}(M,H))})).next(()=>E)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,u)=>{const h=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==h?h:V(o.collectionGroup,u.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const u=bo(e),h=oh(e);return this.rn(e).next(E=>u.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(M=>ft.forEach(M,H=>{return h.put({indexId:H.indexId,uid:this.user.uid||"",sequenceNumber:E,readTime:qu((yt=o).readTime),documentKey:Bt(yt.documentKey.path),largestBatchId:yt.largestBatchId});var yt})))}updateIndexEntries(e,n){const o=new Map;return ft.forEach(n,(u,h)=>{const E=o.get(u.collectionGroup);return(E?ft.resolve(E):this.getFieldIndexes(e,u.collectionGroup)).next(M=>(o.set(u.collectionGroup,M),ft.forEach(M,H=>this.on(e,u,H).next(K=>{const Ee=this.un(h,H);return K.isEqual(Ee)?ft.resolve():this.an(e,h,H,K,Ee)}))))})}cn(e,n,o,u){return ld(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.tn(o,n.key),documentKey:n.key.path.toArray()})}hn(e,n,o,u){return ld(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.tn(o,n.key),n.key.path.toArray()])}on(e,n,o){const u=ld(e);let h=new Tr(Ju);return u.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,n)])},(E,M)=>{h=h.add(new Qu(o.indexId,n,M.arrayValue,M.directionalValue))}).next(()=>h)}un(e,n){let o=new Tr(Ju);const u=this.Ze(n,e);if(null==u)return o;const h=Yl(n);if(null!=h){const E=e.data.field(h.fieldPath);if(Yo(E))for(const M of E.arrayValue.values||[])o=o.add(new Qu(n.indexId,e.key,this.He(M),u))}else o=o.add(new Qu(n.indexId,e.key,wc,u));return o}an(e,n,o,u,h){qt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const E=[];return function(M,H,K,Ee,Be){const yt=M.getIterator(),Ht=H.getIterator();let Wt=wo(yt),On=wo(Ht);for(;Wt||On;){let gr=!1,Ui=!1;if(Wt&&On){const cs=K(Wt,On);cs<0?Ui=!0:cs>0&&(gr=!0)}else null!=Wt?Ui=!0:gr=!0;gr?(Ee(On),On=wo(Ht)):Ui?(Be(Wt),Wt=wo(yt)):(Wt=wo(yt),On=wo(Ht))}}(u,h,Ju,M=>{E.push(this.cn(e,n,o,M))},M=>{E.push(this.hn(e,n,o,M))}),ft.waitFor(E)}rn(e){let n=1;return oh(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,h)=>{h.done(),n=u.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((E,M)=>Ju(E,M)).filter((E,M,H)=>!M||0!==Ju(E,H[M-1]));const u=[];u.push(e);for(const E of o){const M=Ju(E,e),H=Ju(E,n);if(0===M)u[0]=e.ke();else if(M>0&&H<0)u.push(E),u.push(E.ke());else if(H>0)break}u.push(n);const h=[];for(let E=0;E<u.length;E+=2)h.push(IDBKeyRange.bound([u[E].indexId,this.uid,u[E].arrayValue,u[E].directionalValue,wc,[]],[u[E+1].indexId,this.uid,u[E+1].arrayValue,u[E+1].directionalValue,wc,[]]));return h}}function eg(i){return Es(i,"collectionParents")}function ld(i){return Es(i,"indexEntries")}function bo(i){return Es(i,"indexConfiguration")}function oh(i){return Es(i,"indexState")}const yf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Io{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Io(e,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tg(i,e,n){const o=i.store("mutations"),u=i.store("documentMutations"),h=[],E=IDBKeyRange.only(n.batchId);let M=0;const H=o.Wt({range:E},(Ee,Be,yt)=>(M++,yt.delete()));h.push(H.next(()=>{Hn(1===M)}));const K=[];for(const Ee of n.mutations){const Be=Zn(e,Ee.key.path,n.batchId);h.push(u.delete(Be)),K.push(Ee.key)}return ft.waitFor(h).next(()=>K)}function ah(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw _n();e=i.noDocument}return JSON.stringify(e).length}Io.DEFAULT_COLLECTION_PERCENTILE=10,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Io.DEFAULT=new Io(41943040,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Io.DISABLED=new Io(-1,0,0);class _f{constructor(e,n,o,u){this.userId=e,this.M=n,this.indexManager=o,this.referenceDelegate=u,this.ln={}}static Yt(e,n,o,u){Hn(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new _f(h,n,o,u)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xu(e).Wt({index:"userMutationsIndex",range:o},(u,h,E)=>{n=!1,E.done()}).next(()=>n)}addMutationBatch(e,n,o,u){const h=bc(e),E=Xu(e);return E.add({}).next(M=>{Hn("number"==typeof M);const H=new id(M,n,o,u),K=function(yt,Ht,Wt){const On=Wt.baseMutations.map(Ui=>Ml(yt.Jt,Ui)),gr=Wt.mutations.map(Ui=>Ml(yt.Jt,Ui));return{userId:Ht,batchId:Wt.batchId,localWriteTimeMs:Wt.localWriteTime.toMillis(),baseMutations:On,mutations:gr}}(this.M,this.userId,H),Ee=[];let Be=new Tr((yt,Ht)=>V(yt.canonicalString(),Ht.canonicalString()));for(const yt of u){const Ht=Zn(this.userId,yt.key.path,M);Be=Be.add(yt.key.path.popLast()),Ee.push(E.put(K)),Ee.push(h.put(Ht,Ii))}return Be.forEach(yt=>{Ee.push(this.indexManager.addToCollectionParentIndex(e,yt))}),e.addOnCommittedListener(()=>{this.ln[M]=H.keys()}),ft.waitFor(Ee).next(()=>H)})}lookupMutationBatch(e,n){return Xu(e).get(n).next(o=>o?(Hn(o.userId===this.userId),_c(this.M,o)):null)}fn(e,n){return this.ln[n]?ft.resolve(this.ln[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const u=o.keys();return this.ln[n]=u,u}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return Xu(e).Wt({index:"userMutationsIndex",range:u},(E,M,H)=>{M.userId===this.userId&&(Hn(M.batchId>=o),h=_c(this.M,M)),H.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Xu(e).Wt({index:"userMutationsIndex",range:n,reverse:!0},(u,h,E)=>{o=h.batchId,E.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xu(e).qt("userMutationsIndex",n).next(o=>o.map(u=>_c(this.M,u)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=kn(this.userId,n.path),u=IDBKeyRange.lowerBound(o),h=[];return bc(e).Wt({range:u},(E,M,H)=>{const[K,Ee,Be]=E,yt=dn(Ee);if(K===this.userId&&n.path.isEqual(yt))return Xu(e).get(Be).next(Ht=>{if(!Ht)throw _n();Hn(Ht.userId===this.userId),h.push(_c(this.M,Ht))});H.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Tr(V);const u=[];return n.forEach(h=>{const E=kn(this.userId,h.path),M=IDBKeyRange.lowerBound(E),H=bc(e).Wt({range:M},(K,Ee,Be)=>{const[yt,Ht,Wt]=K,On=dn(Ht);yt===this.userId&&h.path.isEqual(On)?o=o.add(Wt):Be.done()});u.push(H)}),ft.waitFor(u).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1,h=kn(this.userId,o),E=IDBKeyRange.lowerBound(h);let M=new Tr(V);return bc(e).Wt({range:E},(H,K,Ee)=>{const[Be,yt,Ht]=H,Wt=dn(yt);Be===this.userId&&o.isPrefixOf(Wt)?Wt.length===u&&(M=M.add(Ht)):Ee.done()}).next(()=>this.dn(e,M))}dn(e,n){const o=[],u=[];return n.forEach(h=>{u.push(Xu(e).get(h).next(E=>{if(null===E)throw _n();Hn(E.userId===this.userId),o.push(_c(this.M,E))}))}),ft.waitFor(u).next(()=>o)}removeMutationBatch(e,n){return tg(e.Ht,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this._n(n.batchId)}),ft.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ft.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return bc(e).Wt({range:o},(h,E,M)=>{if(h[0]===this.userId){const H=dn(h[1]);u.push(H)}else M.done()}).next(()=>{Hn(0===u.length)})})}containsKey(e,n){return vf(e,this.userId,n)}wn(e){return ng(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function vf(i,e,n){const o=kn(e,n.path),u=o[1],h=IDBKeyRange.lowerBound(o);let E=!1;return bc(i).Wt({range:h,jt:!0},(M,H,K)=>{const[Ee,Be,yt]=M;Ee===e&&Be===u&&(E=!0),K.done()}).next(()=>E)}function Xu(i){return Es(i,"mutations")}function bc(i){return Es(i,"documentMutations")}function ng(i){return Es(i,"mutationQueues")}class lr{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new lr(0)}static yn(){return new lr(-1)}}class rg{constructor(e,n){this.referenceDelegate=e,this.M=n}allocateTargetId(e){return this.pn(e).next(n=>{const o=new lr(n.highestTargetId);return n.highestTargetId=o.next(),this.In(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(n=>et.fromTimestamp(new Me(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.pn(e).next(u=>(u.highestListenSequenceNumber=n,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),this.In(e,u)))}addTargetData(e,n){return this.Tn(e,n).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(n,o),this.In(e,o))))}updateTargetData(e,n){return this.Tn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ol(e).delete(n.targetId)).next(()=>this.pn(e)).next(o=>(Hn(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,n,o){let u=0;const h=[];return Ol(e).Wt((E,M)=>{const H=Yu(M);H.sequenceNumber<=n&&null===o.get(H.targetId)&&(u++,h.push(this.removeTargetData(e,H)))}).next(()=>ft.waitFor(h)).next(()=>u)}forEachTarget(e,n){return Ol(e).Wt((o,u)=>{const h=Yu(u);n(h)})}pn(e){return Ef(e).get("targetGlobalKey").next(n=>(Hn(null!==n),n))}In(e,n){return Ef(e).put("targetGlobalKey",n)}Tn(e,n){return Ol(e).put(Zp(this.M,n))}En(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=lo(n),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return Ol(e).Wt({range:u,index:"queryTargetsIndex"},(E,M,H)=>{const K=Yu(M);tu(n,K.target)&&(h=K,H.done())}).next(()=>h)}addMatchingKeys(e,n,o){const u=[],h=Ta(e);return n.forEach(E=>{const M=Bt(E.path);u.push(h.put({targetId:o,path:M})),u.push(this.referenceDelegate.addReference(e,o,E))}),ft.waitFor(u)}removeMatchingKeys(e,n,o){const u=Ta(e);return ft.forEach(n,h=>{const E=Bt(h.path);return ft.waitFor([u.delete([o,E]),this.referenceDelegate.removeReference(e,o,h)])})}removeMatchingKeysForTargetId(e,n){const o=Ta(e),u=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),u=Ta(e);let h=xr();return u.Wt({range:o,jt:!0},(E,M,H)=>{const K=dn(E[1]),Ee=new an(K);h=h.add(Ee)}).next(()=>h)}containsKey(e,n){const o=Bt(n.path),u=IDBKeyRange.bound([o],[ye(o)],!1,!0);let h=0;return Ta(e).Wt({index:"documentTargetsIndex",jt:!0,range:u},([E,M],H,K)=>{0!==E&&(h++,K.done())}).next(()=>h>0)}Et(e,n){return Ol(e).get(n).next(o=>o?Yu(o):null)}}function Ol(i){return Es(i,"targets")}function Ef(i){return Es(i,"targetGlobal")}function Ta(i){return Es(i,"targetDocuments")}function Hs(i){return uh.apply(this,arguments)}function uh(){return uh=(0,c.Z)(function*(i){if(i.code!==gt.FAILED_PRECONDITION||i.message!==Ki)throw i;qt("LocalStore","Unexpectedly lost primary lease")}),uh.apply(this,arguments)}function ig([i,e],[n,o]){const u=V(i,n);return 0===u?V(e,o):u}class wf{constructor(e){this.An=e,this.buffer=new Tr(ig),this.Rn=0}Pn(){return++this.Rn}bn(e){const n=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();ig(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gu{constructor(e,n){this.garbageCollector=e,this.asyncQueue=n,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var n=this;const o=this.Vn?3e5:6e4;qt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,c.Z)(function*(){n.vn=null,n.Vn=!0;try{yield e.collectGarbage(n.garbageCollector)}catch(u){Vo(u)?qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield Hs(u)}yield n.Sn(e)}))}}class bf{constructor(e,n){this.Dn=e,this.params=n}calculateTargetCount(e,n){return this.Dn.Cn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return ft.resolve(I.A);const o=new wf(n);return this.Dn.forEachTarget(e,u=>o.bn(u.sequenceNumber)).next(()=>this.Dn.xn(e,u=>o.bn(u))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.Dn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.Dn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(yf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yf):this.Nn(e,n))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,n){let o,u,h,E,M,H,K;const Ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Be=>(Be>this.params.maximumSequenceNumbersToCollect?(qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Be}`),u=this.params.maximumSequenceNumbersToCollect):u=Be,E=Date.now(),this.nthSequenceNumber(e,u))).next(Be=>(o=Be,M=Date.now(),this.removeTargets(e,o,n))).next(Be=>(h=Be,H=Date.now(),this.removeOrphanedDocuments(e,o))).next(Be=>(K=Date.now(),ha()<=ve.in.DEBUG&&qt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-Ee}ms\n\tDetermined least recently used ${u} in `+(M-E)+`ms\n\tRemoved ${h} targets in `+(H-M)+`ms\n\tRemoved ${Be} documents in `+(K-H)+`ms\nTotal Duration: ${K-Ee}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:Be})))}}class sg{constructor(e,n){this.db=e,this.garbageCollector=new bf(this,n)}Cn(e){const n=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(u=>o+u))}kn(e){let n=0;return this.xn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}xn(e,n){return this.Mn(e,(o,u)=>n(u))}addReference(e,n,o){return Ic(e,o)}removeReference(e,n,o){return Ic(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Ic(e,n)}On(e,n){return function(o,u){let h=!1;return ng(o).zt(E=>vf(o,E,u).next(M=>(M&&(h=!0),ft.resolve(!M)))).next(()=>h)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let h=0;return this.Mn(e,(E,M)=>{if(M<=n){const H=this.On(e,E).next(K=>{if(!K)return h++,o.getEntry(e,E).next(()=>(o.removeEntry(E,et.min()),Ta(e).delete([0,Bt(E.path)])))});u.push(H)}}).next(()=>ft.waitFor(u)).next(()=>o.apply(e)).next(()=>h)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Ic(e,n)}Mn(e,n){const o=Ta(e);let u,h=I.A;return o.Wt({index:"documentTargetsIndex"},([E,M],{path:H,sequenceNumber:K})=>{0===E?(h!==I.A&&n(new an(dn(u)),h),h=K,u=H):h=I.A}).next(()=>{h!==I.A&&n(new an(dn(u)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ic(i,e){return Ta(i).put((o=i.currentSequenceNumber,{targetId:0,path:Bt(e.path),sequenceNumber:o}));var o}class Um{constructor(){this.changes=new bn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ti.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?ft.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class og{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return ja(e).put(o)}removeEntry(e,n,o){return ja(e).delete(function(u,h){const E=u.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],Ba(h),E[E.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.Fn(e,o)))}getEntry(e,n){let o=ti.newInvalidDocument(n);return ja(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(xl(n))},(u,h)=>{o=this.$n(n,h)}).next(()=>o)}Bn(e,n){let o={size:0,document:ti.newInvalidDocument(n)};return ja(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(xl(n))},(u,h)=>{o={document:this.$n(n,h),size:ah(h)}}).next(()=>o)}getEntries(e,n){let o=Qs();return this.Ln(e,n,(u,h)=>{const E=this.$n(u,h);o=o.insert(u,E)}).next(()=>o)}Un(e,n){let o=Qs(),u=new In(an.comparator);return this.Ln(e,n,(h,E)=>{const M=this.$n(h,E);o=o.insert(h,M),u=u.insert(h,ah(E))}).next(()=>({documents:o,qn:u}))}Ln(e,n,o){if(n.isEmpty())return ft.resolve();let u=new Tr(ch);n.forEach(H=>u=u.add(H));const h=IDBKeyRange.bound(xl(u.first()),xl(u.last())),E=u.getIterator();let M=E.getNext();return ja(e).Wt({index:"documentKeyIndex",range:h},(H,K,Ee)=>{const Be=an.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;M&&ch(M,Be)<0;)o(M,null),M=E.getNext();M&&M.isEqual(Be)&&(o(M,K),M=E.hasNext()?E.getNext():null),M?Ee.Ut(xl(M)):Ee.done()}).next(()=>{for(;M;)o(M,null),M=E.hasNext()?E.getNext():null})}getAllFromCollection(e,n,o){const u=[n.popLast().toArray(),n.lastSegment(),Ba(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],h=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ja(e).qt(IDBKeyRange.bound(u,h,!0)).next(E=>{let M=Qs();for(const H of E){const K=this.$n(an.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);M=M.insert(K.key,K)}return M})}getAllFromCollectionGroup(e,n,o,u){let h=Qs();const E=lh(n,o),M=lh(n,vs.max());return ja(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,M,!0)},(H,K,Ee)=>{const Be=this.$n(an.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);h=h.insert(Be.key,Be),h.size===u&&Ee.done()}).next(()=>h)}newChangeBuffer(e){return new U_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return cd(e).get("remoteDocumentGlobalKey").next(n=>(Hn(!!n),n))}Fn(e,n){return cd(e).put("remoteDocumentGlobalKey",n)}$n(e,n){if(n){const o=function qp(i,e){let n;if(e.document)n=uf(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=an.fromSegments(e.noDocument.path),u=Zu(e.noDocument.readTime);n=ti.newNoDocument(o,u),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _n();{const o=an.fromSegments(e.unknownDocument.path),u=Zu(e.unknownDocument.version);n=ti.newUnknownDocument(o,u)}}return e.readTime&&n.setReadTime(function(o){const u=new Me(o[0],o[1]);return et.fromTimestamp(u)}(e.readTime)),n}(this.M,n);if(!o.isNoDocument()||!o.version.isEqual(et.min()))return o}return ti.newInvalidDocument(e)}}class U_ extends Um{constructor(e,n){super(),this.Kn=e,this.trackRemovals=n,this.Gn=new bn(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const n=[];let o=0,u=new Tr((h,E)=>V(h.canonicalString(),E.canonicalString()));return this.changes.forEach((h,E)=>{const M=this.Gn.get(h);if(n.push(this.Kn.removeEntry(e,h,M.readTime)),E.isValidDocument()){const H=ff(this.Kn.M,E);u=u.add(h.path.popLast()),o+=ah(H)-M.size,n.push(this.Kn.addEntry(e,h,H))}else if(o-=M.size,this.trackRemovals){const H=ff(this.Kn.M,E.convertToNoDocument(et.min()));n.push(this.Kn.addEntry(e,h,H))}}),u.forEach(h=>{n.push(this.Kn.indexManager.addToCollectionParentIndex(e,h))}),n.push(this.Kn.updateMetadata(e,o)),ft.waitFor(n)}getFromCache(e,n){return this.Kn.Bn(e,n).next(o=>(this.Gn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.Kn.Un(e,n).next(({documents:o,qn:u})=>(u.forEach((h,E)=>{this.Gn.set(h,{size:E,readTime:o.get(h).readTime})}),o))}}function cd(i){return Es(i,"remoteDocumentGlobal")}function ja(i){return Es(i,"remoteDocumentsV14")}function xl(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function lh(i,e){const n=e.documentKey.path.toArray();return[i,Ba(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ch(i,e){const n=i.path.toArray(),o=e.path.toArray();let u=0;for(let h=0;h<n.length-2&&h<o.length-2;++h)if(u=V(n[h],o[h]),u)return u;return u=V(n.length,o.length),u||(u=V(n[n.length-2],o[o.length-2]),u||V(n[n.length-1],o[o.length-1]))}class B_{constructor(e){this.M=e}kt(e,n,o,u){const h=new co("createOrUpgrade",n);var M;o<1&&u>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",An,{unique:!0}),M.createObjectStore("documentMutations"),ag(e),function(M){M.createObjectStore("remoteDocuments")}(e));let E=ft.resolve();return o<3&&u>=3&&(0!==o&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),ag(e)),E=E.next(()=>function(M){const H=M.store("targetGlobal"),K={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:et.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",K)}(h))),o<4&&u>=4&&(0!==o&&(E=E.next(()=>function(M,H){return H.store("mutations").qt().next(K=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",An,{unique:!0});const Ee=H.store("mutations"),Be=K.map(yt=>Ee.put(yt));return ft.waitFor(Be)})}(e,h))),E=E.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(E=E.next(()=>this.Qn(h))),o<6&&u>=6&&(E=E.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.jn(h)))),o<7&&u>=7&&(E=E.next(()=>this.Wn(h))),o<8&&u>=8&&(E=E.next(()=>this.zn(e,h))),o<9&&u>=9&&(E=E.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(E=E.next(()=>this.Hn(h))),o<11&&u>=11&&(E=E.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(E=E.next(()=>{!function(M){const H=M.createObjectStore("documentOverlays",{keyPath:fu});H.createIndex("collectionPathOverlayIndex",rd,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",Wu,{unique:!1})}(e)})),o<13&&u>=13&&(E=E.next(()=>function(M){const H=M.createObjectStore("remoteDocumentsV14",{keyPath:Vi});H.createIndex("documentKeyIndex",js),H.createIndex("collectionGroupIndex",Si)}(e)).next(()=>this.Jn(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(E=E.next(()=>{!function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Ua}).createIndex("sequenceNumberIndex",us,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:gc}).createIndex("documentKeyIndex",hu,{unique:!1})}(e)})),E}jn(e){let n=0;return e.store("remoteDocuments").Wt((o,u)=>{n+=ah(u)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.qt().next(u=>ft.forEach(u,h=>{const E=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",E).next(M=>ft.forEach(M,H=>{Hn(H.userId===h.userId);const K=_c(this.M,H);return tg(e,h.userId,K).next(()=>{})}))}))}Wn(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const h=[];return o.Wt((E,M)=>{const H=new Cn(E),K=[0,Bt(H)];h.push(n.get(K).next(Ee=>Ee?ft.resolve():n.put({targetId:0,path:Bt(H),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>ft.waitFor(h))})}zn(e,n){e.createObjectStore("collectionParents",{keyPath:ra});const o=n.store("collectionParents"),u=new sh,h=E=>{if(u.add(E)){const M=E.lastSegment(),H=E.popLast();return o.put({collectionId:M,parent:Bt(H)})}};return n.store("remoteDocuments").Wt({jt:!0},(E,M)=>{const H=new Cn(E);return h(H.popLast())}).next(()=>n.store("documentMutations").Wt({jt:!0},([E,M,H],K)=>{const Ee=dn(M);return h(Ee.popLast())}))}Hn(e){const n=e.store("targets");return n.Wt((o,u)=>{const h=Yu(u),E=Zp(this.M,h);return n.put(E)})}Jn(e,n){const o=n.store("remoteDocuments"),u=[];return o.Wt((h,E)=>{const M=n.store("remoteDocumentsV14"),H=(K=E,K.document?new an(Cn.fromString(K.document.name).popFirst(5)):K.noDocument?an.fromSegments(K.noDocument.path):K.unknownDocument?an.fromSegments(K.unknownDocument.path):_n()).path.toArray();var K;const Ee={prefixPath:H.slice(0,H.length-2),collectionGroup:H[H.length-2],documentId:H[H.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};u.push(M.put(Ee))}).next(()=>ft.waitFor(u))}}function ag(i){i.createObjectStore("targetDocuments",{keyPath:Da}).createIndex("documentTargetsIndex",Js,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$s,{unique:!0}),i.createObjectStore("targetGlobal")}const If="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Df{constructor(e,n,o,u,h,E,M,H,K,Ee,Be=13){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Yn=h,this.window=E,this.document=M,this.Xn=K,this.Zn=Ee,this.ts=Be,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=yt=>Promise.resolve(),!Df.vt())throw new jt(gt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sg(this,u),this.hs=n+"main",this.M=new Kp(H),this.ls=new kr(this.hs,this.ts,new B_(this.M)),this.fs=new rg(this.referenceDelegate,this.M),this.ds=new og(this.M),this._s=new gf,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===Ee&&Vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new jt(gt.FAILED_PRECONDITION,If);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new I(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var n=this;return this.cs=function(){var o=(0,c.Z)(function*(u){if(n.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var n=(0,c.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,c.Z)(function*(){n.started&&(yield n.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>hd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(n=>{n||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(n=>this.isPrimary&&!n?this.Rs(e).next(()=>!1):!!n&&this.Ps(e).next(()=>!0))).catch(e=>{if(Vo(e))return qt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return dd(e).get("owner").next(n=>ft.resolve(this.bs(n)))}Vs(e){return hd(e).delete(this.clientId)}vs(){var e=this;return(0,c.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Es(o,"clientMetadata");return u.qt().next(h=>{const E=e.Ds(h,18e5),M=h.filter(H=>-1===E.indexOf(H));return ft.forEach(M,H=>u.delete(H.clientId)).next(()=>M)})}).catch(()=>[]);if(e.ws)for(const o of n)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?ft.resolve(!0):dd(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)){if(this.bs(n)&&this.networkEnabled)return!0;if(!this.bs(n)){if(!n.allowTabSynchronization)throw new jt(gt.FAILED_PRECONDITION,If);return!1}}return!(!this.networkEnabled||!this.inForeground)||hd(e).qt().next(o=>void 0===this.Ds(o,5e3).find(u=>{if(this.clientId!==u.clientId){const E=!this.inForeground&&u.inForeground,M=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||E&&M)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&qt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,c.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Wp(n,I.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,n){return e.filter(o=>this.Ss(o.updateTimeMs,n)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>hd(e).qt().next(n=>this.Ds(n,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,n){return _f.Yt(e,this.M,n,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Xp(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return vc.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,n,o){qt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===n?"readonly":"readwrite",h=14===(E=this.ts)?Or:13===E?ur:12===E?Yn:11===E?Mn:void _n();var E;let M;return this.ls.runTransaction(e,u,h,H=>(M=new Wp(H,this.es?this.es.next():I.A),"readwrite-primary"===n?this.Es(M).next(K=>!!K||this.As(M)).next(K=>{if(!K)throw Vr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new jt(gt.FAILED_PRECONDITION,Ki);return o(M)}).next(K=>this.Ps(M).next(()=>K)):this.$s(M).next(()=>o(M)))).then(H=>(M.raiseOnCommittedEvent(),H))}$s(e){return dd(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)&&!this.bs(n)&&!(this.Zn||this.allowTabSynchronization&&n.allowTabSynchronization))throw new jt(gt.FAILED_PRECONDITION,If)})}Ps(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dd(e).put("owner",n)}static vt(){return kr.vt()}Rs(e){const n=dd(e);return n.get("owner").next(o=>this.bs(o)?(qt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ft.resolve())}Ss(e,n){const o=Date.now();return!(e<o-n||e>o&&(Vr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Ie.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var n;try{const o=null!==(null===(n=this.ws)||void 0===n?void 0:n.getItem(this.Cs(e)));return qt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Vr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Vr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function dd(i){return Es(i,"owner")}function hd(i){return Es(i,"clientMetadata")}function ug(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Bm{constructor(e,n,o){this.ds=e,this.Bs=n,this.indexManager=o}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(o=>this.Us(e,n,o))}Us(e,n,o){return this.ds.getEntry(e,n).next(u=>{for(const h of o)h.applyToLocalView(u);return u})}qs(e,n){e.forEach((o,u)=>{for(const h of n)h.applyToLocalView(u)})}Ks(e,n){return this.ds.getEntries(e,n).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>this.qs(n,o))}Qs(e,n,o){return an.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.js(e,n.path):ic(n)?this.Ws(e,n,o):this.zs(e,n,o);var u}js(e,n){return this.Ls(e,new an(n)).next(o=>{let u=Al();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Ws(e,n,o){const u=n.collectionGroup;let h=Al();return this.indexManager.getCollectionParents(e,u).next(E=>ft.forEach(E,M=>{const H=(K=n,Ee=M.child(u),new Ms(Ee,null,K.explicitOrderBy.slice(),K.filters.slice(),K.limit,K.limitType,K.startAt,K.endAt));var K,Ee;return this.zs(e,H,o).next(K=>{K.forEach((Ee,Be)=>{h=h.insert(Ee,Be)})})}).next(()=>h))}zs(e,n,o){let u;return this.ds.getAllFromCollection(e,n.path,o).next(h=>(u=h,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(h=>{for(const E of h)for(const M of E.mutations){const H=M.key;let K=u.get(H);null==K&&(K=ti.newInvalidDocument(H),u=u.insert(H,K)),lu(M,K,E.localWriteTime),K.isFoundDocument()||(u=u.remove(H))}}).next(()=>(u.forEach((h,E)=>{Lu(n,E)||(u=u.remove(h))}),u))}}class lg{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Hs=o,this.Js=u}static Ys(e,n){let o=xr(),u=xr();for(const h of n.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new lg(e,n.fromCache,o,u)}}class Tf{Xs(e){this.Zs=e}Qs(e,n,o,u){return 0===(h=n).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||o.isEqual(et.min())?this.ti(e,n):this.Zs.Ks(e,u).next(h=>{const E=this.ei(n,h);return(su(n)||_a(n))&&this.ni(n.limitType,E,u,o)?this.ti(e,n):(ha()<=ve.in.DEBUG&&qt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),sc(n)),this.Zs.Qs(e,n,eu(o,-1)).next(M=>(E.forEach(H=>{M=M.insert(H.key,H)}),M)))});var h}ei(e,n){let o=new Tr(Kc(e));return n.forEach((u,h)=>{Lu(e,h)&&(o=o.add(h))}),o}ni(e,n,o,u){if(o.size!==n.size)return!0;const h="F"===e?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}ti(e,n){return ha()<=ve.in.DEBUG&&qt("QueryEngine","Using full collection scan to execute query:",sc(n)),this.Zs.Qs(e,n,vs.min())}}class cg{constructor(e,n,o,u){this.persistence=e,this.si=n,this.M=u,this.ii=new In(V),this.ri=new bn(h=>lo(h),tu),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(o)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Bm(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ii))}}function dg(i,e,n,o){return new cg(i,e,n,o)}function dh(i,e){return hg.apply(this,arguments)}function hg(){return hg=(0,c.Z)(function*(i,e){const n=Yt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.Bs.getAllMutationBatches(o).next(h=>(u=h,n.ai(e),n.Bs.getAllMutationBatches(o))).next(h=>{const E=[],M=[];let H=xr();for(const K of u){E.push(K.batchId);for(const Ee of K.mutations)H=H.add(Ee.key)}for(const K of h){M.push(K.batchId);for(const Ee of K.mutations)H=H.add(Ee.key)}return n.ci.Ks(o,H).next(K=>({hi:K,removedBatchIds:E,addedBatchIds:M}))})})}),hg.apply(this,arguments)}function j_(i,e){const n=Yt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),h=n.ui.newChangeBuffer({trackRemovals:!0});return function(E,M,H,K){const Ee=H.batch,Be=Ee.keys();let yt=ft.resolve();return Be.forEach(Ht=>{yt=yt.next(()=>K.getEntry(M,Ht)).next(Wt=>{const On=H.docVersions.get(Ht);Hn(null!==On),Wt.version.compareTo(On)<0&&(Ee.applyToRemoteDocument(Wt,H),Wt.isValidDocument()&&(Wt.setReadTime(H.commitVersion),K.addEntry(Wt)))})}),yt.next(()=>E.Bs.removeMutationBatch(M,Ee))}(n,o,e,h).next(()=>h.apply(o)).next(()=>n.Bs.performConsistencyCheck(o)).next(()=>n.ci.Ks(o,u))})}function jm(i){const e=Yt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function $_(i,e){const n=Yt(i),o=e.snapshotVersion;let u=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const E=n.ui.newChangeBuffer({trackRemovals:!0});u=n.ii;const M=[];e.targetChanges.forEach((K,Ee)=>{const Be=u.get(Ee);if(!Be)return;M.push(n.fs.removeMatchingKeys(h,K.removedDocuments,Ee).next(()=>n.fs.addMatchingKeys(h,K.addedDocuments,Ee)));let yt=Be.withSequenceNumber(h.currentSequenceNumber);var Ht,Wt,On;e.targetMismatches.has(Ee)?yt=yt.withResumeToken(Ur.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):K.resumeToken.approximateByteSize()>0&&(yt=yt.withResumeToken(K.resumeToken,o)),u=u.insert(Ee,yt),Wt=yt,On=K,(0===(Ht=Be).resumeToken.approximateByteSize()||Wt.snapshotVersion.toMicroseconds()-Ht.snapshotVersion.toMicroseconds()>=3e8||On.addedDocuments.size+On.modifiedDocuments.size+On.removedDocuments.size>0)&&M.push(n.fs.updateTargetData(h,yt))});let H=Qs();if(e.documentUpdates.forEach(K=>{e.resolvedLimboDocuments.has(K)&&M.push(n.persistence.referenceDelegate.updateLimboDocument(h,K))}),M.push($m(h,E,e.documentUpdates).next(K=>{H=K})),!o.isEqual(et.min())){const K=n.fs.getLastRemoteSnapshotVersion(h).next(Ee=>n.fs.setTargetsMetadata(h,h.currentSequenceNumber,o));M.push(K)}return ft.waitFor(M).next(()=>E.apply(h)).next(()=>n.ci.Gs(h,H)).next(()=>H)}).then(h=>(n.ii=u,h))}function $m(i,e,n){let o=xr();return n.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let h=Qs();return n.forEach((E,M)=>{const H=u.get(E);M.isNoDocument()&&M.version.isEqual(et.min())?(e.removeEntry(E,M.readTime),h=h.insert(E,M)):!H.isValidDocument()||M.version.compareTo(H.version)>0||0===M.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(M),h=h.insert(E,M)):qt("LocalStore","Ignoring outdated watch update for ",E,". Current version:",H.version," Watch version:",M.version)}),h})}function H_(i,e){const n=Yt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(o,e)))}function fd(i,e){const n=Yt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.fs.getTargetData(o,e).next(h=>h?(u=h,ft.resolve(u)):n.fs.allocateTargetId(o).next(E=>(u=new Ku(e,E,0,o.currentSequenceNumber),n.fs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.ii.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ii=n.ii.insert(o.targetId,o),n.ri.set(e,o.targetId)),o})}function pd(i,e,n){return fg.apply(this,arguments)}function fg(){return fg=(0,c.Z)(function*(i,e,n){const o=Yt(i),u=o.ii.get(e),h=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",h,E=>o.persistence.referenceDelegate.removeTarget(E,u)))}catch(E){if(!Vo(E))throw E;qt("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}o.ii=o.ii.remove(e),o.ri.delete(u.target)}),fg.apply(this,arguments)}function Cf(i,e,n){const o=Yt(i);let u=et.min(),h=xr();return o.persistence.runTransaction("Execute query","readonly",E=>function(M,H,K){const Ee=Yt(M),Be=Ee.ri.get(K);return void 0!==Be?ft.resolve(Ee.ii.get(Be)):Ee.fs.getTargetData(H,K)}(o,E,Xi(e)).next(M=>{if(M)return u=M.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(E,M.targetId).next(H=>{h=H})}).next(()=>o.si.Qs(E,e,n?u:et.min(),n?h:xr())).next(M=>(pg(o,Wc(e),M),{documents:M,li:h})))}function mu(i,e){const n=Yt(i),o=Yt(n.fs),u=n.ii.get(e);return u?Promise.resolve(u.target):n.persistence.runTransaction("Get target data","readonly",h=>o.Et(h,e).next(E=>E?E.target:null))}function hh(i,e){const n=Yt(i),o=n.oi.get(e)||et.min();return n.persistence.runTransaction("Get new document changes","readonly",u=>n.ui.getAllFromCollectionGroup(u,e,eu(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(pg(n,e,u),u))}function pg(i,e,n){let o=et.min();n.forEach((u,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),i.oi.set(e,o)}function gd(){return gd=(0,c.Z)(function*(i,e,n,o){const u=Yt(i);let h=xr(),E=Qs();for(const K of n){const Ee=e.fi(K.metadata.name);K.document&&(h=h.add(Ee));const Be=e.di(K);Be.setReadTime(e._i(K.metadata.readTime)),E=E.insert(Ee,Be)}const M=u.ui.newChangeBuffer({trackRemovals:!0}),H=yield fd(u,(K=o,Xi(ya(Cn.fromString(`__bundle__/docs/${K}`)))));var K;return u.persistence.runTransaction("Apply bundle documents","readwrite",K=>$m(K,M,E).next(Ee=>(M.apply(K),Ee)).next(Ee=>u.fs.removeMatchingKeysForTargetId(K,H.targetId).next(()=>u.fs.addMatchingKeys(K,h,H.targetId)).next(()=>u.ci.Gs(K,Ee)).next(()=>Ee)))}),gd.apply(this,arguments)}function mg(i,e){return md.apply(this,arguments)}function md(){return md=(0,c.Z)(function*(i,e,n=xr()){const o=yield fd(i,Xi(th(e.bundledQuery))),u=Yt(i);return u.persistence.runTransaction("Save named query","readwrite",h=>{const E=zr(e.readTime);if(o.snapshotVersion.compareTo(E)>=0)return u._s.saveNamedQuery(h,e);const M=o.withResumeToken(Ur.EMPTY_BYTE_STRING,E);return u.ii=u.ii.insert(M.targetId,M),u.fs.updateTargetData(h,M).next(()=>u.fs.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>u.fs.addMatchingKeys(h,n,o.targetId)).next(()=>u._s.saveNamedQuery(h,e))})}),md.apply(this,arguments)}class Hm{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,n){return ft.resolve(this.wi.get(n))}saveBundleMetadata(e,n){var o;return this.wi.set(n.id,{id:(o=n).id,version:o.version,createTime:zr(o.createTime)}),ft.resolve()}getNamedQuery(e,n){return ft.resolve(this.mi.get(n))}saveNamedQuery(e,n){return this.mi.set(n.name,{name:(o=n).name,query:th(o.bundledQuery),readTime:zr(o.readTime)}),ft.resolve();var o}}class el{constructor(){this.overlays=new In(an.comparator),this.gi=new Map}getOverlay(e,n){return ft.resolve(this.overlays.get(n))}saveOverlays(e,n,o){return o.forEach((u,h)=>{this.Xt(e,n,h)}),ft.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.gi.get(o);return void 0!==u&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.gi.delete(o)),ft.resolve()}getOverlaysForCollection(e,n,o){const u=Va(),h=n.length+1,E=new an(n.child("")),M=this.overlays.getIteratorFrom(E);for(;M.hasNext();){const H=M.getNext().value,K=H.getKey();if(!n.isPrefixOf(K.path))break;K.path.length===h&&H.largestBatchId>o&&u.set(H.getKey(),H)}return ft.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let h=new In((K,Ee)=>K-Ee);const E=this.overlays.getIterator();for(;E.hasNext();){const K=E.getNext().value;if(K.getKey().getCollectionGroup()===n&&K.largestBatchId>o){let Ee=h.get(K.largestBatchId);null===Ee&&(Ee=Va(),h=h.insert(K.largestBatchId,Ee)),Ee.set(K.getKey(),K)}}const M=Va(),H=h.getIterator();for(;H.hasNext()&&(H.getNext().value.forEach((K,Ee)=>M.set(K,Ee)),!(M.size()>=u)););return ft.resolve(M)}Xt(e,n,o){if(null===o)return;const u=this.overlays.get(o.key);if(null!==u){const E=this.gi.get(u.largestBatchId).delete(o.key);this.gi.set(u.largestBatchId,E)}this.overlays=this.overlays.insert(o.key,new sd(n,o));let h=this.gi.get(n);void 0===h&&(h=xr(),this.gi.set(n,h)),this.gi.set(n,h.add(o.key))}}class fh{constructor(){this.yi=new Tr(xs.pi),this.Ii=new Tr(xs.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,n){const o=new xs(e,n);this.yi=this.yi.add(o),this.Ii=this.Ii.add(o)}Ei(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.Ai(new xs(e,n))}Ri(e,n){e.forEach(o=>this.removeReference(o,n))}Pi(e){const n=new an(new Cn([])),o=new xs(n,e),u=new xs(n,e+1),h=[];return this.Ii.forEachInRange([o,u],E=>{this.Ai(E),h.push(E.key)}),h}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const n=new an(new Cn([])),o=new xs(n,e),u=new xs(n,e+1);let h=xr();return this.Ii.forEachInRange([o,u],E=>{h=h.add(E.key)}),h}containsKey(e){const n=new xs(e,0),o=this.yi.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class xs{constructor(e,n){this.key=e,this.vi=n}static pi(e,n){return an.comparator(e.key,n.key)||V(e.vi,n.vi)}static Ti(e,n){return V(e.vi,n.vi)||an.comparator(e.key,n.key)}}class Af{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Tr(xs.pi)}checkEmpty(e){return ft.resolve(0===this.Bs.length)}addMutationBatch(e,n,o,u){const h=this.Si;this.Si++;const E=new id(h,n,o,u);this.Bs.push(E);for(const M of u)this.Di=this.Di.add(new xs(M.key,h)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return ft.resolve(E)}lookupMutationBatch(e,n){return ft.resolve(this.Ci(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.xi(n+1),h=u<0?0:u;return ft.resolve(this.Bs.length>h?this.Bs[h]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return ft.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new xs(n,0),u=new xs(n,Number.POSITIVE_INFINITY),h=[];return this.Di.forEachInRange([o,u],E=>{const M=this.Ci(E.vi);h.push(M)}),ft.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Tr(V);return n.forEach(u=>{const h=new xs(u,0),E=new xs(u,Number.POSITIVE_INFINITY);this.Di.forEachInRange([h,E],M=>{o=o.add(M.vi)})}),ft.resolve(this.Ni(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let h=o;an.isDocumentKey(h)||(h=h.child(""));const E=new xs(new an(h),0);let M=new Tr(V);return this.Di.forEachWhile(H=>{const K=H.key.path;return!!o.isPrefixOf(K)&&(K.length===u&&(M=M.add(H.vi)),!0)},E),ft.resolve(this.Ni(M))}Ni(e){const n=[];return e.forEach(o=>{const u=this.Ci(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Hn(0===this.ki(n.batchId,"removed")),this.Bs.shift();let o=this.Di;return ft.forEach(n.mutations,u=>{const h=new xs(u.key,n.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Di=o})}_n(e){}containsKey(e,n){const o=new xs(n,0),u=this.Di.firstAfterOrEqual(o);return ft.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return ft.resolve()}ki(e,n){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const n=this.xi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class Gm{constructor(e){this.Mi=e,this.docs=new In(an.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),h=u?u.size:0,E=this.Mi(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:E}),this.size+=E-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return ft.resolve(o?o.document.mutableCopy():ti.newInvalidDocument(n))}getEntries(e,n){let o=Qs();return n.forEach(u=>{const h=this.docs.get(u);o=o.insert(u,h?h.document.mutableCopy():ti.newInvalidDocument(u))}),ft.resolve(o)}getAllFromCollection(e,n,o){let u=Qs();const h=new an(n.child("")),E=this.docs.getIteratorFrom(h);for(;E.hasNext();){const{key:M,value:{document:H}}=E.getNext();if(!n.isPrefixOf(M.path))break;M.path.length>n.length+1||bl(Pu(H),o)<=0||(u=u.insert(H.key,H.mutableCopy()))}return ft.resolve(u)}getAllFromCollectionGroup(e,n,o,u){_n()}Oi(e,n){return ft.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new yg(this)}getSize(e){return ft.resolve(this.size)}}class yg extends Um{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Kn.addEntry(e,u)):this.Kn.removeEntry(o)}),ft.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class zm{constructor(e){this.persistence=e,this.Fi=new bn(n=>lo(n),tu),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.$i=0,this.Bi=new fh,this.targetCount=0,this.Li=lr.gn()}forEachTarget(e,n){return this.Fi.forEach((o,u)=>n(u)),ft.resolve()}getLastRemoteSnapshotVersion(e){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ft.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.$i&&(this.$i=n),ft.resolve()}Tn(e){this.Fi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Li=new lr(n),this.highestTargetId=n),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,ft.resolve()}updateTargetData(e,n){return this.Tn(n),ft.resolve()}removeTargetData(e,n){return this.Fi.delete(n.target),this.Bi.Pi(n.targetId),this.targetCount-=1,ft.resolve()}removeTargets(e,n,o){let u=0;const h=[];return this.Fi.forEach((E,M)=>{M.sequenceNumber<=n&&null===o.get(M.targetId)&&(this.Fi.delete(E),h.push(this.removeMatchingKeysForTargetId(e,M.targetId)),u++)}),ft.waitFor(h).next(()=>u)}getTargetCount(e){return ft.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fi.get(n)||null;return ft.resolve(o)}addMatchingKeys(e,n,o){return this.Bi.Ei(n,o),ft.resolve()}removeMatchingKeys(e,n,o){this.Bi.Ri(n,o);const u=this.persistence.referenceDelegate,h=[];return u&&n.forEach(E=>{h.push(u.markPotentiallyOrphaned(e,E))}),ft.waitFor(h)}removeMatchingKeysForTargetId(e,n){return this.Bi.Pi(n),ft.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Bi.Vi(n);return ft.resolve(o)}containsKey(e,n){return ft.resolve(this.Bi.containsKey(n))}}class Wm{constructor(e,n){this.Ui={},this.overlays={},this.es=new I(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new zm(this),this.indexManager=new V_,this.ds=new Gm(o=>this.referenceDelegate.qi(o)),this.M=new Kp(n),this._s=new Hm(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new el,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Ui[e.toKey()];return o||(o=new Af(n,this.referenceDelegate),this.Ui[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,o){qt("MemoryPersistence","Starting transaction:",e);const u=new yd(this.es.next());return this.referenceDelegate.Ki(),o(u).next(h=>this.referenceDelegate.Gi(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Qi(e,n){return ft.or(Object.values(this.Ui).map(o=>()=>o.containsKey(e,n)))}}class yd extends ia{constructor(e){super(),this.currentSequenceNumber=e}}class tl{constructor(e){this.persistence=e,this.ji=new fh,this.Wi=null}static zi(e){return new tl(e)}get Hi(){if(this.Wi)return this.Wi;throw _n()}addReference(e,n,o){return this.ji.addReference(o,n),this.Hi.delete(o.toString()),ft.resolve()}removeReference(e,n,o){return this.ji.removeReference(o,n),this.Hi.add(o.toString()),ft.resolve()}markPotentiallyOrphaned(e,n){return this.Hi.add(n.toString()),ft.resolve()}removeTarget(e,n){this.ji.Pi(n.targetId).forEach(u=>this.Hi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(h=>this.Hi.add(h.toString()))}).next(()=>o.removeTargetData(e,n))}Ki(){this.Wi=new Set}Gi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.Hi,o=>{const u=an.fromPath(o);return this.Ji(e,u).next(h=>{h||n.removeEntry(u,et.min())})}).next(()=>(this.Wi=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ji(e,n).next(o=>{o?this.Hi.delete(n.toString()):this.Hi.add(n.toString())})}qi(e){return 0}Ji(e,n){return ft.or([()=>ft.resolve(this.ji.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Qi(e,n)])}}function ph(i,e){return`firestore_clients_${i}_${e}`}function Nl(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Rl(i,e){return`firestore_targets_${i}_${e}`}class yu{constructor(e,n,o,u){this.user=e,this.batchId=n,this.state=o,this.error=u}static Yi(e,n,o){const u=JSON.parse(o);let h,E="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return E&&u.error&&(E="string"==typeof u.error.message&&"string"==typeof u.error.code,E&&(h=new jt(u.error.code,u.error.message))),E?new yu(e,n,u.state,h):(Vr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _d{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Yi(e,n){const o=JSON.parse(n);let u,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new jt(o.error.code,o.error.message))),h?new _d(e,o.state,u):(Vr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vd{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Yi(e,n){const o=JSON.parse(n);let u="object"==typeof o&&o.activeTargetIds instanceof Array,h=Hu();for(let E=0;u&&E<o.activeTargetIds.length;++E)u=ql(o.activeTargetIds[E]),h=h.add(o.activeTargetIds[E]);return u?new vd(e,h):(Vr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class gh{constructor(e,n){this.clientId=e,this.onlineState=n}static Yi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new gh(n.clientId,n.onlineState):(Vr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ed{constructor(){this.activeTargetIds=Hu()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wd{constructor(e,n,o,u,h){this.window=e,this.Yn=n,this.persistenceKey=o,this.er=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new In(V),this.started=!1,this.rr=[];const E=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.ur=ph(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Ed),this.cr=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.Z)(function*(){const n=yield e.syncEngine.Fs();for(const u of n){if(u===e.er)continue;const h=e.getItem(ph(e.persistenceKey,u));if(h){const E=vd.Yi(u,h);E&&(e.ir=e.ir.insert(E.clientId,E))}}e.wr();const o=e.storage.getItem(e.dr);if(o){const u=e.mr(o);u&&e.gr(u)}for(const u of e.rr)e.sr(u);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let n=!1;return this.ir.forEach((o,u)=>{u.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,n,o){this.pr(e,n,o),this.Ir(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Rl(this.persistenceKey,e));if(o){const u=_d.Yi(e,o);u&&(n=u.state)}}return this.Tr.Zi(e),this.wr(),n}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Rl(this.persistenceKey,e))}updateQueryState(e,n,o){this.Er(e,n,o)}handleUserChange(e,n,o){n.forEach(u=>{this.Ir(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return qt("SharedClientState","READ",e,n),n}setItem(e,n){qt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){qt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(qt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ur)return void Vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,c.Z)(function*(){if(n.started){if(null!==o.key)if(n.cr.test(o.key)){if(null==o.newValue){const u=n.Pr(o.key);return n.br(u,null)}{const u=n.Vr(o.key,o.newValue);if(u)return n.br(u.clientId,u)}}else if(n.hr.test(o.key)){if(null!==o.newValue){const u=n.vr(o.key,o.newValue);if(u)return n.Sr(u)}}else if(n.lr.test(o.key)){if(null!==o.newValue){const u=n.Dr(o.key,o.newValue);if(u)return n.Cr(u)}}else if(o.key===n.dr){if(null!==o.newValue){const u=n.mr(o.newValue);if(u)return n.gr(u)}}else if(o.key===n.ar){const u=function(h){let E=I.A;if(null!=h)try{const M=JSON.parse(h);Hn("number"==typeof M),E=M}catch(M){Vr("SharedClientState","Failed to read sequence number from WebStorage",M)}return E}(o.newValue);u!==I.A&&n.sequenceNumberHandler(u)}else if(o.key===n._r){const u=n.Nr(o.newValue);yield Promise.all(u.map(h=>n.syncEngine.kr(h)))}}else n.rr.push(o)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,n,o){const u=new yu(this.currentUser,e,n,o),h=Nl(this.persistenceKey,this.currentUser,e);this.setItem(h,u.Xi())}Ir(e){const n=Nl(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,n,o){const u=Rl(this.persistenceKey,e),h=new _d(e,n,o);this.setItem(u,h.Xi())}Rr(e){const n=JSON.stringify(Array.from(e));this.setItem(this._r,n)}Pr(e){const n=this.cr.exec(e);return n?n[1]:null}Vr(e,n){const o=this.Pr(e);return vd.Yi(o,n)}vr(e,n){const o=this.hr.exec(e),u=Number(o[1]);return yu.Yi(new Cr(void 0!==o[2]?o[2]:null),u,n)}Dr(e,n){const o=this.lr.exec(e),u=Number(o[1]);return _d.Yi(u,n)}mr(e){return gh.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var n=this;return(0,c.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Mr(e.batchId,e.state,e.error);qt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,n){const o=n?this.ir.insert(e,n):this.ir.remove(e),u=this.yr(this.ir),h=this.yr(o),E=[],M=[];return h.forEach(H=>{u.has(H)||E.push(H)}),u.forEach(H=>{h.has(H)||M.push(H)}),this.syncEngine.Fr(E,M).then(()=>{this.ir=o})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let n=Hu();return e.forEach((o,u)=>{n=n.unionWith(u.activeTargetIds)}),n}}class Sf{constructor(){this.$r=new Ed,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,n,o){this.Br[e]=n}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Ed,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mh{Lr(e){}shutdown(){}}class _g{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const vg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class G_{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Eg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,n,o,u,h){const E=this.uo(e,n);qt("RestConnection","Sending: ",E,o);const M={};return this.ao(M,u,h),this.co(e,E,M,o).then(H=>(qt("RestConnection","Received: ",H),H),H=>{throw Ys("RestConnection",`${e} failed with error: `,H,"url: ",E,"request:",o),H})}ho(e,n,o,u,h){return this.oo(e,n,o,u,h)}ao(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+yo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,h)=>e[h]=u),o&&o.headers.forEach((u,h)=>e[h]=u)}uo(e,n){return`${this.io}/v1/${n}:${vg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,o,u){return new Promise((h,E)=>{const M=new Qa;M.listenOnce(Ya.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Ci.NO_ERROR:const K=M.getResponseJson();qt("Connection","XHR received:",JSON.stringify(K)),h(K);break;case Ci.TIMEOUT:qt("Connection",'RPC "'+e+'" timed out'),E(new jt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case Ci.HTTP_ERROR:const Ee=M.getStatus();if(qt("Connection",'RPC "'+e+'" failed with status:',Ee,"response text:",M.getResponseText()),Ee>0){const Be=M.getResponseJson().error;if(Be&&Be.status&&Be.message){const yt=function(Ht){const Wt=Ht.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(Wt)>=0?Wt:gt.UNKNOWN}(Be.status);E(new jt(yt,Be.message))}else E(new jt(gt.UNKNOWN,"Server responded with status "+M.getStatus()))}else E(new jt(gt.UNAVAILABLE,"Connection failed."));break;default:_n()}}finally{qt("Connection",'RPC "'+e+'" completed.')}});const H=JSON.stringify(u);M.send(n,"POST",H,o,15)})}lo(e,n,o){const u=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=qs(),E=Oo(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(M.xmlHttpFactory=new Zs({})),this.ao(M.initMessageHeaders,n,o),(0,Ie.uI)()||(0,Ie.b$)()||(0,Ie.d)()||(0,Ie.w1)()||(0,Ie.Mn)()||(0,Ie.ru)()||(M.httpHeadersOverwriteParam="$httpHeaders");const H=u.join("");qt("Connection","Creating WebChannel: "+H,M);const K=h.createWebChannel(H,M);let Ee=!1,Be=!1;const yt=new G_({Wr:Wt=>{Be?qt("Connection","Not sending because WebChannel is closed:",Wt):(Ee||(qt("Connection","Opening WebChannel transport."),K.open(),Ee=!0),qt("Connection","WebChannel sending:",Wt),K.send(Wt))},zr:()=>K.close()}),Ht=(Wt,On,gr)=>{Wt.listen(On,Ui=>{try{gr(Ui)}catch(cs){setTimeout(()=>{throw cs},0)}})};return Ht(K,Ls.EventType.OPEN,()=>{Be||qt("Connection","WebChannel transport opened.")}),Ht(K,Ls.EventType.CLOSE,()=>{Be||(Be=!0,qt("Connection","WebChannel transport closed"),yt.no())}),Ht(K,Ls.EventType.ERROR,Wt=>{Be||(Be=!0,Ys("Connection","WebChannel transport errored:",Wt),yt.no(new jt(gt.UNAVAILABLE,"The operation could not be completed")))}),Ht(K,Ls.EventType.MESSAGE,Wt=>{var On;if(!Be){const gr=Wt.data[0];Hn(!!gr);const Ui=gr,cs=Ui.error||(null===(On=Ui[0])||void 0===On?void 0:On.error);if(cs){qt("Connection","WebChannel received error:",cs);const Bi=cs.status;let Xs=function(qi){const po=z[qi];if(void 0!==po)return $t(po)}(Bi),ds=cs.message;void 0===Xs&&(Xs=gt.INTERNAL,ds="Unknown error status: "+Bi+" with message "+cs.message),Be=!0,yt.no(new jt(Xs,ds)),K.close()}else qt("Connection","WebChannel received:",gr),yt.so(gr)}}),Ht(E,da.STAT_EVENT,Wt=>{Wt.stat===Ss.PROXY?qt("Connection","Detected buffering proxy"):Wt.stat===Ss.NOPROXY&&qt("Connection","Detected no buffering proxy")}),setTimeout(()=>{yt.eo()},0),yt}}function Mf(){return"undefined"!=typeof window?window:null}function yh(){return"undefined"!=typeof document?document:null}function Dc(i){return new $p(i,!0)}class Of{constructor(e,n,o=1e3,u=1.5,h=6e4){this.Yn=e,this.timerId=n,this.fo=o,this._o=u,this.wo=h,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const n=Math.floor(this.mo+this.Eo()),o=Math.max(0,Date.now()-this.po),u=Math.max(0,n-o);u>0&&qt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.mo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,u,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class wg{constructor(e,n,o,u,h,E,M,H){this.Yn=e,this.Ro=o,this.Po=u,this.bo=h,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=M,this.listener=H,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Of(e,n)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,c.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,c.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,n){var o=this;return(0,c.Z)(function*(){o.$o(),o.Bo(),o.Do.cancel(),o.Vo++,4!==e?o.Do.reset():n&&n.code===gt.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),o.Do.Io()):n&&n.code===gt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Lo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Yr(n)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Vo===n&&this.qo(o,u)},o=>{e(()=>{const u=new jt(gt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ko(u)})})}qo(e,n){const o=this.Uo(this.Vo);this.stream=this.Go(e,n),this.stream.Hr(()=>{o(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(u=>{o(()=>this.Ko(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}No(){var e=this;this.state=5,this.Do.To((0,c.Z)(function*(){e.state=0,e.start()}))}Ko(e){return qt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Yn.enqueueAndForget(()=>this.Vo===e?n():(qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uo extends wg{constructor(e,n,o,u,h,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,E),this.M=h}Go(e,n){return this.bo.lo("Listen",e,n)}onMessage(e){this.Do.reset();const n=function Gp(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:_n(),u=e.targetChange.targetIds||[],h=function(H,K){return H.N?(Hn(void 0===K||"string"==typeof K),Ur.fromBase64String(K||"")):(Hn(void 0===K||K instanceof Uint8Array),Ur.fromUint8Array(K||new Uint8Array))}(i,e.targetChange.resumeToken),E=e.targetChange.cause,M=E&&function(H){const K=void 0===H.code?gt.UNKNOWN:$t(H.code);return new jt(K,H.message||"")}(E);n=new rf(o,u,h,M||null)}else if("documentChange"in e){const o=e.documentChange,u=mi(i,o.document.name),h=zr(o.document.updateTime),E=new Li({mapValue:{fields:o.document.fields}}),M=ti.newFoundDocument(u,h,E);n=new bi(o.targetIds||[],o.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const o=e.documentDelete,u=mi(i,o.document),h=o.readTime?zr(o.readTime):et.min(),E=ti.newNoDocument(u,h);n=new bi([],o.removedTargetIds||[],E.key,E)}else if("documentRemove"in e){const o=e.documentRemove,u=mi(i,o.document);n=new bi([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return _n();{const o=e.filter,h=new A(o.count||0);n=new qd(o.targetId,h)}}var H;return n}(this.M,e),o=function(u){if(!("targetChange"in u))return et.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?et.min():h.readTime?zr(h.readTime):et.min()}(e);return this.listener.Qo(n,o)}jo(e){const n={};n.database=pc(this.M),n.addTarget=function(u,h){let E;const M=h.target;return E=nu(M)?{documents:cf(u,M)}:{query:nd(u,M)},E.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?E.resumeToken=Hp(u,h.resumeToken):h.snapshotVersion.compareTo(et.min())>0&&(E.readTime=ed(u,h.snapshotVersion.toTimestamp())),E}(this.M,e);const o=function N(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _n()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Fo(n)}Wo(e){const n={};n.database=pc(this.M),n.removeTarget=e,this.Fo(n)}}class Km extends wg{constructor(e,n,o,u,h,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,E),this.M=h,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,n){return this.bo.lo("Write",e,n)}onMessage(e){if(Hn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const n=function zp(i,e){return i&&i.length>0?(Hn(void 0!==e),i.map(n=>function(o,u){let h=zr(o.updateTime?o.updateTime:u);return h.isEqual(et.min())&&(h=zr(u)),new ta(h,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=zr(e.commitTime);return this.listener.Yo(o,n)}return Hn(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=pc(this.M),this.Fo(e)}Jo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>Ml(this.M,o))};this.Fo(n)}}class qm extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=o,this.M=u,this.tu=!1}eu(){if(this.tu)throw new jt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,n,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.bo.oo(e,n,o,u,h)).catch(u=>{throw"FirebaseError"===u.name?(u.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new jt(gt.UNKNOWN,u.toString())})}ho(e,n,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.bo.ho(e,n,o,u,h)).catch(u=>{throw"FirebaseError"===u.name?(u.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new jt(gt.UNKNOWN,u.toString())})}terminate(){this.tu=!0}}class z_{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Vr(n),this.iu=!1):qt("OnlineStateTracker",n)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class W_{constructor(e,n,o,u,h){var E=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=h,this._u.Lr(M=>{o.enqueueAndForget((0,c.Z)(function*(){var H;_u(E)&&(qt("RemoteStore","Restarting streams for network reachability change."),yield(H=(0,c.Z)(function*(K){const Ee=Yt(K);Ee.fu.add(4),yield Cc(Ee),Ee.wu.set("Unknown"),Ee.fu.delete(4),yield Tc(Ee)}),function(K){return H.apply(this,arguments)})(E))}))}),this.wu=new z_(o,u)}}function Tc(i){return bg.apply(this,arguments)}function bg(){return bg=(0,c.Z)(function*(i){if(_u(i))for(const e of i.du)yield e(!0)}),bg.apply(this,arguments)}function Cc(i){return bd.apply(this,arguments)}function bd(){return bd=(0,c.Z)(function*(i){for(const e of i.du)yield e(!1)}),bd.apply(this,arguments)}function Id(i,e){const n=Yt(i);n.lu.has(e.targetId)||(n.lu.set(e.targetId,e),Nf(n)?_h(n):kl(n).xo()&&xf(n,e))}function Dd(i,e){const n=Yt(i),o=kl(n);n.lu.delete(e),o.xo()&&Ig(n,e),0===n.lu.size&&(o.xo()?o.Mo():_u(n)&&n.wu.set("Unknown"))}function xf(i,e){i.mu.Z(e.targetId),kl(i).jo(e)}function Ig(i,e){i.mu.Z(e),kl(i).Wo(e)}function _h(i){i.mu=new sf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.lu.get(e)||null}),kl(i).start(),i.wu.ru()}function Nf(i){return _u(i)&&!kl(i).Co()&&i.lu.size>0}function _u(i){return 0===Yt(i).fu.size}function Dg(i){i.mu=void 0}function Zm(i){return vh.apply(this,arguments)}function vh(){return vh=(0,c.Z)(function*(i){i.lu.forEach((e,n)=>{xf(i,e)})}),vh.apply(this,arguments)}function Tg(i,e){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,c.Z)(function*(i,e){Dg(i),Nf(i)?(i.wu.au(e),_h(i)):i.wu.set("Unknown")}),Rf.apply(this,arguments)}function $a(i,e,n){return Td.apply(this,arguments)}function Td(){return Td=(0,c.Z)(function*(i,e,n){if(i.wu.set("Online"),e instanceof rf&&2===e.state&&e.cause)try{yield(o=(0,c.Z)(function*(u,h){const E=h.cause;for(const M of h.targetIds)u.lu.has(M)&&(yield u.remoteSyncer.rejectListen(M,E),u.lu.delete(M),u.mu.removeTarget(M))}),function(u,h){return o.apply(this,arguments)})(i,e)}catch(o){qt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Eh(i,o)}else if(e instanceof bi?i.mu.ut(e):e instanceof qd?i.mu._t(e):i.mu.ht(e),!n.isEqual(et.min()))try{const o=yield jm(i.localStore);n.compareTo(o)>=0&&(yield function(u,h){const E=u.mu.yt(h);return E.targetChanges.forEach((M,H)=>{if(M.resumeToken.approximateByteSize()>0){const K=u.lu.get(H);K&&u.lu.set(H,K.withResumeToken(M.resumeToken,h))}}),E.targetMismatches.forEach(M=>{const H=u.lu.get(M);if(!H)return;u.lu.set(M,H.withResumeToken(Ur.EMPTY_BYTE_STRING,H.snapshotVersion)),Ig(u,M);const K=new Ku(H.target,M,1,H.sequenceNumber);xf(u,K)}),u.remoteSyncer.applyRemoteEvent(E)}(i,n))}catch(o){qt("RemoteStore","Failed to raise snapshot:",o),yield Eh(i,o)}var o}),Td.apply(this,arguments)}function Eh(i,e,n){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,c.Z)(function*(i,e,n){if(!Vo(e))throw e;i.fu.add(1),yield Cc(i),i.wu.set("Offline"),n||(n=()=>jm(i.localStore)),i.asyncQueue.enqueueRetryable((0,c.Z)(function*(){qt("RemoteStore","Retrying IndexedDB access"),yield n(),i.fu.delete(1),yield Tc(i)}))}),Pf.apply(this,arguments)}function Ym(i,e){return e().catch(n=>Eh(i,n,e))}function Pl(i){return kf.apply(this,arguments)}function kf(){return kf=(0,c.Z)(function*(i){const e=Yt(i),n=vu(e);let o=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Qm(e);)try{const u=yield H_(e.localStore,o);if(null===u){0===e.hu.length&&n.Mo();break}o=u.batchId,Jm(e,u)}catch(u){yield Eh(e,u)}wh(e)&&Cg(e)}),kf.apply(this,arguments)}function Qm(i){return _u(i)&&i.hu.length<10}function Jm(i,e){i.hu.push(e);const n=vu(i);n.xo()&&n.Ho&&n.Jo(e.mutations)}function wh(i){return _u(i)&&!vu(i).Co()&&i.hu.length>0}function Cg(i){vu(i).start()}function Xm(i){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,c.Z)(function*(i){vu(i).Zo()}),Ac.apply(this,arguments)}function Ff(i){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,c.Z)(function*(i){const e=vu(i);for(const n of i.hu)e.Jo(n.mutations)}),Lf.apply(this,arguments)}function Vf(i,e,n){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,c.Z)(function*(i,e,n){const o=i.hu.shift(),u=eh.from(o,e,n);yield Ym(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Pl(i)}),Cd.apply(this,arguments)}function Ag(i,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,c.Z)(function*(i,e){var n;e&&vu(i).Ho&&(yield(n=(0,c.Z)(function*(o,u){if(ut(h=u.code)&&h!==gt.ABORTED){const E=o.hu.shift();vu(o).ko(),yield Ym(o,()=>o.remoteSyncer.rejectFailedWrite(E.batchId,u)),yield Pl(o)}var h}),function(o,u){return n.apply(this,arguments)})(i,e)),wh(i)&&Cg(i)}),Uf.apply(this,arguments)}function Sg(i,e){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,c.Z)(function*(i,e){const n=Yt(i);n.asyncQueue.verifyOperationInProgress(),qt("RemoteStore","RemoteStore received new credentials");const o=_u(n);n.fu.add(3),yield Cc(n),o&&n.wu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.fu.delete(3),yield Tc(n)}),Ad.apply(this,arguments)}function Mg(i,e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,c.Z)(function*(i,e){const n=Yt(i);e?(n.fu.delete(2),yield Tc(n)):e||(n.fu.add(2),yield Cc(n),n.wu.set("Unknown"))}),Bf.apply(this,arguments)}function kl(i){return i.gu||(i.gu=function(e,n,o){const u=Yt(e);return u.eu(),new Uo(n,u.bo,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Hr:Zm.bind(null,i),Yr:Tg.bind(null,i),Qo:$a.bind(null,i)}),i.du.push(function(){var e=(0,c.Z)(function*(n){n?(i.gu.ko(),Nf(i)?_h(i):i.wu.set("Unknown")):(yield i.gu.stop(),Dg(i))});return function(n){return e.apply(this,arguments)}}())),i.gu}function vu(i){return i.yu||(i.yu=function(e,n,o){const u=Yt(e);return u.eu(),new Km(n,u.bo,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Hr:Xm.bind(null,i),Yr:Ag.bind(null,i),Xo:Ff.bind(null,i),Yo:Vf.bind(null,i)}),i.du.push(function(){var e=(0,c.Z)(function*(n){n?(i.yu.ko(),yield Pl(i)):(yield i.yu.stop(),i.hu.length>0&&(qt("RemoteStore",`Stopping write stream with ${i.hu.length} pending writes`),i.hu=[]))});return function(n){return e.apply(this,arguments)}}())),i.yu}class bh{constructor(e,n,o,u,h){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=h,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,n,o,u,h){const E=Date.now()+o,M=new bh(e,n,E,u,h);return M.start(o),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jt(gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fl(i,e){if(Vr("AsyncQueue",`${e}: ${i}`),Vo(i))return new jt(gt.UNAVAILABLE,`${e}: ${i}`);throw i}class Ll{constructor(e){this.comparator=e?(n,o)=>e(n,o)||an.comparator(n.key,o.key):(n,o)=>an.comparator(n.key,o.key),this.keyedMap=Al(),this.sortedSet=new In(this.comparator)}static emptySet(e){return new Ll(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,h=o.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Ll;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Ha{constructor(){this.pu=new In(an.comparator)}track(e){const n=e.doc.key,o=this.pu.get(n);o?0!==e.type&&3===o.type?this.pu=this.pu.insert(n,e):3===e.type&&1!==o.type?this.pu=this.pu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.pu=this.pu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.pu=this.pu.remove(n):1===e.type&&2===o.type?this.pu=this.pu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):_n():this.pu=this.pu.insert(n,e)}Iu(){const e=[];return this.pu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Eu{constructor(e,n,o,u,h,E,M,H){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=h,this.fromCache=E,this.syncStateChanged=M,this.excludesMetadataChanges=H}static fromInitialDocuments(e,n,o,u){const h=[];return n.forEach(E=>{h.push({type:0,doc:E})}),new Eu(e,n,Ll.emptySet(n),h,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Il(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class ey{constructor(){this.Tu=void 0,this.listeners=[]}}class ty{constructor(){this.queries=new bn(e=>Dl(e),Il),this.onlineState="Unknown",this.Eu=new Set}}function Og(i,e){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,c.Z)(function*(i,e){const n=Yt(i),o=e.query;let u=!1,h=n.queries.get(o);if(h||(u=!0,h=new ey),u)try{h.Tu=yield n.onListen(o)}catch(E){const M=Fl(E,`Initialization of query '${sc(e.query)}' failed`);return void e.onError(M)}n.queries.set(o,h),h.listeners.push(e),e.Au(n.onlineState),h.Tu&&e.Ru(h.Tu)&&xd(n)}),Sd.apply(this,arguments)}function Ih(i,e){return Md.apply(this,arguments)}function Md(){return Md=(0,c.Z)(function*(i,e){const n=Yt(i),o=e.query;let u=!1;const h=n.queries.get(o);if(h){const E=h.listeners.indexOf(e);E>=0&&(h.listeners.splice(E,1),u=0===h.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Md.apply(this,arguments)}function Od(i,e){const n=Yt(i);let o=!1;for(const u of e){const E=n.queries.get(u.query);if(E){for(const M of E.listeners)M.Ru(u)&&(o=!0);E.Tu=u}}o&&xd(n)}function ny(i,e,n){const o=Yt(i),u=o.queries.get(e);if(u)for(const h of u.listeners)h.onError(n);o.queries.delete(e)}function xd(i){i.Eu.forEach(e=>{e.next()})}class Dh{constructor(e,n,o){this.query=e,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}Ru(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Eu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),n=!0):this.Su(e,this.onlineState)&&(this.Du(e),n=!0),this.Vu=e,n}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let n=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),n=!0),n}Su(e,n){return!e.fromCache||!(this.options.Cu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=Eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class xg{constructor(e,n){this.payload=e,this.byteLength=n}xu(){return"metadata"in this.payload}}class jf{constructor(e){this.M=e}fi(e){return mi(this.M,e)}di(e){return e.metadata.exists?uf(this.M,e.document,!1):ti.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return zr(e)}}class ry{constructor(e,n,o){this.Nu=e,this.localStore=n,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Th(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=Cn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Mu(e){const n=new Map,o=new jf(this.M);for(const u of e)if(u.metadata.queries){const h=o.fi(u.metadata.name);for(const E of u.metadata.queries){const M=(n.get(E)||xr()).add(h);n.set(E,M)}}return n}complete(){var e=this;return(0,c.Z)(function*(){const n=yield function gg(i,e,n,o){return gd.apply(this,arguments)}(e.localStore,new jf(e.M),e.documents,e.Nu.id),o=e.Mu(e.documents);for(const u of e.queries)yield mg(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:n}})()}}function Th(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Ng{constructor(e){this.key=e}}class Rg{constructor(e){this.key=e}}class $f{constructor(e,n){this.query=e,this.$u=n,this.Bu=null,this.current=!1,this.Lu=xr(),this.mutatedKeys=xr(),this.Uu=Kc(e),this.qu=new Ll(this.Uu)}get Ku(){return this.$u}Gu(e,n){const o=n?n.Qu:new Ha,u=n?n.qu:this.qu;let h=n?n.mutatedKeys:this.mutatedKeys,E=u,M=!1;const H=su(this.query)&&u.size===this.query.limit?u.last():null,K=_a(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((Ee,Be)=>{const yt=u.get(Ee),Ht=Lu(this.query,Be)?Be:null,Wt=!!yt&&this.mutatedKeys.has(yt.key),On=!!Ht&&(Ht.hasLocalMutations||this.mutatedKeys.has(Ht.key)&&Ht.hasCommittedMutations);let gr=!1;yt&&Ht?yt.data.isEqual(Ht.data)?Wt!==On&&(o.track({type:3,doc:Ht}),gr=!0):this.ju(yt,Ht)||(o.track({type:2,doc:Ht}),gr=!0,(H&&this.Uu(Ht,H)>0||K&&this.Uu(Ht,K)<0)&&(M=!0)):!yt&&Ht?(o.track({type:0,doc:Ht}),gr=!0):yt&&!Ht&&(o.track({type:1,doc:yt}),gr=!0,(H||K)&&(M=!0)),gr&&(Ht?(E=E.add(Ht),h=On?h.add(Ee):h.delete(Ee)):(E=E.delete(Ee),h=h.delete(Ee)))}),su(this.query)||_a(this.query))for(;E.size>this.query.limit;){const Ee=su(this.query)?E.last():E.first();E=E.delete(Ee.key),h=h.delete(Ee.key),o.track({type:1,doc:Ee})}return{qu:E,Qu:o,ni:M,mutatedKeys:h}}ju(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const h=e.Qu.Iu();h.sort((K,Ee)=>function(Be,yt){const Ht=Wt=>{switch(Wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _n()}};return Ht(Be)-Ht(yt)}(K.type,Ee.type)||this.Uu(K.doc,Ee.doc)),this.Wu(o);const E=n?this.zu():[],M=0===this.Lu.size&&this.current?1:0,H=M!==this.Bu;return this.Bu=M,0!==h.length||H?{snapshot:new Eu(this.query,e.qu,u,h,e.mutatedKeys,0===M,H,!1),Hu:E}:{Hu:E}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Ha,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(n=>this.$u=this.$u.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.$u=this.$u.delete(n)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=xr(),this.qu.forEach(o=>{this.Ju(o.key)&&(this.Lu=this.Lu.add(o.key))});const n=[];return e.forEach(o=>{this.Lu.has(o)||n.push(new Rg(o))}),this.Lu.forEach(o=>{e.has(o)||n.push(new Ng(o))}),n}Yu(e){this.$u=e.li,this.Lu=xr();const n=this.Gu(e.documents);return this.applyChanges(n,!0)}Xu(){return Eu.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Sc{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Pg{constructor(e){this.key=e,this.Zu=!1}}class iy{constructor(e,n,o,u,h,E){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=E,this.ta={},this.ea=new bn(M=>Dl(M),Il),this.na=new Map,this.sa=new Set,this.ia=new In(an.comparator),this.ra=new Map,this.oa=new fh,this.ua={},this.aa=new Map,this.ca=lr.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function sy(i,e){return nl.apply(this,arguments)}function nl(){return nl=(0,c.Z)(function*(i,e){const n=rl(i);let o,u;const h=n.ea.get(e);if(h)o=h.targetId,n.sharedClientState.addLocalQueryTarget(o),u=h.view.Xu();else{const E=yield fd(n.localStore,Xi(e));n.isPrimaryClient&&Id(n.remoteStore,E);const M=n.sharedClientState.addLocalQueryTarget(E.targetId);o=E.targetId,u=yield Hf(n,e,o,"current"===M)}return u}),nl.apply(this,arguments)}function Hf(i,e,n,o){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,c.Z)(function*(i,e,n,o){i.la=(Ee,Be,yt)=>{return(Ht=(0,c.Z)(function*(Wt,On,gr,Ui){let cs=On.view.Gu(gr);cs.ni&&(cs=yield Cf(Wt.localStore,On.query,!1).then(({documents:ds})=>On.view.Gu(ds,cs)));const Bi=Ui&&Ui.targetChanges.get(On.targetId),Xs=On.view.applyChanges(cs,Wt.isPrimaryClient,Bi);return Pd(Wt,On.targetId,Xs.Hu),Xs.snapshot}),function(Wt,On,gr,Ui){return Ht.apply(this,arguments)})(i,Ee,Be,yt);var Ht};const u=yield Cf(i.localStore,e,!0),h=new $f(e,u.li),E=h.Gu(u.documents),M=Gu.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),H=h.applyChanges(E,i.isPrimaryClient,M);Pd(i,n,H.Hu);const K=new Sc(e,n,h);return i.ea.set(e,K),i.na.has(n)?i.na.get(n).push(e):i.na.set(n,[e]),H.snapshot}),Gf.apply(this,arguments)}function oy(i,e){return zf.apply(this,arguments)}function zf(){return zf=(0,c.Z)(function*(i,e){const n=Yt(i),o=n.ea.get(e),u=n.na.get(o.targetId);if(u.length>1)return n.na.set(o.targetId,u.filter(h=>!Il(h,e))),void n.ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield pd(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Dd(n.remoteStore,o.targetId),Rd(n,o.targetId)}).catch(Hs))):(Rd(n,o.targetId),yield pd(n.localStore,o.targetId,!0))}),zf.apply(this,arguments)}function Nd(){return Nd=(0,c.Z)(function*(i,e,n){const o=rp(i);try{const u=yield function(h,E){const M=Yt(h),H=Me.now(),K=E.reduce((Be,yt)=>Be.add(yt.key),xr());let Ee;return M.persistence.runTransaction("Locally write mutations","readwrite",Be=>M.ci.Ks(Be,K).next(yt=>{Ee=yt;const Ht=[];for(const Wt of E){const On=Wd(Wt,Ee.get(Wt.key));null!=On&&Ht.push(new Ia(Wt.key,On,Pa(On.value.mapValue),Jr.exists(!0)))}return M.Bs.addMutationBatch(Be,H,Ht,E)})).then(Be=>(Be.applyToLocalDocumentSet(Ee),{batchId:Be.batchId,changes:Ee}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(h,E,M){let H=h.ua[h.currentUser.toKey()];H||(H=new In(V)),H=H.insert(E,M),h.ua[h.currentUser.toKey()]=H}(o,u.batchId,n),yield Ga(o,u.changes),yield Pl(o.remoteStore)}catch(u){const h=Fl(u,"Failed to persist write");n.reject(h)}}),Nd.apply(this,arguments)}function Wf(i,e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,c.Z)(function*(i,e){const n=Yt(i);try{const o=yield $_(n.localStore,e);e.targetChanges.forEach((u,h)=>{const E=n.ra.get(h);E&&(Hn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?E.Zu=!0:u.modifiedDocuments.size>0?Hn(E.Zu):u.removedDocuments.size>0&&(Hn(E.Zu),E.Zu=!1))}),yield Ga(n,o,e)}catch(o){yield Hs(o)}}),Ch.apply(this,arguments)}function Kf(i,e,n){const o=Yt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ea.forEach((h,E)=>{const M=E.view.Au(e);M.snapshot&&u.push(M.snapshot)}),function(h,E){const M=Yt(h);M.onlineState=E;let H=!1;M.queries.forEach((K,Ee)=>{for(const Be of Ee.listeners)Be.Au(E)&&(H=!0)}),H&&xd(M)}(o.eventManager,e),u.length&&o.ta.Qo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function kg(i,e,n){return qf.apply(this,arguments)}function qf(){return qf=(0,c.Z)(function*(i,e,n){const o=Yt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.ra.get(e),h=u&&u.key;if(h){let E=new In(an.comparator);E=E.insert(h,ti.newNoDocument(h,et.min()));const M=xr().add(h),H=new na(et.min(),new Map,new Tr(V),E,M);yield Wf(o,H),o.ia=o.ia.remove(h),o.ra.delete(e),Mh(o)}else yield pd(o.localStore,e,!1).then(()=>Rd(o,e,n)).catch(Hs)}),qf.apply(this,arguments)}function ay(i,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,c.Z)(function*(i,e){const n=Yt(i),o=e.batch.batchId;try{const u=yield j_(n.localStore,e);Qf(n,o,null),Yf(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Ga(n,u)}catch(u){yield Hs(u)}}),Zf.apply(this,arguments)}function uy(i,e,n){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,c.Z)(function*(i,e,n){const o=Yt(i);try{const u=yield function(h,E){const M=Yt(h);return M.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let K;return M.Bs.lookupMutationBatch(H,E).next(Ee=>(Hn(null!==Ee),K=Ee.keys(),M.Bs.removeMutationBatch(H,Ee))).next(()=>M.Bs.performConsistencyCheck(H)).next(()=>M.ci.Ks(H,K))})}(o.localStore,e);Qf(o,e,n),Yf(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Ga(o,u)}catch(u){yield Hs(u)}}),Ah.apply(this,arguments)}function Sh(){return Sh=(0,c.Z)(function*(i,e){const n=Yt(i);_u(n.remoteStore)||qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const E=Yt(h);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>E.Bs.getHighestUnacknowledgedBatchId(M))}(n.localStore);if(-1===o)return void e.resolve();const u=n.aa.get(o)||[];u.push(e),n.aa.set(o,u)}catch(o){const u=Fl(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Sh.apply(this,arguments)}function Yf(i,e){(i.aa.get(e)||[]).forEach(n=>{n.resolve()}),i.aa.delete(e)}function Qf(i,e,n){const o=Yt(i);let u=o.ua[o.currentUser.toKey()];if(u){const h=u.get(e);h&&(n?h.reject(n):h.resolve(),u=u.remove(e)),o.ua[o.currentUser.toKey()]=u}}function Rd(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.na.get(e))i.ea.delete(o),n&&i.ta.fa(o,n);i.na.delete(e),i.isPrimaryClient&&i.oa.Pi(e).forEach(o=>{i.oa.containsKey(o)||ly(i,o)})}function ly(i,e){i.sa.delete(e.path.canonicalString());const n=i.ia.get(e);null!==n&&(Dd(i.remoteStore,n),i.ia=i.ia.remove(e),i.ra.delete(n),Mh(i))}function Pd(i,e,n){for(const o of n)o instanceof Ng?(i.oa.addReference(o.key,e),cy(i,o)):o instanceof Rg?(qt("SyncEngine","Document no longer in limbo: "+o.key),i.oa.removeReference(o.key,e),i.oa.containsKey(o.key)||ly(i,o.key)):_n()}function cy(i,e){const n=e.key,o=n.path.canonicalString();i.ia.get(n)||i.sa.has(o)||(qt("SyncEngine","New document in limbo: "+n),i.sa.add(o),Mh(i))}function Mh(i){for(;i.sa.size>0&&i.ia.size<i.maxConcurrentLimboResolutions;){const e=i.sa.values().next().value;i.sa.delete(e);const n=new an(Cn.fromString(e)),o=i.ca.next();i.ra.set(o,new Pg(n)),i.ia=i.ia.insert(n,o),Id(i.remoteStore,new Ku(Xi(ya(n.path)),o,2,I.A))}}function Ga(i,e,n){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,c.Z)(function*(i,e,n){const o=Yt(i),u=[],h=[],E=[];var M;o.ea.isEmpty()||(o.ea.forEach((M,H)=>{E.push(o.la(H,e,n).then(K=>{if(K){o.isPrimaryClient&&o.sharedClientState.updateQueryState(H.targetId,K.fromCache?"not-current":"current"),u.push(K);const Ee=lg.Ys(H.targetId,K);h.push(Ee)}}))}),yield Promise.all(E),o.ta.Qo(u),yield(M=(0,c.Z)(function*(H,K){const Ee=Yt(H);try{yield Ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",Be=>ft.forEach(K,yt=>ft.forEach(yt.Hs,Ht=>Ee.persistence.referenceDelegate.addReference(Be,yt.targetId,Ht)).next(()=>ft.forEach(yt.Js,Ht=>Ee.persistence.referenceDelegate.removeReference(Be,yt.targetId,Ht)))))}catch(Be){if(!Vo(Be))throw Be;qt("LocalStore","Failed to update sequence numbers: "+Be)}for(const Be of K){const yt=Be.targetId;if(!Be.fromCache){const Ht=Ee.ii.get(yt),On=Ht.withLastLimboFreeSnapshotVersion(Ht.snapshotVersion);Ee.ii=Ee.ii.insert(yt,On)}}}),function(H,K){return M.apply(this,arguments)})(o.localStore,h))}),Fg.apply(this,arguments)}function Ca(i,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,c.Z)(function*(i,e){const n=Yt(i);if(!n.currentUser.isEqual(e)){qt("SyncEngine","User change. New user:",e.toKey());const o=yield dh(n.localStore,e);n.currentUser=e,(u=n).aa.forEach(E=>{E.forEach(M=>{M.reject(new jt(gt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.aa.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ga(n,o.hi)}var u}),Lg.apply(this,arguments)}function q_(i,e){const n=Yt(i),o=n.ra.get(e);if(o&&o.Zu)return xr().add(o.key);{let u=xr();const h=n.na.get(e);if(!h)return u;for(const E of h){const M=n.ea.get(E);u=u.unionWith(M.view.Ku)}return u}}function Vg(i,e){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,c.Z)(function*(i,e){const n=Yt(i),o=yield Cf(n.localStore,e.query,!0),u=e.view.Yu(o);return n.isPrimaryClient&&Pd(n,e.targetId,u.Hu),u}),Oh.apply(this,arguments)}function Ug(i,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,c.Z)(function*(i,e){const n=Yt(i);return hh(n.localStore,e).then(o=>Ga(n,o))}),Jf.apply(this,arguments)}function Z_(i,e,n,o){return xh.apply(this,arguments)}function xh(){return xh=(0,c.Z)(function*(i,e,n,o){const u=Yt(i),h=yield function(E,M){const H=Yt(E),K=Yt(H.Bs);return H.persistence.runTransaction("Lookup mutation documents","readonly",Ee=>K.fn(Ee,M).next(Be=>Be?H.ci.Ks(Ee,Be):ft.resolve(null)))}(u.localStore,e);var M;null!==h?("pending"===n?yield Pl(u.remoteStore):"acknowledged"===n||"rejected"===n?(Qf(u,e,o||null),Yf(u,e),M=e,Yt(Yt(u.localStore).Bs)._n(M)):_n(),yield Ga(u,h)):qt("SyncEngine","Cannot apply mutation batch with id: "+e)}),xh.apply(this,arguments)}function ep(){return ep=(0,c.Z)(function*(i,e){const n=Yt(i);if(rl(n),rp(n),!0===e&&!0!==n.ha){const o=n.sharedClientState.getAllActiveQueryTargets(),u=yield Nh(n,o.toArray());n.ha=!0,yield Mg(n.remoteStore,!0);for(const h of u)Id(n.remoteStore,h)}else if(!1===e&&!1!==n.ha){const o=[];let u=Promise.resolve();n.na.forEach((h,E)=>{n.sharedClientState.isLocalQueryTarget(E)?o.push(E):u=u.then(()=>(Rd(n,E),pd(n.localStore,E,!0))),Dd(n.remoteStore,E)}),yield u,yield Nh(n,o),function(h){const E=Yt(h);E.ra.forEach((M,H)=>{Dd(E.remoteStore,H)}),E.oa.bi(),E.ra=new Map,E.ia=new In(an.comparator)}(n),n.ha=!1,yield Mg(n.remoteStore,!1)}}),ep.apply(this,arguments)}function Nh(i,e,n){return tp.apply(this,arguments)}function tp(){return tp=(0,c.Z)(function*(i,e,n){const o=Yt(i),u=[],h=[];for(const E of e){let M;const H=o.na.get(E);if(H&&0!==H.length){M=yield fd(o.localStore,Xi(H[0]));for(const K of H){const Ee=o.ea.get(K),Be=yield Vg(o,Ee);Be.snapshot&&h.push(Be.snapshot)}}else{const K=yield mu(o.localStore,E);M=yield fd(o.localStore,K),yield Hf(o,Bg(K),E,!1)}u.push(M)}return o.ta.Qo(h),u}),tp.apply(this,arguments)}function Bg(i){return nc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function dy(i){const e=Yt(i);return Yt(Yt(e.localStore).persistence).Fs()}function hy(i,e,n,o){return np.apply(this,arguments)}function np(){return np=(0,c.Z)(function*(i,e,n,o){const u=Yt(i);if(u.ha)return void qt("SyncEngine","Ignoring unexpected query state notification.");const h=u.na.get(e);if(h&&h.length>0)switch(n){case"current":case"not-current":{const E=yield hh(u.localStore,Wc(h[0])),M=na.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield Ga(u,E,M);break}case"rejected":yield pd(u.localStore,e,!0),Rd(u,e,o);break;default:_n()}}),np.apply(this,arguments)}function fy(i,e,n){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,c.Z)(function*(i,e,n){const o=rl(i);if(o.ha){for(const u of e){if(o.na.has(u)){qt("SyncEngine","Adding an already active target "+u);continue}const h=yield mu(o.localStore,u),E=yield fd(o.localStore,h);yield Hf(o,Bg(h),E.targetId,!1),Id(o.remoteStore,E)}for(const u of n)o.na.has(u)&&(yield pd(o.localStore,u,!1).then(()=>{Dd(o.remoteStore,u),Rd(o,u)}).catch(Hs))}}),Mc.apply(this,arguments)}function rl(i){const e=Yt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kg.bind(null,e),e.ta.Qo=Od.bind(null,e.eventManager),e.ta.fa=ny.bind(null,e.eventManager),e}function rp(i){const e=Yt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ay.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uy.bind(null,e),e}class jg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,c.Z)(function*(){n.M=Dc(e.databaseInfo.databaseId),n.sharedClientState=n._a(e),n.persistence=n.wa(e),yield n.persistence.start(),n.gcScheduler=n.ma(e),n.localStore=n.ga(e)})()}ma(e){return null}ga(e){return dg(this.persistence,new Tf,e.initialUser,this.M)}wa(e){return new Wm(tl.zi,this.M)}_a(e){return new Sf}terminate(){var e=this;return(0,c.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $g extends jg{constructor(e,n,o){super(),this.ya=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield n().call(o,e),yield o.ya.initialize(o,e),yield rp(o.ya.syncEngine),yield Pl(o.ya.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ga(e){return dg(this.persistence,new Tf,e.initialUser,this.M)}ma(e){return new gu(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const n=ug(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Io.withCacheSize(this.cacheSizeBytes):Io.DEFAULT;return new Df(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,Mf(),yh(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new Sf}}class ip extends $g{constructor(e,n){super(e,n,!1),this.ya=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield n().call(o,e);const u=o.ya.syncEngine;o.sharedClientState instanceof wd&&(o.sharedClientState.syncEngine={Mr:Z_.bind(null,u),Or:hy.bind(null,u),Fr:fy.bind(null,u),Fs:dy.bind(null,u),kr:Ug.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var h=(0,c.Z)(function*(E){yield function Xf(i,e){return ep.apply(this,arguments)}(o.ya.syncEngine,E),o.gcScheduler&&(E&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):E||o.gcScheduler.stop())});return function(E){return h.apply(this,arguments)}}())})()}_a(e){const n=Mf();if(!wd.vt(n))throw new jt(gt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=ug(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wd(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class oa{initialize(e,n){var o=this;return(0,c.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Kf(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Ca.bind(null,o.syncEngine),yield Mg(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ty}createDatastore(e){const n=Dc(e.databaseInfo.databaseId),o=new Eg(e.databaseInfo);return new qm(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,h=M=>Kf(this.syncEngine,M,0),E=_g.vt()?new _g:new mh,new W_(n,o,u,h,E);var n,o,u,h,E}createSyncEngine(e,n){return function(o,u,h,E,M,H,K){const Ee=new iy(o,u,h,E,M,H);return K&&(Ee.ha=!0),Ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,c.Z)(function*(n){const o=Yt(n);qt("RemoteStore","RemoteStore shutting down."),o.fu.add(5),yield Cc(o),o._u.shutdown(),o.wu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Oc(i,e=10240){let n=0;return{read:()=>(0,c.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,c.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ws{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Vl{constructor(e,n){this.Ta=e,this.M=n,this.metadata=new fi,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(o=>{o&&o.xu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,c.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,c.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,c.Z)(function*(){const n=yield e.Ra();if(null===n)return null;const o=e.Ea.decode(n),u=Number(o);isNaN(u)&&e.Pa(`length string (${o}) is not valid number`);const h=yield e.ba(u);return new xg(JSON.parse(h),n.length+u)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,c.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const n=e.Va();n<0&&e.Pa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}ba(e){var n=this;return(0,c.Z)(function*(){for(;n.buffer.length<e;)(yield n.va())&&n.Pa("Reached the end of bundle when more is expected.");const o=n.Ea.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,c.Z)(function*(){const n=yield e.Ta.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Rh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,c.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new jt(gt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,c.Z)(function*(h,E){const M=Yt(h),H=pc(M.M)+"/documents",K={documents:E.map(Ht=>Sl(M.M,Ht))},Ee=yield M.ho("BatchGetDocuments",H,K),Be=new Map;Ee.forEach(Ht=>{const Wt=function lf(i,e){return"found"in e?function(n,o){Hn(!!o.found);const u=mi(n,o.found.name),h=zr(o.found.updateTime),E=new Li({mapValue:{fields:o.found.fields}});return ti.newFoundDocument(u,h,E)}(i,e):"missing"in e?function(n,o){Hn(!!o.missing),Hn(!!o.readTime);const u=mi(n,o.missing),h=zr(o.readTime);return ti.newNoDocument(u,h)}(i,e):_n()}(M.M,Ht);Be.set(Wt.key.toString(),Wt)});const yt=[];return E.forEach(Ht=>{const Wt=Be.get(Ht.toString());Hn(!!Wt),yt.push(Wt)}),yt}),function(h,E){return u.apply(this,arguments)})(n.datastore,e);var u;return o.forEach(u=>n.recordVersion(u)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new f(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,u)=>{const h=an.fromPath(u);e.mutations.push(new m(h,e.precondition(h)))}),yield(o=(0,c.Z)(function*(u,h){const E=Yt(u),M=pc(E.M)+"/documents",H={writes:h.map(K=>Ml(E.M,K))};yield E.oo("Commit",M,H)}),function(u,h){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw _n();n=et.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new jt(gt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Jr.updateTime(n):Jr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(et.min()))throw new jt(gt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jr.updateTime(n)}return Jr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class aa{constructor(e,n,o,u){this.asyncQueue=e,this.datastore=n,this.updateFunction=o,this.deferred=u,this.Sa=5,this.Do=new Of(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,c.Z)(function*(){const n=new Rh(e.datastore),o=e.Ca(n);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(u)}).catch(h=>{e.xa(h)}))}).catch(u=>{e.xa(u)})}))}Ca(e){try{const n=this.updateFunction(e);return!pa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!ut(n)}return!1}}class sp{constructor(e,n,o,u){var h=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Cr.UNAUTHENTICATED,this.clientId=P.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var E=(0,c.Z)(function*(M){qt("FirestoreClient","Received user=",M.uid),yield h.authCredentialListener(M),h.user=M});return function(M){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(o,E=>(qt("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var e=this;return(0,c.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new jt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=Fl(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Ul(i,e){return il.apply(this,arguments)}function il(){return il=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),qt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,c.Z)(function*(h){o.isEqual(h)||(yield dh(e.localStore,h),o=h)});return function(h){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),il.apply(this,arguments)}function Bl(i,e){return sl.apply(this,arguments)}function sl(){return sl=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield ol(i);qt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>Sg(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,h)=>Sg(e.remoteStore,h)),i.onlineComponents=e}),sl.apply(this,arguments)}function ol(i){return al.apply(this,arguments)}function al(){return al=(0,c.Z)(function*(i){return i.offlineComponents||(qt("FirestoreClient","Using default OfflineComponentProvider"),yield Ul(i,new jg)),i.offlineComponents}),al.apply(this,arguments)}function wu(i){return ul.apply(this,arguments)}function ul(){return ul=(0,c.Z)(function*(i){return i.onlineComponents||(qt("FirestoreClient","Using default OnlineComponentProvider"),yield Bl(i,new oa)),i.onlineComponents}),ul.apply(this,arguments)}function jl(i){return ol(i).then(e=>e.persistence)}function Ph(i){return ol(i).then(e=>e.localStore)}function op(i){return wu(i).then(e=>e.remoteStore)}function kh(i){return wu(i).then(e=>e.syncEngine)}function $l(i){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,c.Z)(function*(i){const e=yield wu(i),n=e.eventManager;return n.onListen=sy.bind(null,e.syncEngine),n.onUnlisten=oy.bind(null,e.syncEngine),n}),Fh.apply(this,arguments)}function ap(i,e,n={}){const o=new fi;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(u,h,E,M,H){const K=new ws({next:Be=>{h.enqueueAndForget(()=>Ih(u,Ee));const yt=Be.docs.has(E);!yt&&Be.fromCache?H.reject(new jt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):yt&&Be.fromCache&&M&&"server"===M.source?H.reject(new jt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(Be)},error:Be=>H.reject(Be)}),Ee=new Dh(ya(E.path),K,{includeMetadataChanges:!0,Cu:!0});return Og(u,Ee)}(yield $l(i),i.asyncQueue,e,n,o)})),o.promise}function up(i,e,n={}){const o=new fi;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(u,h,E,M,H){const K=new ws({next:Be=>{h.enqueueAndForget(()=>Ih(u,Ee)),Be.fromCache&&"server"===M.source?H.reject(new jt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(Be)},error:Be=>H.reject(Be)}),Ee=new Dh(E,K,{includeMetadataChanges:!0,Cu:!0});return Og(u,Ee)}(yield $l(i),i.asyncQueue,e,n,o)})),o.promise}const Kg=new Map;function Lh(i,e,n){if(!n)throw new jt(gt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qg(i,e,n,o){if(!0===e&&!0===o)throw new jt(gt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function lp(i){if(!an.isDocumentKey(i))throw new jt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Zg(i){if(an.isDocumentKey(i))throw new jt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Vh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":_n()}function Br(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new jt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(i);throw new jt(gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Yg(i,e){if(e<=0)throw new jt(gt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Uh{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new jt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new jt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hl{constructor(e,n,o){this._authCredentials=n,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uh({}),this._settingsFrozen=!1,e instanceof ko?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new jt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(u.options.projectId)}(e))}get app(){if(!this._app)throw new jt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new jt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uh(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new No;switch(n.type){case"gapi":const o=n.client;return Hn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new io(o,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new jt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Kg.get(e);n&&(qt("ComponentProvider","Removing Datastore"),Kg.delete(e),n.terminate())}(this),Promise.resolve()}}function _y(i,e,n,o={}){var u;const h=(i=Br(i,Hl))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&Ys("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let E,M;if("string"==typeof o.mockUserToken)E=o.mockUserToken,M=Cr.MOCK_USER;else{E=(0,Ie.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const H=o.mockUserToken.sub||o.mockUserToken.user_id;if(!H)throw new jt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Cr(H)}i._authCredentials=new Ra(new ss(E,M))}}class es{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new es(this.firestore,e,this._key)}}class fo{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class bu extends fo{constructor(e,n,o){super(e,n,ya(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new es(this.firestore,null,new an(e))}withConverter(e){return new bu(this.firestore,e,this._path)}}function vy(i,e,...n){if(i=(0,Ie.m9)(i),Lh("collection","path",e),i instanceof Hl){const o=Cn.fromString(e,...n);return Zg(o),new bu(i,null,o)}{if(!(i instanceof es||i instanceof bu))throw new jt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Cn.fromString(e,...n));return Zg(o),new bu(i.firestore,null,o)}}function Qg(i,e){if(i=Br(i,Hl),Lh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new jt(gt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fo(i,null,(n=e,new Ms(Cn.emptyPath(),n)));var n}function Ey(i,e,...n){if(i=(0,Ie.m9)(i),1===arguments.length&&(e=P.R()),Lh("doc","path",e),i instanceof Hl){const o=Cn.fromString(e,...n);return lp(o),new es(i,null,new an(o))}{if(!(i instanceof es||i instanceof bu))throw new jt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Cn.fromString(e,...n));return lp(o),new es(i.firestore,i instanceof bu?i.converter:null,new an(o))}}function wy(i,e){return i=(0,Ie.m9)(i),e=(0,Ie.m9)(e),(i instanceof es||i instanceof bu)&&(e instanceof es||e instanceof bu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Gl(i,e){return i=(0,Ie.m9)(i),e=(0,Ie.m9)(e),i instanceof fo&&e instanceof fo&&i.firestore===e.firestore&&Il(i._query,e._query)&&i.converter===e.converter}class by{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Of(this,"async_queue_retry"),this.qa=()=>{const n=yh();n&&qt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Do.Ao()};const e=yh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const n=yh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const n=new fi;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,c.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(n){if(!Vo(n))throw n;qt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const n=this.ka.then(()=>(this.Ba=!0,e().catch(o=>{throw this.$a=o,this.Ba=!1,Vr("INTERNAL UNHANDLED ERROR: ",function(h){let E=h.message||"";return h.stack&&(E=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),E}(o)),o}).then(o=>(this.Ba=!1,o))));return this.ka=n,n}enqueueAfterDelay(e,n,o){this.Ka(),this.Ua.indexOf(e)>-1&&(n=0);const u=bh.createAndSchedule(this,e,n,o,h=>this.ja(h));return this.Fa.push(u),u}Ka(){this.$a&&_n()}verifyOperationInProgress(){}Wa(){var e=this;return(0,c.Z)(function*(){let n;do{n=e.ka,yield n}while(n!==e.ka)})()}za(e){for(const n of this.Fa)if(n.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Fa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const n=this.Fa.indexOf(e);this.Fa.splice(n,1)}}function Bh(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Iy{constructor(){this._progressObserver={},this._taskCompletionResolver=new fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Jg=-1;class li extends Hl{constructor(e,n,o){super(e,n,o),this.type="firestore",this._queue=new by,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||em(this),this._firestoreClient.terminate()}}function Xg(i=(0,_.getApp)()){return(0,_._getProvider)(i,"firestore").getImmediate()}function ls(i){return i._firestoreClient||em(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function em(i){var e;const n=i._freezeSettings(),o=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new pi(i._databaseId,h,i._persistenceKey,(M=n).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,M.useFetchStreams));var h,M;i._firestoreClient=new sp(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Dy(i,e){om(i=Br(i,li));const n=ls(i),o=i._freezeSettings(),u=new oa;return tm(n,u,new $g(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Ty(i){om(i=Br(i,li));const e=ls(i),n=i._freezeSettings(),o=new oa;return tm(e,o,new ip(o,n.cacheSizeBytes))}function tm(i,e,n){const o=new fi;return i.asyncQueue.enqueue((0,c.Z)(function*(){try{yield Ul(i,n),yield Bl(i,e),o.resolve()}catch(u){if(!("FirebaseError"===(h=u).name?h.code===gt.FAILED_PRECONDITION||h.code===gt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var h})).then(()=>o.promise)}function nm(i){if(i._initialized&&!i._terminated)throw new jt(gt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new fi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{yield(n=(0,c.Z)(function*(o){if(!kr.vt())return Promise.resolve();const u=o+"main";yield kr.delete(u)}),function(o){return n.apply(this,arguments)})(ug(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function Cy(i){return function(e){const n=new fi;return e.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function K_(i,e){return Sh.apply(this,arguments)}(yield kh(e),n)})),n.promise}(ls(i=Br(i,li)))}function rm(i){return function Hg(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield jl(i),n=yield op(i);return e.setNetworkEnabled(!0),function(o){const u=Yt(o);return u.fu.delete(0),Tc(u)}(n)}))}(ls(i=Br(i,li)))}function im(i){return function Gg(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield jl(i),n=yield op(i);return e.setNetworkEnabled(!1),(o=(0,c.Z)(function*(u){const h=Yt(u);h.fu.add(0),yield Cc(h),h.wu.set("Offline")}),function(u){return o.apply(this,arguments)})(n);var o}))}(ls(i=Br(i,li)))}function Q_(i,e){const n=ls(i=Br(i,li)),o=new Iy;return function Wg(i,e,n,o){const u=function(h,E){let M;return M="string"==typeof h?(new TextEncoder).encode(h):h,H=function(H,K){if(H instanceof Uint8Array)return Oc(H,K);if(H instanceof ArrayBuffer)return Oc(new Uint8Array(H),K);if(H instanceof ReadableStream)return H.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new Vl(H,E);var H}(n,Dc(e));i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){!function kd(i,e,n){const o=Yt(i);var u;(u=(0,c.Z)(function*(h,E,M){try{const H=yield E.getMetadata();if(yield function(yt,Ht){const Wt=Yt(yt),On=zr(Ht.createTime);return Wt.persistence.runTransaction("hasNewerBundle","readonly",gr=>Wt._s.getBundleMetadata(gr,Ht.id)).then(gr=>!!gr&&gr.createTime.compareTo(On)>=0)}(h.localStore,H))return yield E.close(),M._completeWith({taskState:"Success",documentsLoaded:(yt=H).totalDocuments,bytesLoaded:yt.totalBytes,totalDocuments:yt.totalDocuments,totalBytes:yt.totalBytes}),Promise.resolve(new Set);M._updateProgress(Th(H));const K=new ry(H,h.localStore,E.M);let Ee=yield E.da();for(;Ee;){const yt=yield K.ku(Ee);yt&&M._updateProgress(yt),Ee=yield E.da()}const Be=yield K.complete();return yield Ga(h,Be.Fu,void 0),yield function(yt,Ht){const Wt=Yt(yt);return Wt.persistence.runTransaction("Save bundle","readwrite",On=>Wt._s.saveBundleMetadata(On,Ht))}(h.localStore,H),M._completeWith(Be.progress),Promise.resolve(Be.Ou)}catch(H){return Ys("SyncEngine",`Loading bundle failed with ${H}`),M._failWith(H),Promise.resolve(new Set)}var yt}),function(h,E,M){return u.apply(this,arguments)})(o,e,n).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield kh(i),u,o)}))}(n,i._databaseId,e,o),o}function cp(i,e){return function yy(i,e){return i.asyncQueue.enqueue((0,c.Z)(function*(){return function(n,o){const u=Yt(n);return u.persistence.runTransaction("Get named query","readonly",h=>u._s.getNamedQuery(h,o))}(yield Ph(i),e)}))}(ls(i=Br(i,li)),e).then(n=>n?new fo(i,null,n.query):null)}function om(i){if(i._initialized||i._terminated)throw new jt(gt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class zl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new jt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Iu(Ur.fromBase64String(e))}catch(n){throw new jt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Iu(Ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Du{constructor(e){this._methodName=e}}class xc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new jt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new jt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return V(this._lat,e._lat)||V(this._long,e._long)}}const Ay=/^__.*__$/;class dp{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class $h{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Ia(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hp(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _n()}}class fp{constructor(e,n,o,u,h,E){this.settings=e,this.databaseId=n,this.M=o,this.ignoreUndefinedProperties=u,void 0===h&&this.Ya(),this.fieldTransforms=h||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new fp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Za({path:o,ec:!1});return u.nc(e),u}sc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Za({path:o,ec:!1});return u.Ya(),u}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return Pc(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(hp(this.Xa)&&Ay.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class Sy{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=o||Dc(e)}ac(e,n,o,u=!1){return new fp({Xa:e,methodName:n,uc:o,path:Ar.emptyPath(),ec:!1,oc:u},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Tu(i){const e=i._freezeSettings(),n=Dc(i._databaseId);return new Sy(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Nc(i,e,n,o,u,h={}){const E=i.ac(h.merge||h.mergeFields?2:0,e,n,u);vp("Data must be an object, but it was:",E,o);const M=Gh(o,E);let H,K;if(h.merge)H=new Ai(E.fieldMask),K=E.fieldTransforms;else if(h.mergeFields){const Ee=[];for(const Be of h.mergeFields){const yt=Ep(e,Be,n);if(!E.contains(yt))throw new jt(gt.INVALID_ARGUMENT,`Field '${yt}' is specified in your field mask but missing from your input data.`);wp(Ee,yt)||Ee.push(yt)}H=new Ai(Ee),K=E.fieldTransforms.filter(Be=>H.covers(Be.field))}else H=null,K=E.fieldTransforms;return new dp(new Li(M),H,K)}class Fd extends Du{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}function pp(i,e,n){return new fp({Xa:3,uc:e.settings.uc,methodName:i._methodName,ec:n},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Ld extends Du{_toFieldTransform(e){return new Bu(e.path,new va)}isEqual(e){return e instanceof Ld}}class am extends Du{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=pp(this,e,!0),o=this.cc.map(h=>ll(h,n)),u=new Ea(o);return new Bu(e.path,u)}isEqual(e){return this===e}}class um extends Du{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=pp(this,e,!0),o=this.cc.map(h=>ll(h,n)),u=new wa(o);return new Bu(e.path,u)}isEqual(e){return this===e}}class gp extends Du{constructor(e,n){super(e),this.hc=n}_toFieldTransform(e){const n=new au(e.M,La(e.M,this.hc));return new Bu(e.path,n)}isEqual(e){return this===e}}function Hh(i,e,n,o){const u=i.ac(1,e,n);vp("Data must be an object, but it was:",u,o);const h=[],E=Li.empty();ir(o,(H,K)=>{const Ee=Rc(e,H,n);K=(0,Ie.m9)(K);const Be=u.sc(Ee);if(K instanceof Fd)h.push(Ee);else{const yt=ll(K,Be);null!=yt&&(h.push(Ee),E.set(Ee,yt))}});const M=new Ai(h);return new $h(E,M,u.fieldTransforms)}function mp(i,e,n,o,u,h){const E=i.ac(1,e,n),M=[Ep(e,o,n)],H=[u];if(h.length%2!=0)throw new jt(gt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let yt=0;yt<h.length;yt+=2)M.push(Ep(e,h[yt])),H.push(h[yt+1]);const K=[],Ee=Li.empty();for(let yt=M.length-1;yt>=0;--yt)if(!wp(K,M[yt])){const Ht=M[yt];let Wt=H[yt];Wt=(0,Ie.m9)(Wt);const On=E.sc(Ht);if(Wt instanceof Fd)K.push(Ht);else{const gr=ll(Wt,On);null!=gr&&(K.push(Ht),Ee.set(Ht,gr))}}const Be=new Ai(K);return new $h(Ee,Be,E.fieldTransforms)}function yp(i,e,n,o=!1){return ll(n,i.ac(o?4:3,e))}function ll(i,e){if(_p(i=(0,Ie.m9)(i)))return vp("Unsupported field value:",e,i),Gh(i,e);if(i instanceof Du)return function(n,o){if(!hp(o.Xa))throw o.rc(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.rc(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(n,o){const u=[];let h=0;for(const E of n){let M=ll(E,o.ic(h));null==M&&(M={nullValue:"NULL_VALUE"}),u.push(M),h++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,Ie.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return La(o.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=Me.fromDate(n);return{timestampValue:ed(o.M,u)}}if(n instanceof Me){const u=new Me(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ed(o.M,u)}}if(n instanceof xc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Iu)return{bytesValue:Hp(o.M,n._byteString)};if(n instanceof es){const u=o.databaseId,h=n.firestore._databaseId;if(!h.isEqual(u))throw o.rc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:fc(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.rc(`Unsupported field value: ${Vh(n)}`)}(i,e)}function Gh(i,e){const n={};return Pn(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ir(i,(o,u)=>{const h=ll(u,e.tc(o));null!=h&&(n[o]=h)}),{mapValue:{fields:n}}}function _p(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Me||i instanceof xc||i instanceof Iu||i instanceof es||i instanceof Du)}function vp(i,e,n){if(!_p(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Vh(n);throw e.rc("an object"===o?i+" a custom object":i+" "+o)}var o}function Ep(i,e,n){if((e=(0,Ie.m9)(e))instanceof zl)return e._internalPath;if("string"==typeof e)return Rc(i,e);throw Pc("Field path arguments must be of type string or ",i,!1,void 0,n)}const My=new RegExp("[~\\*/\\[\\]]");function Rc(i,e,n){if(e.search(My)>=0)throw Pc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new zl(...e.split("."))._internalPath}catch(o){throw Pc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Pc(i,e,n,o,u){const h=o&&!o.isEmpty(),E=void 0!==u;let M=`Function ${e}() called with invalid data`;n&&(M+=" (via `toFirestore()`)"),M+=". ";let H="";return(h||E)&&(H+=" (found",h&&(H+=` in field ${o}`),E&&(H+=` in document ${u}`),H+=")"),new jt(gt.INVALID_ARGUMENT,M+i+H)}function wp(i,e){return i.some(n=>n.isEqual(e))}class kc{constructor(e,n,o,u,h){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new es(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class lm extends kc{data(){return super.data()}}function Vd(i,e){return"string"==typeof e?Rc(i,e):e instanceof zl?e._internalPath:e._delegate._internalPath}class cl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dl extends kc{constructor(e,n,o,u,h,E){super(e,n,o,u,E),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Vd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Fc extends dl{data(e={}){return super.data(e)}}class hl{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new cl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Fc(this._firestore,this._userDataWriter,o.key,o,new cl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new jt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(E=>({type:"added",doc:new Fc(o._firestore,o._userDataWriter,E.doc.key,E.doc,new cl(o._snapshot.mutatedKeys.has(E.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(E=>u||3!==E.type).map(E=>{const M=new Fc(o._firestore,o._userDataWriter,E.doc.key,E.doc,new cl(o._snapshot.mutatedKeys.has(E.doc.key),o._snapshot.fromCache),o.query.converter);let H=-1,K=-1;return 0!==E.type&&(H=h.indexOf(E.doc.key),h=h.delete(E.doc.key)),1!==E.type&&(h=h.add(E.doc),K=h.indexOf(E.doc.key)),{type:J_(E.type),doc:M,oldIndex:H,newIndex:K}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function J_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _n()}}function Oy(i,e){return i instanceof dl&&e instanceof dl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof hl&&e instanceof hl&&i._firestore===e._firestore&&Gl(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function cm(i){if(_a(i)&&0===i.explicitOrderBy.length)throw new jt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lc{}function xy(i,...e){for(const n of e)i=n._apply(i);return i}class bs extends Lc{constructor(e,n,o){super(),this.lc=e,this.fc=n,this.dc=o,this.type="where"}_apply(e){const n=Tu(e.firestore),o=function(u,h,E,M,H,K,Ee){let Be;if(H.isKeyField()){if("array-contains"===K||"array-contains-any"===K)throw new jt(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${K}' queries on documentId().`);if("in"===K||"not-in"===K){zh(Ee,K);const Ht=[];for(const Wt of Ee)Ht.push(Ly(M,u,Wt));Be={arrayValue:{values:Ht}}}else Be=Ly(M,u,Ee)}else"in"!==K&&"not-in"!==K&&"array-contains-any"!==K||zh(Ee,K),Be=yp(E,"where",Ee,"in"===K||"not-in"===K);const yt=gi.create(H,K,Be);return function(Ht,Wt){if(Wt.S()){const gr=rc(Ht);if(null!==gr&&!gr.isEqual(Wt.field))throw new jt(gt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${gr.toString()}' and '${Wt.field.toString()}'`);const Ui=ou(Ht);null!==Ui&&Wh(0,Wt.field,Ui)}const On=function(gr,Ui){for(const cs of gr.filters)if(Ui.indexOf(cs.op)>=0)return cs.op;return null}(Ht,function(gr){switch(gr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Wt.op));if(null!==On)throw new jt(gt.INVALID_ARGUMENT,On===Wt.op?`Invalid query. You cannot use more than one '${Wt.op.toString()}' filter.`:`Invalid query. You cannot use '${Wt.op.toString()}' filters with '${On.toString()}' filters.`)}(u,yt),yt}(e._query,0,n,e.firestore._databaseId,this.lc,this.fc,this.dc);return new fo(e.firestore,e.converter,function(u,h){const E=u.filters.concat([h]);return new Ms(u.path,u.collectionGroup,u.explicitOrderBy.slice(),E,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}function dm(i,e,n){const o=e,u=Vd("where",i);return new bs(u,o,n)}class Ny extends Lc{constructor(e,n){super(),this.lc=e,this._c=n,this.type="orderBy"}_apply(e){const n=function(o,u,h){if(null!==o.startAt)throw new jt(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new jt(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new ma(u,h);return function(M,H){if(null===ou(M)){const K=rc(M);null!==K&&Wh(0,K,H.field)}}(o,E),E}(e._query,this.lc,this._c);return new fo(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Ms(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Ry(i,e="asc"){const n=e,o=Vd("orderBy",i);return new Ny(o,n)}class bp extends Lc{constructor(e,n,o){super(),this.type=e,this.wc=n,this.mc=o}_apply(e){return new fo(e.firestore,e.converter,zc(e._query,this.wc,this.mc))}}function Py(i){return Yg("limit",i),new bp("limit",i,"F")}function hm(i){return Yg("limitToLast",i),new bp("limitToLast",i,"L")}class Ip extends Lc{constructor(e,n,o){super(),this.type=e,this.gc=n,this.yc=o}_apply(e){const n=Dp(e,this.type,this.gc,this.yc);return new fo(e.firestore,e.converter,(u=n,new Ms((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function Vc(...i){return new Ip("startAt",i,!0)}function ky(...i){return new Ip("startAfter",i,!1)}class fm extends Lc{constructor(e,n,o){super(),this.type=e,this.gc=n,this.yc=o}_apply(e){const n=Dp(e,this.type,this.gc,this.yc);return new fo(e.firestore,e.converter,(u=n,new Ms((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function pm(...i){return new fm("endBefore",i,!1)}function Fy(...i){return new fm("endAt",i,!0)}function Dp(i,e,n,o){if(n[0]=(0,Ie.m9)(n[0]),n[0]instanceof kc)return function(u,h,E,M,H){if(!M)throw new jt(gt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const K=[];for(const Ee of vo(u))if(Ee.field.isKeyField())K.push(wi(h,M.key));else{const Be=M.data.field(Ee.field);if(Po(Be))throw new jt(gt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Be){const yt=Ee.field.canonicalString();throw new jt(gt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${yt}' (used as the orderBy) does not exist.`)}K.push(Be)}return new _o(K,H)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const u=Tu(i.firestore);return function(h,E,M,H,K,Ee){const Be=h.explicitOrderBy;if(K.length>Be.length)throw new jt(gt.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const yt=[];for(let Ht=0;Ht<K.length;Ht++){const Wt=K[Ht];if(Be[Ht].field.isKeyField()){if("string"!=typeof Wt)throw new jt(gt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof Wt}`);if(!ic(h)&&-1!==Wt.indexOf("/"))throw new jt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${Wt}' contains a slash.`);const On=h.path.child(Cn.fromString(Wt));if(!an.isDocumentKey(On))throw new jt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${On}' is not because it contains an odd number of segments.`);const gr=new an(On);yt.push(wi(E,gr))}else{const On=yp(M,H,Wt);yt.push(On)}}return new _o(yt,Ee)}(i._query,i.firestore._databaseId,u,e,n,o)}}function Ly(i,e,n){if("string"==typeof(n=(0,Ie.m9)(n))){if(""===n)throw new jt(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ic(e)&&-1!==n.indexOf("/"))throw new jt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Cn.fromString(n));if(!an.isDocumentKey(o))throw new jt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return wi(i,new an(o))}if(n instanceof es)return wi(i,n._key);throw new jt(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function zh(i,e){if(!Array.isArray(i)||0===i.length)throw new jt(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new jt(gt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Wh(i,e,n){if(!n.isEqual(e))throw new jt(gt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class ua{convertValue(e,n="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw _n()}}convertObject(e,n){const o={};return ir(e.fields,(u,h)=>{o[u]=this.convertValue(h,n)}),o}convertGeoPoint(e){return new xc(Kr(e.latitude),Kr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Kl(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(fa(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Cn.fromString(e);Hn(bt(o));const u=new ko(o.get(1),o.get(3)),h=new an(o.popFirst(5));return u.isEqual(n)||Vr(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}function Kh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class gm extends ua{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new es(this.firestore,null,n)}}class Aa{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Tu(e)}set(e,n,o){this._verifyNotCommitted();const u=Ns(e,this._firestore),h=Kh(u.converter,n,o),E=Nc(this._dataReader,"WriteBatch.set",u._key,h,null!==u.converter,o);return this._mutations.push(E.toMutation(u._key,Jr.none())),this}update(e,n,o,...u){this._verifyNotCommitted();const h=Ns(e,this._firestore);let E;return E="string"==typeof(n=(0,Ie.m9)(n))||n instanceof zl?mp(this._dataReader,"WriteBatch.update",h._key,n,o,u):Hh(this._dataReader,"WriteBatch.update",h._key,n),this._mutations.push(E.toMutation(h._key,Jr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ns(e,this._firestore);return this._mutations=this._mutations.concat(new f(n._key,Jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new jt(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ns(i,e){if((i=(0,Ie.m9)(i)).firestore!==e)throw new jt(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Sa(i){i=Br(i,es);const e=Br(i.firestore,li);return ap(ls(e),i._key).then(n=>Uc(e,i,n))}class fl extends ua{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new es(this.firestore,null,n)}}function mm(i){i=Br(i,es);const e=Br(i.firestore,li),n=ls(e),o=new fl(e);return function zg(i,e){const n=new fi;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(u,h,E){try{const M=yield function(H,K){const Ee=Yt(H);return Ee.persistence.runTransaction("read document","readonly",Be=>Ee.ci.Ls(Be,K))}(u,h);M.isFoundDocument()?E.resolve(M):M.isNoDocument()?E.resolve(null):E.reject(new jt(gt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const H=Fl(M,`Failed to get document '${h} from cache`);E.reject(H)}}),function(u,h,E){return o.apply(this,arguments)})(yield Ph(i),e,n);var o})),n.promise}(n,i._key).then(u=>new dl(e,o,i._key,u,new cl(null!==u&&u.hasLocalMutations,!0),i.converter))}function Vy(i){i=Br(i,es);const e=Br(i.firestore,li);return ap(ls(e),i._key,{source:"server"}).then(n=>Uc(e,i,n))}function Uy(i){i=Br(i,fo);const e=Br(i.firestore,li),n=ls(e),o=new fl(e);return cm(i._query),up(n,i._query).then(u=>new hl(e,o,i,u))}function By(i){i=Br(i,fo);const e=Br(i.firestore,li),n=ls(e),o=new fl(e);return function py(i,e){const n=new fi;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(u,h,E){try{const M=yield Cf(u,h,!0),H=new $f(h,M.li),K=H.Gu(M.documents),Ee=H.applyChanges(K,!1);E.resolve(Ee.snapshot)}catch(M){const H=Fl(M,`Failed to execute query '${h} against cache`);E.reject(H)}}),function(u,h,E){return o.apply(this,arguments)})(yield Ph(i),e,n);var o})),n.promise}(n,i._query).then(u=>new hl(e,o,i,u))}function jy(i){i=Br(i,fo);const e=Br(i.firestore,li),n=ls(e),o=new fl(e);return up(n,i._query,{source:"server"}).then(u=>new hl(e,o,i,u))}function Tp(i,e,n){i=Br(i,es);const o=Br(i.firestore,li),u=Kh(i.converter,e,n);return Wl(o,[Nc(Tu(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Jr.none())])}function Ud(i,e,n,...o){i=Br(i,es);const u=Br(i.firestore,li),h=Tu(u);let E;return E="string"==typeof(e=(0,Ie.m9)(e))||e instanceof zl?mp(h,"updateDoc",i._key,e,n,o):Hh(h,"updateDoc",i._key,e),Wl(u,[E.toMutation(i._key,Jr.exists(!0))])}function $y(i){return Wl(Br(i.firestore,li),[new f(i._key,Jr.none())])}function ym(i,e){const n=Br(i.firestore,li),o=Ey(i),u=Kh(i.converter,e);return Wl(n,[Nc(Tu(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Jr.exists(!1))]).then(()=>o)}function Hy(i,...e){var n,o,u;i=(0,Ie.m9)(i);let h={includeMetadataChanges:!1},E=0;"object"!=typeof e[E]||Bh(e[E])||(h=e[E],E++);const M={includeMetadataChanges:h.includeMetadataChanges};if(Bh(e[E])){const Be=e[E];e[E]=null===(n=Be.next)||void 0===n?void 0:n.bind(Be),e[E+1]=null===(o=Be.error)||void 0===o?void 0:o.bind(Be),e[E+2]=null===(u=Be.complete)||void 0===u?void 0:u.bind(Be)}let H,K,Ee;if(i instanceof es)K=Br(i.firestore,li),Ee=ya(i._key.path),H={next:Be=>{e[E]&&e[E](Uc(K,i,Be))},error:e[E+1],complete:e[E+2]};else{const Be=Br(i,fo);K=Br(Be.firestore,li),Ee=Be._query;const yt=new fl(K);H={next:Ht=>{e[E]&&e[E](new hl(K,yt,Be,Ht))},error:e[E+1],complete:e[E+2]},cm(i._query)}return function(Be,yt,Ht,Wt){const On=new ws(Wt),gr=new Dh(yt,On,Ht);return Be.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return Og(yield $l(Be),gr)})),()=>{On.Ia(),Be.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return Ih(yield $l(Be),gr)}))}}(ls(K),Ee,M,H)}function _m(i,e){return function gy(i,e){const n=new ws(e);return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield $l(i),u=n,Yt(o).Eu.add(u),void u.next();var o,u})),()=>{n.Ia(),i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield $l(i),u=n,void Yt(o).Eu.delete(u);var o,u}))}}(ls(i=Br(i,li)),Bh(e)?e:{next:e})}function Wl(i,e){return function(n,o){const u=new fi;return n.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function sa(i,e,n){return Nd.apply(this,arguments)}(yield kh(n),o,u)})),u.promise}(ls(i),e)}function Uc(i,e,n){const o=n.docs.get(e._key),u=new fl(i);return new dl(i,u,e._key,o,new cl(n.hasPendingWrites,n.fromCache),e.converter)}class Gy extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Tu(e)}get(e){const n=Ns(e,this._firestore),o=new gm(this._firestore);return this._transaction.lookup([n._key]).then(u=>{if(!u||1!==u.length)return _n();const h=u[0];if(h.isFoundDocument())return new kc(this._firestore,o,h.key,h,n.converter);if(h.isNoDocument())return new kc(this._firestore,o,n._key,null,n.converter);throw _n()})}set(e,n,o){const u=Ns(e,this._firestore),h=Kh(u.converter,n,o),E=Nc(this._dataReader,"Transaction.set",u._key,h,null!==u.converter,o);return this._transaction.set(u._key,E),this}update(e,n,o,...u){const h=Ns(e,this._firestore);let E;return E="string"==typeof(n=(0,Ie.m9)(n))||n instanceof zl?mp(this._dataReader,"Transaction.update",h._key,n,o,u):Hh(this._dataReader,"Transaction.update",h._key,n),this._transaction.update(h._key,E),this}delete(e){const n=Ns(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ns(e,this._firestore),o=new fl(this._firestore);return super.get(e).then(u=>new dl(this._firestore,o,n._key,u._document,new cl(!1,!1),n.converter))}}function vm(i,e){return function my(i,e){const n=new fi;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){const o=yield(u=i,wu(u).then(h=>h.datastore));var u;new aa(i.asyncQueue,o,e,n).run()})),n.promise}(ls(i=Br(i,li)),n=>e(new Gy(i,n)))}function Em(){return new Fd("deleteField")}function Cp(){return new Ld("serverTimestamp")}function qh(...i){return new am("arrayUnion",i)}function wm(...i){return new um("arrayRemove",i)}function bm(i){return new gp("increment",i)}!function(i,e=!0){yo=_.SDK_VERSION,(0,_._registerComponent)(new G.wA("firestore",(n,{options:o})=>{const u=n.getProvider("app").getImmediate(),h=new li(u,new Ou(n.getProvider("auth-internal")),new so(n.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC")),(0,_.registerVersion)(ro,"3.4.8",i),(0,_.registerVersion)(ro,"3.4.8","esm2017")}()},2090:(Qt,rt,k)=>{k.d(rt,{$s:()=>En,BH:()=>it,G6:()=>Ct,L:()=>Oe,LL:()=>mt,Lj:()=>Ze,Mn:()=>It,Sg:()=>Dt,UG:()=>Ye,US:()=>De,X3:()=>pe,ZB:()=>Le,ZR:()=>fe,b$:()=>We,d:()=>Re,eu:()=>me,hl:()=>ae,jU:()=>lt,m9:()=>on,ne:()=>er,pd:()=>un,r3:()=>Ke,ru:()=>Et,tV:()=>ne,uI:()=>Pe,vZ:()=>vn,w1:()=>at,xO:()=>dr,xb:()=>en,z$:()=>Ot,zI:()=>_e,zd:()=>Fn});var c=k(5861);const Ie=function(ue){const re=[];let ce=0;for(let je=0;je<ue.length;je++){let te=ue.charCodeAt(je);te<128?re[ce++]=te:te<2048?(re[ce++]=te>>6|192,re[ce++]=63&te|128):55296==(64512&te)&&je+1<ue.length&&56320==(64512&ue.charCodeAt(je+1))?(te=65536+((1023&te)<<10)+(1023&ue.charCodeAt(++je)),re[ce++]=te>>18|240,re[ce++]=te>>12&63|128,re[ce++]=te>>6&63|128,re[ce++]=63&te|128):(re[ce++]=te>>12|224,re[ce++]=te>>6&63|128,re[ce++]=63&te|128)}return re},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,re){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ce=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,je=[];for(let te=0;te<ue.length;te+=3){const ie=ue[te],U=te+1<ue.length,J=U?ue[te+1]:0,Q=te+2<ue.length,be=Q?ue[te+2]:0;let Zt=(15&J)<<2|be>>6,Sn=63&be;Q||(Sn=64,U||(Zt=64)),je.push(ce[ie>>2],ce[(3&ie)<<4|J>>4],ce[Zt],ce[Sn])}return je.join("")},encodeString(ue,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(ue):this.encodeByteArray(Ie(ue),re)},decodeString(ue,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(ue):function(ue){const re=[];let ce=0,je=0;for(;ce<ue.length;){const te=ue[ce++];if(te<128)re[je++]=String.fromCharCode(te);else if(te>191&&te<224){const ie=ue[ce++];re[je++]=String.fromCharCode((31&te)<<6|63&ie)}else if(te>239&&te<365){const Q=((7&te)<<18|(63&ue[ce++])<<12|(63&ue[ce++])<<6|63&ue[ce++])-65536;re[je++]=String.fromCharCode(55296+(Q>>10)),re[je++]=String.fromCharCode(56320+(1023&Q))}else{const ie=ue[ce++],U=ue[ce++];re[je++]=String.fromCharCode((15&te)<<12|(63&ie)<<6|63&U)}}return re.join("")}(this.decodeStringToByteArray(ue,re))},decodeStringToByteArray(ue,re){this.init_();const ce=re?this.charToByteMapWebSafe_:this.charToByteMap_,je=[];for(let te=0;te<ue.length;){const ie=ce[ue.charAt(te++)],J=te<ue.length?ce[ue.charAt(te)]:0;++te;const be=te<ue.length?ce[ue.charAt(te)]:64;++te;const Tt=te<ue.length?ce[ue.charAt(te)]:64;if(++te,null==ie||null==J||null==be||null==Tt)throw Error();je.push(ie<<2|J>>4),64!==be&&(je.push(J<<4&240|be>>2),64!==Tt&&je.push(be<<6&192|Tt))}return je},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}},Oe=function(ue){return function(ue){const re=Ie(ue);return De.encodeByteArray(re,!0)}(ue).replace(/\./g,"")},ne=function(ue){try{return De.decodeString(ue,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function Le(ue,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return re}for(const ce in re)!re.hasOwnProperty(ce)||!ot(ce)||(ue[ce]=Le(ue[ce],re[ce]));return ue}function ot(ue){return"__proto__"!==ue}class it{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,ce)=>{this.resolve=re,this.reject=ce})}wrapCallback(re){return(ce,je)=>{ce?this.reject(ce):this.resolve(je),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(ce):re(ce,je))}}}function Dt(ue,re){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const je=re||"demo-project",te=ue.iat||0,ie=ue.sub||ue.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const U=Object.assign({iss:`https://securetoken.google.com/${je}`,aud:je,iat:te,exp:te+3600,auth_time:te,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(U)),""].join(".")}function Ot(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function Ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ue){return!1}}function lt(){return"object"==typeof self&&self.self===self}function Et(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function We(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){return Ot().indexOf("Electron/")>=0}function at(){const ue=Ot();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function It(){return Ot().indexOf("MSAppHost/")>=0}function Ct(){return!Ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){return"object"==typeof indexedDB}function me(){return new Promise((ue,re)=>{try{let ce=!0;const je="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(je);te.onsuccess=()=>{te.result.close(),ce||self.indexedDB.deleteDatabase(je),ue(!0)},te.onupgradeneeded=()=>{ce=!1},te.onerror=()=>{var ie;re((null===(ie=te.error)||void 0===ie?void 0:ie.message)||"")}}catch(ce){re(ce)}})}function _e(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class fe extends Error{constructor(re,ce,je){super(ce),this.code=re,this.customData=je,this.name="FirebaseError",Object.setPrototypeOf(this,fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mt.prototype.create)}}class mt{constructor(re,ce,je){this.service=re,this.serviceName=ce,this.errors=je}create(re,...ce){const je=ce[0]||{},te=`${this.service}/${re}`,ie=this.errors[re],U=ie?function Vt(ue,re){return ue.replace(hn,(ce,je)=>{const te=re[je];return null!=te?String(te):`<${je}?>`})}(ie,je):"Error";return new fe(te,`${this.serviceName}: ${U} (${te}).`,je)}}const hn=/\{\$([^}]+)}/g;function Ke(ue,re){return Object.prototype.hasOwnProperty.call(ue,re)}function en(ue){for(const re in ue)if(Object.prototype.hasOwnProperty.call(ue,re))return!1;return!0}function vn(ue,re){if(ue===re)return!0;const ce=Object.keys(ue),je=Object.keys(re);for(const te of ce){if(!je.includes(te))return!1;const ie=ue[te],U=re[te];if(Qn(ie)&&Qn(U)){if(!vn(ie,U))return!1}else if(ie!==U)return!1}for(const te of je)if(!ce.includes(te))return!1;return!0}function Qn(ue){return null!==ue&&"object"==typeof ue}function dr(ue){const re=[];for(const[ce,je]of Object.entries(ue))Array.isArray(je)?je.forEach(te=>{re.push(encodeURIComponent(ce)+"="+encodeURIComponent(te))}):re.push(encodeURIComponent(ce)+"="+encodeURIComponent(je));return re.length?"&"+re.join("&"):""}function Fn(ue){const re={};return ue.replace(/^\?/,"").split("&").forEach(je=>{if(je){const[te,ie]=je.split("=");re[decodeURIComponent(te)]=decodeURIComponent(ie)}}),re}function un(ue){const re=ue.indexOf("?");if(!re)return"";const ce=ue.indexOf("#",re);return ue.substring(re,ce>0?ce:void 0)}function er(ue,re){const ce=new tn(ue,re);return ce.subscribe.bind(ce)}class tn{constructor(re,ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ce,this.task.then(()=>{re(this)}).catch(je=>{this.error(je)})}next(re){this.forEachObserver(ce=>{ce.next(re)})}error(re){this.forEachObserver(ce=>{ce.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,ce,je){let te;if(void 0===re&&void 0===ce&&void 0===je)throw new Error("Missing Observer.");te=function ln(ue,re){if("object"!=typeof ue||null===ue)return!1;for(const ce of re)if(ce in ue&&"function"==typeof ue[ce])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:ce,complete:je},void 0===te.next&&(te.next=Jn),void 0===te.error&&(te.error=Jn),void 0===te.complete&&(te.complete=Jn);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(U){}}),this.observers.push(te),ie}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let ce=0;ce<this.observers.length;ce++)this.sendOne(ce,re)}sendOne(re,ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{ce(this.observers[re])}catch(je){"undefined"!=typeof console&&console.error&&console.error(je)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jn(){}function En(ue,re=1e3,ce=2){const je=re*Math.pow(ce,ue),te=Math.round(.5*je*(Math.random()-.5)*2);return Math.min(144e5,je+te)}function on(ue){return ue&&ue._delegate?ue._delegate:ue}function wn(ue,re){return new Promise((ce,je)=>{ue.onsuccess=te=>{ce(te.target.result)},ue.onerror=te=>{var ie;je(`${re}: ${null===(ie=te.target.error)||void 0===ie?void 0:ie.message}`)}})}class nt{constructor(re){this._db=re,this.objectStoreNames=this._db.objectStoreNames}transaction(re,ce="readonly"){return new j(this._db.transaction.call(this._db,re,ce))}createObjectStore(re,ce){return new Z(this._db.createObjectStore(re,ce))}close(){this._db.close()}}class j{constructor(re){this._transaction=re,this.complete=new Promise((ce,je)=>{this._transaction.oncomplete=function(){ce()},this._transaction.onerror=()=>{je(this._transaction.error)},this._transaction.onabort=()=>{je(this._transaction.error)}})}objectStore(re){return new Z(this._transaction.objectStore(re))}}class Z{constructor(re){this._store=re}index(re){return new $e(this._store.index(re))}createIndex(re,ce,je){return new $e(this._store.createIndex(re,ce,je))}get(re){return wn(this._store.get(re),"Error reading from IndexedDB")}put(re,ce){return wn(this._store.put(re,ce),"Error writing to IndexedDB")}delete(re){return wn(this._store.delete(re),"Error deleting from IndexedDB")}clear(){return wn(this._store.clear(),"Error clearing IndexedDB object store")}}class $e{constructor(re){this._index=re}get(re){return wn(this._index.get(re),"Error reading from IndexedDB")}}function pe(ue,re,ce){return new Promise((je,te)=>{try{const ie=indexedDB.open(ue,re);ie.onsuccess=U=>{je(new nt(U.target.result))},ie.onerror=U=>{var J;te(`Error opening indexedDB: ${null===(J=U.target.error)||void 0===J?void 0:J.message}`)},ie.onupgradeneeded=U=>{ce(new nt(ie.result),U.oldVersion,U.newVersion,new j(ie.transaction))}}catch(ie){te(`Error opening indexedDB: ${ie.message}`)}})}function Ze(ue){return ct.apply(this,arguments)}function ct(){return(ct=(0,c.Z)(function*(ue){return new Promise((re,ce)=>{try{const je=indexedDB.deleteDatabase(ue);je.onsuccess=()=>{re()},je.onerror=te=>{var ie;ce(`Error deleting indexedDB database "${ue}": ${null===(ie=te.target.error)||void 0===ie?void 0:ie.message}`)}}catch(je){ce(`Error deleting indexedDB database "${ue}": ${je.message}`)}})})).apply(this,arguments)}},6893:(Qt,rt,k)=>{k.d(rt,{e:()=>Ie});var c=k(5861),_=k(5e3),G=k(3385),ve=k(3290);let Ie=(()=>{class Te{constructor(oe,Oe){this.auth=oe,this.afs=Oe,this.codigoError="",this.estaLogueado=!1}login(oe){var Oe=this;return(0,c.Z)(function*(){try{return yield Oe.auth.signInWithEmailAndPassword(oe.email,oe.password)}catch(ne){console.log("Error en login de AuthService",ne)}})()}register(oe){var Oe=this;return(0,c.Z)(function*(){try{return yield Oe.auth.createUserWithEmailAndPassword(oe.email,oe.password)}catch(ne){console.log("Error en register de AuthService",ne)}})()}logOut(){return this.auth.signOut()}isLoggedIn(){return this.auth.authState}}return Te.\u0275fac=function(oe){return new(oe||Te)(_.LFG(G.zQ),_.LFG(ve.ST))},Te.\u0275prov=_.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},1125:(Qt,rt,k)=>{k.d(rt,{w:()=>Ie});var c=k(5861),_=k(4004),G=k(5e3),ve=k(3290);let Ie=(()=>{class Te{constructor(oe){this.firestore=oe,this.player=[],this.itemsCollection=this.firestore.collection("chats")}getAllByOrder(oe,Oe,ne){return this.itemsCollection=this.firestore.collection(oe,de=>de.orderBy(Oe,ne)),this.itemsCollection.valueChanges().pipe((0,_.U)(de=>{this.player=de}))}alta(oe,Oe){var ne=this;return(0,c.Z)(function*(){try{return yield ne.firestore.collection(Oe).add(oe)}catch(de){console.log("Error en alta jugadorService: ",de)}})()}update(oe,Oe,ne){var de=this;return(0,c.Z)(function*(){try{return yield de.firestore.collection(Oe).doc(oe).set(ne)}catch(Le){console.log("Error en update jugadorService: ",Le)}})()}baja(oe,Oe){var ne=this;return(0,c.Z)(function*(){try{return yield ne.firestore.collection(Oe).doc(oe).delete()}catch(de){console.log("Error en baja jugadorService: ",de)}})()}getAll(oe){var Oe=this;return(0,c.Z)(function*(){try{return yield Oe.firestore.collection(oe).snapshotChanges()}catch(ne){console.log("Error en getAll jugadorService: ",ne)}})()}getById(oe,Oe){return this.firestore.collection(Oe).doc(oe).snapshotChanges()}}return Te.\u0275fac=function(oe){return new(oe||Te)(G.LFG(ve.ST))},Te.\u0275prov=G.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},6568:(Qt,rt,k)=>{var c=k(2313),_=k(5e3),G=k(2382),ve=k(6893),Ie=k(1125),Te=k(2290),De=k(5335),oe=k(9808);function Oe(N,p){1&N&&(_.TgZ(0,"small",30),_._uU(1,"El nombre es requerido"),_.qZA())}function ne(N,p){1&N&&(_.TgZ(0,"small",31),_._uU(1,"El apellido es requerido"),_.qZA())}function de(N,p){1&N&&(_.TgZ(0,"small",30),_._uU(1,"La edad minima es de 18 y la m\xe1xima de 99"),_.qZA())}function Le(N,p){1&N&&(_.TgZ(0,"small",30),_._uU(1,"La edad es requerida"),_.qZA())}function ot(N,p){1&N&&(_.TgZ(0,"small",32),_._uU(1,"El tel\xe9fono debe tener una extensi\xf3n de 10 n\xfameros"),_.qZA())}function it(N,p){1&N&&(_.TgZ(0,"small",32),_._uU(1,"El tel\xe9fono es requerido"),_.qZA())}function Dt(N,p){1&N&&(_.TgZ(0,"small",30),_._uU(1,"El g\xe9nero es requerido"),_.qZA())}function Ot(N,p){1&N&&(_.TgZ(0,"small",30),_._uU(1,"El g\xe9nero es requerido"),_.qZA())}function Pe(N,p){1&N&&(_.TgZ(0,"small",30),_._uU(1,"El comentario no puede tener menos de 100 y m\xe1s de 300 caracteres"),_.qZA())}function Ye(N,p){1&N&&(_.TgZ(0,"small",30),_._uU(1,"Es necesario dejar una opini\xf3n para avanzar"),_.qZA())}let lt=(()=>{class N{constructor(g,C,$,ee,ge){this.fb=g,this.authSrv=C,this.baseService=$,this.toastr=ee,this.router=ge,this.id="",this.email="",this.jugadorEncuesta={},this.formulario=g.group({nombre:["",G.kI.required],apellido:["",G.kI.required],edad:["",[G.kI.required,G.kI.min(18),G.kI.max(99)]],telefono:["",[G.kI.required,this.validarDiezNumerosTel]],genero:["",G.kI.required],gusto:["",G.kI.required],opinion:["",[G.kI.required,this.validarLength]]})}ngOnInit(){this.obtenerDatosUserLog()}aceptar(){this.altaEncuesta(this.formulario.value)}validarLength(g){const $=g.value.length;return($<=100||$>=300)&&{extension:!0}}validarDiezNumerosTel(g){return 10!=g.value.length&&{noDiezNumeros:!0}}obtenerDatosUserLog(){this.authSrv.isLoggedIn().subscribe(g=>{this.id=null==g?void 0:g.uid,this.email=null==g?void 0:g.email})}altaEncuesta(g){this.jugadorEncuesta={id:this.id,email:this.email,nombre:g.nombre,apellido:g.apellido,edad:g.edad,telefono:g.telefono,genero:g.genero,gusto:g.gusto,opinion:g.opinion},this.baseService.alta(this.jugadorEncuesta,"Encusta").then(()=>{this.toastr.success("La encuesta fue enviada con \xe9xito","Gracias por responder",{positionClass:"toast-bottom-right",timeOut:1e4}),g.value=""}).catch(C=>{this.toastr.error("Se produjo un error al enviar la encuesta","Error al envair",{positionClass:"toast-bottom-right",timeOut:1e4}),console.log(C)})}}return N.\u0275fac=function(g){return new(g||N)(_.Y36(G.qu),_.Y36(ve.e),_.Y36(Ie.w),_.Y36(Te._W),_.Y36(De.F0))},N.\u0275cmp=_.Xpm({type:N,selectors:[["app-encuesta"]],decls:69,vars:12,consts:[[1,"container","container-encuesta","mt-3"],[1,"card",2,"width","60"],[1,"card-header","text-center","text-uppercase","text-white","bg-dark"],[1,"container","text-left","formularioDiv"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputNombre"],["type","text","formControlName","nombre","id","exampleInputNombre",1,"form-control"],["id","nombreHelp","class","form-text text-muted",4,"ngIf"],["for","exampleInputApellido"],["type","text","formControlName","apellido","id","exampleInputApellido",1,"form-control"],["id","apellidoHelp","class","form-text text-muted",4,"ngIf"],["for","exampleInputEdad"],["type","number","formControlName","edad","id","exampleInputEdad",1,"form-control"],["for","exampleInputTelefono"],["type","text","formControlName","telefono","id","exampleInputTelefono","placeholder","Ingrese n\xfamero (Cod. \xc1rea + Tel\xe9fono sin 15)",1,"form-control"],["id","telHelp","class","form-text text-muted",4,"ngIf"],[1,"row"],[1,"form-group","col-6"],["for","exampleGenero"],["id","exampleGenero","formControlName","genero",1,"form-control"],[1,"form-check","form-check-inline"],["type","radio","name","gusto","id","inlineRadio1","value","Si","formControlName","gusto",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","gusto","id","inlineRadio2","value","No","formControlName","gusto",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["for","exampleOpinion"],["id","exampleOpinion","rows","3","formControlName","opinion",1,"form-control"],[1,"container"],["type","submit",1,"btn","btn-outline-primary","btn-lg","btn-block","mb-2","mt-2",3,"disabled"],["id","nombreHelp",1,"form-text","text-muted"],["id","apellidoHelp",1,"form-text","text-muted"],["id","telHelp",1,"form-text","text-muted"]],template:function(g,C){if(1&g&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_._uU(3," Encuesta "),_.qZA(),_.TgZ(4,"div",3),_.TgZ(5,"form",4),_.NdJ("ngSubmit",function(){return C.aceptar()}),_.TgZ(6,"div",5),_.TgZ(7,"label",6),_._uU(8,"Nombre"),_.qZA(),_._UZ(9,"input",7),_.YNc(10,Oe,2,0,"small",8),_.qZA(),_.TgZ(11,"div",5),_.TgZ(12,"label",9),_._uU(13,"Apellido"),_.qZA(),_._UZ(14,"input",10),_.YNc(15,ne,2,0,"small",11),_.qZA(),_.TgZ(16,"div",5),_.TgZ(17,"label",12),_._uU(18,"Edad"),_.qZA(),_._UZ(19,"input",13),_.YNc(20,de,2,0,"small",8),_.YNc(21,Le,2,0,"small",8),_.qZA(),_.TgZ(22,"div",5),_.TgZ(23,"label",14),_._uU(24,"Tel\xe9fono"),_.qZA(),_._UZ(25,"input",15),_.YNc(26,ot,2,0,"small",16),_._UZ(27,"br"),_.YNc(28,it,2,0,"small",16),_.qZA(),_.TgZ(29,"div",17),_.TgZ(30,"div",18),_.TgZ(31,"label",19),_._uU(32,"G\xe9nero"),_.qZA(),_.TgZ(33,"select",20),_.TgZ(34,"option"),_._uU(35,"Masculino"),_.qZA(),_.TgZ(36,"option"),_._uU(37,"Femenino"),_.qZA(),_.TgZ(38,"option"),_._uU(39,"No binario"),_.qZA(),_.TgZ(40,"option"),_._uU(41,"Trans"),_.qZA(),_.TgZ(42,"option"),_._uU(43,"Otro"),_.qZA(),_.qZA(),_.YNc(44,Dt,2,0,"small",8),_.qZA(),_.TgZ(45,"div",18),_.TgZ(46,"label",19),_._uU(47,"\xbfTe gust\xf3 la sala de juegos?"),_.qZA(),_._UZ(48,"br"),_.TgZ(49,"div",21),_._UZ(50,"input",22),_.TgZ(51,"label",23),_._uU(52,"Si"),_.qZA(),_.qZA(),_.TgZ(53,"div",21),_._UZ(54,"input",24),_.TgZ(55,"label",25),_._uU(56,"No"),_.qZA(),_.qZA(),_.YNc(57,Ot,2,0,"small",8),_.qZA(),_.qZA(),_.TgZ(58,"div",5),_.TgZ(59,"label",26),_._uU(60,"Danos tu opini\xf3n"),_.qZA(),_._UZ(61,"textarea",27),_.YNc(62,Pe,2,0,"small",8),_._UZ(63,"br"),_.YNc(64,Ye,2,0,"small",8),_.qZA(),_.TgZ(65,"div",28),_.TgZ(66,"div",17),_.TgZ(67,"button",29),_._uU(68,"ENVIAR"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&g){let $,ee,ge,we,Xe,bt,Bt,yn,cn,dn;_.xp6(5),_.Q6J("formGroup",C.formulario),_.xp6(5),_.Q6J("ngIf",(null==($=C.formulario.get("nombre"))?null:$.hasError("required"))&&(null==($=C.formulario.get("nombre"))?null:$.touched)),_.xp6(5),_.Q6J("ngIf",(null==(ee=C.formulario.get("apellido"))?null:ee.hasError("required"))&&(null==(ee=C.formulario.get("apellido"))?null:ee.touched)),_.xp6(5),_.Q6J("ngIf",(null==(ge=C.formulario.get("edad"))?null:ge.hasError("min"))||(null==(ge=C.formulario.get("edad"))?null:ge.hasError("max"))),_.xp6(1),_.Q6J("ngIf",(null==(we=C.formulario.get("edad"))?null:we.hasError("required"))&&(null==(we=C.formulario.get("edad"))?null:we.touched)),_.xp6(5),_.Q6J("ngIf",(null==(Xe=C.formulario.get("telefono"))?null:Xe.hasError("noDiezNumeros"))&&(null==(Xe=C.formulario.get("telefono"))?null:Xe.touched)),_.xp6(2),_.Q6J("ngIf",(null==(bt=C.formulario.get("telefono"))?null:bt.hasError("required"))&&(null==(bt=C.formulario.get("telefono"))?null:bt.touched)),_.xp6(16),_.Q6J("ngIf",(null==(Bt=C.formulario.get("genero"))?null:Bt.hasError("required"))&&(null==(Bt=C.formulario.get("genero"))?null:Bt.touched)),_.xp6(13),_.Q6J("ngIf",null==(yn=C.formulario.get("gusto"))?null:yn.hasError("required")),_.xp6(5),_.Q6J("ngIf",(null==(cn=C.formulario.get("opinion"))?null:cn.hasError("extension"))&&(null==(cn=C.formulario.get("opinion"))?null:cn.touched)),_.xp6(2),_.Q6J("ngIf",(null==(dn=C.formulario.get("opinion"))?null:dn.hasError("required"))&&(null==(dn=C.formulario.get("opinion"))?null:dn.touched)),_.xp6(3),_.Q6J("disabled",C.formulario.invalid)}},directives:[G._Y,G.JL,G.sg,G.Fj,G.JJ,G.u,oe.O5,G.wV,G.EJ,G.YN,G.Kr,G._],styles:["small[_ngcontent-%COMP%]{color:red!important}.container[_ngcontent-%COMP%]   .text-left[_ngcontent-%COMP%]{margin-top:5px}"]}),N})();const We=function(){return["/juegos/golpear-carpincho"]},at=[{path:"",component:(()=>{class N{constructor(g,C){this.authService=g,this.route=C,this.logueado=this.authService.isLoggedIn()}ngOnInit(){}redirigeAlJuego(g){this.route.navigate([`/juegos/${g}`])}}return N.\u0275fac=function(g){return new(g||N)(_.Y36(ve.e),_.Y36(De.F0))},N.\u0275cmp=_.Xpm({type:N,selectors:[["app-home"]],decls:1,vars:0,consts:[["src","../../../assets/imagenes/Baraja_espa\xf1ola_completa.png","alt","text"]],template:function(g,C){1&g&&_._UZ(0,"img",0)},styles:["header[_ngcontent-%COMP%]{position:relative;background-color:#000;background-position:center;background-repeat:no-repeat;background-size:cover;height:100vh;min-height:25rem;width:100%;overflow:hidden;z-index:1}header[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;min-width:100%;min-height:100%;width:auto;height:auto;z-index:0;transform:translate(-50%) translateY(-50%)}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}header[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;background-color:#000;opacity:.5;z-index:1}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{height:95vh}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]{cursor:pointer;position:relative;display:block;max-width:30rem;border-radius:.5rem;overflow:hidden}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   .portfolio-item-caption[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transition:all .2s ease-in-out;opacity:0;background-color:#1abc9ce6}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   .portfolio-item-caption[_ngcontent-%COMP%]:hover{opacity:1}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   .portfolio-item-caption[_ngcontent-%COMP%]   .portfolio-item-caption-content[_ngcontent-%COMP%]{font-size:1.5rem}"]}),N})()},{path:"ingreso",loadChildren:()=>k.e(972).then(k.bind(k,6972)).then(N=>N.IngresoModule)},{path:"juegos",loadChildren:()=>k.e(233).then(k.bind(k,5233)).then(N=>N.JuegosModule)},{path:"encuesta",component:lt},{path:"quien-soy",component:(()=>{class N{constructor(){}ngOnInit(){}}return N.\u0275fac=function(g){return new(g||N)},N.\u0275cmp=_.Xpm({type:N,selectors:[["app-quien-soy"]],decls:19,vars:2,consts:[["id","quiwn",1,"container-fluid","bg-1","text-center"],[1,"margin"],["src","./assets/imagenes/foto_ab.jpg","alt","Bird","width","350","height","350",1,"img-responsive","rounded-circle","img-thumbnail","margin","top",2,"display","inline"],["id","que",1,"container-fluid","bg-2","text-center"],[1,"col-md-12","align","justify-content-center"],[1,"row","no-gutters","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250"],[1,"col","p-4","d-flex","flex-column","position-static"],[1,"card-text","mb-auto"],[1,"btn","btn-default","btn-lg","btn-primary",3,"routerLink"],[1,"glyphicon","glyphicon-file"],[1,"col-auto","d-none","d-lg-block"],["src","../../../assets/imagenes/wackamole.jpg","alt","","width","250","height","250",1,"bd-placeholder-img"]],template:function(g,C){1&g&&(_.TgZ(0,"div",0),_.TgZ(1,"h3",1),_._uU(2,"Alejandro Begue"),_.qZA(),_._UZ(3,"img",2),_.TgZ(4,"h3"),_._uU(5,"Soy alumno de la UTN FRA"),_.qZA(),_.qZA(),_.TgZ(6,"div",3),_.TgZ(7,"h3",1),_._uU(8,"Descripci\xf3n del juego propio"),_.qZA(),_.TgZ(9,"div",4),_.TgZ(10,"div",5),_.TgZ(11,"div",6),_.TgZ(12,"p",7),_._uU(13,"Los habitantes de Nordelta est\xe1n muy preocupados por la invasi\xf3n de sus preciosas casas, y salen a defenderlas con garrotes de los infames roedores gigantes. Tu tendr\xe1s un minuto para protegerla y cada acierto sumar\xe1 un punto, pero ten cuidado, porque aprenden con los golpes y se vuelven m\xe1s r\xe1pidos."),_.qZA(),_.TgZ(14,"a",8),_._UZ(15,"span",9),_._uU(16," Ir al juego "),_.qZA(),_.qZA(),_.TgZ(17,"div",10),_._UZ(18,"img",11),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&g&&(_.xp6(14),_.Q6J("routerLink",_.DdM(1,We)))},directives:[De.yS],styles:[".imagenDeQuienSoy[_ngcontent-%COMP%]{width:100%}body[_ngcontent-%COMP%]{font:20px Montserrat,sans-serif;line-height:1.8;color:#f5f6f7}p[_ngcontent-%COMP%]{font-size:16px}.margin[_ngcontent-%COMP%]{margin-bottom:45px}.bg-1[_ngcontent-%COMP%]{background-color:#1abc9c;color:#fff}.bg-2[_ngcontent-%COMP%]{background-color:#474e5d;color:#fff}.bg-3[_ngcontent-%COMP%]{background-color:#fff;color:#555}.bg-4[_ngcontent-%COMP%]{background-color:#2f2f2f;color:#fff}.container-fluid[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:70px}.navbar[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px;border:0;border-radius:0;margin-bottom:0;font-size:12px;letter-spacing:5px}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1abc9c!important}.github[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:500px;width:100%}"]}),N})()}];let It=(()=>{class N{}return N.\u0275fac=function(g){return new(g||N)},N.\u0275mod=_.oAB({type:N}),N.\u0275inj=_.cJS({imports:[[De.Bz.forRoot(at)],De.Bz]}),N})();var Ne=k(3290);const Ct=function(){return["/ingreso/login"]};function ae(N,p){1&N&&(_.TgZ(0,"li",9),_.TgZ(1,"a",10),_._uU(2,"Login"),_.qZA(),_.qZA()),2&N&&(_.xp6(1),_.Q6J("routerLink",_.DdM(1,Ct)))}const me=function(){return["/ingreso/registro"]};function _e(N,p){1&N&&(_.TgZ(0,"li",9),_.TgZ(1,"a",11),_._uU(2,"Registro"),_.qZA(),_.qZA()),2&N&&(_.xp6(1),_.Q6J("routerLink",_.DdM(1,me)))}const xe=function(){return["/quien-soy"]};function He(N,p){1&N&&(_.TgZ(0,"li",9),_.TgZ(1,"a",11),_._uU(2,"\xbfQui\xe9n soy?"),_.qZA(),_.qZA()),2&N&&(_.xp6(1),_.Q6J("routerLink",_.DdM(1,xe)))}function fe(N,p){1&N&&(_.TgZ(0,"li",9),_.TgZ(1,"a",12),_._uU(2,"Juegos"),_.qZA(),_.qZA())}const mt=function(){return["/encuesta"]};function Vt(N,p){1&N&&(_.TgZ(0,"li",9),_.TgZ(1,"a",13),_._uU(2,"Encuesta"),_.qZA(),_.qZA()),2&N&&(_.xp6(1),_.Q6J("routerLink",_.DdM(1,mt)))}const hn=function(){return["/juegos/listado-puntajes"]};function wt(N,p){if(1&N&&(_.TgZ(0,"li",9),_.TgZ(1,"a",14),_._uU(2),_.qZA(),_.qZA()),2&N){const g=_.oxw();_.xp6(1),_.Q6J("routerLink",_.DdM(2,hn)),_.xp6(1),_.Oqu(null==g.user?null:g.user.email)}}function Kt(N,p){if(1&N){const g=_.EpF();_.TgZ(0,"li",9),_.TgZ(1,"a",15),_.NdJ("click",function(){return _.CHM(g),_.oxw().onLogout()}),_._UZ(2,"i",16),_.qZA(),_.qZA()}}const Jt=function(){return[""]},rn=function(){return["/juegos/ahorcado"]},dt=function(){return["/juegos/mayor-menor"]},pt=function(){return["/juegos/preguntados"]},Ae=function(){return["/juegos/golpear-carpincho"]};let Ke=(()=>{class N{constructor(g,C){this.authService=g,this.route=C,this.isLogged=!1}ngOnInit(){this.authService.isLoggedIn().subscribe(g=>{this.user=g,this.isLogged=!!this.user},g=>console.log(g))}onLogout(){this.authService.logOut().then(()=>{console.log("Se cerr\xf3 la sesi\xf3n."),this.authService.estaLogueado=!1,this.isLogged=!1}).catch(()=>console.log("Error en el logout."))}}return N.\u0275fac=function(g){return new(g||N)(_.Y36(ve.e),_.Y36(De.F0))},N.\u0275cmp=_.Xpm({type:N,selectors:[["app-navbar"]],decls:36,vars:19,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid","container-nav"],[1,"navbar-brand","text-uppercase","font-weight-bold",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end"],[1,"d-flex","justify-content-end"],[1,"navbar-nav","ml-auto","mt-2","mt-lg-0"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link","rounded",3,"routerLink"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],["href","#juegos","routerLinkActive","active",1,"nav-link","py-3","px-0","px-lg-3","rounded"],["role","button","routerLinkActive","active",1,"nav-link","py-3","px-0","px-lg-3","rounded",3,"routerLink"],["routerLinkActive","active",1,"nav-link","py-3","px-0","px-lg-3","rounded",3,"routerLink"],["role","button",1,"nav-link","py-3","px-0","px-lg-3","rounded",3,"click"],["aria-hidden","true",1,"fa","fa-sign-out","fa-lg"]],template:function(g,C){1&g&&(_.TgZ(0,"nav",0),_.TgZ(1,"div",1),_.TgZ(2,"a",2),_._uU(3,"SALA DE JUEGOS"),_.qZA(),_.TgZ(4,"button",3),_._UZ(5,"span",4),_.qZA(),_.TgZ(6,"a",2),_._uU(7,"AHORCADO"),_.qZA(),_.TgZ(8,"button",3),_._UZ(9,"span",4),_.qZA(),_.TgZ(10,"a",2),_._uU(11,"MAYOR Y MENOR"),_.qZA(),_.TgZ(12,"button",3),_._UZ(13,"span",4),_.qZA(),_.TgZ(14,"a",2),_._uU(15,"PREGUNTADOS"),_.qZA(),_.TgZ(16,"button",3),_._UZ(17,"span",4),_.qZA(),_.TgZ(18,"a",2),_._uU(19,"GOLPEAR CARPINCHO"),_.qZA(),_.TgZ(20,"button",3),_._UZ(21,"span",4),_.qZA(),_.TgZ(22,"a",2),_._uU(23,"ENCUESTA"),_.qZA(),_.TgZ(24,"button",3),_._UZ(25,"span",4),_.qZA(),_.TgZ(26,"div",5),_.TgZ(27,"div",6),_.TgZ(28,"ul",7),_.YNc(29,ae,3,2,"li",8),_.YNc(30,_e,3,2,"li",8),_.YNc(31,He,3,2,"li",8),_.YNc(32,fe,3,0,"li",8),_.YNc(33,Vt,3,2,"li",8),_.YNc(34,wt,3,3,"li",8),_.YNc(35,Kt,3,0,"li",8),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&g&&(_.xp6(2),_.Q6J("routerLink",_.DdM(13,Jt)),_.xp6(4),_.Q6J("routerLink",_.DdM(14,rn)),_.xp6(4),_.Q6J("routerLink",_.DdM(15,dt)),_.xp6(4),_.Q6J("routerLink",_.DdM(16,pt)),_.xp6(4),_.Q6J("routerLink",_.DdM(17,Ae)),_.xp6(4),_.Q6J("routerLink",_.DdM(18,mt)),_.xp6(7),_.Q6J("ngIf",!C.isLogged),_.xp6(1),_.Q6J("ngIf",!C.isLogged),_.xp6(1),_.Q6J("ngIf",!C.isLogged),_.xp6(1),_.Q6J("ngIf",C.isLogged),_.xp6(1),_.Q6J("ngIf",C.isLogged),_.xp6(1),_.Q6J("ngIf",C.isLogged),_.xp6(1),_.Q6J("ngIf",C.isLogged))},directives:[De.yS,oe.O5,De.Od],styles:[".container-nav[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem}.nav-link.active[_ngcontent-%COMP%]{color:#1abc9c!important;font-weight:700}"]}),N})();function Mt(N,p){if(1&N&&(_.TgZ(0,"li",1),_._uU(1),_.qZA()),2&N){const g=p.$implicit;_.xp6(1),_.hij(" ",g.name," ")}}let en=(()=>{class N{constructor(g){this.title="tp-sala-de-juegos",this.items=g.collection("items").valueChanges()}}return N.\u0275fac=function(g){return new(g||N)(_.Y36(Ne.ST))},N.\u0275cmp=_.Xpm({type:N,selectors:[["app-root"]],decls:5,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],[1,"text"]],template:function(g,C){1&g&&(_._UZ(0,"app-navbar"),_.TgZ(1,"ul"),_.YNc(2,Mt,2,1,"li",0),_.ALo(3,"async"),_.qZA(),_._UZ(4,"router-outlet")),2&g&&(_.xp6(2),_.Q6J("ngForOf",_.lcZ(3,1,C.items)))},directives:[Ke,oe.sg,De.lC],pipes:[oe.Ov],styles:[""]}),N})();const Dn_firebase={projectId:"tp-sala-de-juegos-2022",appId:"1:502937991000:web:4d5c0baf7ea982e6c1172d",storageBucket:"tp-sala-de-juegos-2022.appspot.com",apiKey:"AIzaSyD5Clbt4IOoVT_hKB_p1eUPr1NL412RhJ4",authDomain:"tp-sala-de-juegos-2022.firebaseapp.com",messagingSenderId:"502937991000"};var vn=k(520),Qn=k(2011),dr=k(655),Fn=k(9646),un=k(515),sr=k(5363),er=k(3900),tn=k(4004),Ln=k(3151),ln=k(880),Jn=k(7982),vt=k(3385),ke=k(127),Se=k(9300),tt=k(8306),At=k(8421),Ut=k(7579),kt=k(4482),xt=k(5403);class tr extends xt.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}var hr=k(5577),En=k(1884),jn=k(8675),fn=k(1520),on=k(3692),wn=k(5867);const Zt="firebase_screen_id",Rn="outlet",Sr="screen_class",Xr="screen_name";let Ve=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const ht={},Xt=N=>{const p=[N[Sr],N[Rn]].join("#");if(ht.hasOwnProperty(p))return ht[p];{const g=Ve++;return ht[p]=g,g}},ni=new _.OlP("angularfire2.analytics.analyticsCollectionEnabled"),Wr=new _.OlP("angularfire2.analytics.appVersion"),Lr=new _.OlP("angularfire2.analytics.appName"),Nr=new _.OlP("angularfire2.analytics.debugMode"),ze=new _.OlP("angularfire2.analytics.config"),qn="dataLayer";let Wn=(()=>{class N{constructor(g,C,$,ee,ge,we,Xe,bt,Bt){if(this.analyticsInitialized=new Promise(()=>{}),(0,oe.NF)(Xe)){window[qn]=window[qn]||[];const cn=(...kn)=>"config"===kn[0]&&"firebase"===kn[2].origin&&(this.measurementId=kn[1],!0),dn=kn=>{window.gtag=(...Zn)=>{kn&&kn(...Zn),"event"===Zn[0]&&Zn[2].send_to===this.measurementId&&(ee&&(Zn[2].app_name=ee),$&&(Zn[2].app_version=$)),ge&&"undefined"!=typeof console&&console.info(...Zn),function(...Ii){window[qn].push(arguments)}(...Zn)}};window[qn].some(cn)?(this.analyticsInitialized=Promise.resolve(),dn()):this.analyticsInitialized=new Promise(kn=>{dn((...Zn)=>{cn(...Zn)&&kn()})}),we&&this.updateConfig(we),ge&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const yn=(0,Fn.of)(void 0).pipe((0,sr.Q)(Bt.outsideAngular),(0,er.w)(Jn.Gb),(0,er.w)(cn=>cn?bt.runOutsideAngular(()=>k.e(643).then(k.bind(k,8643))):un.E),(0,tn.U)(()=>(0,Qn.cc)("analytics","AngularFireAnalytics",g.name,()=>{const cn=g.analytics();return!1===C&&cn.setAnalyticsCollectionEnabled(!1),cn},[g,C,we,ge])),(0,Ln.d)({bufferSize:1,refCount:!1}));return(0,Qn.pX)(this,yn,bt)}updateConfig(g){return(0,dr.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},g),{update:!0}))})}}return N.\u0275fac=function(g){return new(g||N)(_.LFG(Qn.Ot),_.LFG(ni,8),_.LFG(Wr,8),_.LFG(Lr,8),_.LFG(Nr,8),_.LFG(ze,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(ln.HU))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac,providedIn:"any"}),N})(),qr=(()=>{class N{constructor(g,C,$,ee){if(this.disposables=[],ke.Z.registerVersion("angularfire",ln.q4.full,"compat-user-tracking"),(0,oe.PM)(C))this.initialized=Promise.resolve();else{let ge;this.initialized=ee.runOutsideAngular(()=>new Promise(we=>ge=we)),this.disposables=[$.authState.subscribe(we=>{g.setUserId(null==we?void 0:we.uid),ge()}),$.credential.subscribe(we=>{if(we){const Xe=we.user.isAnonymous?"anonymous":we.additionalUserInfo.providerId;we.additionalUserInfo.isNewUser&&g.logEvent("sign_up",{method:Xe}),g.logEvent("login",{method:Xe})}})]}}ngOnDestroy(){this.disposables.forEach(g=>g.unsubscribe())}}return N.\u0275fac=function(g){return new(g||N)(_.LFG(Wn),_.LFG(_.Lbi),_.LFG(vt.zQ),_.LFG(_.R0b))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac}),N})(),Hr=(()=>{class N{constructor(g,C,$,ee,ge,we){if(ke.Z.registerVersion("angularfire",ln.q4.full,"compat-screen-tracking"),!C||!g)return this;ge.runOutsideAngular(()=>{this.disposable=((N,p,g)=>N.events.pipe((0,Se.h)($=>$ instanceof De.jw)).pipe((0,er.w)($=>{var ee;const we=(null===(ee=N.parseUrl(N.url.replace(/(?:\().+(?:\))/g,dn=>dn.replace("://",":///"))).root.children[$.snapshot.outlet])||void 0===ee?void 0:ee.toString())||"",Xe=N.routerState.root.children.map(dn=>dn).find(dn=>dn.outlet===$.snapshot.outlet);if(!Xe)return(0,Fn.of)(null);let bt=Xe;for(;bt.firstChild;)bt=bt.firstChild;const Bt=bt.pathFromRoot.map(dn=>{var An;return null===(An=dn.routeConfig)||void 0===An?void 0:An.path}).filter(dn=>dn).join("/")||"/",yn={[Xr]:Bt,page_path:`/${we}`,firebase_event_origin:"auto",firebase_screen:Bt,[Rn]:$.snapshot.outlet};p&&(yn.page_title=p.getTitle());let cn=Xe.component;if(cn){if(cn===De.fw){let dn=$.snapshot;for(;dn.firstChild;)dn=dn.firstChild;cn=dn.component}}else cn=$.snapshot.component;if("string"==typeof cn)return(0,Fn.of)(Object.assign(Object.assign({},yn),{[Sr]:cn}));if(cn){const dn=g.resolveComponentFactory(cn);return(0,Fn.of)(Object.assign(Object.assign({},yn),{[Sr]:dn.selector}))}return(0,Fn.of)(null)}),(0,Se.h)($=>!!$),(0,tn.U)($=>Object.assign({firebase_screen_class:$[Sr],[Zt]:Xt($)},$)),function Tn(N,p,g,C){return(0,kt.e)(($,ee)=>{let ge;p&&"function"!=typeof p?({duration:g,element:ge,connector:C}=p):ge=p;const we=new Map,Xe=cn=>{we.forEach(cn),cn(ee)},bt=cn=>Xe(dn=>dn.error(cn)),Bt=new tr(ee,cn=>{try{const dn=N(cn);let An=we.get(dn);if(!An){we.set(dn,An=C?C():new Ut.x);const kn=function yn(cn,dn){const An=new tt.y(kn=>{Bt.activeGroups++;const Zn=dn.subscribe(kn);return()=>{Zn.unsubscribe(),0==--Bt.activeGroups&&Bt.teardownAttempted&&Bt.unsubscribe()}});return An.key=cn,An}(dn,An);if(ee.next(kn),g){const Zn=new xt.Q(An,()=>{An.complete(),null==Zn||Zn.unsubscribe()},void 0,void 0,()=>we.delete(dn));Bt.add((0,At.Xf)(g(kn)).subscribe(Zn))}}An.next(ge?ge(cn):cn)}catch(dn){bt(dn)}},()=>Xe(cn=>cn.complete()),bt,()=>we.clear());$.subscribe(Bt)})}($=>$[Rn]),(0,hr.z)($=>$.pipe((0,En.x)((ee,ge)=>JSON.stringify(ee)===JSON.stringify(ge)),(0,jn.O)(void 0),(0,fn.G)(),(0,tn.U)(([ee,ge])=>ee?Object.assign({firebase_previous_class:ee[Sr],firebase_previous_screen:ee[Xr],firebase_previous_id:ee[Zt]},ge):ge)))))(C,$,ee).pipe((0,er.w)(Xe=>(0,dr.mG)(this,void 0,void 0,function*(){return we&&(yield we.initialized),yield g.logEvent("screen_view",Xe)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return N.\u0275fac=function(g){return new(g||N)(_.LFG(Wn),_.LFG(De.F0,8),_.LFG(c.Dx,8),_.LFG(_._Vd),_.LFG(_.R0b),_.LFG(qr,8))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac}),N})(),ci=(()=>{class N{constructor(g,C,$){ke.Z.registerVersion("angularfire",ln.q4.full,"analytics-compat"),g.app.then(()=>{})}}return N.\u0275fac=function(g){return new(g||N)(_.LFG(Wn),_.LFG(Hr,8),_.LFG(qr,8))},N.\u0275mod=_.oAB({type:N}),N.\u0275inj=_.cJS({providers:[Wn]}),N})();var rr=k(1777);function eo(){return"undefined"!=typeof window&&void 0!==window.document}function ri(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Yr(N){switch(N.length){case 0:return new rr.ZN;case 1:return N[0];default:return new rr.ZE(N)}}function Zi(N,p,g,C,$={},ee={}){const ge=[],we=[];let Xe=-1,bt=null;if(C.forEach(Bt=>{const yn=Bt.offset,cn=yn==Xe,dn=cn&&bt||{};Object.keys(Bt).forEach(An=>{let kn=An,Zn=Bt[An];if("offset"!==An)switch(kn=p.normalizePropertyName(kn,ge),Zn){case rr.k1:Zn=$[An];break;case rr.l3:Zn=ee[An];break;default:Zn=p.normalizeStyleValue(An,kn,Zn,ge)}dn[kn]=Zn}),cn||we.push(dn),bt=dn,Xe=yn}),ge.length){const Bt="\n - ";throw new Error(`Unable to animate due to the following errors:${Bt}${ge.join(Bt)}`)}return we}function fs(N,p,g,C){switch(p){case"start":N.onStart(()=>C(g&&ts(g,"start",N)));break;case"done":N.onDone(()=>C(g&&ts(g,"done",N)));break;case"destroy":N.onDestroy(()=>C(g&&ts(g,"destroy",N)))}}function ts(N,p,g){const C=g.totalTime,ee=Rs(N.element,N.triggerName,N.fromState,N.toState,p||N.phaseName,null==C?N.totalTime:C,!!g.disabled),ge=N._data;return null!=ge&&(ee._data=ge),ee}function Rs(N,p,g,C,$="",ee=0,ge){return{element:N,triggerName:p,fromState:g,toState:C,phaseName:$,totalTime:ee,disabled:!!ge}}function ii(N,p,g){let C;return N instanceof Map?(C=N.get(p),C||N.set(p,C=g)):(C=N[p],C||(C=N[p]=g)),C}function Gs(N){const p=N.indexOf(":");return[N.substring(1,p),N.substr(p+1)]}let ps=(N,p)=>!1,Is=(N,p)=>!1,Di=(N,p,g)=>[];const $i=ri();($i||"undefined"!=typeof Element)&&(ps=eo()?(N,p)=>{for(;p&&p!==document.documentElement;){if(p===N)return!0;p=p.parentNode||p.host}return!1}:(N,p)=>N.contains(p),Is=(()=>{if($i||Element.prototype.matches)return(N,p)=>N.matches(p);{const N=Element.prototype,p=N.matchesSelector||N.mozMatchesSelector||N.msMatchesSelector||N.oMatchesSelector||N.webkitMatchesSelector;return p?(g,C)=>p.apply(g,[C]):Is}})(),Di=(N,p,g)=>{let C=[];if(g){const $=N.querySelectorAll(p);for(let ee=0;ee<$.length;ee++)C.push($[ee])}else{const $=N.querySelector(p);$&&C.push($)}return C});let yi=null,zs=!1;function di(N){yi||(yi=function Ti(){return"undefined"!=typeof document?document.body:null}()||{},zs=!!yi.style&&"WebkitAppearance"in yi.style);let p=!0;return yi.style&&!function Ps(N){return"ebkit"==N.substring(1,6)}(N)&&(p=N in yi.style,!p&&zs&&(p="Webkit"+N.charAt(0).toUpperCase()+N.substr(1)in yi.style)),p}const xi=Is,Yi=ps,Ni=Di;function _i(N){const p={};return Object.keys(N).forEach(g=>{const C=g.replace(/([a-z])([A-Z])/g,"$1-$2");p[C]=N[g]}),p}let Rr=(()=>{class N{validateStyleProperty(g){return di(g)}matchesElement(g,C){return xi(g,C)}containsElement(g,C){return Yi(g,C)}query(g,C,$){return Ni(g,C,$)}computeStyle(g,C,$){return $||""}animate(g,C,$,ee,ge,we=[],Xe){return new rr.ZN($,ee)}}return N.\u0275fac=function(g){return new(g||N)},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac}),N})(),Ri=(()=>{class N{}return N.NOOP=new Rr,N})();const mr="ng-enter",Hi="ng-leave",Pr="ng-trigger",Pi=".ng-trigger",Ds="ng-animating",rs=".ng-animating";function ki(N){if("number"==typeof N)return N;const p=N.match(/^(-?[\.\d]+)(m?s)/);return!p||p.length<2?0:gs(parseFloat(p[1]),p[2])}function gs(N,p){return"s"===p?1e3*N:N}function zi(N,p,g){return N.hasOwnProperty("duration")?N:function Mr(N,p,g){let $,ee=0,ge="";if("string"==typeof N){const we=N.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===we)return p.push(`The provided timing value "${N}" is invalid.`),{duration:0,delay:0,easing:""};$=gs(parseFloat(we[1]),we[2]);const Xe=we[3];null!=Xe&&(ee=gs(parseFloat(Xe),we[4]));const bt=we[5];bt&&(ge=bt)}else $=N;if(!g){let we=!1,Xe=p.length;$<0&&(p.push("Duration values below 0 are not allowed for this animation step."),we=!0),ee<0&&(p.push("Delay values below 0 are not allowed for this animation step."),we=!0),we&&p.splice(Xe,0,`The provided timing value "${N}" is invalid.`)}return{duration:$,delay:ee,easing:ge}}(N,p,g)}function ai(N,p={}){return Object.keys(N).forEach(g=>{p[g]=N[g]}),p}function R(N,p,g={}){if(p)for(let C in N)g[C]=N[C];else ai(N,g);return g}function q(N,p,g){return g?p+":"+g+";":""}function F(N){let p="";for(let g=0;g<N.style.length;g++){const C=N.style.item(g);p+=q(0,C,N.style.getPropertyValue(C))}for(const g in N.style)N.style.hasOwnProperty(g)&&!g.startsWith("_")&&(p+=q(0,Qe(g),N.style[g]));N.setAttribute("style",p)}function X(N,p,g){N.style&&(Object.keys(p).forEach(C=>{const $=le(C);g&&!g.hasOwnProperty(C)&&(g[C]=N.style[$]),N.style[$]=p[C]}),ri()&&F(N))}function Ce(N,p){N.style&&(Object.keys(p).forEach(g=>{const C=le(g);N.style[C]=""}),ri()&&F(N))}function _t(N){return Array.isArray(N)?1==N.length?N[0]:(0,rr.vP)(N):N}const mn=new RegExp("{{\\s*(.+?)\\s*}}","g");function L(N){let p=[];if("string"==typeof N){let g;for(;g=mn.exec(N);)p.push(g[1]);mn.lastIndex=0}return p}function w(N,p,g){const C=N.toString(),$=C.replace(mn,(ee,ge)=>{let we=p[ge];return p.hasOwnProperty(ge)||(g.push(`Please provide a value for the animation param ${ge}`),we=""),we.toString()});return $==C?N:$}function y(N){const p=[];let g=N.next();for(;!g.done;)p.push(g.value),g=N.next();return p}const x=/-+([a-z0-9])/g;function le(N){return N.replace(x,(...p)=>p[1].toUpperCase())}function Qe(N){return N.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function St(N,p){return 0===N||0===p}function Ft(N,p,g){const C=Object.keys(g);if(C.length&&p.length){let ee=p[0],ge=[];if(C.forEach(we=>{ee.hasOwnProperty(we)||ge.push(we),ee[we]=g[we]}),ge.length)for(var $=1;$<p.length;$++){let we=p[$];ge.forEach(function(Xe){we[Xe]=br(N,Xe)})}}return p}function $n(N,p,g){switch(p.type){case 7:return N.visitTrigger(p,g);case 0:return N.visitState(p,g);case 1:return N.visitTransition(p,g);case 2:return N.visitSequence(p,g);case 3:return N.visitGroup(p,g);case 4:return N.visitAnimate(p,g);case 5:return N.visitKeyframes(p,g);case 6:return N.visitStyle(p,g);case 8:return N.visitReference(p,g);case 9:return N.visitAnimateChild(p,g);case 10:return N.visitAnimateRef(p,g);case 11:return N.visitQuery(p,g);case 12:return N.visitStagger(p,g);default:throw new Error(`Unable to resolve animation metadata node #${p.type}`)}}function br(N,p){return window.getComputedStyle(N)[p]}function yr(N,p){const g=[];return"string"==typeof N?N.split(/\s*,\s*/).forEach(C=>function Bn(N,p,g){if(":"==N[0]){const Xe=function is(N,p){switch(N){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(g,C)=>parseFloat(C)>parseFloat(g);case":decrement":return(g,C)=>parseFloat(C)<parseFloat(g);default:return p.push(`The transition alias value "${N}" is not supported`),"* => *"}}(N,g);if("function"==typeof Xe)return void p.push(Xe);N=Xe}const C=N.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==C||C.length<4)return g.push(`The provided transition expression "${N}" is not supported`),p;const $=C[1],ee=C[2],ge=C[3];p.push(or($,ge));"<"==ee[0]&&!("*"==$&&"*"==ge)&&p.push(or(ge,$))}(C,g,p)):g.push(N),g}const Fi=new Set(["true","1"]),Rt=new Set(["false","0"]);function or(N,p){const g=Fi.has(N)||Rt.has(N),C=Fi.has(p)||Rt.has(p);return($,ee)=>{let ge="*"==N||N==$,we="*"==p||p==ee;return!ge&&g&&"boolean"==typeof $&&(ge=$?Fi.has(N):Rt.has(N)),!we&&C&&"boolean"==typeof ee&&(we=ee?Fi.has(p):Rt.has(p)),ge&&we}}const Kn=new RegExp("s*:selfs*,?","g");function Ts(N,p,g){return new Ks(N).build(p,g)}class Ks{constructor(p){this._driver=p}build(p,g){const C=new ml(g);return this._resetContextStyleTimingState(C),$n(this,_t(p),C)}_resetContextStyleTimingState(p){p.currentQuerySelector="",p.collectedStyles={},p.collectedStyles[""]={},p.currentTime=0}visitTrigger(p,g){let C=g.queryCount=0,$=g.depCount=0;const ee=[],ge=[];return"@"==p.name.charAt(0)&&g.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),p.definitions.forEach(we=>{if(this._resetContextStyleTimingState(g),0==we.type){const Xe=we,bt=Xe.name;bt.toString().split(/\s*,\s*/).forEach(Bt=>{Xe.name=Bt,ee.push(this.visitState(Xe,g))}),Xe.name=bt}else if(1==we.type){const Xe=this.visitTransition(we,g);C+=Xe.queryCount,$+=Xe.depCount,ge.push(Xe)}else g.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:p.name,states:ee,transitions:ge,queryCount:C,depCount:$,options:null}}visitState(p,g){const C=this.visitStyle(p.styles,g),$=p.options&&p.options.params||null;if(C.containsDynamicStyles){const ee=new Set,ge=$||{};if(C.styles.forEach(we=>{if(go(we)){const Xe=we;Object.keys(Xe).forEach(bt=>{L(Xe[bt]).forEach(Bt=>{ge.hasOwnProperty(Bt)||ee.add(Bt)})})}}),ee.size){const we=y(ee.values());g.errors.push(`state("${p.name}", ...) must define default values for all the following style substitutions: ${we.join(", ")}`)}}return{type:0,name:p.name,style:C,options:$?{params:$}:null}}visitTransition(p,g){g.queryCount=0,g.depCount=0;const C=$n(this,_t(p.animation),g);return{type:1,matchers:yr(p.expr,g.errors),animation:C,queryCount:g.queryCount,depCount:g.depCount,options:Qr(p.options)}}visitSequence(p,g){return{type:2,steps:p.steps.map(C=>$n(this,C,g)),options:Qr(p.options)}}visitGroup(p,g){const C=g.currentTime;let $=0;const ee=p.steps.map(ge=>{g.currentTime=C;const we=$n(this,ge,g);return $=Math.max($,g.currentTime),we});return g.currentTime=$,{type:3,steps:ee,options:Qr(p.options)}}visitAnimate(p,g){const C=function To(N,p){let g=null;if(N.hasOwnProperty("duration"))g=N;else if("number"==typeof N)return vi(zi(N,p).duration,0,"");const C=N;if(C.split(/\s+/).some(ee=>"{"==ee.charAt(0)&&"{"==ee.charAt(1))){const ee=vi(0,0,"");return ee.dynamic=!0,ee.strValue=C,ee}return g=g||zi(C,p),vi(g.duration,g.delay,g.easing)}(p.timings,g.errors);g.currentAnimateTimings=C;let $,ee=p.styles?p.styles:(0,rr.oB)({});if(5==ee.type)$=this.visitKeyframes(ee,g);else{let ge=p.styles,we=!1;if(!ge){we=!0;const bt={};C.easing&&(bt.easing=C.easing),ge=(0,rr.oB)(bt)}g.currentTime+=C.duration+C.delay;const Xe=this.visitStyle(ge,g);Xe.isEmptyStep=we,$=Xe}return g.currentAnimateTimings=null,{type:4,timings:C,style:$,options:null}}visitStyle(p,g){const C=this._makeStyleAst(p,g);return this._validateStyleAst(C,g),C}_makeStyleAst(p,g){const C=[];Array.isArray(p.styles)?p.styles.forEach(ge=>{"string"==typeof ge?ge==rr.l3?C.push(ge):g.errors.push(`The provided style string value ${ge} is not allowed.`):C.push(ge)}):C.push(p.styles);let $=!1,ee=null;return C.forEach(ge=>{if(go(ge)){const we=ge,Xe=we.easing;if(Xe&&(ee=Xe,delete we.easing),!$)for(let bt in we)if(we[bt].toString().indexOf("{{")>=0){$=!0;break}}}),{type:6,styles:C,easing:ee,offset:p.offset,containsDynamicStyles:$,options:null}}_validateStyleAst(p,g){const C=g.currentAnimateTimings;let $=g.currentTime,ee=g.currentTime;C&&ee>0&&(ee-=C.duration+C.delay),p.styles.forEach(ge=>{"string"!=typeof ge&&Object.keys(ge).forEach(we=>{if(!this._driver.validateStyleProperty(we))return void g.errors.push(`The provided animation property "${we}" is not a supported CSS property for animations`);const Xe=g.collectedStyles[g.currentQuerySelector],bt=Xe[we];let Bt=!0;bt&&(ee!=$&&ee>=bt.startTime&&$<=bt.endTime&&(g.errors.push(`The CSS property "${we}" that exists between the times of "${bt.startTime}ms" and "${bt.endTime}ms" is also being animated in a parallel animation between the times of "${ee}ms" and "${$}ms"`),Bt=!1),ee=bt.startTime),Bt&&(Xe[we]={startTime:ee,endTime:$}),g.options&&function Lt(N,p,g){const C=p.params||{},$=L(N);$.length&&$.forEach(ee=>{C.hasOwnProperty(ee)||g.push(`Unable to resolve the local animation param ${ee} in the given list of values`)})}(ge[we],g.options,g.errors)})})}visitKeyframes(p,g){const C={type:5,styles:[],options:null};if(!g.currentAnimateTimings)return g.errors.push("keyframes() must be placed inside of a call to animate()"),C;let ee=0;const ge=[];let we=!1,Xe=!1,bt=0;const Bt=p.steps.map(Ii=>{const Vi=this._makeStyleAst(Ii,g);let js=null!=Vi.offset?Vi.offset:function xa(N){if("string"==typeof N)return null;let p=null;if(Array.isArray(N))N.forEach(g=>{if(go(g)&&g.hasOwnProperty("offset")){const C=g;p=parseFloat(C.offset),delete C.offset}});else if(go(N)&&N.hasOwnProperty("offset")){const g=N;p=parseFloat(g.offset),delete g.offset}return p}(Vi.styles),Si=0;return null!=js&&(ee++,Si=Vi.offset=js),Xe=Xe||Si<0||Si>1,we=we||Si<bt,bt=Si,ge.push(Si),Vi});Xe&&g.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),we&&g.errors.push("Please ensure that all keyframe offsets are in order");const yn=p.steps.length;let cn=0;ee>0&&ee<yn?g.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==ee&&(cn=1/(yn-1));const dn=yn-1,An=g.currentTime,kn=g.currentAnimateTimings,Zn=kn.duration;return Bt.forEach((Ii,Vi)=>{const js=cn>0?Vi==dn?1:cn*Vi:ge[Vi],Si=js*Zn;g.currentTime=An+kn.delay+Si,kn.duration=Si,this._validateStyleAst(Ii,g),Ii.offset=js,C.styles.push(Ii)}),C}visitReference(p,g){return{type:8,animation:$n(this,_t(p.animation),g),options:Qr(p.options)}}visitAnimateChild(p,g){return g.depCount++,{type:9,options:Qr(p.options)}}visitAnimateRef(p,g){return{type:10,animation:this.visitReference(p.animation,g),options:Qr(p.options)}}visitQuery(p,g){const C=g.currentQuerySelector,$=p.options||{};g.queryCount++,g.currentQuery=p;const[ee,ge]=function la(N){const p=!!N.split(/\s*,\s*/).find(g=>":self"==g);return p&&(N=N.replace(Kn,"")),N=N.replace(/@\*/g,Pi).replace(/@\w+/g,g=>Pi+"-"+g.substr(1)).replace(/:animating/g,rs),[N,p]}(p.selector);g.currentQuerySelector=C.length?C+" "+ee:ee,ii(g.collectedStyles,g.currentQuerySelector,{});const we=$n(this,_t(p.animation),g);return g.currentQuery=null,g.currentQuerySelector=C,{type:11,selector:ee,limit:$.limit||0,optional:!!$.optional,includeSelf:ge,animation:we,originalSelector:p.selector,options:Qr(p.options)}}visitStagger(p,g){g.currentQuery||g.errors.push("stagger() can only be used inside of query()");const C="full"===p.timings?{duration:0,delay:0,easing:"full"}:zi(p.timings,g.errors,!0);return{type:12,animation:$n(this,_t(p.animation),g),timings:C,options:null}}}class ml{constructor(p){this.errors=p,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function go(N){return!Array.isArray(N)&&"object"==typeof N}function Qr(N){return N?(N=ai(N)).params&&(N.params=function Do(N){return N?ai(N):null}(N.params)):N={},N}function vi(N,p,g){return{duration:N,delay:p,easing:g}}function Co(N,p,g,C,$,ee,ge=null,we=!1){return{type:1,element:N,keyframes:p,preStyleProps:g,postStyleProps:C,duration:$,delay:ee,totalTime:$+ee,easing:ge,subTimeline:we}}class to{constructor(){this._map=new Map}consume(p){let g=this._map.get(p);return g?this._map.delete(p):g=[],g}append(p,g){let C=this._map.get(p);C||this._map.set(p,C=[]),C.push(...g)}has(p){return this._map.has(p)}clear(){this._map.clear()}}const ca=new RegExp(":enter","g"),$o=new RegExp(":leave","g");function Ho(N,p,g,C,$,ee={},ge={},we,Xe,bt=[]){return(new Ao).buildKeyframes(N,p,g,C,$,ee,ge,we,Xe,bt)}class Ao{buildKeyframes(p,g,C,$,ee,ge,we,Xe,bt,Bt=[]){bt=bt||new to;const yn=new Go(p,g,bt,$,ee,Bt,[]);yn.options=Xe,yn.currentTimeline.setStyles([ge],null,yn.errors,Xe),$n(this,C,yn);const cn=yn.timelines.filter(dn=>dn.containsAnimation());if(cn.length&&Object.keys(we).length){const dn=cn[cn.length-1];dn.allowOnlyTimelineStyles()||dn.setStyles([we],null,yn.errors,Xe)}return cn.length?cn.map(dn=>dn.buildKeyframes()):[Co(g,[],[],[],0,0,"",!1)]}visitTrigger(p,g){}visitState(p,g){}visitTransition(p,g){}visitAnimateChild(p,g){const C=g.subInstructions.consume(g.element);if(C){const $=g.createSubContext(p.options),ee=g.currentTimeline.currentTime,ge=this._visitSubInstructions(C,$,$.options);ee!=ge&&g.transformIntoNewTimeline(ge)}g.previousNode=p}visitAnimateRef(p,g){const C=g.createSubContext(p.options);C.transformIntoNewTimeline(),this.visitReference(p.animation,C),g.transformIntoNewTimeline(C.currentTimeline.currentTime),g.previousNode=p}_visitSubInstructions(p,g,C){let ee=g.currentTimeline.currentTime;const ge=null!=C.duration?ki(C.duration):null,we=null!=C.delay?ki(C.delay):null;return 0!==ge&&p.forEach(Xe=>{const bt=g.appendInstructionToTimeline(Xe,ge,we);ee=Math.max(ee,bt.duration+bt.delay)}),ee}visitReference(p,g){g.updateOptions(p.options,!0),$n(this,p.animation,g),g.previousNode=p}visitSequence(p,g){const C=g.subContextCount;let $=g;const ee=p.options;if(ee&&(ee.params||ee.delay)&&($=g.createSubContext(ee),$.transformIntoNewTimeline(),null!=ee.delay)){6==$.previousNode.type&&($.currentTimeline.snapshotCurrentStyles(),$.previousNode=no);const ge=ki(ee.delay);$.delayNextStep(ge)}p.steps.length&&(p.steps.forEach(ge=>$n(this,ge,$)),$.currentTimeline.applyStylesToKeyframe(),$.subContextCount>C&&$.transformIntoNewTimeline()),g.previousNode=p}visitGroup(p,g){const C=[];let $=g.currentTimeline.currentTime;const ee=p.options&&p.options.delay?ki(p.options.delay):0;p.steps.forEach(ge=>{const we=g.createSubContext(p.options);ee&&we.delayNextStep(ee),$n(this,ge,we),$=Math.max($,we.currentTimeline.currentTime),C.push(we.currentTimeline)}),C.forEach(ge=>g.currentTimeline.mergeTimelineCollectedStyles(ge)),g.transformIntoNewTimeline($),g.previousNode=p}_visitTiming(p,g){if(p.dynamic){const C=p.strValue;return zi(g.params?w(C,g.params,g.errors):C,g.errors)}return{duration:p.duration,delay:p.delay,easing:p.easing}}visitAnimate(p,g){const C=g.currentAnimateTimings=this._visitTiming(p.timings,g),$=g.currentTimeline;C.delay&&(g.incrementTime(C.delay),$.snapshotCurrentStyles());const ee=p.style;5==ee.type?this.visitKeyframes(ee,g):(g.incrementTime(C.duration),this.visitStyle(ee,g),$.applyStylesToKeyframe()),g.currentAnimateTimings=null,g.previousNode=p}visitStyle(p,g){const C=g.currentTimeline,$=g.currentAnimateTimings;!$&&C.getCurrentStyleProperties().length&&C.forwardFrame();const ee=$&&$.easing||p.easing;p.isEmptyStep?C.applyEmptyStep(ee):C.setStyles(p.styles,ee,g.errors,g.options),g.previousNode=p}visitKeyframes(p,g){const C=g.currentAnimateTimings,$=g.currentTimeline.duration,ee=C.duration,we=g.createSubContext().currentTimeline;we.easing=C.easing,p.styles.forEach(Xe=>{we.forwardTime((Xe.offset||0)*ee),we.setStyles(Xe.styles,Xe.easing,g.errors,g.options),we.applyStylesToKeyframe()}),g.currentTimeline.mergeTimelineCollectedStyles(we),g.transformIntoNewTimeline($+ee),g.previousNode=p}visitQuery(p,g){const C=g.currentTimeline.currentTime,$=p.options||{},ee=$.delay?ki($.delay):0;ee&&(6===g.previousNode.type||0==C&&g.currentTimeline.getCurrentStyleProperties().length)&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=no);let ge=C;const we=g.invokeQuery(p.selector,p.originalSelector,p.limit,p.includeSelf,!!$.optional,g.errors);g.currentQueryTotal=we.length;let Xe=null;we.forEach((bt,Bt)=>{g.currentQueryIndex=Bt;const yn=g.createSubContext(p.options,bt);ee&&yn.delayNextStep(ee),bt===g.element&&(Xe=yn.currentTimeline),$n(this,p.animation,yn),yn.currentTimeline.applyStylesToKeyframe(),ge=Math.max(ge,yn.currentTimeline.currentTime)}),g.currentQueryIndex=0,g.currentQueryTotal=0,g.transformIntoNewTimeline(ge),Xe&&(g.currentTimeline.mergeTimelineCollectedStyles(Xe),g.currentTimeline.snapshotCurrentStyles()),g.previousNode=p}visitStagger(p,g){const C=g.parentContext,$=g.currentTimeline,ee=p.timings,ge=Math.abs(ee.duration),we=ge*(g.currentQueryTotal-1);let Xe=ge*g.currentQueryIndex;switch(ee.duration<0?"reverse":ee.easing){case"reverse":Xe=we-Xe;break;case"full":Xe=C.currentStaggerTime}const Bt=g.currentTimeline;Xe&&Bt.delayNextStep(Xe);const yn=Bt.currentTime;$n(this,p.animation,g),g.previousNode=p,C.currentStaggerTime=$.currentTime-yn+($.startTime-C.currentTimeline.startTime)}}const no={};class Go{constructor(p,g,C,$,ee,ge,we,Xe){this._driver=p,this.element=g,this.subInstructions=C,this._enterClassName=$,this._leaveClassName=ee,this.errors=ge,this.timelines=we,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=no,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Xe||new zo(this._driver,g,0),we.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(p,g){if(!p)return;const C=p;let $=this.options;null!=C.duration&&($.duration=ki(C.duration)),null!=C.delay&&($.delay=ki(C.delay));const ee=C.params;if(ee){let ge=$.params;ge||(ge=this.options.params={}),Object.keys(ee).forEach(we=>{(!g||!ge.hasOwnProperty(we))&&(ge[we]=w(ee[we],ge,this.errors))})}}_copyOptions(){const p={};if(this.options){const g=this.options.params;if(g){const C=p.params={};Object.keys(g).forEach($=>{C[$]=g[$]})}}return p}createSubContext(p=null,g,C){const $=g||this.element,ee=new Go(this._driver,$,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork($,C||0));return ee.previousNode=this.previousNode,ee.currentAnimateTimings=this.currentAnimateTimings,ee.options=this._copyOptions(),ee.updateOptions(p),ee.currentQueryIndex=this.currentQueryIndex,ee.currentQueryTotal=this.currentQueryTotal,ee.parentContext=this,this.subContextCount++,ee}transformIntoNewTimeline(p){return this.previousNode=no,this.currentTimeline=this.currentTimeline.fork(this.element,p),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(p,g,C){const $={duration:null!=g?g:p.duration,delay:this.currentTimeline.currentTime+(null!=C?C:0)+p.delay,easing:""},ee=new So(this._driver,p.element,p.keyframes,p.preStyleProps,p.postStyleProps,$,p.stretchStartingKeyframe);return this.timelines.push(ee),$}incrementTime(p){this.currentTimeline.forwardTime(this.currentTimeline.duration+p)}delayNextStep(p){p>0&&this.currentTimeline.delayNextStep(p)}invokeQuery(p,g,C,$,ee,ge){let we=[];if($&&we.push(this.element),p.length>0){p=(p=p.replace(ca,"."+this._enterClassName)).replace($o,"."+this._leaveClassName);let bt=this._driver.query(this.element,p,1!=C);0!==C&&(bt=C<0?bt.slice(bt.length+C,bt.length):bt.slice(0,C)),we.push(...bt)}return!ee&&0==we.length&&ge.push(`\`query("${g}")\` returned zero elements. (Use \`query("${g}", { optional: true })\` if you wish to allow this.)`),we}}class zo{constructor(p,g,C,$){this._driver=p,this.element=g,this.startTime=C,this._elementTimelineStylesLookup=$,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(g),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(g,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(p){const g=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||g?(this.forwardTime(this.currentTime+p),g&&this.snapshotCurrentStyles()):this.startTime+=p}fork(p,g){return this.applyStylesToKeyframe(),new zo(this._driver,p,g||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(p){this.applyStylesToKeyframe(),this.duration=p,this._loadKeyframe()}_updateStyle(p,g){this._localTimelineStyles[p]=g,this._globalTimelineStyles[p]=g,this._styleSummary[p]={time:this.currentTime,value:g}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(p){p&&(this._previousKeyframe.easing=p),Object.keys(this._globalTimelineStyles).forEach(g=>{this._backFill[g]=this._globalTimelineStyles[g]||rr.l3,this._currentKeyframe[g]=rr.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(p,g,C,$){g&&(this._previousKeyframe.easing=g);const ee=$&&$.params||{},ge=function Wo(N,p){const g={};let C;return N.forEach($=>{"*"===$?(C=C||Object.keys(p),C.forEach(ee=>{g[ee]=rr.l3})):R($,!1,g)}),g}(p,this._globalTimelineStyles);Object.keys(ge).forEach(we=>{const Xe=w(ge[we],ee,C);this._pendingStyles[we]=Xe,this._localTimelineStyles.hasOwnProperty(we)||(this._backFill[we]=this._globalTimelineStyles.hasOwnProperty(we)?this._globalTimelineStyles[we]:rr.l3),this._updateStyle(we,Xe)})}applyStylesToKeyframe(){const p=this._pendingStyles,g=Object.keys(p);0!=g.length&&(this._pendingStyles={},g.forEach(C=>{this._currentKeyframe[C]=p[C]}),Object.keys(this._localTimelineStyles).forEach(C=>{this._currentKeyframe.hasOwnProperty(C)||(this._currentKeyframe[C]=this._localTimelineStyles[C])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(p=>{const g=this._localTimelineStyles[p];this._pendingStyles[p]=g,this._updateStyle(p,g)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const p=[];for(let g in this._currentKeyframe)p.push(g);return p}mergeTimelineCollectedStyles(p){Object.keys(p._styleSummary).forEach(g=>{const C=this._styleSummary[g],$=p._styleSummary[g];(!C||$.time>C.time)&&this._updateStyle(g,$.value)})}buildKeyframes(){this.applyStylesToKeyframe();const p=new Set,g=new Set,C=1===this._keyframes.size&&0===this.duration;let $=[];this._keyframes.forEach((we,Xe)=>{const bt=R(we,!0);Object.keys(bt).forEach(Bt=>{const yn=bt[Bt];yn==rr.k1?p.add(Bt):yn==rr.l3&&g.add(Bt)}),C||(bt.offset=Xe/this.duration),$.push(bt)});const ee=p.size?y(p.values()):[],ge=g.size?y(g.values()):[];if(C){const we=$[0],Xe=ai(we);we.offset=0,Xe.offset=1,$=[we,Xe]}return Co(this.element,$,ee,ge,this.duration,this.startTime,this.easing,!1)}}class So extends zo{constructor(p,g,C,$,ee,ge,we=!1){super(p,g,ge.delay),this.keyframes=C,this.preStyleProps=$,this.postStyleProps=ee,this._stretchStartingKeyframe=we,this.timings={duration:ge.duration,delay:ge.delay,easing:ge.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let p=this.keyframes,{delay:g,duration:C,easing:$}=this.timings;if(this._stretchStartingKeyframe&&g){const ee=[],ge=C+g,we=g/ge,Xe=R(p[0],!1);Xe.offset=0,ee.push(Xe);const bt=R(p[0],!1);bt.offset=mo(we),ee.push(bt);const Bt=p.length-1;for(let yn=1;yn<=Bt;yn++){let cn=R(p[yn],!1);cn.offset=mo((g+cn.offset*C)/ge),ee.push(cn)}C=ge,g=0,$="",p=ee}return Co(this.element,p,this.preStyleProps,this.postStyleProps,C,g,$,!0)}}function mo(N,p=3){const g=Math.pow(10,p-1);return Math.round(N*g)/g}class ks{}class Mo extends ks{normalizePropertyName(p,g){return le(p)}normalizeStyleValue(p,g,C,$){let ee="";const ge=C.toString().trim();if(Au[g]&&0!==C&&"0"!==C)if("number"==typeof C)ee="px";else{const we=C.match(/^[+-]?[\d\.]+([a-z]*)$/);we&&0==we[1].length&&$.push(`Please provide a CSS unit value for ${p}:${C}`)}return ge+ee}}const Au=(()=>function Na(N){const p={};return N.forEach(g=>p[g]=!0),p}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function si(N,p,g,C,$,ee,ge,we,Xe,bt,Bt,yn,cn){return{type:0,element:N,triggerName:p,isRemovalTransition:$,fromState:g,fromStyles:ee,toState:C,toStyles:ge,timelines:we,queriedElements:Xe,preStyleProps:bt,postStyleProps:Bt,totalTime:yn,errors:cn}}const Fs={};class ei{constructor(p,g,C){this._triggerName=p,this.ast=g,this._stateStyles=C}match(p,g,C,$){return function qa(N,p,g,C,$){return N.some(ee=>ee(p,g,C,$))}(this.ast.matchers,p,g,C,$)}buildStyles(p,g,C){const $=this._stateStyles["*"],ee=this._stateStyles[p],ge=$?$.buildStyles(g,C):{};return ee?ee.buildStyles(g,C):ge}build(p,g,C,$,ee,ge,we,Xe,bt,Bt){const yn=[],cn=this.ast.options&&this.ast.options.params||Fs,An=this.buildStyles(C,we&&we.params||Fs,yn),kn=Xe&&Xe.params||Fs,Zn=this.buildStyles($,kn,yn),Ii=new Set,Vi=new Map,js=new Map,Si="void"===$,$s={params:Object.assign(Object.assign({},cn),kn)},Da=Bt?[]:Ho(p,g,this.ast.animation,ee,ge,An,Zn,$s,bt,yn);let Js=0;if(Da.forEach(Ua=>{Js=Math.max(Ua.duration+Ua.delay,Js)}),yn.length)return si(g,this._triggerName,C,$,Si,An,Zn,[],[],Vi,js,Js,yn);Da.forEach(Ua=>{const us=Ua.element,gc=ii(Vi,us,{});Ua.preStyleProps.forEach(fu=>gc[fu]=!0);const hu=ii(js,us,{});Ua.postStyleProps.forEach(fu=>hu[fu]=!0),us!==g&&Ii.add(us)});const ra=y(Ii.values());return si(g,this._triggerName,C,$,Si,An,Zn,Da,ra,Vi,js,Js)}}class Su{constructor(p,g,C){this.styles=p,this.defaultParams=g,this.normalizer=C}buildStyles(p,g){const C={},$=ai(this.defaultParams);return Object.keys(p).forEach(ee=>{const ge=p[ee];null!=ge&&($[ee]=ge)}),this.styles.styles.forEach(ee=>{if("string"!=typeof ee){const ge=ee;Object.keys(ge).forEach(we=>{let Xe=ge[we];Xe.length>1&&(Xe=w(Xe,$,g));const bt=this.normalizer.normalizePropertyName(we,g);Xe=this.normalizer.normalizeStyleValue(we,bt,Xe,g),C[bt]=Xe})}}),C}}class Cs{constructor(p,g,C){this.name=p,this.ast=g,this._normalizer=C,this.transitionFactories=[],this.states={},g.states.forEach($=>{this.states[$.name]=new Su($.style,$.options&&$.options.params||{},C)}),Mu(this.states,"true","1"),Mu(this.states,"false","0"),g.transitions.forEach($=>{this.transitionFactories.push(new ei(p,$,this.states))}),this.fallbackTransition=function yl(N,p,g){return new ei(N,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ge,we)=>!0],options:null,queryCount:0,depCount:0},p)}(p,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(p,g,C,$){return this.transitionFactories.find(ge=>ge.match(p,g,C,$))||null}matchStyles(p,g,C){return this.fallbackTransition.buildStyles(p,g,C)}}function Mu(N,p,g){N.hasOwnProperty(p)?N.hasOwnProperty(g)||(N[g]=N[p]):N.hasOwnProperty(g)&&(N[p]=N[g])}const As=new to;class qs{constructor(p,g,C){this.bodyNode=p,this._driver=g,this._normalizer=C,this._animations={},this._playersById={},this.players=[]}register(p,g){const C=[],$=Ts(this._driver,g,C);if(C.length)throw new Error(`Unable to build the animation due to the following errors: ${C.join("\n")}`);this._animations[p]=$}_buildPlayer(p,g,C){const $=p.element,ee=Zi(0,this._normalizer,0,p.keyframes,g,C);return this._driver.animate($,ee,p.duration,p.delay,p.easing,[],!0)}create(p,g,C={}){const $=[],ee=this._animations[p];let ge;const we=new Map;if(ee?(ge=Ho(this._driver,g,ee,mr,Hi,{},{},C,As,$),ge.forEach(Bt=>{const yn=ii(we,Bt.element,{});Bt.postStyleProps.forEach(cn=>yn[cn]=null)})):($.push("The requested animation doesn't exist or has already been destroyed"),ge=[]),$.length)throw new Error(`Unable to create the animation due to the following errors: ${$.join("\n")}`);we.forEach((Bt,yn)=>{Object.keys(Bt).forEach(cn=>{Bt[cn]=this._driver.computeStyle(yn,cn,rr.l3)})});const bt=Yr(ge.map(Bt=>{const yn=we.get(Bt.element);return this._buildPlayer(Bt,{},yn)}));return this._playersById[p]=bt,bt.onDestroy(()=>this.destroy(p)),this.players.push(bt),bt}destroy(p){const g=this._getPlayer(p);g.destroy(),delete this._playersById[p];const C=this.players.indexOf(g);C>=0&&this.players.splice(C,1)}_getPlayer(p){const g=this._playersById[p];if(!g)throw new Error(`Unable to find the timeline player referenced by ${p}`);return g}listen(p,g,C,$){const ee=Rs(g,"","","");return fs(this._getPlayer(p),C,ee,$),()=>{}}command(p,g,C,$){if("register"==C)return void this.register(p,$[0]);if("create"==C)return void this.create(p,g,$[0]||{});const ee=this._getPlayer(p);switch(C){case"play":ee.play();break;case"pause":ee.pause();break;case"reset":ee.reset();break;case"restart":ee.restart();break;case"finish":ee.finish();break;case"init":ee.init();break;case"setPosition":ee.setPosition(parseFloat($[0]));break;case"destroy":this.destroy(p)}}}const Oo="ng-animate-queued",Ya="ng-animate-disabled",da=".ng-animate-disabled",Ls=[],Qa={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ro={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cr="__ng_removed";class yo{constructor(p,g=""){this.namespaceId=g;const C=p&&p.hasOwnProperty("value");if(this.value=function Ko(N){return null!=N?N:null}(C?p.value:p),C){const ee=ai(p);delete ee.value,this.options=ee}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(p){const g=p.params;if(g){const C=this.options.params;Object.keys(g).forEach($=>{null==C[$]&&(C[$]=g[$])})}}}const ys="void",ha=new yo(ys);class _l{constructor(p,g,C){this.id=p,this.hostElement=g,this._engine=C,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+p,ss(g,this._hostClassName)}listen(p,g,C,$){if(!this._triggers.hasOwnProperty(g))throw new Error(`Unable to listen on the animation trigger event "${C}" because the animation trigger "${g}" doesn't exist!`);if(null==C||0==C.length)throw new Error(`Unable to listen on the animation trigger "${g}" because the provided event is undefined!`);if(!function Hn(N){return"start"==N||"done"==N}(C))throw new Error(`The provided animation trigger event "${C}" for the animation trigger "${g}" is not supported!`);const ee=ii(this._elementListeners,p,[]),ge={name:g,phase:C,callback:$};ee.push(ge);const we=ii(this._engine.statesByElement,p,{});return we.hasOwnProperty(g)||(ss(p,Pr),ss(p,Pr+"-"+g),we[g]=ha),()=>{this._engine.afterFlush(()=>{const Xe=ee.indexOf(ge);Xe>=0&&ee.splice(Xe,1),this._triggers[g]||delete we[g]})}}register(p,g){return!this._triggers[p]&&(this._triggers[p]=g,!0)}_getTrigger(p){const g=this._triggers[p];if(!g)throw new Error(`The provided animation trigger "${p}" has not been registered!`);return g}trigger(p,g,C,$=!0){const ee=this._getTrigger(g),ge=new Vr(this.id,g,p);let we=this._engine.statesByElement.get(p);we||(ss(p,Pr),ss(p,Pr+"-"+g),this._engine.statesByElement.set(p,we={}));let Xe=we[g];const bt=new yo(C,this.id);if(!(C&&C.hasOwnProperty("value"))&&Xe&&bt.absorbOptions(Xe.options),we[g]=bt,Xe||(Xe=ha),bt.value!==ys&&Xe.value===bt.value){if(!function io(N,p){const g=Object.keys(N),C=Object.keys(p);if(g.length!=C.length)return!1;for(let $=0;$<g.length;$++){const ee=g[$];if(!p.hasOwnProperty(ee)||N[ee]!==p[ee])return!1}return!0}(Xe.params,bt.params)){const kn=[],Zn=ee.matchStyles(Xe.value,Xe.params,kn),Ii=ee.matchStyles(bt.value,bt.params,kn);kn.length?this._engine.reportError(kn):this._engine.afterFlush(()=>{Ce(p,Zn),X(p,Ii)})}return}const cn=ii(this._engine.playersByElement,p,[]);cn.forEach(kn=>{kn.namespaceId==this.id&&kn.triggerName==g&&kn.queued&&kn.destroy()});let dn=ee.matchTransition(Xe.value,bt.value,p,bt.params),An=!1;if(!dn){if(!$)return;dn=ee.fallbackTransition,An=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:g,transition:dn,fromState:Xe,toState:bt,player:ge,isFallbackTransition:An}),An||(ss(p,Oo),ge.onStart(()=>{No(p,Oo)})),ge.onDone(()=>{let kn=this.players.indexOf(ge);kn>=0&&this.players.splice(kn,1);const Zn=this._engine.playersByElement.get(p);if(Zn){let Ii=Zn.indexOf(ge);Ii>=0&&Zn.splice(Ii,1)}}),this.players.push(ge),cn.push(ge),ge}deregister(p){delete this._triggers[p],this._engine.statesByElement.forEach((g,C)=>{delete g[p]}),this._elementListeners.forEach((g,C)=>{this._elementListeners.set(C,g.filter($=>$.name!=p))})}clearElementCache(p){this._engine.statesByElement.delete(p),this._elementListeners.delete(p);const g=this._engine.playersByElement.get(p);g&&(g.forEach(C=>C.destroy()),this._engine.playersByElement.delete(p))}_signalRemovalForInnerTriggers(p,g){const C=this._engine.driver.query(p,Pi,!0);C.forEach($=>{if($[Cr])return;const ee=this._engine.fetchNamespacesByElement($);ee.size?ee.forEach(ge=>ge.triggerLeaveAnimation($,g,!1,!0)):this.clearElementCache($)}),this._engine.afterFlushAnimationsDone(()=>C.forEach($=>this.clearElementCache($)))}triggerLeaveAnimation(p,g,C,$){const ee=this._engine.statesByElement.get(p);if(ee){const ge=[];if(Object.keys(ee).forEach(we=>{if(this._triggers[we]){const Xe=this.trigger(p,we,ys,$);Xe&&ge.push(Xe)}}),ge.length)return this._engine.markElementAsRemoved(this.id,p,!0,g),C&&Yr(ge).onDone(()=>this._engine.processLeaveNode(p)),!0}return!1}prepareLeaveAnimationListeners(p){const g=this._elementListeners.get(p),C=this._engine.statesByElement.get(p);if(g&&C){const $=new Set;g.forEach(ee=>{const ge=ee.name;if($.has(ge))return;$.add(ge);const Xe=this._triggers[ge].fallbackTransition,bt=C[ge]||ha,Bt=new yo(ys),yn=new Vr(this.id,ge,p);this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:ge,transition:Xe,fromState:bt,toState:Bt,player:yn,isFallbackTransition:!0})})}}removeNode(p,g){const C=this._engine;if(p.childElementCount&&this._signalRemovalForInnerTriggers(p,g),this.triggerLeaveAnimation(p,g,!0))return;let $=!1;if(C.totalAnimations){const ee=C.players.length?C.playersByQueriedElement.get(p):[];if(ee&&ee.length)$=!0;else{let ge=p;for(;ge=ge.parentNode;)if(C.statesByElement.get(ge)){$=!0;break}}}if(this.prepareLeaveAnimationListeners(p),$)C.markElementAsRemoved(this.id,p,!1,g);else{const ee=p[Cr];(!ee||ee===Qa)&&(C.afterFlush(()=>this.clearElementCache(p)),C.destroyInnerAnimations(p),C._onRemovalComplete(p,g))}}insertNode(p,g){ss(p,this._hostClassName)}drainQueuedTransitions(p){const g=[];return this._queue.forEach(C=>{const $=C.player;if($.destroyed)return;const ee=C.element,ge=this._elementListeners.get(ee);ge&&ge.forEach(we=>{if(we.name==C.triggerName){const Xe=Rs(ee,C.triggerName,C.fromState.value,C.toState.value);Xe._data=p,fs(C.player,we.phase,Xe,we.callback)}}),$.markedForDestroy?this._engine.afterFlush(()=>{$.destroy()}):g.push(C)}),this._queue=[],g.sort((C,$)=>{const ee=C.transition.ast.depCount,ge=$.transition.ast.depCount;return 0==ee||0==ge?ee-ge:this._engine.driver.containsElement(C.element,$.element)?1:-1})}destroy(p){this.players.forEach(g=>g.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,p)}elementContainsData(p){let g=!1;return this._elementListeners.has(p)&&(g=!0),g=!!this._queue.find(C=>C.element===p)||g,g}}class qt{constructor(p,g,C){this.bodyNode=p,this.driver=g,this._normalizer=C,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=($,ee)=>{}}_onRemovalComplete(p,g){this.onRemovalComplete(p,g)}get queuedPlayers(){const p=[];return this._namespaceList.forEach(g=>{g.players.forEach(C=>{C.queued&&p.push(C)})}),p}createNamespace(p,g){const C=new _l(p,g,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,g)?this._balanceNamespaceList(C,g):(this.newHostElements.set(g,C),this.collectEnterElement(g)),this._namespaceLookup[p]=C}_balanceNamespaceList(p,g){const C=this._namespaceList.length-1;if(C>=0){let $=!1;for(let ee=C;ee>=0;ee--)if(this.driver.containsElement(this._namespaceList[ee].hostElement,g)){this._namespaceList.splice(ee+1,0,p),$=!0;break}$||this._namespaceList.splice(0,0,p)}else this._namespaceList.push(p);return this.namespacesByHostElement.set(g,p),p}register(p,g){let C=this._namespaceLookup[p];return C||(C=this.createNamespace(p,g)),C}registerTrigger(p,g,C){let $=this._namespaceLookup[p];$&&$.register(g,C)&&this.totalAnimations++}destroy(p,g){if(!p)return;const C=this._fetchNamespace(p);this.afterFlush(()=>{this.namespacesByHostElement.delete(C.hostElement),delete this._namespaceLookup[p];const $=this._namespaceList.indexOf(C);$>=0&&this._namespaceList.splice($,1)}),this.afterFlushAnimationsDone(()=>C.destroy(g))}_fetchNamespace(p){return this._namespaceLookup[p]}fetchNamespacesByElement(p){const g=new Set,C=this.statesByElement.get(p);if(C){const $=Object.keys(C);for(let ee=0;ee<$.length;ee++){const ge=C[$[ee]].namespaceId;if(ge){const we=this._fetchNamespace(ge);we&&g.add(we)}}}return g}trigger(p,g,C,$){if(_n(g)){const ee=this._fetchNamespace(p);if(ee)return ee.trigger(g,C,$),!0}return!1}insertNode(p,g,C,$){if(!_n(g))return;const ee=g[Cr];if(ee&&ee.setForRemoval){ee.setForRemoval=!1,ee.setForMove=!0;const ge=this.collectedLeaveElements.indexOf(g);ge>=0&&this.collectedLeaveElements.splice(ge,1)}if(p){const ge=this._fetchNamespace(p);ge&&ge.insertNode(g,C)}$&&this.collectEnterElement(g)}collectEnterElement(p){this.collectedEnterElements.push(p)}markElementAsDisabled(p,g){g?this.disabledNodes.has(p)||(this.disabledNodes.add(p),ss(p,Ya)):this.disabledNodes.has(p)&&(this.disabledNodes.delete(p),No(p,Ya))}removeNode(p,g,C,$){if(_n(g)){const ee=p?this._fetchNamespace(p):null;if(ee?ee.removeNode(g,$):this.markElementAsRemoved(p,g,!1,$),C){const ge=this.namespacesByHostElement.get(g);ge&&ge.id!==p&&ge.removeNode(g,$)}}else this._onRemovalComplete(g,$)}markElementAsRemoved(p,g,C,$){this.collectedLeaveElements.push(g),g[Cr]={namespaceId:p,setForRemoval:$,hasAnimation:C,removedBeforeQueried:!1}}listen(p,g,C,$,ee){return _n(g)?this._fetchNamespace(p).listen(g,C,$,ee):()=>{}}_buildInstruction(p,g,C,$,ee){return p.transition.build(this.driver,p.element,p.fromState.value,p.toState.value,C,$,p.fromState.options,p.toState.options,g,ee)}destroyInnerAnimations(p){let g=this.driver.query(p,Pi,!0);g.forEach(C=>this.destroyActiveAnimationsForElement(C)),0!=this.playersByQueriedElement.size&&(g=this.driver.query(p,rs,!0),g.forEach(C=>this.finishActiveQueriedAnimationOnElement(C)))}destroyActiveAnimationsForElement(p){const g=this.playersByElement.get(p);g&&g.forEach(C=>{C.queued?C.markedForDestroy=!0:C.destroy()})}finishActiveQueriedAnimationOnElement(p){const g=this.playersByQueriedElement.get(p);g&&g.forEach(C=>C.finish())}whenRenderingDone(){return new Promise(p=>{if(this.players.length)return Yr(this.players).onDone(()=>p());p()})}processLeaveNode(p){const g=p[Cr];if(g&&g.setForRemoval){if(p[Cr]=Qa,g.namespaceId){this.destroyInnerAnimations(p);const C=this._fetchNamespace(g.namespaceId);C&&C.clearElementCache(p)}this._onRemovalComplete(p,g.setForRemoval)}this.driver.matchesElement(p,da)&&this.markElementAsDisabled(p,!1),this.driver.query(p,da,!0).forEach(C=>{this.markElementAsDisabled(C,!1)})}flush(p=-1){let g=[];if(this.newHostElements.size&&(this.newHostElements.forEach((C,$)=>this._balanceNamespaceList(C,$)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let C=0;C<this.collectedEnterElements.length;C++)ss(this.collectedEnterElements[C],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const C=[];try{g=this._flushAnimations(C,p)}finally{for(let $=0;$<C.length;$++)C[$]()}}else for(let C=0;C<this.collectedLeaveElements.length;C++)this.processLeaveNode(this.collectedLeaveElements[C]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(C=>C()),this._flushFns=[],this._whenQuietFns.length){const C=this._whenQuietFns;this._whenQuietFns=[],g.length?Yr(g).onDone(()=>{C.forEach($=>$())}):C.forEach($=>$())}}reportError(p){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${p.join("\n")}`)}_flushAnimations(p,g){const C=new to,$=[],ee=new Map,ge=[],we=new Map,Xe=new Map,bt=new Map,Bt=new Set;this.disabledNodes.forEach(Mn=>{Bt.add(Mn);const Yn=this.driver.query(Mn,".ng-animate-queued",!0);for(let ur=0;ur<Yn.length;ur++)Bt.add(Yn[ur])});const yn=this.bodyNode,cn=Array.from(this.statesByElement.keys()),dn=gt(cn,this.collectedEnterElements),An=new Map;let kn=0;dn.forEach((Mn,Yn)=>{const ur=mr+kn++;An.set(Yn,ur),Mn.forEach(Or=>ss(Or,ur))});const Zn=[],Ii=new Set,Vi=new Set;for(let Mn=0;Mn<this.collectedLeaveElements.length;Mn++){const Yn=this.collectedLeaveElements[Mn],ur=Yn[Cr];ur&&ur.setForRemoval&&(Zn.push(Yn),Ii.add(Yn),ur.hasAnimation?this.driver.query(Yn,".ng-star-inserted",!0).forEach(Or=>Ii.add(Or)):Vi.add(Yn))}const js=new Map,Si=gt(cn,Array.from(Ii));Si.forEach((Mn,Yn)=>{const ur=Hi+kn++;js.set(Yn,ur),Mn.forEach(Or=>ss(Or,ur))}),p.push(()=>{dn.forEach((Mn,Yn)=>{const ur=An.get(Yn);Mn.forEach(Or=>No(Or,ur))}),Si.forEach((Mn,Yn)=>{const ur=js.get(Yn);Mn.forEach(Or=>No(Or,ur))}),Zn.forEach(Mn=>{this.processLeaveNode(Mn)})});const $s=[],Da=[];for(let Mn=this._namespaceList.length-1;Mn>=0;Mn--)this._namespaceList[Mn].drainQueuedTransitions(g).forEach(ur=>{const Or=ur.player,Ki=ur.element;if($s.push(Or),this.collectedEnterElements.length){const Os=Ki[Cr];if(Os&&Os.setForMove)return void Or.destroy()}const ia=!yn||!this.driver.containsElement(yn,Ki),ft=js.get(Ki),co=An.get(Ki),kr=this._buildInstruction(ur,C,co,ft,ia);if(kr.errors&&kr.errors.length)Da.push(kr);else{if(ia)return Or.onStart(()=>Ce(Ki,kr.fromStyles)),Or.onDestroy(()=>X(Ki,kr.toStyles)),void $.push(Or);if(ur.isFallbackTransition)return Or.onStart(()=>Ce(Ki,kr.fromStyles)),Or.onDestroy(()=>X(Ki,kr.toStyles)),void $.push(Or);kr.timelines.forEach(Os=>Os.stretchStartingKeyframe=!0),C.append(Ki,kr.timelines),ge.push({instruction:kr,player:Or,element:Ki}),kr.queriedElements.forEach(Os=>ii(we,Os,[]).push(Or)),kr.preStyleProps.forEach((Os,Vo)=>{const mc=Object.keys(Os);if(mc.length){let ho=Xe.get(Vo);ho||Xe.set(Vo,ho=new Set),mc.forEach(yc=>ho.add(yc))}}),kr.postStyleProps.forEach((Os,Vo)=>{const mc=Object.keys(Os);let ho=bt.get(Vo);ho||bt.set(Vo,ho=new Set),mc.forEach(yc=>ho.add(yc))})}});if(Da.length){const Mn=[];Da.forEach(Yn=>{Mn.push(`@${Yn.triggerName} has failed due to:\n`),Yn.errors.forEach(ur=>Mn.push(`- ${ur}\n`))}),$s.forEach(Yn=>Yn.destroy()),this.reportError(Mn)}const Js=new Map,ra=new Map;ge.forEach(Mn=>{const Yn=Mn.element;C.has(Yn)&&(ra.set(Yn,Yn),this._beforeAnimationBuild(Mn.player.namespaceId,Mn.instruction,Js))}),$.forEach(Mn=>{const Yn=Mn.element;this._getPreviousPlayers(Yn,!1,Mn.namespaceId,Mn.triggerName,null).forEach(Or=>{ii(Js,Yn,[]).push(Or),Or.destroy()})});const Ua=Zn.filter(Mn=>qo(Mn,Xe,bt)),us=new Map;Yt(us,this.driver,Vi,bt,rr.l3).forEach(Mn=>{qo(Mn,Xe,bt)&&Ua.push(Mn)});const hu=new Map;dn.forEach((Mn,Yn)=>{Yt(hu,this.driver,new Set(Mn),Xe,rr.k1)}),Ua.forEach(Mn=>{const Yn=us.get(Mn),ur=hu.get(Mn);us.set(Mn,Object.assign(Object.assign({},Yn),ur))});const fu=[],rd=[],Wu={};ge.forEach(Mn=>{const{element:Yn,player:ur,instruction:Or}=Mn;if(C.has(Yn)){if(Bt.has(Yn))return ur.onDestroy(()=>X(Yn,Or.toStyles)),ur.disabled=!0,ur.overrideTotalTime(Or.totalTime),void $.push(ur);let Ki=Wu;if(ra.size>1){let ft=Yn;const co=[];for(;ft=ft.parentNode;){const kr=ra.get(ft);if(kr){Ki=kr;break}co.push(ft)}co.forEach(kr=>ra.set(kr,Ki))}const ia=this._buildAnimation(ur.namespaceId,Or,Js,ee,hu,us);if(ur.setRealPlayer(ia),Ki===Wu)fu.push(ur);else{const ft=this.playersByElement.get(Ki);ft&&ft.length&&(ur.parentPlayer=Yr(ft)),$.push(ur)}}else Ce(Yn,Or.fromStyles),ur.onDestroy(()=>X(Yn,Or.toStyles)),rd.push(ur),Bt.has(Yn)&&$.push(ur)}),rd.forEach(Mn=>{const Yn=ee.get(Mn.element);if(Yn&&Yn.length){const ur=Yr(Yn);Mn.setRealPlayer(ur)}}),$.forEach(Mn=>{Mn.parentPlayer?Mn.syncPlayerEvents(Mn.parentPlayer):Mn.destroy()});for(let Mn=0;Mn<Zn.length;Mn++){const Yn=Zn[Mn],ur=Yn[Cr];if(No(Yn,Hi),ur&&ur.hasAnimation)continue;let Or=[];if(we.size){let ia=we.get(Yn);ia&&ia.length&&Or.push(...ia);let ft=this.driver.query(Yn,rs,!0);for(let co=0;co<ft.length;co++){let kr=we.get(ft[co]);kr&&kr.length&&Or.push(...kr)}}const Ki=Or.filter(ia=>!ia.destroyed);Ki.length?Ra(this,Yn,Ki):this.processLeaveNode(Yn)}return Zn.length=0,fu.forEach(Mn=>{this.players.push(Mn),Mn.onDone(()=>{Mn.destroy();const Yn=this.players.indexOf(Mn);this.players.splice(Yn,1)}),Mn.play()}),fu}elementContainsData(p,g){let C=!1;const $=g[Cr];return $&&$.setForRemoval&&(C=!0),this.playersByElement.has(g)&&(C=!0),this.playersByQueriedElement.has(g)&&(C=!0),this.statesByElement.has(g)&&(C=!0),this._fetchNamespace(p).elementContainsData(g)||C}afterFlush(p){this._flushFns.push(p)}afterFlushAnimationsDone(p){this._whenQuietFns.push(p)}_getPreviousPlayers(p,g,C,$,ee){let ge=[];if(g){const we=this.playersByQueriedElement.get(p);we&&(ge=we)}else{const we=this.playersByElement.get(p);if(we){const Xe=!ee||ee==ys;we.forEach(bt=>{bt.queued||!Xe&&bt.triggerName!=$||ge.push(bt)})}}return(C||$)&&(ge=ge.filter(we=>!(C&&C!=we.namespaceId||$&&$!=we.triggerName))),ge}_beforeAnimationBuild(p,g,C){const ee=g.element,ge=g.isRemovalTransition?void 0:p,we=g.isRemovalTransition?void 0:g.triggerName;for(const Xe of g.timelines){const bt=Xe.element,Bt=bt!==ee,yn=ii(C,bt,[]);this._getPreviousPlayers(bt,Bt,ge,we,g.toState).forEach(dn=>{const An=dn.getRealPlayer();An.beforeDestroy&&An.beforeDestroy(),dn.destroy(),yn.push(dn)})}Ce(ee,g.fromStyles)}_buildAnimation(p,g,C,$,ee,ge){const we=g.triggerName,Xe=g.element,bt=[],Bt=new Set,yn=new Set,cn=g.timelines.map(An=>{const kn=An.element;Bt.add(kn);const Zn=kn[Cr];if(Zn&&Zn.removedBeforeQueried)return new rr.ZN(An.duration,An.delay);const Ii=kn!==Xe,Vi=function Ou(N){const p=[];return xu(N,p),p}((C.get(kn)||Ls).map(Js=>Js.getRealPlayer())).filter(Js=>!!Js.element&&Js.element===kn),js=ee.get(kn),Si=ge.get(kn),$s=Zi(0,this._normalizer,0,An.keyframes,js,Si),Da=this._buildPlayer(An,$s,Vi);if(An.subTimeline&&$&&yn.add(kn),Ii){const Js=new Vr(p,we,kn);Js.setRealPlayer(Da),bt.push(Js)}return Da});bt.forEach(An=>{ii(this.playersByQueriedElement,An.element,[]).push(An),An.onDone(()=>function Ys(N,p,g){let C;if(N instanceof Map){if(C=N.get(p),C){if(C.length){const $=C.indexOf(g);C.splice($,1)}0==C.length&&N.delete(p)}}else if(C=N[p],C){if(C.length){const $=C.indexOf(g);C.splice($,1)}0==C.length&&delete N[p]}return C}(this.playersByQueriedElement,An.element,An))}),Bt.forEach(An=>ss(An,Ds));const dn=Yr(cn);return dn.onDestroy(()=>{Bt.forEach(An=>No(An,Ds)),X(Xe,g.toStyles)}),yn.forEach(An=>{ii($,An,[]).push(dn)}),dn}_buildPlayer(p,g,C){return g.length>0?this.driver.animate(p.element,g,p.duration,p.delay,p.easing,C):new rr.ZN(p.duration,p.delay)}}class Vr{constructor(p,g,C){this.namespaceId=p,this.triggerName=g,this.element=C,this._player=new rr.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(p){this._containsRealPlayer||(this._player=p,Object.keys(this._queuedCallbacks).forEach(g=>{this._queuedCallbacks[g].forEach(C=>fs(p,g,void 0,C))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(p.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(p){this.totalTime=p}syncPlayerEvents(p){const g=this._player;g.triggerCallback&&p.onStart(()=>g.triggerCallback("start")),p.onDone(()=>this.finish()),p.onDestroy(()=>this.destroy())}_queueEvent(p,g){ii(this._queuedCallbacks,p,[]).push(g)}onDone(p){this.queued&&this._queueEvent("done",p),this._player.onDone(p)}onStart(p){this.queued&&this._queueEvent("start",p),this._player.onStart(p)}onDestroy(p){this.queued&&this._queueEvent("destroy",p),this._player.onDestroy(p)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(p){const g=this._player;g.triggerCallback&&g.triggerCallback(p)}}function _n(N){return N&&1===N.nodeType}function xo(N,p){const g=N.style.display;return N.style.display=null!=p?p:"none",g}function Yt(N,p,g,C,$){const ee=[];g.forEach(Xe=>ee.push(xo(Xe)));const ge=[];C.forEach((Xe,bt)=>{const Bt={};Xe.forEach(yn=>{const cn=Bt[yn]=p.computeStyle(bt,yn,$);(!cn||0==cn.length)&&(bt[Cr]=ro,ge.push(bt))}),N.set(bt,Bt)});let we=0;return g.forEach(Xe=>xo(Xe,ee[we++])),ge}function gt(N,p){const g=new Map;if(N.forEach(we=>g.set(we,[])),0==p.length)return g;const $=new Set(p),ee=new Map;function ge(we){if(!we)return 1;let Xe=ee.get(we);if(Xe)return Xe;const bt=we.parentNode;return Xe=g.has(bt)?bt:$.has(bt)?1:ge(bt),ee.set(we,Xe),Xe}return p.forEach(we=>{const Xe=ge(we);1!==Xe&&g.get(Xe).push(we)}),g}const jt="$$classes";function ss(N,p){if(N.classList)N.classList.add(p);else{let g=N[jt];g||(g=N[jt]={}),g[p]=!0}}function No(N,p){if(N.classList)N.classList.remove(p);else{let g=N[jt];g&&delete g[p]}}function Ra(N,p,g){Yr(g).onDone(()=>N.processLeaveNode(p))}function xu(N,p){for(let g=0;g<N.length;g++){const C=N[g];C instanceof rr.ZE?xu(C.players,p):p.push(C)}}function qo(N,p,g){const C=g.get(N);if(!C)return!1;let $=p.get(N);return $?C.forEach(ee=>$.add(ee)):p.set(N,C),g.delete(N),!0}class so{constructor(p,g,C){this.bodyNode=p,this._driver=g,this._normalizer=C,this._triggerCache={},this.onRemovalComplete=($,ee)=>{},this._transitionEngine=new qt(p,g,C),this._timelineEngine=new qs(p,g,C),this._transitionEngine.onRemovalComplete=($,ee)=>this.onRemovalComplete($,ee)}registerTrigger(p,g,C,$,ee){const ge=p+"-"+$;let we=this._triggerCache[ge];if(!we){const Xe=[],bt=Ts(this._driver,ee,Xe);if(Xe.length)throw new Error(`The animation trigger "${$}" has failed to build due to the following errors:\n - ${Xe.join("\n - ")}`);we=function Za(N,p,g){return new Cs(N,p,g)}($,bt,this._normalizer),this._triggerCache[ge]=we}this._transitionEngine.registerTrigger(g,$,we)}register(p,g){this._transitionEngine.register(p,g)}destroy(p,g){this._transitionEngine.destroy(p,g)}onInsert(p,g,C,$){this._transitionEngine.insertNode(p,g,C,$)}onRemove(p,g,C,$){this._transitionEngine.removeNode(p,g,$||!1,C)}disableAnimations(p,g){this._transitionEngine.markElementAsDisabled(p,g)}process(p,g,C,$){if("@"==C.charAt(0)){const[ee,ge]=Gs(C);this._timelineEngine.command(ee,g,ge,$)}else this._transitionEngine.trigger(p,g,C,$)}listen(p,g,C,$,ee){if("@"==C.charAt(0)){const[ge,we]=Gs(C);return this._timelineEngine.listen(ge,g,we,ee)}return this._transitionEngine.listen(p,g,C,$,ee)}flush(p=-1){this._transitionEngine.flush(p)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function S(N,p){let g=null,C=null;return Array.isArray(p)&&p.length?(g=b(p[0]),p.length>1&&(C=b(p[p.length-1]))):p&&(g=b(p)),g||C?new I(N,g,C):null}let I=(()=>{class N{constructor(g,C,$){this._element=g,this._startStyles=C,this._endStyles=$,this._state=0;let ee=N.initialStylesByElement.get(g);ee||N.initialStylesByElement.set(g,ee={}),this._initialStyles=ee}start(){this._state<1&&(this._startStyles&&X(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(X(this._element,this._initialStyles),this._endStyles&&(X(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(N.initialStylesByElement.delete(this._element),this._startStyles&&(Ce(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ce(this._element,this._endStyles),this._endStyles=null),X(this._element,this._initialStyles),this._state=3)}}return N.initialStylesByElement=new WeakMap,N})();function b(N){let p=null;const g=Object.keys(N);for(let C=0;C<g.length;C++){const $=g[C];P($)&&(p=p||{},p[$]=N[$])}return p}function P(N){return"display"===N||"position"===N}const Y="animation",ye="animationend";class et{constructor(p,g,C,$,ee,ge,we){this._element=p,this._name=g,this._duration=C,this._delay=$,this._easing=ee,this._fillMode=ge,this._onDoneFn=we,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Xe=>this._handleCallback(Xe)}apply(){(function ir(N,p){const g=Ai(N,"").trim();let C=0;g.length&&(C=function Us(N,p){let g=0;for(let C=0;C<N.length;C++)N.charAt(C)===p&&g++;return g}(g,",")+1,p=`${g}, ${p}`),Ar(N,"",p)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Vs(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){pn(this._element,this._name,"paused")}resume(){pn(this._element,this._name,"running")}setPosition(p){const g=Er(this._element,this._name);this._position=p*this._duration,Ar(this._element,"Delay",`-${this._position}ms`,g)}getPosition(){return this._position}_handleCallback(p){const g=p._ngTestManualTimestamp||Date.now(),C=1e3*parseFloat(p.elapsedTime.toFixed(3));p.animationName==this._name&&Math.max(g-this._startTime,0)>=this._delay&&C>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Vs(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function Pn(N,p){const C=Ai(N,"").split(","),$=Cn(C,p);$>=0&&(C.splice($,1),Ar(N,"",C.join(",")))}(this._element,this._name))}}function pn(N,p,g){Ar(N,"PlayState",g,Er(N,p))}function Er(N,p){const g=Ai(N,"");return g.indexOf(",")>0?Cn(g.split(","),p):Cn([g],p)}function Cn(N,p){for(let g=0;g<N.length;g++)if(N[g].indexOf(p)>=0)return g;return-1}function Vs(N,p,g){g?N.removeEventListener(ye,p):N.addEventListener(ye,p)}function Ar(N,p,g,C){const $=Y+p;if(null!=C){const ee=N.style[$];if(ee.length){const ge=ee.split(",");ge[C]=g,g=ge.join(",")}}N.style[$]=g}function Ai(N,p){return N.style[Y+p]||""}class Ei{constructor(p,g,C,$,ee,ge,we,Xe){this.element=p,this.keyframes=g,this.animationName=C,this._duration=$,this._delay=ee,this._finalStyles=we,this._specialStyles=Xe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=ge||"linear",this.totalTime=$+ee,this._buildStyler()}onStart(p){this._onStartFns.push(p)}onDone(p){this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(p=>p()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(p=>p()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(p){this._styler.setPosition(p)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new et(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(p){const g="start"==p?this._onStartFns:this._onDoneFns;g.forEach(C=>C()),g.length=0}beforeDestroy(){this.init();const p={};if(this.hasStarted()){const g=this._state>=3;Object.keys(this._finalStyles).forEach(C=>{"offset"!=C&&(p[C]=g?this._finalStyles[C]:br(this.element,C))})}this.currentSnapshot=p}}class Kr extends rr.ZN{constructor(p,g){super(),this.element=p,this._startingStyles={},this.__initialized=!1,this._styles=_i(g)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(p=>{this._startingStyles[p]=this.element.style[p]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(p=>this.element.style.setProperty(p,this._styles[p])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(p=>{const g=this._startingStyles[p];g?this.element.style.setProperty(p,g):this.element.style.removeProperty(p)}),this._startingStyles=null,super.destroy())}}class Kl{constructor(){this._count=0}validateStyleProperty(p){return di(p)}matchesElement(p,g){return xi(p,g)}containsElement(p,g){return Yi(p,g)}query(p,g,C){return Ni(p,g,C)}computeStyle(p,g,C){return window.getComputedStyle(p)[g]}buildKeyframeElement(p,g,C){C=C.map(we=>_i(we));let $=`@keyframes ${g} {\n`,ee="";C.forEach(we=>{ee=" ";const Xe=parseFloat(we.offset);$+=`${ee}${100*Xe}% {\n`,ee+=" ",Object.keys(we).forEach(bt=>{const Bt=we[bt];switch(bt){case"offset":return;case"easing":return void(Bt&&($+=`${ee}animation-timing-function: ${Bt};\n`));default:return void($+=`${ee}${bt}: ${Bt};\n`)}}),$+=`${ee}}\n`}),$+="}\n";const ge=document.createElement("style");return ge.textContent=$,ge}animate(p,g,C,$,ee,ge=[],we){const Xe=ge.filter(Zn=>Zn instanceof Ei),bt={};St(C,$)&&Xe.forEach(Zn=>{let Ii=Zn.currentSnapshot;Object.keys(Ii).forEach(Vi=>bt[Vi]=Ii[Vi])});const Bt=function pi(N){let p={};return N&&(Array.isArray(N)?N:[N]).forEach(C=>{Object.keys(C).forEach($=>{"offset"==$||"easing"==$||(p[$]=C[$])})}),p}(g=Ft(p,g,bt));if(0==C)return new Kr(p,Bt);const yn="gen_css_kf_"+this._count++,cn=this.buildKeyframeElement(p,yn,g);(function fa(N){var p;const g=null===(p=N.getRootNode)||void 0===p?void 0:p.call(N);return"undefined"!=typeof ShadowRoot&&g instanceof ShadowRoot?g:document.head})(p).appendChild(cn);const An=S(p,g),kn=new Ei(p,g,yn,C,$,ee,Bt,An);return kn.onDestroy(()=>function ko(N){N.parentNode.removeChild(N)}(cn)),kn}}class ql{constructor(p,g,C,$){this.element=p,this.keyframes=g,this.options=C,this._specialStyles=$,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=C.duration,this._delay=C.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const p=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,p,this.options),this._finalKeyframe=p.length?p[p.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(p,g,C){return p.animate(g,C)}onStart(p){this._onStartFns.push(p)}onDone(p){this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(p=>p()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}setPosition(p){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const p={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(g=>{"offset"!=g&&(p[g]=this._finished?this._finalKeyframe[g]:br(this.element,g))}),this.currentSnapshot=p}triggerCallback(p){const g="start"==p?this._onStartFns:this._onDoneFns;g.forEach(C=>C()),g.length=0}}class an{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Zl().toString()),this._cssKeyframesDriver=new Kl}validateStyleProperty(p){return di(p)}matchesElement(p,g){return xi(p,g)}containsElement(p,g){return Yi(p,g)}query(p,g,C){return Ni(p,g,C)}computeStyle(p,g,C){return window.getComputedStyle(p)[g]}overrideWebAnimationsSupport(p){this._isNativeImpl=p}animate(p,g,C,$,ee,ge=[],we){if(!we&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(p,g,C,$,ee,ge);const Bt={duration:C,delay:$,fill:0==$?"both":"forwards"};ee&&(Bt.easing=ee);const yn={},cn=ge.filter(An=>An instanceof ql);St(C,$)&&cn.forEach(An=>{let kn=An.currentSnapshot;Object.keys(kn).forEach(Zn=>yn[Zn]=kn[Zn])});const dn=S(p,g=Ft(p,g=g.map(An=>R(An,!1)),yn));return new ql(p,g,Bt,dn)}}function Zl(){return eo()&&Element.prototype.animate||{}}let oo=(()=>{class N extends rr._j{constructor(g,C){super(),this._nextAnimationId=0,this._renderer=g.createRenderer(C.body,{id:"0",encapsulation:_.ifc.None,styles:[],data:{animation:[]}})}build(g){const C=this._nextAnimationId.toString();this._nextAnimationId++;const $=Array.isArray(g)?(0,rr.vP)(g):g;return Bs(this._renderer,null,C,"register",[$]),new ao(C,this._renderer)}}return N.\u0275fac=function(g){return new(g||N)(_.LFG(_.FYo),_.LFG(oe.K0))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac}),N})();class ao extends rr.LC{constructor(p,g){super(),this._id=p,this._renderer=g}create(p,g){return new ui(this._id,p,g||{},this._renderer)}}class ui{constructor(p,g,C,$){this.id=p,this.element=g,this._renderer=$,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",C)}_listen(p,g){return this._renderer.listen(this.element,`@@${this.id}:${p}`,g)}_command(p,...g){return Bs(this._renderer,this.element,this.id,p,g)}onDone(p){this._listen("done",p)}onStart(p){this._listen("start",p)}onDestroy(p){this._listen("destroy",p)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(p){this._command("setPosition",p)}getPosition(){var p,g;return null!==(g=null===(p=this._renderer.engine.players[+this.id])||void 0===p?void 0:p.getPosition())&&void 0!==g?g:0}}function Bs(N,p,g,C,$){return N.setProperty(p,`@@${g}:${C}`,$)}const Zo="@.disabled";let El=(()=>{class N{constructor(g,C,$){this.delegate=g,this.engine=C,this._zone=$,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),C.onRemovalComplete=(ee,ge)=>{const we=null==ge?void 0:ge.parentNode(ee);we&&ge.removeChild(we,ee)}}createRenderer(g,C){const ee=this.delegate.createRenderer(g,C);if(!(g&&C&&C.data&&C.data.animation)){let Bt=this._rendererCache.get(ee);return Bt||(Bt=new wi("",ee,this.engine),this._rendererCache.set(ee,Bt)),Bt}const ge=C.id,we=C.id+"-"+this._currentId;this._currentId++,this.engine.register(we,g);const Xe=Bt=>{Array.isArray(Bt)?Bt.forEach(Xe):this.engine.registerTrigger(ge,we,g,Bt.name,Bt)};return C.data.animation.forEach(Xe),new _s(this,we,ee,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(g,C,$){g>=0&&g<this._microtaskId?this._zone.run(()=>C($)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ee=>{const[ge,we]=ee;ge(we)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([C,$]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return N.\u0275fac=function(g){return new(g||N)(_.LFG(_.FYo),_.LFG(so),_.LFG(_.R0b))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac}),N})();class wi{constructor(p,g,C){this.namespaceId=p,this.delegate=g,this.engine=C,this.destroyNode=this.delegate.destroyNode?$=>g.destroyNode($):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(p,g){return this.delegate.createElement(p,g)}createComment(p){return this.delegate.createComment(p)}createText(p){return this.delegate.createText(p)}appendChild(p,g){this.delegate.appendChild(p,g),this.engine.onInsert(this.namespaceId,g,p,!1)}insertBefore(p,g,C,$=!0){this.delegate.insertBefore(p,g,C),this.engine.onInsert(this.namespaceId,g,p,$)}removeChild(p,g,C){this.engine.onRemove(this.namespaceId,g,this.delegate,C)}selectRootElement(p,g){return this.delegate.selectRootElement(p,g)}parentNode(p){return this.delegate.parentNode(p)}nextSibling(p){return this.delegate.nextSibling(p)}setAttribute(p,g,C,$){this.delegate.setAttribute(p,g,C,$)}removeAttribute(p,g,C){this.delegate.removeAttribute(p,g,C)}addClass(p,g){this.delegate.addClass(p,g)}removeClass(p,g){this.delegate.removeClass(p,g)}setStyle(p,g,C,$){this.delegate.setStyle(p,g,C,$)}removeStyle(p,g,C){this.delegate.removeStyle(p,g,C)}setProperty(p,g,C){"@"==g.charAt(0)&&g==Zo?this.disableAnimations(p,!!C):this.delegate.setProperty(p,g,C)}setValue(p,g){this.delegate.setValue(p,g)}listen(p,g,C){return this.delegate.listen(p,g,C)}disableAnimations(p,g){this.engine.disableAnimations(p,g)}}class _s extends wi{constructor(p,g,C,$){super(g,C,$),this.factory=p,this.namespaceId=g}setProperty(p,g,C){"@"==g.charAt(0)?"."==g.charAt(1)&&g==Zo?this.disableAnimations(p,C=void 0===C||!!C):this.engine.process(this.namespaceId,p,g.substr(1),C):this.delegate.setProperty(p,g,C)}listen(p,g,C){if("@"==g.charAt(0)){const $=function Yo(N){switch(N){case"body":return document.body;case"document":return document;case"window":return window;default:return N}}(p);let ee=g.substr(1),ge="";return"@"!=ee.charAt(0)&&([ee,ge]=function Ja(N){const p=N.indexOf(".");return[N.substring(0,p),N.substr(p+1)]}(ee)),this.engine.listen(this.namespaceId,$,ee,ge,we=>{this.factory.scheduleListenerCallback(we._data||-1,C,we)})}return this.delegate.listen(p,g,C)}}let Qo=(()=>{class N extends so{constructor(g,C,$){super(g.body,C,$)}ngOnDestroy(){this.flush()}}return N.\u0275fac=function(g){return new(g||N)(_.LFG(oe.K0),_.LFG(Ri),_.LFG(ks))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac}),N})();const jc=new _.OlP("AnimationModuleType"),$c=[{provide:rr._j,useClass:oo},{provide:ks,useFactory:function uo(){return new Mo}},{provide:so,useClass:Qo},{provide:_.FYo,useFactory:function Nu(N,p,g){return new El(N,p,g)},deps:[c.se,so,_.R0b]}],Ru=[{provide:Ri,useFactory:function Xa(){return function Bc(){return"function"==typeof Zl()}()?new an:new Kl}},{provide:jc,useValue:"BrowserAnimations"},...$c],as=[{provide:Ri,useClass:Rr},{provide:jc,useValue:"NoopAnimations"},...$c];let Li=(()=>{class N{static withConfig(g){return{ngModule:N,providers:g.disableAnimations?as:Ru}}}return N.\u0275fac=function(g){return new(g||N)},N.\u0275mod=_.oAB({type:N}),N.\u0275inj=_.cJS({providers:Ru,imports:[c.b2]}),N})();var ti=k(7128),ga=k(573);k(2090),k(9681),k(1877),k(4859);class Pu{constructor(p){return p}}class vs{constructor(){return(0,ln.vb)("auth")}}const Ql=new _.OlP("angularfire2.auth-instances");function lo(N){return(p,g)=>{const C=p.runOutsideAngular(()=>N(g));return new Pu(C)}}const Fa={provide:vs,deps:[[new _.FiY,Ql]]},tu={provide:Pu,useFactory:function Xo(N,p){const g=(0,ln.JM)("auth",N,p);return g&&new Pu(g)},deps:[[new _.FiY,Ql],on.Ot]};let nu=(()=>{class N{constructor(){(0,wn.KN)("angularfire",ln.q4.full,"auth")}}return N.\u0275fac=function(g){return new(g||N)},N.\u0275mod=_.oAB({type:N}),N.\u0275inj=_.cJS({providers:[tu,Fa]}),N})();function ru(N,...p){return{ngModule:nu,providers:[{provide:Ql,useFactory:lo(N),multi:!0,deps:[_.R0b,_.zs3,ln.HU,on.z6,[new _.FiY,ti.nm],...p]}]}}const _o=(0,ln.u3)(ga.n,!0);var uu=k(5525);class ba{constructor(p){return p}}const uc="firestore",cu=new _.OlP("angularfire2.firestore-instances");function du(N){return(p,g)=>{const C=p.runOutsideAngular(()=>N(g));return new ba(C)}}const Ia={provide:class lu{constructor(){return(0,ln.vb)(uc)}},deps:[[new _.FiY,cu]]},lc={provide:ba,useFactory:function ju(N,p){const g=(0,ln.JM)(uc,N,p);return g&&new ba(g)},deps:[[new _.FiY,cu],on.Ot]};let cc=(()=>{class N{constructor(){(0,wn.KN)("angularfire",ln.q4.full,"fst")}}return N.\u0275fac=function(g){return new(g||N)},N.\u0275mod=_.oAB({type:N}),N.\u0275inj=_.cJS({providers:[lc,Ia]}),N})();function D(N,...p){return{ngModule:cc,providers:[{provide:cu,useFactory:du(N),multi:!0,deps:[_.R0b,_.zs3,ln.HU,on.z6,[new _.FiY,vs],[new _.FiY,ti.nm],...p]}]}}const Zd=(0,ln.u3)(uu.ad,!0);let Xd=(()=>{class N{}return N.\u0275fac=function(g){return new(g||N)},N.\u0275mod=_.oAB({type:N,bootstrap:[en]}),N.\u0275inj=_.cJS({providers:[],imports:[[c.b2,It,Qn.hO.initializeApp(Dn_firebase),vt.ww,Ne.yb,ci,G.UX,Te.Rh.forRoot(),Li,G.u5,vn.JF,(0,on.hX)(()=>(0,on.ZF)(Dn_firebase)),ru(()=>_o()),D(()=>Zd())]]}),N})();(0,_.G48)(),c.q6().bootstrapModule(Xd).catch(N=>console.error(N))},7982:(Qt,rt,k)=>{k.d(rt,{Gb:()=>c.Gb});var c=k(579)},5867:(Qt,rt,k)=>{k.d(rt,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=k(9681);(0,c.registerVersion)("firebase","9.7.0","app")},127:(Qt,rt,k)=>{k.d(rt,{Z:()=>c.Z});var c=k(3942);c.Z.registerVersion("firebase","9.7.0","app-compat")},5881:(Qt,rt,k)=>{k.r(rt);var c=k(5861),_=k(3942),G=k(573),ve=k(2090),De=(k(9681),k(1877),k(4859));function oe(){return window}function de(){return(de=(0,c.Z)(function*(te,ie,U){var J;const{BuildInfo:Q}=oe();(0,G.ap)(ie.sessionId,"AuthEvent did not contain a session ID");const be=yield Ye(ie.sessionId),Je={};return(0,G.aq)()?Je.ibi=Q.packageName:(0,G.ar)()?Je.apn=Q.packageName:(0,G.as)(te,"operation-not-supported-in-this-environment"),Q.displayName&&(Je.appDisplayName=Q.displayName),Je.sessionId=be,(0,G.at)(te,U,ie.type,void 0,null!==(J=ie.eventId)&&void 0!==J?J:void 0,Je)})).apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*(te){const{BuildInfo:ie}=oe(),U={};(0,G.aq)()?U.iosBundleId=ie.packageName:(0,G.ar)()?U.androidPackageName=ie.packageName:(0,G.as)(te,"operation-not-supported-in-this-environment"),yield(0,G.au)(te,U)})).apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(te,ie,U){const{cordova:J}=oe();let Q=()=>{};try{yield new Promise((be,Je)=>{let Tt=null;function Zt(){var xn;be();const pr=null===(xn=J.plugins.browsertab)||void 0===xn?void 0:xn.close;"function"==typeof pr&&pr(),"function"==typeof(null==U?void 0:U.close)&&U.close()}function Sn(){Tt||(Tt=window.setTimeout(()=>{Je((0,G.av)(te,"redirect-cancelled-by-user"))},2e3))}function Rn(){"visible"===(null==document?void 0:document.visibilityState)&&Sn()}ie.addPassiveListener(Zt),document.addEventListener("resume",Sn,!1),(0,G.ar)()&&document.addEventListener("visibilitychange",Rn,!1),Q=()=>{ie.removePassiveListener(Zt),document.removeEventListener("resume",Sn,!1),document.removeEventListener("visibilitychange",Rn,!1),Tt&&window.clearTimeout(Tt)}})}finally{Q()}})).apply(this,arguments)}function Ye(te){return lt.apply(this,arguments)}function lt(){return(lt=(0,c.Z)(function*(te){const ie=Et(te),U=yield crypto.subtle.digest("SHA-256",ie);return Array.from(new Uint8Array(U)).map(Q=>Q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Et(te){if((0,G.ap)(/[0-9a-zA-Z]+/.test(te),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(te);const ie=new ArrayBuffer(te.length),U=new Uint8Array(ie);for(let J=0;J<te.length;J++)U[J]=te.charCodeAt(J);return U}class Re extends G.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ie=>{this.resolveInialized=ie})}addPassiveListener(ie){this.passiveListeners.add(ie)}removePassiveListener(ie){this.passiveListeners.delete(ie)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ie){return this.resolveInialized(),this.passiveListeners.forEach(U=>U(ie)),super.onEvent(ie)}initialized(){var ie=this;return(0,c.Z)(function*(){yield ie.initPromise})()}}function Ne(te){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,c.Z)(function*(te){const ie=yield _e()._get(xe(te));return ie&&(yield _e()._remove(xe(te))),ie})).apply(this,arguments)}function me(){const te=[],ie="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<20;U++){const J=Math.floor(Math.random()*ie.length);te.push(ie.charAt(J))}return te.join("")}function _e(){return(0,G.ax)(G.b)}function xe(te){return(0,G.ay)("authEvent",te.config.apiKey,te.name)}function mt(te){if(!(null==te?void 0:te.includes("?")))return{};const[ie,...U]=te.split("?");return(0,ve.zd)(U.join("?"))}function Kt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,G.av)("no-auth-event")}}function Ae(){var te;return(null===(te=null==self?void 0:self.location)||void 0===te?void 0:te.protocol)||null}function Mt(te=(0,ve.z$)()){return!("file:"!==Ae()&&"ionic:"!==Ae()||!te.toLowerCase().match(/iphone|ipad|ipod|android/))}function dr(){try{const te=self.localStorage,ie=G.aG();if(te)return te.setItem(ie,"1"),te.removeItem(ie),!function Qn(te=(0,ve.z$)()){return function Dn(){return(0,ve.w1)()&&11===(null==document?void 0:document.documentMode)}()||function vn(te=(0,ve.z$)()){return/Edge\/\d+/.test(te)}(te)}()||(0,ve.hl)()}catch(te){return Fn()&&(0,ve.hl)()}return!1}function Fn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function un(){return(function Ke(){return"http:"===Ae()||"https:"===Ae()}()||(0,ve.ru)()||Mt())&&!function en(){return(0,ve.b$)()||(0,ve.UG)()}()&&dr()&&!Fn()}function sr(){return Mt()&&"undefined"!=typeof document}function tn(){return(tn=(0,c.Z)(function*(){return!!sr()&&new Promise(te=>{const ie=setTimeout(()=>{te(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ie),te(!0)})})})).apply(this,arguments)}const ln={LOCAL:"local",NONE:"none",SESSION:"session"},Jn=G.aw,vt="persistence";function Se(te){return tt.apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(te){yield te._initializationPromise;const ie=Ut(),U=G.ay(vt,te.config.apiKey,te.name);ie&&ie.setItem(U,te._getPersistence())})).apply(this,arguments)}function Ut(){var te;try{return(null===(te=function Ln(){return"undefined"!=typeof window?window:null}())||void 0===te?void 0:te.sessionStorage)||null}catch(ie){return null}}const kt=G.aw;class xt{constructor(){this.browserResolver=G.ax(G.k),this.cordovaResolver=G.ax(class hn{constructor(){this._redirectPersistence=G.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=G.aA}_initialize(ie){var U=this;return(0,c.Z)(function*(){const J=ie._key();let Q=U.eventManagers.get(J);return Q||(Q=new Re(ie),U.eventManagers.set(J,Q),U.attachCallbackListeners(ie,Q)),Q})()}_openPopup(ie){(0,G.as)(ie,"operation-not-supported-in-this-environment")}_openRedirect(ie,U,J,Q){var be=this;return(0,c.Z)(function*(){!function Pe(te){var ie,U,J,Q,be,Je,Tt,Zt,Sn,Rn;const xn=oe();(0,G.aw)("function"==typeof(null===(ie=null==xn?void 0:xn.universalLinks)||void 0===ie?void 0:ie.subscribe),te,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,G.aw)(void 0!==(null===(U=null==xn?void 0:xn.BuildInfo)||void 0===U?void 0:U.packageName),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,G.aw)("function"==typeof(null===(be=null===(Q=null===(J=null==xn?void 0:xn.cordova)||void 0===J?void 0:J.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===be?void 0:be.openUrl),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aw)("function"==typeof(null===(Zt=null===(Tt=null===(Je=null==xn?void 0:xn.cordova)||void 0===Je?void 0:Je.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===Zt?void 0:Zt.isAvailable),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aw)("function"==typeof(null===(Rn=null===(Sn=null==xn?void 0:xn.cordova)||void 0===Sn?void 0:Sn.InAppBrowser)||void 0===Rn?void 0:Rn.open),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ie);const Je=yield be._initialize(ie);yield Je.initialized(),Je.resetRedirect(),(0,G.aB)(),yield be._originValidation(ie);const Tt=function at(te,ie,U=null){return{type:ie,eventId:U,urlResponse:null,sessionId:me(),postBody:null,tenantId:te.tenantId,error:(0,G.av)(te,"no-auth-event")}}(ie,J,Q);yield function It(te,ie){return _e()._set(xe(te),ie)}(ie,Tt);const Zt=yield function ne(te,ie,U){return de.apply(this,arguments)}(ie,Tt,U),Sn=yield function it(te){const{cordova:ie}=oe();return new Promise(U=>{ie.plugins.browsertab.isAvailable(J=>{let Q=null;J?ie.plugins.browsertab.openUrl(te):Q=ie.InAppBrowser.open(te,(0,G.ao)()?"_blank":"_system","location=yes"),U(Q)})})}(Zt);return function Dt(te,ie,U){return Ot.apply(this,arguments)}(ie,Je,Sn)})()}_isIframeWebStorageSupported(ie,U){throw new Error("Method not implemented.")}_originValidation(ie){const U=ie._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function Le(te){return ot.apply(this,arguments)}(ie)),this.originValidationPromises[U]}attachCallbackListeners(ie,U){const{universalLinks:J,handleOpenURL:Q,BuildInfo:be}=oe(),Je=setTimeout((0,c.Z)(function*(){yield Ne(ie),U.onEvent(Kt())}),500),Tt=function(){var Rn=(0,c.Z)(function*(xn){clearTimeout(Je);const pr=yield Ne(ie);let Sr=null;pr&&(null==xn?void 0:xn.url)&&(Sr=function ae(te,ie){var U,J;const Q=function fe(te){const ie=mt(te),U=ie.link?decodeURIComponent(ie.link):void 0,J=mt(U).link,Q=ie.deep_link_id?decodeURIComponent(ie.deep_link_id):void 0;return mt(Q).link||Q||J||U||te}(ie);if(Q.includes("/__/auth/callback")){const be=mt(Q),Je=be.firebaseError?function He(te){try{return JSON.parse(te)}catch(ie){return null}}(decodeURIComponent(be.firebaseError)):null,Tt=null===(J=null===(U=null==Je?void 0:Je.code)||void 0===U?void 0:U.split("auth/"))||void 0===J?void 0:J[1],Zt=Tt?(0,G.av)(Tt):null;return Zt?{type:te.type,eventId:te.eventId,tenantId:te.tenantId,error:Zt,urlResponse:null,sessionId:null,postBody:null}:{type:te.type,eventId:te.eventId,tenantId:te.tenantId,sessionId:te.sessionId,urlResponse:Q,postBody:null}}return null}(pr,xn.url)),U.onEvent(Sr||Kt())});return function(pr){return Rn.apply(this,arguments)}}();void 0!==J&&"function"==typeof J.subscribe&&J.subscribe(null,Tt);const Zt=Q,Sn=`${be.packageName.toLowerCase()}://`;oe().handleOpenURL=function(){var Rn=(0,c.Z)(function*(xn){if(xn.toLowerCase().startsWith(Sn)&&Tt({url:xn}),"function"==typeof Zt)try{Zt(xn)}catch(pr){console.error(pr)}});return function(xn){return Rn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=G.a,this._completeRedirectFn=G.aA}_initialize(ie){var U=this;return(0,c.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize(ie)})()}_openPopup(ie,U,J,Q){var be=this;return(0,c.Z)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openPopup(ie,U,J,Q)})()}_openRedirect(ie,U,J,Q){var be=this;return(0,c.Z)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openRedirect(ie,U,J,Q)})()}_isIframeWebStorageSupported(ie,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ie,U)}_originValidation(ie){return this.assertedUnderlyingResolver._originValidation(ie)}get _shouldInitProactively(){return sr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return kt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ie=this;return(0,c.Z)(function*(){if(ie.underlyingResolver)return;const U=yield function er(){return tn.apply(this,arguments)}();ie.underlyingResolver=U?ie.cordovaResolver:ie.browserResolver})()}}function Tn(te){return te.unwrap()}function hr(te){return jn(te)}function jn(te){const{_tokenResponse:ie}=te instanceof ve.ZR?te.customData:te;if(!ie)return null;if(!(te instanceof ve.ZR)&&"temporaryProof"in ie&&"phoneNumber"in ie)return G.P.credentialFromResult(te);const U=ie.providerId;if(!U||U===G.o.PASSWORD)return null;let J;switch(U){case G.o.GOOGLE:J=G.N;break;case G.o.FACEBOOK:J=G.M;break;case G.o.GITHUB:J=G.Q;break;case G.o.TWITTER:J=G.V;break;default:const{oauthIdToken:Q,oauthAccessToken:be,oauthTokenSecret:Je,pendingToken:Tt,nonce:Zt}=ie;return be||Je||Q||Tt?Tt?U.startsWith("saml.")?G.aJ._create(U,Tt):G.I._fromParams({providerId:U,signInMethod:U,pendingToken:Tt,idToken:Q,accessToken:be}):new G.T(U).credential({idToken:Q,accessToken:be,rawNonce:Zt}):null}return te instanceof ve.ZR?J.credentialFromError(te):J.credentialFromResult(te)}function fn(te,ie){return ie.catch(U=>{throw U instanceof ve.ZR&&function En(te,ie){var U;const J=null===(U=ie.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===ie.code)ie.resolver=new nt(te,G.am(te,ie));else if(J){const Q=jn(ie),be=ie;Q&&(be.credential=Q,be.tenantId=J.tenantId||void 0,be.email=J.email||void 0,be.phoneNumber=J.phoneNumber||void 0)}}(te,U),U}).then(U=>{const Q=U.user;return{operationType:U.operationType,credential:hr(U),additionalUserInfo:G.ak(U),user:j.getOrCreate(Q)}})}function on(te,ie){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(te,ie){const U=yield ie;return{verificationId:U.verificationId,confirm:J=>fn(te,U.confirm(J))}})).apply(this,arguments)}class nt{constructor(ie,U){this.resolver=U,this.auth=function tr(te){return te.wrapped()}(ie)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ie){return fn(Tn(this.auth),this.resolver.resolveSignIn(ie))}}class j{constructor(ie){this._delegate=ie,this.multiFactor=G.an(ie)}static getOrCreate(ie){return j.USER_MAP.has(ie)||j.USER_MAP.set(ie,new j(ie)),j.USER_MAP.get(ie)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ie){return this._delegate.getIdTokenResult(ie)}getIdToken(ie){return this._delegate.getIdToken(ie)}linkAndRetrieveDataWithCredential(ie){return this.linkWithCredential(ie)}linkWithCredential(ie){var U=this;return(0,c.Z)(function*(){return fn(U.auth,G.Y(U._delegate,ie))})()}linkWithPhoneNumber(ie,U){var J=this;return(0,c.Z)(function*(){return on(J.auth,G.l(J._delegate,ie,U))})()}linkWithPopup(ie){var U=this;return(0,c.Z)(function*(){return fn(U.auth,G.d(U._delegate,ie,xt))})()}linkWithRedirect(ie){var U=this;return(0,c.Z)(function*(){return yield Se(G.aC(U.auth)),G.g(U._delegate,ie,xt)})()}reauthenticateAndRetrieveDataWithCredential(ie){return this.reauthenticateWithCredential(ie)}reauthenticateWithCredential(ie){var U=this;return(0,c.Z)(function*(){return fn(U.auth,G.Z(U._delegate,ie))})()}reauthenticateWithPhoneNumber(ie,U){return on(this.auth,G.r(this._delegate,ie,U))}reauthenticateWithPopup(ie){return fn(this.auth,G.e(this._delegate,ie,xt))}reauthenticateWithRedirect(ie){var U=this;return(0,c.Z)(function*(){return yield Se(G.aC(U.auth)),G.h(U._delegate,ie,xt)})()}sendEmailVerification(ie){return G.aa(this._delegate,ie)}unlink(ie){var U=this;return(0,c.Z)(function*(){return yield G.aj(U._delegate,ie),U})()}updateEmail(ie){return G.af(this._delegate,ie)}updatePassword(ie){return G.ag(this._delegate,ie)}updatePhoneNumber(ie){return G.u(this._delegate,ie)}updateProfile(ie){return G.ae(this._delegate,ie)}verifyBeforeUpdateEmail(ie,U){return G.ab(this._delegate,ie,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}j.USER_MAP=new WeakMap;const Z=G.aw;let $e=(()=>{class te{constructor(U,J){if(this.app=U,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Q}=U.options;Z(Q,"invalid-api-key",{appName:U.name}),Z(Q,"invalid-api-key",{appName:U.name});const be="undefined"!=typeof window?xt:void 0;this._delegate=J.initialize({options:{persistence:Ze(Q,U.name),popupRedirectResolver:be}}),this._delegate._updateErrorMap(G.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?j.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,J){G.E(this._delegate,U,J)}applyActionCode(U){return G.a1(this._delegate,U)}checkActionCode(U){return G.a2(this._delegate,U)}confirmPasswordReset(U,J){return G.a0(this._delegate,U,J)}createUserWithEmailAndPassword(U,J){var Q=this;return(0,c.Z)(function*(){return fn(Q._delegate,G.a4(Q._delegate,U,J))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return G.a9(this._delegate,U)}isSignInWithEmailLink(U){return G.a7(this._delegate,U)}getRedirectResult(){var U=this;return(0,c.Z)(function*(){Z(un(),U._delegate,"operation-not-supported-in-this-environment");const J=yield G.j(U._delegate,xt);return J?fn(U._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function Jt(te,ie){(0,G.aC)(te)._logFramework(ie)}(this._delegate,U)}onAuthStateChanged(U,J,Q){const{next:be,error:Je,complete:Tt}=pe(U,J,Q);return this._delegate.onAuthStateChanged(be,Je,Tt)}onIdTokenChanged(U,J,Q){const{next:be,error:Je,complete:Tt}=pe(U,J,Q);return this._delegate.onIdTokenChanged(be,Je,Tt)}sendSignInLinkToEmail(U,J){return G.a6(this._delegate,U,J)}sendPasswordResetEmail(U,J){return G.$(this._delegate,U,J||void 0)}setPersistence(U){var J=this;return(0,c.Z)(function*(){let Q;switch(function ke(te,ie){Jn(Object.values(ln).includes(ie),te,"invalid-persistence-type"),(0,ve.b$)()?Jn(ie!==ln.SESSION,te,"unsupported-persistence-type"):(0,ve.UG)()?Jn(ie===ln.NONE,te,"unsupported-persistence-type"):Fn()?Jn(ie===ln.NONE||ie===ln.LOCAL&&(0,ve.hl)(),te,"unsupported-persistence-type"):Jn(ie===ln.NONE||dr(),te,"unsupported-persistence-type")}(J._delegate,U),U){case ln.SESSION:Q=G.a;break;case ln.LOCAL:Q=(yield G.ax(G.i)._isAvailable())?G.i:G.b;break;case ln.NONE:Q=G.K;break;default:return G.as("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(Q)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return fn(this._delegate,G.W(this._delegate))}signInWithCredential(U){return fn(this._delegate,G.X(this._delegate,U))}signInWithCustomToken(U){return fn(this._delegate,G._(this._delegate,U))}signInWithEmailAndPassword(U,J){return fn(this._delegate,G.a5(this._delegate,U,J))}signInWithEmailLink(U,J){return fn(this._delegate,G.a8(this._delegate,U,J))}signInWithPhoneNumber(U,J){return on(this._delegate,G.s(this._delegate,U,J))}signInWithPopup(U){var J=this;return(0,c.Z)(function*(){return Z(un(),J._delegate,"operation-not-supported-in-this-environment"),fn(J._delegate,G.c(J._delegate,U,xt))})()}signInWithRedirect(U){var J=this;return(0,c.Z)(function*(){return Z(un(),J._delegate,"operation-not-supported-in-this-environment"),yield Se(J._delegate),G.f(J._delegate,U,xt)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return G.a3(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return te.Persistence=ln,te})();function pe(te,ie,U){let J=te;"function"!=typeof te&&({next:J,error:ie,complete:U}=te);const Q=J;return{next:Je=>Q(Je&&j.getOrCreate(Je)),error:ie,complete:U}}function Ze(te,ie){const U=function At(te,ie){const U=Ut();if(!U)return[];const J=G.ay(vt,te,ie);switch(U.getItem(J)){case ln.NONE:return[G.K];case ln.LOCAL:return[G.i,G.a];case ln.SESSION:return[G.a];default:return[]}}(te,ie);if("undefined"!=typeof self&&!U.includes(G.i)&&U.push(G.i),"undefined"!=typeof window)for(const J of[G.b,G.a])U.includes(J)||U.push(J);return U.includes(G.K)||U.push(G.K),U}class ct{constructor(){this.providerId="phone",this._delegate=new G.P(Tn(_.Z.auth()))}static credential(ie,U){return G.P.credential(ie,U)}verifyPhoneNumber(ie,U){return this._delegate.verifyPhoneNumber(ie,U)}unwrap(){return this._delegate}}ct.PHONE_SIGN_IN_METHOD=G.P.PHONE_SIGN_IN_METHOD,ct.PROVIDER_ID=G.P.PROVIDER_ID;const ue=G.aw;class re{constructor(ie,U,J=_.Z.app()){var Q;ue(null===(Q=J.options)||void 0===Q?void 0:Q.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new G.R(ie,U,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function je(te){te.INTERNAL.registerComponent(new De.wA("auth-compat",ie=>{const U=ie.getProvider("app-compat").getImmediate(),J=ie.getProvider("auth");return new $e(U,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G.A.EMAIL_SIGNIN,PASSWORD_RESET:G.A.PASSWORD_RESET,RECOVER_EMAIL:G.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G.A.VERIFY_EMAIL}},EmailAuthProvider:G.L,FacebookAuthProvider:G.M,GithubAuthProvider:G.Q,GoogleAuthProvider:G.N,OAuthProvider:G.T,SAMLAuthProvider:G.U,PhoneAuthProvider:ct,PhoneMultiFactorGenerator:G.m,RecaptchaVerifier:re,TwitterAuthProvider:G.V,Auth:$e,AuthCredential:G.G,Error:ve.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),te.registerVersion("@firebase/auth-compat","0.2.12")}(_.Z)},8306:(Qt,rt,k)=>{k.d(rt,{y:()=>ne});var c=k(2961),_=k(727),G=k(8822),ve=k(4671);var De=k(2416),oe=k(576),Oe=k(2806);let ne=(()=>{class it{constructor(Ot){Ot&&(this._subscribe=Ot)}lift(Ot){const Pe=new it;return Pe.source=this,Pe.operator=Ot,Pe}subscribe(Ot,Pe,Ye){const lt=function ot(it){return it&&it instanceof c.Lv||function Le(it){return it&&(0,oe.m)(it.next)&&(0,oe.m)(it.error)&&(0,oe.m)(it.complete)}(it)&&(0,_.Nn)(it)}(Ot)?Ot:new c.Hp(Ot,Pe,Ye);return(0,Oe.x)(()=>{const{operator:Et,source:We}=this;lt.add(Et?Et.call(lt,We):We?this._subscribe(lt):this._trySubscribe(lt))}),lt}_trySubscribe(Ot){try{return this._subscribe(Ot)}catch(Pe){Ot.error(Pe)}}forEach(Ot,Pe){return new(Pe=de(Pe))((Ye,lt)=>{let Et;Et=this.subscribe(We=>{try{Ot(We)}catch(Re){lt(Re),null==Et||Et.unsubscribe()}},lt,Ye)})}_subscribe(Ot){var Pe;return null===(Pe=this.source)||void 0===Pe?void 0:Pe.subscribe(Ot)}[G.L](){return this}pipe(...Ot){return function Te(it){return 0===it.length?ve.y:1===it.length?it[0]:function(Ot){return it.reduce((Pe,Ye)=>Ye(Pe),Ot)}}(Ot)(this)}toPromise(Ot){return new(Ot=de(Ot))((Pe,Ye)=>{let lt;this.subscribe(Et=>lt=Et,Et=>Ye(Et),()=>Pe(lt))})}}return it.create=Dt=>new it(Dt),it})();function de(it){var Dt;return null!==(Dt=null!=it?it:De.v.Promise)&&void 0!==Dt?Dt:Promise}},7579:(Qt,rt,k)=>{k.d(rt,{x:()=>De});var c=k(8306),_=k(727);const ve=(0,k(3888).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=k(8737),Te=k(2806);let De=(()=>{class Oe extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Le=new oe(this,this);return Le.operator=de,Le}_throwIfClosed(){if(this.closed)throw new ve}next(de){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Le=this.observers.slice();for(const ot of Le)ot.next(de)}})}error(de){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Le}=this;for(;Le.length;)Le.shift().error(de)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Le,isStopped:ot,observers:it}=this;return Le||ot?_.Lc:(it.push(de),new _.w0(()=>(0,Ie.P)(it,de)))}_checkFinalizedStatuses(de){const{hasError:Le,thrownError:ot,isStopped:it}=this;Le?de.error(ot):it&&de.complete()}asObservable(){const de=new c.y;return de.source=this,de}}return Oe.create=(ne,de)=>new oe(ne,de),Oe})();class oe extends De{constructor(ne,de){super(),this.destination=ne,this.source=de}next(ne){var de,Le;null===(Le=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Le||Le.call(de,ne)}error(ne){var de,Le;null===(Le=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Le||Le.call(de,ne)}complete(){var ne,de;null===(de=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===de||de.call(ne)}_subscribe(ne){var de,Le;return null!==(Le=null===(de=this.source)||void 0===de?void 0:de.subscribe(ne))&&void 0!==Le?Le:_.Lc}}},2961:(Qt,rt,k)=>{k.d(rt,{Hp:()=>ot,Lv:()=>Le});var c=k(576),_=k(727),G=k(2416),ve=k(7849);function Ie(){}const Te=Oe("C",void 0,void 0);function Oe(Ye,lt,Et){return{kind:Ye,value:lt,error:Et}}var ne=k(3410),de=k(2806);class Le extends _.w0{constructor(lt){super(),this.isStopped=!1,lt?(this.destination=lt,(0,_.Nn)(lt)&&lt.add(this)):this.destination=Pe}static create(lt,Et,We){return new ot(lt,Et,We)}next(lt){this.isStopped?Ot(function oe(Ye){return Oe("N",Ye,void 0)}(lt),this):this._next(lt)}error(lt){this.isStopped?Ot(function De(Ye){return Oe("E",void 0,Ye)}(lt),this):(this.isStopped=!0,this._error(lt))}complete(){this.isStopped?Ot(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(lt){this.destination.next(lt)}_error(lt){try{this.destination.error(lt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ot extends Le{constructor(lt,Et,We){let Re;if(super(),(0,c.m)(lt))Re=lt;else if(lt){let at;({next:Re,error:Et,complete:We}=lt),this&&G.v.useDeprecatedNextContext?(at=Object.create(lt),at.unsubscribe=()=>this.unsubscribe()):at=lt,Re=null==Re?void 0:Re.bind(at),Et=null==Et?void 0:Et.bind(at),We=null==We?void 0:We.bind(at)}this.destination={next:Re?it(Re):Ie,error:it(null!=Et?Et:Dt),complete:We?it(We):Ie}}}function it(Ye,lt){return(...Et)=>{try{Ye(...Et)}catch(We){G.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(We):(0,ve.h)(We)}}}function Dt(Ye){throw Ye}function Ot(Ye,lt){const{onStoppedNotification:Et}=G.v;Et&&ne.z.setTimeout(()=>Et(Ye,lt))}const Pe={closed:!0,next:Ie,error:Dt,complete:Ie}},727:(Qt,rt,k)=>{k.d(rt,{Lc:()=>Te,w0:()=>Ie,Nn:()=>De});var c=k(576);const G=(0,k(3888).d)(Oe=>function(de){Oe(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Le,ot)=>`${ot+1}) ${Le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var ve=k(8737);class Ie{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const it of de)it.remove(this);else de.remove(this);const{initialTeardown:Le}=this;if((0,c.m)(Le))try{Le()}catch(it){ne=it instanceof G?it.errors:[it]}const{_teardowns:ot}=this;if(ot){this._teardowns=null;for(const it of ot)try{oe(it)}catch(Dt){ne=null!=ne?ne:[],Dt instanceof G?ne=[...ne,...Dt.errors]:ne.push(Dt)}}if(ne)throw new G(ne)}}add(ne){var de;if(ne&&ne!==this)if(this.closed)oe(ne);else{if(ne instanceof Ie){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._teardowns=null!==(de=this._teardowns)&&void 0!==de?de:[]).push(ne)}}_hasParent(ne){const{_parentage:de}=this;return de===ne||Array.isArray(de)&&de.includes(ne)}_addParent(ne){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ne),de):de?[de,ne]:ne}_removeParent(ne){const{_parentage:de}=this;de===ne?this._parentage=null:Array.isArray(de)&&(0,ve.P)(de,ne)}remove(ne){const{_teardowns:de}=this;de&&(0,ve.P)(de,ne),ne instanceof Ie&&ne._removeParent(this)}}Ie.EMPTY=(()=>{const Oe=new Ie;return Oe.closed=!0,Oe})();const Te=Ie.EMPTY;function De(Oe){return Oe instanceof Ie||Oe&&"closed"in Oe&&(0,c.m)(Oe.remove)&&(0,c.m)(Oe.add)&&(0,c.m)(Oe.unsubscribe)}function oe(Oe){(0,c.m)(Oe)?Oe():Oe.unsubscribe()}},2416:(Qt,rt,k)=>{k.d(rt,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Qt,rt,k)=>{k.d(rt,{z:()=>Ie});var c=k(8189),G=k(3269),ve=k(8996);function Ie(...Te){return function _(){return(0,c.J)(1)}()((0,ve.D)(Te,(0,G.yG)(Te)))}},515:(Qt,rt,k)=>{k.d(rt,{E:()=>_});const _=new(k(8306).y)(Ie=>Ie.complete())},8996:(Qt,rt,k)=>{k.d(rt,{D:()=>Re});var c=k(8421),_=k(5363),G=k(9468),Te=k(8306),oe=k(2202),Oe=k(576),ne=k(9672);function Le(at,It){if(!at)throw new Error("Iterable cannot be null");return new Te.y(Ne=>{(0,ne.f)(Ne,It,()=>{const Ct=at[Symbol.asyncIterator]();(0,ne.f)(Ne,It,()=>{Ct.next().then(ae=>{ae.done?Ne.complete():Ne.next(ae.value)})},0,!0)})})}var ot=k(3670),it=k(8239),Dt=k(1144),Ot=k(6495),Pe=k(2206),Ye=k(4532),lt=k(3260);function Re(at,It){return It?function We(at,It){if(null!=at){if((0,ot.c)(at))return function ve(at,It){return(0,c.Xf)(at).pipe((0,G.R)(It),(0,_.Q)(It))}(at,It);if((0,Dt.z)(at))return function De(at,It){return new Te.y(Ne=>{let Ct=0;return It.schedule(function(){Ct===at.length?Ne.complete():(Ne.next(at[Ct++]),Ne.closed||this.schedule())})})}(at,It);if((0,it.t)(at))return function Ie(at,It){return(0,c.Xf)(at).pipe((0,G.R)(It),(0,_.Q)(It))}(at,It);if((0,Pe.D)(at))return Le(at,It);if((0,Ot.T)(at))return function de(at,It){return new Te.y(Ne=>{let Ct;return(0,ne.f)(Ne,It,()=>{Ct=at[oe.h](),(0,ne.f)(Ne,It,()=>{let ae,me;try{({value:ae,done:me}=Ct.next())}catch(_e){return void Ne.error(_e)}me?Ne.complete():Ne.next(ae)},0,!0)}),()=>(0,Oe.m)(null==Ct?void 0:Ct.return)&&Ct.return()})}(at,It);if((0,lt.L)(at))return function Et(at,It){return Le((0,lt.Q)(at),It)}(at,It)}throw(0,Ye.z)(at)}(at,It):(0,c.Xf)(at)}},8421:(Qt,rt,k)=>{k.d(rt,{Xf:()=>ot});var c=k(5987),_=k(1144),G=k(8239),ve=k(8306),Ie=k(3670),Te=k(2206),De=k(4532),oe=k(6495),Oe=k(3260),ne=k(576),de=k(7849),Le=k(8822);function ot(We){if(We instanceof ve.y)return We;if(null!=We){if((0,Ie.c)(We))return function it(We){return new ve.y(Re=>{const at=We[Le.L]();if((0,ne.m)(at.subscribe))return at.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,_.z)(We))return function Dt(We){return new ve.y(Re=>{for(let at=0;at<We.length&&!Re.closed;at++)Re.next(We[at]);Re.complete()})}(We);if((0,G.t)(We))return function Ot(We){return new ve.y(Re=>{We.then(at=>{Re.closed||(Re.next(at),Re.complete())},at=>Re.error(at)).then(null,de.h)})}(We);if((0,Te.D)(We))return Ye(We);if((0,oe.T)(We))return function Pe(We){return new ve.y(Re=>{for(const at of We)if(Re.next(at),Re.closed)return;Re.complete()})}(We);if((0,Oe.L)(We))return function lt(We){return Ye((0,Oe.Q)(We))}(We)}throw(0,De.z)(We)}function Ye(We){return new ve.y(Re=>{(function Et(We,Re){var at,It,Ne,Ct;return(0,c.mG)(this,void 0,void 0,function*(){try{for(at=(0,c.KL)(We);!(It=yield at.next()).done;)if(Re.next(It.value),Re.closed)return}catch(ae){Ne={error:ae}}finally{try{It&&!It.done&&(Ct=at.return)&&(yield Ct.call(at))}finally{if(Ne)throw Ne.error}}Re.complete()})})(We,Re).catch(at=>Re.error(at))})}},6451:(Qt,rt,k)=>{k.d(rt,{T:()=>Te});var c=k(8189),_=k(8421),G=k(515),ve=k(3269),Ie=k(8996);function Te(...De){const oe=(0,ve.yG)(De),Oe=(0,ve._6)(De,1/0),ne=De;return ne.length?1===ne.length?(0,_.Xf)(ne[0]):(0,c.J)(Oe)((0,Ie.D)(ne,oe)):G.E}},9646:(Qt,rt,k)=>{k.d(rt,{of:()=>G});var c=k(3269),_=k(8996);function G(...ve){const Ie=(0,c.yG)(ve);return(0,_.D)(ve,Ie)}},5403:(Qt,rt,k)=>{k.d(rt,{Q:()=>_});var c=k(2961);class _ extends c.Lv{constructor(ve,Ie,Te,De,oe){super(ve),this.onFinalize=oe,this._next=Ie?function(Oe){try{Ie(Oe)}catch(ne){ve.error(ne)}}:super._next,this._error=De?function(Oe){try{De(Oe)}catch(ne){ve.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(Oe){ve.error(Oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}},4351:(Qt,rt,k)=>{k.d(rt,{b:()=>G});var c=k(5577),_=k(576);function G(ve,Ie){return(0,_.m)(Ie)?(0,c.z)(ve,Ie,1):(0,c.z)(ve,1)}},6590:(Qt,rt,k)=>{k.d(rt,{d:()=>G});var c=k(4482),_=k(5403);function G(ve){return(0,c.e)((Ie,Te)=>{let De=!1;Ie.subscribe(new _.Q(Te,oe=>{De=!0,Te.next(oe)},()=>{De||Te.next(ve),Te.complete()}))})}},1884:(Qt,rt,k)=>{k.d(rt,{x:()=>ve});var c=k(4671),_=k(4482),G=k(5403);function ve(Te,De=c.y){return Te=null!=Te?Te:Ie,(0,_.e)((oe,Oe)=>{let ne,de=!0;oe.subscribe(new G.Q(Oe,Le=>{const ot=De(Le);(de||!Te(ne,ot))&&(de=!1,ne=ot,Oe.next(Le))}))})}function Ie(Te,De){return Te===De}},9300:(Qt,rt,k)=>{k.d(rt,{h:()=>G});var c=k(4482),_=k(5403);function G(ve,Ie){return(0,c.e)((Te,De)=>{let oe=0;Te.subscribe(new _.Q(De,Oe=>ve.call(Ie,Oe,oe++)&&De.next(Oe)))})}},590:(Qt,rt,k)=>{k.d(rt,{P:()=>De});var c=k(6805),_=k(9300),G=k(5698),ve=k(6590),Ie=k(8068),Te=k(4671);function De(oe,Oe){const ne=arguments.length>=2;return de=>de.pipe(oe?(0,_.h)((Le,ot)=>oe(Le,ot,de)):Te.y,(0,G.q)(1),ne?(0,ve.d)(Oe):(0,Ie.T)(()=>new c.K))}},4004:(Qt,rt,k)=>{k.d(rt,{U:()=>G});var c=k(4482),_=k(5403);function G(ve,Ie){return(0,c.e)((Te,De)=>{let oe=0;Te.subscribe(new _.Q(De,Oe=>{De.next(ve.call(Ie,Oe,oe++))}))})}},8189:(Qt,rt,k)=>{k.d(rt,{J:()=>G});var c=k(5577),_=k(4671);function G(ve=1/0){return(0,c.z)(_.y,ve)}},5577:(Qt,rt,k)=>{k.d(rt,{z:()=>oe});var c=k(4004),_=k(8421),G=k(4482),ve=k(9672),Ie=k(5403),De=k(576);function oe(Oe,ne,de=1/0){return(0,De.m)(ne)?oe((Le,ot)=>(0,c.U)((it,Dt)=>ne(Le,it,ot,Dt))((0,_.Xf)(Oe(Le,ot))),de):("number"==typeof ne&&(de=ne),(0,G.e)((Le,ot)=>function Te(Oe,ne,de,Le,ot,it,Dt,Ot){const Pe=[];let Ye=0,lt=0,Et=!1;const We=()=>{Et&&!Pe.length&&!Ye&&ne.complete()},Re=It=>Ye<Le?at(It):Pe.push(It),at=It=>{it&&ne.next(It),Ye++;let Ne=!1;(0,_.Xf)(de(It,lt++)).subscribe(new Ie.Q(ne,Ct=>{null==ot||ot(Ct),it?Re(Ct):ne.next(Ct)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Ye--;Pe.length&&Ye<Le;){const Ct=Pe.shift();Dt?(0,ve.f)(ne,Dt,()=>at(Ct)):at(Ct)}We()}catch(Ct){ne.error(Ct)}}))};return Oe.subscribe(new Ie.Q(ne,Re,()=>{Et=!0,We()})),()=>{null==Ot||Ot()}}(Le,ot,Oe,de)))}},5363:(Qt,rt,k)=>{k.d(rt,{Q:()=>ve});var c=k(9672),_=k(4482),G=k(5403);function ve(Ie,Te=0){return(0,_.e)((De,oe)=>{De.subscribe(new G.Q(oe,Oe=>(0,c.f)(oe,Ie,()=>oe.next(Oe),Te),()=>(0,c.f)(oe,Ie,()=>oe.complete(),Te),Oe=>(0,c.f)(oe,Ie,()=>oe.error(Oe),Te)))})}},1520:(Qt,rt,k)=>{k.d(rt,{G:()=>G});var c=k(4482),_=k(5403);function G(){return(0,c.e)((ve,Ie)=>{let Te,De=!1;ve.subscribe(new _.Q(Ie,oe=>{const Oe=Te;Te=oe,De&&Ie.next([Oe,oe]),De=!0}))})}},5026:(Qt,rt,k)=>{k.d(rt,{R:()=>ve});var c=k(4482),_=k(5403);function G(Ie,Te,De,oe,Oe){return(ne,de)=>{let Le=De,ot=Te,it=0;ne.subscribe(new _.Q(de,Dt=>{const Ot=it++;ot=Le?Ie(ot,Dt,Ot):(Le=!0,Dt),oe&&de.next(ot)},Oe&&(()=>{Le&&de.next(ot),de.complete()})))}}function ve(Ie,Te){return(0,c.e)(G(Ie,Te,arguments.length>=2,!0))}},3099:(Qt,rt,k)=>{k.d(rt,{B:()=>Te});var c=k(8996),_=k(5698),G=k(7579),ve=k(2961),Ie=k(4482);function Te(oe={}){const{connector:Oe=(()=>new G.x),resetOnError:ne=!0,resetOnComplete:de=!0,resetOnRefCountZero:Le=!0}=oe;return ot=>{let it=null,Dt=null,Ot=null,Pe=0,Ye=!1,lt=!1;const Et=()=>{null==Dt||Dt.unsubscribe(),Dt=null},We=()=>{Et(),it=Ot=null,Ye=lt=!1},Re=()=>{const at=it;We(),null==at||at.unsubscribe()};return(0,Ie.e)((at,It)=>{Pe++,!lt&&!Ye&&Et();const Ne=Ot=null!=Ot?Ot:Oe();It.add(()=>{Pe--,0===Pe&&!lt&&!Ye&&(Dt=De(Re,Le))}),Ne.subscribe(It),it||(it=new ve.Hp({next:Ct=>Ne.next(Ct),error:Ct=>{lt=!0,Et(),Dt=De(We,ne,Ct),Ne.error(Ct)},complete:()=>{Ye=!0,Et(),Dt=De(We,de),Ne.complete()}}),(0,c.D)(at).subscribe(it))})(ot)}}function De(oe,Oe,...ne){return!0===Oe?(oe(),null):!1===Oe?null:Oe(...ne).pipe((0,_.q)(1)).subscribe(()=>oe())}},3151:(Qt,rt,k)=>{k.d(rt,{d:()=>Ie});var c=k(7579),_=k(6063);class G extends c.x{constructor(De=1/0,oe=1/0,Oe=_.l){super(),this._bufferSize=De,this._windowTime=oe,this._timestampProvider=Oe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=oe===1/0,this._bufferSize=Math.max(1,De),this._windowTime=Math.max(1,oe)}next(De){const{isStopped:oe,_buffer:Oe,_infiniteTimeWindow:ne,_timestampProvider:de,_windowTime:Le}=this;oe||(Oe.push(De),!ne&&Oe.push(de.now()+Le)),this._trimBuffer(),super.next(De)}_subscribe(De){this._throwIfClosed(),this._trimBuffer();const oe=this._innerSubscribe(De),{_infiniteTimeWindow:Oe,_buffer:ne}=this,de=ne.slice();for(let Le=0;Le<de.length&&!De.closed;Le+=Oe?1:2)De.next(de[Le]);return this._checkFinalizedStatuses(De),oe}_trimBuffer(){const{_bufferSize:De,_timestampProvider:oe,_buffer:Oe,_infiniteTimeWindow:ne}=this,de=(ne?1:2)*De;if(De<1/0&&de<Oe.length&&Oe.splice(0,Oe.length-de),!ne){const Le=oe.now();let ot=0;for(let it=1;it<Oe.length&&Oe[it]<=Le;it+=2)ot=it;ot&&Oe.splice(0,ot+1)}}}var ve=k(3099);function Ie(Te,De,oe){var Oe,ne;let de,Le=!1;return Te&&"object"==typeof Te?(de=null!==(Oe=Te.bufferSize)&&void 0!==Oe?Oe:1/0,De=null!==(ne=Te.windowTime)&&void 0!==ne?ne:1/0,Le=!!Te.refCount,oe=Te.scheduler):de=null!=Te?Te:1/0,(0,ve.B)({connector:()=>new G(de,De,oe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Le})}},8675:(Qt,rt,k)=>{k.d(rt,{O:()=>ve});var c=k(7272),_=k(3269),G=k(4482);function ve(...Ie){const Te=(0,_.yG)(Ie);return(0,G.e)((De,oe)=>{(Te?(0,c.z)(Ie,De,Te):(0,c.z)(Ie,De)).subscribe(oe)})}},9468:(Qt,rt,k)=>{k.d(rt,{R:()=>_});var c=k(4482);function _(G,ve=0){return(0,c.e)((Ie,Te)=>{Te.add(G.schedule(()=>Ie.subscribe(Te),ve))})}},3900:(Qt,rt,k)=>{k.d(rt,{w:()=>ve});var c=k(8421),_=k(4482),G=k(5403);function ve(Ie,Te){return(0,_.e)((De,oe)=>{let Oe=null,ne=0,de=!1;const Le=()=>de&&!Oe&&oe.complete();De.subscribe(new G.Q(oe,ot=>{null==Oe||Oe.unsubscribe();let it=0;const Dt=ne++;(0,c.Xf)(Ie(ot,Dt)).subscribe(Oe=new G.Q(oe,Ot=>oe.next(Te?Te(ot,Ot,Dt,it++):Ot),()=>{Oe=null,Le()}))},()=>{de=!0,Le()}))})}},5698:(Qt,rt,k)=>{k.d(rt,{q:()=>ve});var c=k(515),_=k(4482),G=k(5403);function ve(Ie){return Ie<=0?()=>c.E:(0,_.e)((Te,De)=>{let oe=0;Te.subscribe(new G.Q(De,Oe=>{++oe<=Ie&&(De.next(Oe),Ie<=oe&&De.complete())}))})}},8505:(Qt,rt,k)=>{k.d(rt,{b:()=>Ie});var c=k(576),_=k(4482),G=k(5403),ve=k(4671);function Ie(Te,De,oe){const Oe=(0,c.m)(Te)||De||oe?{next:Te,error:De,complete:oe}:Te;return Oe?(0,_.e)((ne,de)=>{var Le;null===(Le=Oe.subscribe)||void 0===Le||Le.call(Oe);let ot=!0;ne.subscribe(new G.Q(de,it=>{var Dt;null===(Dt=Oe.next)||void 0===Dt||Dt.call(Oe,it),de.next(it)},()=>{var it;ot=!1,null===(it=Oe.complete)||void 0===it||it.call(Oe),de.complete()},it=>{var Dt;ot=!1,null===(Dt=Oe.error)||void 0===Dt||Dt.call(Oe,it),de.error(it)},()=>{var it,Dt;ot&&(null===(it=Oe.unsubscribe)||void 0===it||it.call(Oe)),null===(Dt=Oe.finalize)||void 0===Dt||Dt.call(Oe)}))}):ve.y}},8068:(Qt,rt,k)=>{k.d(rt,{T:()=>ve});var c=k(6805),_=k(4482),G=k(5403);function ve(Te=Ie){return(0,_.e)((De,oe)=>{let Oe=!1;De.subscribe(new G.Q(oe,ne=>{Oe=!0,oe.next(ne)},()=>Oe?oe.complete():oe.error(Te())))})}function Ie(){return new c.K}},4408:(Qt,rt,k)=>{k.d(rt,{o:()=>Ie});var c=k(727);class _ extends c.w0{constructor(De,oe){super()}schedule(De,oe=0){return this}}const G={setInterval(...Te){const{delegate:De}=G;return((null==De?void 0:De.setInterval)||setInterval)(...Te)},clearInterval(Te){const{delegate:De}=G;return((null==De?void 0:De.clearInterval)||clearInterval)(Te)},delegate:void 0};var ve=k(8737);class Ie extends _{constructor(De,oe){super(De,oe),this.scheduler=De,this.work=oe,this.pending=!1}schedule(De,oe=0){if(this.closed)return this;this.state=De;const Oe=this.id,ne=this.scheduler;return null!=Oe&&(this.id=this.recycleAsyncId(ne,Oe,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(ne,this.id,oe),this}requestAsyncId(De,oe,Oe=0){return G.setInterval(De.flush.bind(De,this),Oe)}recycleAsyncId(De,oe,Oe=0){if(null!=Oe&&this.delay===Oe&&!1===this.pending)return oe;G.clearInterval(oe)}execute(De,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Oe=this._execute(De,oe);if(Oe)return Oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,oe){let ne,Oe=!1;try{this.work(De)}catch(de){Oe=!0,ne=de||new Error("Scheduled action threw falsy error")}if(Oe)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:De,scheduler:oe}=this,{actions:Oe}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.P)(Oe,this),null!=De&&(this.id=this.recycleAsyncId(oe,De,null)),this.delay=null,super.unsubscribe()}}}},7565:(Qt,rt,k)=>{k.d(rt,{v:()=>G});var c=k(6063);class _{constructor(Ie,Te=_.now){this.schedulerActionCtor=Ie,this.now=Te}schedule(Ie,Te=0,De){return new this.schedulerActionCtor(this,Ie).schedule(De,Te)}}_.now=c.l.now;class G extends _{constructor(Ie,Te=_.now){super(Ie,Te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ie){const{actions:Te}=this;if(this._active)return void Te.push(Ie);let De;this._active=!0;do{if(De=Ie.execute(Ie.state,Ie.delay))break}while(Ie=Te.shift());if(this._active=!1,De){for(;Ie=Te.shift();)Ie.unsubscribe();throw De}}}},4986:(Qt,rt,k)=>{k.d(rt,{P:()=>ve,z:()=>G});var c=k(4408);const G=new(k(7565).v)(c.o),ve=G},6063:(Qt,rt,k)=>{k.d(rt,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Qt,rt,k)=>{k.d(rt,{z:()=>c});const c={setTimeout(..._){const{delegate:G}=c;return((null==G?void 0:G.setTimeout)||setTimeout)(..._)},clearTimeout(_){const{delegate:G}=c;return((null==G?void 0:G.clearTimeout)||clearTimeout)(_)},delegate:void 0}},2202:(Qt,rt,k)=>{k.d(rt,{h:()=>_});const _=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Qt,rt,k)=>{k.d(rt,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Qt,rt,k)=>{k.d(rt,{K:()=>_});const _=(0,k(3888).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Qt,rt,k)=>{k.d(rt,{_6:()=>Te,jO:()=>ve,yG:()=>Ie});var c=k(576),_=k(3532);function G(De){return De[De.length-1]}function ve(De){return(0,c.m)(G(De))?De.pop():void 0}function Ie(De){return(0,_.K)(G(De))?De.pop():void 0}function Te(De,oe){return"number"==typeof G(De)?De.pop():oe}},4742:(Qt,rt,k)=>{k.d(rt,{D:()=>Ie});const{isArray:c}=Array,{getPrototypeOf:_,prototype:G,keys:ve}=Object;function Ie(De){if(1===De.length){const oe=De[0];if(c(oe))return{args:oe,keys:null};if(function Te(De){return De&&"object"==typeof De&&_(De)===G}(oe)){const Oe=ve(oe);return{args:Oe.map(ne=>oe[ne]),keys:Oe}}}return{args:De,keys:null}}},8737:(Qt,rt,k)=>{function c(_,G){if(_){const ve=_.indexOf(G);0<=ve&&_.splice(ve,1)}}k.d(rt,{P:()=>c})},3888:(Qt,rt,k)=>{function c(_){const ve=_(Ie=>{Error.call(Ie),Ie.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}k.d(rt,{d:()=>c})},1810:(Qt,rt,k)=>{function c(_,G){return _.reduce((ve,Ie,Te)=>(ve[Ie]=G[Te],ve),{})}k.d(rt,{n:()=>c})},2806:(Qt,rt,k)=>{k.d(rt,{O:()=>ve,x:()=>G});var c=k(2416);let _=null;function G(Ie){if(c.v.useDeprecatedSynchronousErrorHandling){const Te=!_;if(Te&&(_={errorThrown:!1,error:null}),Ie(),Te){const{errorThrown:De,error:oe}=_;if(_=null,De)throw oe}}else Ie()}function ve(Ie){c.v.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=Ie)}},9672:(Qt,rt,k)=>{function c(_,G,ve,Ie=0,Te=!1){const De=G.schedule(function(){ve(),Te?_.add(this.schedule(null,Ie)):this.unsubscribe()},Ie);if(_.add(De),!Te)return De}k.d(rt,{f:()=>c})},4671:(Qt,rt,k)=>{function c(_){return _}k.d(rt,{y:()=>c})},1144:(Qt,rt,k)=>{k.d(rt,{z:()=>c});const c=_=>_&&"number"==typeof _.length&&"function"!=typeof _},2206:(Qt,rt,k)=>{k.d(rt,{D:()=>_});var c=k(576);function _(G){return Symbol.asyncIterator&&(0,c.m)(null==G?void 0:G[Symbol.asyncIterator])}},576:(Qt,rt,k)=>{function c(_){return"function"==typeof _}k.d(rt,{m:()=>c})},3670:(Qt,rt,k)=>{k.d(rt,{c:()=>G});var c=k(8822),_=k(576);function G(ve){return(0,_.m)(ve[c.L])}},6495:(Qt,rt,k)=>{k.d(rt,{T:()=>G});var c=k(2202),_=k(576);function G(ve){return(0,_.m)(null==ve?void 0:ve[c.h])}},8239:(Qt,rt,k)=>{k.d(rt,{t:()=>_});var c=k(576);function _(G){return(0,c.m)(null==G?void 0:G.then)}},3260:(Qt,rt,k)=>{k.d(rt,{L:()=>ve,Q:()=>G});var c=k(5987),_=k(576);function G(Ie){return(0,c.FC)(this,arguments,function*(){const De=Ie.getReader();try{for(;;){const{value:oe,done:Oe}=yield(0,c.qq)(De.read());if(Oe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(oe)}}finally{De.releaseLock()}})}function ve(Ie){return(0,_.m)(null==Ie?void 0:Ie.getReader)}},3532:(Qt,rt,k)=>{k.d(rt,{K:()=>_});var c=k(576);function _(G){return G&&(0,c.m)(G.schedule)}},4482:(Qt,rt,k)=>{k.d(rt,{A:()=>_,e:()=>G});var c=k(576);function _(ve){return(0,c.m)(null==ve?void 0:ve.lift)}function G(ve){return Ie=>{if(_(Ie))return Ie.lift(function(Te){try{return ve(Te,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Qt,rt,k)=>{k.d(rt,{Z:()=>ve});var c=k(4004);const{isArray:_}=Array;function ve(Ie){return(0,c.U)(Te=>function G(Ie,Te){return _(Te)?Ie(...Te):Ie(Te)}(Ie,Te))}},7849:(Qt,rt,k)=>{k.d(rt,{h:()=>G});var c=k(2416),_=k(3410);function G(ve){_.z.setTimeout(()=>{const{onUnhandledError:Ie}=c.v;if(!Ie)throw ve;Ie(ve)})}},4532:(Qt,rt,k)=>{function c(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(rt,{z:()=>c})},5987:(Qt,rt,k)=>{function oe(ae,me,_e,xe){return new(_e||(_e=Promise))(function(fe,mt){function Vt(Kt){try{wt(xe.next(Kt))}catch(Jt){mt(Jt)}}function hn(Kt){try{wt(xe.throw(Kt))}catch(Jt){mt(Jt)}}function wt(Kt){Kt.done?fe(Kt.value):function He(fe){return fe instanceof _e?fe:new _e(function(mt){mt(fe)})}(Kt.value).then(Vt,hn)}wt((xe=xe.apply(ae,me||[])).next())})}function Pe(ae){return this instanceof Pe?(this.v=ae,this):new Pe(ae)}function Ye(ae,me,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,xe=_e.apply(ae,me||[]),fe=[];return He={},mt("next"),mt("throw"),mt("return"),He[Symbol.asyncIterator]=function(){return this},He;function mt(rn){xe[rn]&&(He[rn]=function(dt){return new Promise(function(pt,Ae){fe.push([rn,dt,pt,Ae])>1||Vt(rn,dt)})})}function Vt(rn,dt){try{!function hn(rn){rn.value instanceof Pe?Promise.resolve(rn.value.v).then(wt,Kt):Jt(fe[0][2],rn)}(xe[rn](dt))}catch(pt){Jt(fe[0][3],pt)}}function wt(rn){Vt("next",rn)}function Kt(rn){Vt("throw",rn)}function Jt(rn,dt){rn(dt),fe.shift(),fe.length&&Vt(fe[0][0],fe[0][1])}}function Et(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,me=ae[Symbol.asyncIterator];return me?me.call(ae):(ae=function Le(ae){var me="function"==typeof Symbol&&Symbol.iterator,_e=me&&ae[me],xe=0;if(_e)return _e.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&xe>=ae.length&&(ae=void 0),{value:ae&&ae[xe++],done:!ae}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),_e={},xe("next"),xe("throw"),xe("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function xe(fe){_e[fe]=ae[fe]&&function(mt){return new Promise(function(Vt,hn){!function He(fe,mt,Vt,hn){Promise.resolve(hn).then(function(wt){fe({value:wt,done:Vt})},mt)}(Vt,hn,(mt=ae[fe](mt)).done,mt.value)})}}}k.d(rt,{FC:()=>Ye,KL:()=>Et,mG:()=>oe,qq:()=>Pe})},655:(Qt,rt,k)=>{function ve(ae,me){var _e={};for(var xe in ae)Object.prototype.hasOwnProperty.call(ae,xe)&&me.indexOf(xe)<0&&(_e[xe]=ae[xe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(xe=Object.getOwnPropertySymbols(ae);He<xe.length;He++)me.indexOf(xe[He])<0&&Object.prototype.propertyIsEnumerable.call(ae,xe[He])&&(_e[xe[He]]=ae[xe[He]])}return _e}function oe(ae,me,_e,xe){return new(_e||(_e=Promise))(function(fe,mt){function Vt(Kt){try{wt(xe.next(Kt))}catch(Jt){mt(Jt)}}function hn(Kt){try{wt(xe.throw(Kt))}catch(Jt){mt(Jt)}}function wt(Kt){Kt.done?fe(Kt.value):function He(fe){return fe instanceof _e?fe:new _e(function(mt){mt(fe)})}(Kt.value).then(Vt,hn)}wt((xe=xe.apply(ae,me||[])).next())})}k.d(rt,{_T:()=>ve,mG:()=>oe})},1777:(Qt,rt,k)=>{k.d(rt,{LC:()=>_,SB:()=>Oe,X$:()=>ve,ZE:()=>lt,ZN:()=>Ye,_j:()=>c,eR:()=>de,jt:()=>Ie,k1:()=>Et,l3:()=>G,oB:()=>oe,vP:()=>De});class c{}class _{}const G="*";function ve(We,Re){return{type:7,name:We,definitions:Re,options:{}}}function Ie(We,Re=null){return{type:4,styles:Re,timings:We}}function De(We,Re=null){return{type:2,steps:We,options:Re}}function oe(We){return{type:6,styles:We,offset:null}}function Oe(We,Re,at){return{type:0,name:We,styles:Re,options:at}}function de(We,Re,at=null){return{type:1,expr:We,animation:Re,options:at}}function Pe(We){Promise.resolve(null).then(We)}class Ye{constructor(Re=0,at=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Re+at}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Re=>Re()),this._onDoneFns=[])}onStart(Re){this._onStartFns.push(Re)}onDone(Re){this._onDoneFns.push(Re)}onDestroy(Re){this._onDestroyFns.push(Re)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Pe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Re=>Re()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Re=>Re()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Re){this._position=this.totalTime?Re*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Re){const at="start"==Re?this._onStartFns:this._onDoneFns;at.forEach(It=>It()),at.length=0}}class lt{constructor(Re){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Re;let at=0,It=0,Ne=0;const Ct=this.players.length;0==Ct?Pe(()=>this._onFinish()):this.players.forEach(ae=>{ae.onDone(()=>{++at==Ct&&this._onFinish()}),ae.onDestroy(()=>{++It==Ct&&this._onDestroy()}),ae.onStart(()=>{++Ne==Ct&&this._onStart()})}),this.totalTime=this.players.reduce((ae,me)=>Math.max(ae,me.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Re=>Re()),this._onDoneFns=[])}init(){this.players.forEach(Re=>Re.init())}onStart(Re){this._onStartFns.push(Re)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Re=>Re()),this._onStartFns=[])}onDone(Re){this._onDoneFns.push(Re)}onDestroy(Re){this._onDestroyFns.push(Re)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Re=>Re.play())}pause(){this.players.forEach(Re=>Re.pause())}restart(){this.players.forEach(Re=>Re.restart())}finish(){this._onFinish(),this.players.forEach(Re=>Re.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Re=>Re.destroy()),this._onDestroyFns.forEach(Re=>Re()),this._onDestroyFns=[])}reset(){this.players.forEach(Re=>Re.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Re){const at=Re*this.totalTime;this.players.forEach(It=>{const Ne=It.totalTime?Math.min(1,at/It.totalTime):1;It.setPosition(Ne)})}getPosition(){const Re=this.players.reduce((at,It)=>null===at||It.totalTime>at.totalTime?It:at,null);return null!=Re?Re.getPosition():0}beforeDestroy(){this.players.forEach(Re=>{Re.beforeDestroy&&Re.beforeDestroy()})}triggerCallback(Re){const at="start"==Re?this._onStartFns:this._onDoneFns;at.forEach(It=>It()),at.length=0}}const Et="!"},9808:(Qt,rt,k)=>{k.d(rt,{Do:()=>We,EM:()=>ki,HT:()=>Ie,JF:()=>Gr,K0:()=>De,Mx:()=>Vn,NF:()=>Zr,O5:()=>ze,Ov:()=>fs,PC:()=>$r,PM:()=>Pr,RF:()=>zt,S$:()=>Pe,V_:()=>ne,Ye:()=>Re,b0:()=>Et,bD:()=>Qi,ez:()=>ns,lw:()=>oe,mk:()=>Mi,mr:()=>lt,n9:()=>sn,q:()=>G,sg:()=>Wr,w_:()=>Te});var c=k(5e3);let _=null;function G(){return _}function Ie(R){_||(_=R)}class Te{}const De=new c.OlP("DocumentToken");let oe=(()=>{class R{historyGo(F){throw new Error("Not implemented")}}return R.\u0275fac=function(F){return new(F||R)},R.\u0275prov=c.Yz7({token:R,factory:function(){return function Oe(){return(0,c.LFG)(de)}()},providedIn:"platform"}),R})();const ne=new c.OlP("Location Initialized");let de=(()=>{class R extends oe{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(F){const X=G().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",F,!1),()=>X.removeEventListener("popstate",F)}onHashChange(F){const X=G().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",F,!1),()=>X.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,X,Ce){Le()?this._history.pushState(F,X,Ce):this.location.hash=Ce}replaceState(F,X,Ce){Le()?this._history.replaceState(F,X,Ce):this.location.hash=Ce}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return R.\u0275fac=function(F){return new(F||R)(c.LFG(De))},R.\u0275prov=c.Yz7({token:R,factory:function(){return function ot(){return new de((0,c.LFG)(De))}()},providedIn:"platform"}),R})();function Le(){return!!window.history.pushState}function it(R,q){if(0==R.length)return q;if(0==q.length)return R;let F=0;return R.endsWith("/")&&F++,q.startsWith("/")&&F++,2==F?R+q.substring(1):1==F?R+q:R+"/"+q}function Dt(R){const q=R.match(/#|\?|$/),F=q&&q.index||R.length;return R.slice(0,F-("/"===R[F-1]?1:0))+R.slice(F)}function Ot(R){return R&&"?"!==R[0]?"?"+R:R}let Pe=(()=>{class R{historyGo(F){throw new Error("Not implemented")}}return R.\u0275fac=function(F){return new(F||R)},R.\u0275prov=c.Yz7({token:R,factory:function(){return function Ye(R){const q=(0,c.LFG)(De).location;return new Et((0,c.LFG)(oe),q&&q.origin||"")}()},providedIn:"root"}),R})();const lt=new c.OlP("appBaseHref");let Et=(()=>{class R extends Pe{constructor(F,X){if(super(),this._platformLocation=F,this._removeListenerFns=[],null==X&&(X=this._platformLocation.getBaseHrefFromDOM()),null==X)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=X}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return it(this._baseHref,F)}path(F=!1){const X=this._platformLocation.pathname+Ot(this._platformLocation.search),Ce=this._platformLocation.hash;return Ce&&F?`${X}${Ce}`:X}pushState(F,X,Ce,_t){const Lt=this.prepareExternalUrl(Ce+Ot(_t));this._platformLocation.pushState(F,X,Lt)}replaceState(F,X,Ce,_t){const Lt=this.prepareExternalUrl(Ce+Ot(_t));this._platformLocation.replaceState(F,X,Lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var X,Ce;null===(Ce=(X=this._platformLocation).historyGo)||void 0===Ce||Ce.call(X,F)}}return R.\u0275fac=function(F){return new(F||R)(c.LFG(oe),c.LFG(lt,8))},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac}),R})(),We=(()=>{class R extends Pe{constructor(F,X){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(F){const X=it(this._baseHref,F);return X.length>0?"#"+X:X}pushState(F,X,Ce,_t){let Lt=this.prepareExternalUrl(Ce+Ot(_t));0==Lt.length&&(Lt=this._platformLocation.pathname),this._platformLocation.pushState(F,X,Lt)}replaceState(F,X,Ce,_t){let Lt=this.prepareExternalUrl(Ce+Ot(_t));0==Lt.length&&(Lt=this._platformLocation.pathname),this._platformLocation.replaceState(F,X,Lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var X,Ce;null===(Ce=(X=this._platformLocation).historyGo)||void 0===Ce||Ce.call(X,F)}}return R.\u0275fac=function(F){return new(F||R)(c.LFG(oe),c.LFG(lt,8))},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac}),R})(),Re=(()=>{class R{constructor(F,X){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=F;const Ce=this._platformStrategy.getBaseHref();this._platformLocation=X,this._baseHref=Dt(Ne(Ce)),this._platformStrategy.onPopState(_t=>{this._subject.emit({url:this.path(!0),pop:!0,state:_t.state,type:_t.type})})}path(F=!1){return this.normalize(this._platformStrategy.path(F))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(F,X=""){return this.path()==this.normalize(F+Ot(X))}normalize(F){return R.stripTrailingSlash(function It(R,q){return R&&q.startsWith(R)?q.substring(R.length):q}(this._baseHref,Ne(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._platformStrategy.prepareExternalUrl(F)}go(F,X="",Ce=null){this._platformStrategy.pushState(Ce,"",F,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Ot(X)),Ce)}replaceState(F,X="",Ce=null){this._platformStrategy.replaceState(Ce,"",F,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Ot(X)),Ce)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(F=0){var X,Ce;null===(Ce=(X=this._platformStrategy).historyGo)||void 0===Ce||Ce.call(X,F)}onUrlChange(F){this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)}))}_notifyUrlChangeListeners(F="",X){this._urlChangeListeners.forEach(Ce=>Ce(F,X))}subscribe(F,X,Ce){return this._subject.subscribe({next:F,error:X,complete:Ce})}}return R.normalizeQueryParams=Ot,R.joinWithSlash=it,R.stripTrailingSlash=Dt,R.\u0275fac=function(F){return new(F||R)(c.LFG(Pe),c.LFG(oe))},R.\u0275prov=c.Yz7({token:R,factory:function(){return function at(){return new Re((0,c.LFG)(Pe),(0,c.LFG)(oe))}()},providedIn:"root"}),R})();function Ne(R){return R.replace(/\/index.html$/,"")}var me=(()=>((me=me||{})[me.Zero=0]="Zero",me[me.One=1]="One",me[me.Two=2]="Two",me[me.Few=3]="Few",me[me.Many=4]="Many",me[me.Other=5]="Other",me))();const Fn=c.kL8;class Dr{}let jr=(()=>{class R extends Dr{constructor(F){super(),this.locale=F}getPluralCategory(F,X){switch(Fn(X||this.locale)(F)){case me.Zero:return"zero";case me.One:return"one";case me.Two:return"two";case me.Few:return"few";case me.Many:return"many";default:return"other"}}}return R.\u0275fac=function(F){return new(F||R)(c.LFG(c.soG))},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac}),R})();function Vn(R,q){q=encodeURIComponent(q);for(const F of R.split(";")){const X=F.indexOf("="),[Ce,_t]=-1==X?[F,""]:[F.slice(0,X),F.slice(X+1)];if(Ce.trim()===q)return decodeURIComponent(_t)}return null}let Mi=(()=>{class R{constructor(F,X,Ce,_t){this._iterableDiffers=F,this._keyValueDiffers=X,this._ngEl=Ce,this._renderer=_t,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(F){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof F?F.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(F){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof F?F.split(/\s+/):F,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const F=this._iterableDiffer.diff(this._rawClass);F&&this._applyIterableChanges(F)}else if(this._keyValueDiffer){const F=this._keyValueDiffer.diff(this._rawClass);F&&this._applyKeyValueChanges(F)}}_applyKeyValueChanges(F){F.forEachAddedItem(X=>this._toggleClass(X.key,X.currentValue)),F.forEachChangedItem(X=>this._toggleClass(X.key,X.currentValue)),F.forEachRemovedItem(X=>{X.previousValue&&this._toggleClass(X.key,!1)})}_applyIterableChanges(F){F.forEachAddedItem(X=>{if("string"!=typeof X.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(X.item)}`);this._toggleClass(X.item,!0)}),F.forEachRemovedItem(X=>this._toggleClass(X.item,!1))}_applyClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(X=>this._toggleClass(X,!0)):Object.keys(F).forEach(X=>this._toggleClass(X,!!F[X])))}_removeClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(X=>this._toggleClass(X,!1)):Object.keys(F).forEach(X=>this._toggleClass(X,!1)))}_toggleClass(F,X){(F=F.trim())&&F.split(/\s+/g).forEach(Ce=>{X?this._renderer.addClass(this._ngEl.nativeElement,Ce):this._renderer.removeClass(this._ngEl.nativeElement,Ce)})}}return R.\u0275fac=function(F){return new(F||R)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},R.\u0275dir=c.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),R})();class ni{constructor(q,F,X,Ce){this.$implicit=q,this.ngForOf=F,this.index=X,this.count=Ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wr=(()=>{class R{constructor(F,X,Ce){this._viewContainer=F,this._template=X,this._differs=Ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;if(!this._differ&&F)try{this._differ=this._differs.find(F).create(this.ngForTrackBy)}catch(X){throw new Error(`Cannot find a differ supporting object '${F}' of type '${function Nr(R){return R.name||typeof R}(F)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const X=[];F.forEachOperation((Ce,_t,Lt)=>{if(null==Ce.previousIndex){const mn=this._viewContainer.createEmbeddedView(this._template,new ni(null,this._ngForOf,-1,-1),null===Lt?void 0:Lt),L=new Lr(Ce,mn);X.push(L)}else if(null==Lt)this._viewContainer.remove(null===_t?void 0:_t);else if(null!==_t){const mn=this._viewContainer.get(_t);this._viewContainer.move(mn,Lt);const L=new Lr(Ce,mn);X.push(L)}});for(let Ce=0;Ce<X.length;Ce++)this._perViewChange(X[Ce].view,X[Ce].record);for(let Ce=0,_t=this._viewContainer.length;Ce<_t;Ce++){const Lt=this._viewContainer.get(Ce);Lt.context.index=Ce,Lt.context.count=_t,Lt.context.ngForOf=this._ngForOf}F.forEachIdentityChange(Ce=>{this._viewContainer.get(Ce.currentIndex).context.$implicit=Ce.item})}_perViewChange(F,X){F.context.$implicit=X.item}static ngTemplateContextGuard(F,X){return!0}}return R.\u0275fac=function(F){return new(F||R)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},R.\u0275dir=c.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),R})();class Lr{constructor(q,F){this.record=q,this.view=F}}let ze=(()=>{class R{constructor(F,X){this._viewContainer=F,this._context=new Fe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){qe("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){qe("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,X){return!0}}return R.\u0275fac=function(F){return new(F||R)(c.Y36(c.s_b),c.Y36(c.Rgc))},R.\u0275dir=c.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R})();class Fe{constructor(){this.$implicit=null,this.ngIf=null}}function qe(R,q){if(q&&!q.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,c.AaK)(q)}'.`)}class Nt{constructor(q,F){this._viewContainerRef=q,this._templateRef=F,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(q){q&&!this._created?this.create():!q&&this._created&&this.destroy()}}let zt=(()=>{class R{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(F){this._ngSwitch=F,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(F){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(F)}_matchCase(F){const X=F==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||X,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),X}_updateDefaultCases(F){if(this._defaultViews&&F!==this._defaultUsed){this._defaultUsed=F;for(let X=0;X<this._defaultViews.length;X++)this._defaultViews[X].enforceState(F)}}}return R.\u0275fac=function(F){return new(F||R)},R.\u0275dir=c.lG2({type:R,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),R})(),sn=(()=>{class R{constructor(F,X,Ce){this.ngSwitch=Ce,Ce._addCase(),this._view=new Nt(F,X)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return R.\u0275fac=function(F){return new(F||R)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(zt,9))},R.\u0275dir=c.lG2({type:R,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),R})(),$r=(()=>{class R{constructor(F,X,Ce){this._ngEl=F,this._differs=X,this._renderer=Ce,this._ngStyle=null,this._differ=null}set ngStyle(F){this._ngStyle=F,!this._differ&&F&&(this._differ=this._differs.find(F).create())}ngDoCheck(){if(this._differ){const F=this._differ.diff(this._ngStyle);F&&this._applyChanges(F)}}_setStyle(F,X){const[Ce,_t]=F.split(".");null!=(X=null!=X&&_t?`${X}${_t}`:X)?this._renderer.setStyle(this._ngEl.nativeElement,Ce,X):this._renderer.removeStyle(this._ngEl.nativeElement,Ce)}_applyChanges(F){F.forEachRemovedItem(X=>this._setStyle(X.key,null)),F.forEachAddedItem(X=>this._setStyle(X.key,X.currentValue)),F.forEachChangedItem(X=>this._setStyle(X.key,X.currentValue))}}return R.\u0275fac=function(F){return new(F||R)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},R.\u0275dir=c.lG2({type:R,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),R})();class eo{createSubscription(q,F){return q.subscribe({next:F,error:X=>{throw X}})}dispose(q){q.unsubscribe()}onDestroy(q){q.unsubscribe()}}class ri{createSubscription(q,F){return q.then(F,X=>{throw X})}dispose(q){}onDestroy(q){}}const Yr=new ri,Zi=new eo;let fs=(()=>{class R{constructor(F){this._ref=F,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,X=>this._updateLatestValue(F,X))}_selectStrategy(F){if((0,c.QGY)(F))return Yr;if((0,c.F4k)(F))return Zi;throw function rr(R,q){return Error(`InvalidPipeArgument: '${q}' for pipe '${(0,c.AaK)(R)}'`)}(R,F)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,X){F===this._obj&&(this._latestValue=X,this._ref.markForCheck())}}return R.\u0275fac=function(F){return new(F||R)(c.Y36(c.sBO,16))},R.\u0275pipe=c.Yjl({name:"async",type:R,pure:!1}),R})(),ns=(()=>{class R{}return R.\u0275fac=function(F){return new(F||R)},R.\u0275mod=c.oAB({type:R}),R.\u0275inj=c.cJS({providers:[{provide:Dr,useClass:jr}]}),R})();const Qi="browser";function Zr(R){return R===Qi}function Pr(R){return"server"===R}let ki=(()=>{class R{}return R.\u0275prov=(0,c.Yz7)({token:R,providedIn:"root",factory:()=>new gs((0,c.LFG)(De),window)}),R})();class gs{constructor(q,F){this.document=q,this.window=F,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const F=function Mr(R,q){const F=R.getElementById(q)||R.getElementsByName(q)[0];if(F)return F;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const X=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Ce=X.currentNode;for(;Ce;){const _t=Ce.shadowRoot;if(_t){const Lt=_t.getElementById(q)||_t.querySelector(`[name="${q}"]`);if(Lt)return Lt}Ce=X.nextNode()}}return null}(this.document,q);F&&(this.scrollToElement(F),this.attemptFocus(F))}setHistoryScrollRestoration(q){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=q)}}scrollToElement(q){const F=q.getBoundingClientRect(),X=F.left+this.window.pageXOffset,Ce=F.top+this.window.pageYOffset,_t=this.offset();this.window.scrollTo(X-_t[0],Ce-_t[1])}attemptFocus(q){return q.focus(),this.document.activeElement===q}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const q=zi(this.window.history)||zi(Object.getPrototypeOf(this.window.history));return!(!q||!q.writable&&!q.set)}catch(q){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(q){return!1}}}function zi(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class Gr{}},520:(Qt,rt,k)=>{k.d(rt,{JF:()=>Ln,eN:()=>fe});var c=k(9808),_=k(5e3),G=k(9646),ve=k(8306),Ie=k(4351),Te=k(9300),De=k(4004);class oe{}class Oe{}class ne{constructor(ke){this.normalizedNames=new Map,this.lazyUpdate=null,ke?this.lazyInit="string"==typeof ke?()=>{this.headers=new Map,ke.split("\n").forEach(Se=>{const tt=Se.indexOf(":");if(tt>0){const At=Se.slice(0,tt),Ut=At.toLowerCase(),kt=Se.slice(tt+1).trim();this.maybeSetNormalizedName(At,Ut),this.headers.has(Ut)?this.headers.get(Ut).push(kt):this.headers.set(Ut,[kt])}})}:()=>{this.headers=new Map,Object.keys(ke).forEach(Se=>{let tt=ke[Se];const At=Se.toLowerCase();"string"==typeof tt&&(tt=[tt]),tt.length>0&&(this.headers.set(At,tt),this.maybeSetNormalizedName(Se,At))})}:this.headers=new Map}has(ke){return this.init(),this.headers.has(ke.toLowerCase())}get(ke){this.init();const Se=this.headers.get(ke.toLowerCase());return Se&&Se.length>0?Se[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ke){return this.init(),this.headers.get(ke.toLowerCase())||null}append(ke,Se){return this.clone({name:ke,value:Se,op:"a"})}set(ke,Se){return this.clone({name:ke,value:Se,op:"s"})}delete(ke,Se){return this.clone({name:ke,value:Se,op:"d"})}maybeSetNormalizedName(ke,Se){this.normalizedNames.has(Se)||this.normalizedNames.set(Se,ke)}init(){this.lazyInit&&(this.lazyInit instanceof ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ke=>this.applyUpdate(ke)),this.lazyUpdate=null))}copyFrom(ke){ke.init(),Array.from(ke.headers.keys()).forEach(Se=>{this.headers.set(Se,ke.headers.get(Se)),this.normalizedNames.set(Se,ke.normalizedNames.get(Se))})}clone(ke){const Se=new ne;return Se.lazyInit=this.lazyInit&&this.lazyInit instanceof ne?this.lazyInit:this,Se.lazyUpdate=(this.lazyUpdate||[]).concat([ke]),Se}applyUpdate(ke){const Se=ke.name.toLowerCase();switch(ke.op){case"a":case"s":let tt=ke.value;if("string"==typeof tt&&(tt=[tt]),0===tt.length)return;this.maybeSetNormalizedName(ke.name,Se);const At=("a"===ke.op?this.headers.get(Se):void 0)||[];At.push(...tt),this.headers.set(Se,At);break;case"d":const Ut=ke.value;if(Ut){let kt=this.headers.get(Se);if(!kt)return;kt=kt.filter(xt=>-1===Ut.indexOf(xt)),0===kt.length?(this.headers.delete(Se),this.normalizedNames.delete(Se)):this.headers.set(Se,kt)}else this.headers.delete(Se),this.normalizedNames.delete(Se)}}forEach(ke){this.init(),Array.from(this.normalizedNames.keys()).forEach(Se=>ke(this.normalizedNames.get(Se),this.headers.get(Se)))}}class de{encodeKey(ke){return Dt(ke)}encodeValue(ke){return Dt(ke)}decodeKey(ke){return decodeURIComponent(ke)}decodeValue(ke){return decodeURIComponent(ke)}}const ot=/%(\d[a-f0-9])/gi,it={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Dt(vt){return encodeURIComponent(vt).replace(ot,(ke,Se)=>{var tt;return null!==(tt=it[Se])&&void 0!==tt?tt:ke})}function Ot(vt){return`${vt}`}class Pe{constructor(ke={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ke.encoder||new de,ke.fromString){if(ke.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Le(vt,ke){const Se=new Map;return vt.length>0&&vt.replace(/^\?/,"").split("&").forEach(At=>{const Ut=At.indexOf("="),[kt,xt]=-1==Ut?[ke.decodeKey(At),""]:[ke.decodeKey(At.slice(0,Ut)),ke.decodeValue(At.slice(Ut+1))],Tn=Se.get(kt)||[];Tn.push(xt),Se.set(kt,Tn)}),Se}(ke.fromString,this.encoder)}else ke.fromObject?(this.map=new Map,Object.keys(ke.fromObject).forEach(Se=>{const tt=ke.fromObject[Se];this.map.set(Se,Array.isArray(tt)?tt:[tt])})):this.map=null}has(ke){return this.init(),this.map.has(ke)}get(ke){this.init();const Se=this.map.get(ke);return Se?Se[0]:null}getAll(ke){return this.init(),this.map.get(ke)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ke,Se){return this.clone({param:ke,value:Se,op:"a"})}appendAll(ke){const Se=[];return Object.keys(ke).forEach(tt=>{const At=ke[tt];Array.isArray(At)?At.forEach(Ut=>{Se.push({param:tt,value:Ut,op:"a"})}):Se.push({param:tt,value:At,op:"a"})}),this.clone(Se)}set(ke,Se){return this.clone({param:ke,value:Se,op:"s"})}delete(ke,Se){return this.clone({param:ke,value:Se,op:"d"})}toString(){return this.init(),this.keys().map(ke=>{const Se=this.encoder.encodeKey(ke);return this.map.get(ke).map(tt=>Se+"="+this.encoder.encodeValue(tt)).join("&")}).filter(ke=>""!==ke).join("&")}clone(ke){const Se=new Pe({encoder:this.encoder});return Se.cloneFrom=this.cloneFrom||this,Se.updates=(this.updates||[]).concat(ke),Se}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ke=>this.map.set(ke,this.cloneFrom.map.get(ke))),this.updates.forEach(ke=>{switch(ke.op){case"a":case"s":const Se=("a"===ke.op?this.map.get(ke.param):void 0)||[];Se.push(Ot(ke.value)),this.map.set(ke.param,Se);break;case"d":if(void 0===ke.value){this.map.delete(ke.param);break}{let tt=this.map.get(ke.param)||[];const At=tt.indexOf(Ot(ke.value));-1!==At&&tt.splice(At,1),tt.length>0?this.map.set(ke.param,tt):this.map.delete(ke.param)}}}),this.cloneFrom=this.updates=null)}}class lt{constructor(){this.map=new Map}set(ke,Se){return this.map.set(ke,Se),this}get(ke){return this.map.has(ke)||this.map.set(ke,ke.defaultValue()),this.map.get(ke)}delete(ke){return this.map.delete(ke),this}keys(){return this.map.keys()}}function We(vt){return"undefined"!=typeof ArrayBuffer&&vt instanceof ArrayBuffer}function Re(vt){return"undefined"!=typeof Blob&&vt instanceof Blob}function at(vt){return"undefined"!=typeof FormData&&vt instanceof FormData}class Ne{constructor(ke,Se,tt,At){let Ut;if(this.url=Se,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ke.toUpperCase(),function Et(vt){switch(vt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||At?(this.body=void 0!==tt?tt:null,Ut=At):Ut=tt,Ut&&(this.reportProgress=!!Ut.reportProgress,this.withCredentials=!!Ut.withCredentials,Ut.responseType&&(this.responseType=Ut.responseType),Ut.headers&&(this.headers=Ut.headers),Ut.context&&(this.context=Ut.context),Ut.params&&(this.params=Ut.params)),this.headers||(this.headers=new ne),this.context||(this.context=new lt),this.params){const kt=this.params.toString();if(0===kt.length)this.urlWithParams=Se;else{const xt=Se.indexOf("?");this.urlWithParams=Se+(-1===xt?"?":xt<Se.length-1?"&":"")+kt}}else this.params=new Pe,this.urlWithParams=Se}serializeBody(){return null===this.body?null:We(this.body)||Re(this.body)||at(this.body)||function It(vt){return"undefined"!=typeof URLSearchParams&&vt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||at(this.body)?null:Re(this.body)?this.body.type||null:We(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ke={}){var Se;const tt=ke.method||this.method,At=ke.url||this.url,Ut=ke.responseType||this.responseType,kt=void 0!==ke.body?ke.body:this.body,xt=void 0!==ke.withCredentials?ke.withCredentials:this.withCredentials,Tn=void 0!==ke.reportProgress?ke.reportProgress:this.reportProgress;let tr=ke.headers||this.headers,hr=ke.params||this.params;const En=null!==(Se=ke.context)&&void 0!==Se?Se:this.context;return void 0!==ke.setHeaders&&(tr=Object.keys(ke.setHeaders).reduce((jn,fn)=>jn.set(fn,ke.setHeaders[fn]),tr)),ke.setParams&&(hr=Object.keys(ke.setParams).reduce((jn,fn)=>jn.set(fn,ke.setParams[fn]),hr)),new Ne(tt,At,kt,{params:hr,headers:tr,context:En,reportProgress:Tn,responseType:Ut,withCredentials:xt})}}var Ct=(()=>((Ct=Ct||{})[Ct.Sent=0]="Sent",Ct[Ct.UploadProgress=1]="UploadProgress",Ct[Ct.ResponseHeader=2]="ResponseHeader",Ct[Ct.DownloadProgress=3]="DownloadProgress",Ct[Ct.Response=4]="Response",Ct[Ct.User=5]="User",Ct))();class ae{constructor(ke,Se=200,tt="OK"){this.headers=ke.headers||new ne,this.status=void 0!==ke.status?ke.status:Se,this.statusText=ke.statusText||tt,this.url=ke.url||null,this.ok=this.status>=200&&this.status<300}}class me extends ae{constructor(ke={}){super(ke),this.type=Ct.ResponseHeader}clone(ke={}){return new me({headers:ke.headers||this.headers,status:void 0!==ke.status?ke.status:this.status,statusText:ke.statusText||this.statusText,url:ke.url||this.url||void 0})}}class _e extends ae{constructor(ke={}){super(ke),this.type=Ct.Response,this.body=void 0!==ke.body?ke.body:null}clone(ke={}){return new _e({body:void 0!==ke.body?ke.body:this.body,headers:ke.headers||this.headers,status:void 0!==ke.status?ke.status:this.status,statusText:ke.statusText||this.statusText,url:ke.url||this.url||void 0})}}class xe extends ae{constructor(ke){super(ke,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ke.url||"(unknown url)"}`:`Http failure response for ${ke.url||"(unknown url)"}: ${ke.status} ${ke.statusText}`,this.error=ke.error||null}}function He(vt,ke){return{body:ke,headers:vt.headers,context:vt.context,observe:vt.observe,params:vt.params,reportProgress:vt.reportProgress,responseType:vt.responseType,withCredentials:vt.withCredentials}}let fe=(()=>{class vt{constructor(Se){this.handler=Se}request(Se,tt,At={}){let Ut;if(Se instanceof Ne)Ut=Se;else{let Tn,tr;Tn=At.headers instanceof ne?At.headers:new ne(At.headers),At.params&&(tr=At.params instanceof Pe?At.params:new Pe({fromObject:At.params})),Ut=new Ne(Se,tt,void 0!==At.body?At.body:null,{headers:Tn,context:At.context,params:tr,reportProgress:At.reportProgress,responseType:At.responseType||"json",withCredentials:At.withCredentials})}const kt=(0,G.of)(Ut).pipe((0,Ie.b)(Tn=>this.handler.handle(Tn)));if(Se instanceof Ne||"events"===At.observe)return kt;const xt=kt.pipe((0,Te.h)(Tn=>Tn instanceof _e));switch(At.observe||"body"){case"body":switch(Ut.responseType){case"arraybuffer":return xt.pipe((0,De.U)(Tn=>{if(null!==Tn.body&&!(Tn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Tn.body}));case"blob":return xt.pipe((0,De.U)(Tn=>{if(null!==Tn.body&&!(Tn.body instanceof Blob))throw new Error("Response is not a Blob.");return Tn.body}));case"text":return xt.pipe((0,De.U)(Tn=>{if(null!==Tn.body&&"string"!=typeof Tn.body)throw new Error("Response is not a string.");return Tn.body}));default:return xt.pipe((0,De.U)(Tn=>Tn.body))}case"response":return xt;default:throw new Error(`Unreachable: unhandled observe type ${At.observe}}`)}}delete(Se,tt={}){return this.request("DELETE",Se,tt)}get(Se,tt={}){return this.request("GET",Se,tt)}head(Se,tt={}){return this.request("HEAD",Se,tt)}jsonp(Se,tt){return this.request("JSONP",Se,{params:(new Pe).append(tt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Se,tt={}){return this.request("OPTIONS",Se,tt)}patch(Se,tt,At={}){return this.request("PATCH",Se,He(At,tt))}post(Se,tt,At={}){return this.request("POST",Se,He(At,tt))}put(Se,tt,At={}){return this.request("PUT",Se,He(At,tt))}}return vt.\u0275fac=function(Se){return new(Se||vt)(_.LFG(oe))},vt.\u0275prov=_.Yz7({token:vt,factory:vt.\u0275fac}),vt})();class mt{constructor(ke,Se){this.next=ke,this.interceptor=Se}handle(ke){return this.interceptor.intercept(ke,this.next)}}const Vt=new _.OlP("HTTP_INTERCEPTORS");let hn=(()=>{class vt{intercept(Se,tt){return tt.handle(Se)}}return vt.\u0275fac=function(Se){return new(Se||vt)},vt.\u0275prov=_.Yz7({token:vt,factory:vt.\u0275fac}),vt})();const Ke=/^\)\]\}',?\n/;let en=(()=>{class vt{constructor(Se){this.xhrFactory=Se}handle(Se){if("JSONP"===Se.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ve.y(tt=>{const At=this.xhrFactory.build();if(At.open(Se.method,Se.urlWithParams),Se.withCredentials&&(At.withCredentials=!0),Se.headers.forEach((fn,on)=>At.setRequestHeader(fn,on.join(","))),Se.headers.has("Accept")||At.setRequestHeader("Accept","application/json, text/plain, */*"),!Se.headers.has("Content-Type")){const fn=Se.detectContentTypeHeader();null!==fn&&At.setRequestHeader("Content-Type",fn)}if(Se.responseType){const fn=Se.responseType.toLowerCase();At.responseType="json"!==fn?fn:"text"}const Ut=Se.serializeBody();let kt=null;const xt=()=>{if(null!==kt)return kt;const fn=1223===At.status?204:At.status,on=At.statusText||"OK",wn=new ne(At.getAllResponseHeaders()),nt=function Mt(vt){return"responseURL"in vt&&vt.responseURL?vt.responseURL:/^X-Request-URL:/m.test(vt.getAllResponseHeaders())?vt.getResponseHeader("X-Request-URL"):null}(At)||Se.url;return kt=new me({headers:wn,status:fn,statusText:on,url:nt}),kt},Tn=()=>{let{headers:fn,status:on,statusText:wn,url:nt}=xt(),j=null;204!==on&&(j=void 0===At.response?At.responseText:At.response),0===on&&(on=j?200:0);let Z=on>=200&&on<300;if("json"===Se.responseType&&"string"==typeof j){const $e=j;j=j.replace(Ke,"");try{j=""!==j?JSON.parse(j):null}catch(pe){j=$e,Z&&(Z=!1,j={error:pe,text:j})}}Z?(tt.next(new _e({body:j,headers:fn,status:on,statusText:wn,url:nt||void 0})),tt.complete()):tt.error(new xe({error:j,headers:fn,status:on,statusText:wn,url:nt||void 0}))},tr=fn=>{const{url:on}=xt(),wn=new xe({error:fn,status:At.status||0,statusText:At.statusText||"Unknown Error",url:on||void 0});tt.error(wn)};let hr=!1;const En=fn=>{hr||(tt.next(xt()),hr=!0);let on={type:Ct.DownloadProgress,loaded:fn.loaded};fn.lengthComputable&&(on.total=fn.total),"text"===Se.responseType&&!!At.responseText&&(on.partialText=At.responseText),tt.next(on)},jn=fn=>{let on={type:Ct.UploadProgress,loaded:fn.loaded};fn.lengthComputable&&(on.total=fn.total),tt.next(on)};return At.addEventListener("load",Tn),At.addEventListener("error",tr),At.addEventListener("timeout",tr),At.addEventListener("abort",tr),Se.reportProgress&&(At.addEventListener("progress",En),null!==Ut&&At.upload&&At.upload.addEventListener("progress",jn)),At.send(Ut),tt.next({type:Ct.Sent}),()=>{At.removeEventListener("error",tr),At.removeEventListener("abort",tr),At.removeEventListener("load",Tn),At.removeEventListener("timeout",tr),Se.reportProgress&&(At.removeEventListener("progress",En),null!==Ut&&At.upload&&At.upload.removeEventListener("progress",jn)),At.readyState!==At.DONE&&At.abort()}})}}return vt.\u0275fac=function(Se){return new(Se||vt)(_.LFG(c.JF))},vt.\u0275prov=_.Yz7({token:vt,factory:vt.\u0275fac}),vt})();const Dn=new _.OlP("XSRF_COOKIE_NAME"),vn=new _.OlP("XSRF_HEADER_NAME");class Qn{}let dr=(()=>{class vt{constructor(Se,tt,At){this.doc=Se,this.platform=tt,this.cookieName=At,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Se=this.doc.cookie||"";return Se!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(Se,this.cookieName),this.lastCookieString=Se),this.lastToken}}return vt.\u0275fac=function(Se){return new(Se||vt)(_.LFG(c.K0),_.LFG(_.Lbi),_.LFG(Dn))},vt.\u0275prov=_.Yz7({token:vt,factory:vt.\u0275fac}),vt})(),Fn=(()=>{class vt{constructor(Se,tt){this.tokenService=Se,this.headerName=tt}intercept(Se,tt){const At=Se.url.toLowerCase();if("GET"===Se.method||"HEAD"===Se.method||At.startsWith("http://")||At.startsWith("https://"))return tt.handle(Se);const Ut=this.tokenService.getToken();return null!==Ut&&!Se.headers.has(this.headerName)&&(Se=Se.clone({headers:Se.headers.set(this.headerName,Ut)})),tt.handle(Se)}}return vt.\u0275fac=function(Se){return new(Se||vt)(_.LFG(Qn),_.LFG(vn))},vt.\u0275prov=_.Yz7({token:vt,factory:vt.\u0275fac}),vt})(),un=(()=>{class vt{constructor(Se,tt){this.backend=Se,this.injector=tt,this.chain=null}handle(Se){if(null===this.chain){const tt=this.injector.get(Vt,[]);this.chain=tt.reduceRight((At,Ut)=>new mt(At,Ut),this.backend)}return this.chain.handle(Se)}}return vt.\u0275fac=function(Se){return new(Se||vt)(_.LFG(Oe),_.LFG(_.zs3))},vt.\u0275prov=_.Yz7({token:vt,factory:vt.\u0275fac}),vt})(),tn=(()=>{class vt{static disable(){return{ngModule:vt,providers:[{provide:Fn,useClass:hn}]}}static withOptions(Se={}){return{ngModule:vt,providers:[Se.cookieName?{provide:Dn,useValue:Se.cookieName}:[],Se.headerName?{provide:vn,useValue:Se.headerName}:[]]}}}return vt.\u0275fac=function(Se){return new(Se||vt)},vt.\u0275mod=_.oAB({type:vt}),vt.\u0275inj=_.cJS({providers:[Fn,{provide:Vt,useExisting:Fn,multi:!0},{provide:Qn,useClass:dr},{provide:Dn,useValue:"XSRF-TOKEN"},{provide:vn,useValue:"X-XSRF-TOKEN"}]}),vt})(),Ln=(()=>{class vt{}return vt.\u0275fac=function(Se){return new(Se||vt)},vt.\u0275mod=_.oAB({type:vt}),vt.\u0275inj=_.cJS({providers:[fe,{provide:oe,useClass:un},en,{provide:Oe,useExisting:en}],imports:[[tn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),vt})()},5e3:(Qt,rt,k)=>{k.d(rt,{$8M:()=>Us,$Z:()=>Iu,AFp:()=>A0,ALo:()=>Qv,AaK:()=>oe,BQk:()=>Nc,CHM:()=>Ws,CRH:()=>a0,CZH:()=>tf,CqO:()=>um,DdM:()=>Gv,EJc:()=>N0,EiD:()=>Hu,EpF:()=>pp,F4k:()=>am,FYo:()=>kv,FiY:()=>Lo,G48:()=>Rb,GfV:()=>Fv,Gpc:()=>de,JOm:()=>us,JVY:()=>ba,L6k:()=>uc,LAX:()=>Wd,LFG:()=>Wi,LSH:()=>Xc,Lbi:()=>M0,NdJ:()=>gp,OlP:()=>pi,Oqu:()=>Cp,PXZ:()=>Cb,Q6J:()=>Du,QGY:()=>Ld,Qsj:()=>uw,R0b:()=>Ma,RDi:()=>ki,Rgc:()=>Lp,SBq:()=>Rp,Sil:()=>v_,Suo:()=>o0,TTD:()=>Rr,TgZ:()=>dp,Tol:()=>gm,Udp:()=>zh,VKq:()=>zv,VLi:()=>Ib,X6Q:()=>Nb,XFs:()=>tn,Xpm:()=>ue,Y36:()=>jh,YKP:()=>Bv,YNc:()=>up,Yjl:()=>be,Yz7:()=>Ae,ZZ4:()=>Fm,_Bn:()=>Nv,_UZ:()=>hp,_Vd:()=>Np,_c5:()=>Jb,_uU:()=>Em,aQg:()=>Lm,c2e:()=>x0,cJS:()=>Mt,cg1:()=>qy,d8E:()=>Ky,dDg:()=>k0,deG:()=>ko,dqk:()=>En,eBb:()=>lu,eFA:()=>V0,ekj:()=>Wh,g9A:()=>S0,h0i:()=>Jh,hGG:()=>sI,hij:()=>qh,iGM:()=>s0,ifc:()=>kt,ip1:()=>y_,kL8:()=>sv,lG2:()=>Q,lcZ:()=>Jv,mCW:()=>m,n5z:()=>Ar,oAB:()=>ie,oJD:()=>qd,oxw:()=>_p,pB0:()=>cu,q3G:()=>bi,q4F:()=>Lv,qLn:()=>ee,qOj:()=>Xf,qZA:()=>$h,qzn:()=>Jr,s9C:()=>Rc,sBO:()=>Pb,sIi:()=>kd,s_b:()=>Om,soG:()=>Pm,tBr:()=>iu,tb:()=>O0,tp0:()=>Ms,uIk:()=>sp,vHH:()=>Dt,vpe:()=>gl,wAp:()=>cr,xp6:()=>rg,yhl:()=>uu,ynx:()=>Tu,z2F:()=>Up,z3N:()=>ta,zSh:()=>Md,zs3:()=>sa});var c=k(7579),_=k(727),G=k(8306),ve=k(6451),Ie=k(3099);function Te(t){for(let r in t)if(t[r]===Te)return r;throw Error("Could not find renamed property on target object.")}function De(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function oe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(oe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Oe(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ne=Te({__forward_ref__:Te});function de(t){return t.__forward_ref__=de,t.toString=function(){return oe(this())},t}function Le(t){return ot(t)?t():t}function ot(t){return"function"==typeof t&&t.hasOwnProperty(ne)&&t.__forward_ref__===de}class Dt extends Error{constructor(r,s){super(function Pe(t,r){return`${t?`NG0${t}: `:""}${r}`}(r,s)),this.code=r}}function Ye(t){return"string"==typeof t?t:null==t?"":String(t)}function lt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ye(t)}function at(t,r){const s=r?` in ${r}`:"";throw new Dt("201",`No provider for ${lt(t)} found${s}`)}function Kt(t,r){null==t&&function Jt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Ae(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Mt(t){return{providers:t.providers||[],imports:t.imports||[]}}function en(t){return Dn(t,Fn)||Dn(t,sr)}function Dn(t,r){return t.hasOwnProperty(r)?t[r]:null}function dr(t){return t&&(t.hasOwnProperty(un)||t.hasOwnProperty(er))?t[un]:null}const Fn=Te({\u0275prov:Te}),un=Te({\u0275inj:Te}),sr=Te({ngInjectableDef:Te}),er=Te({ngInjectorDef:Te});var tn=(()=>((tn=tn||{})[tn.Default=0]="Default",tn[tn.Host=1]="Host",tn[tn.Self=2]="Self",tn[tn.SkipSelf=4]="SkipSelf",tn[tn.Optional=8]="Optional",tn))();let Ln;function Jn(t){const r=Ln;return Ln=t,r}function vt(t,r,s){const a=en(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&tn.Optional?null:void 0!==r?r:void at(oe(t),"Injector")}function Se(t){return{toString:t}.toString()}var tt=(()=>((tt=tt||{})[tt.OnPush=0]="OnPush",tt[tt.Default=1]="Default",tt))(),kt=(()=>{return(t=kt||(kt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",kt;var t})();const xt="undefined"!=typeof globalThis&&globalThis,Tn="undefined"!=typeof window&&window,tr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,En=xt||"undefined"!=typeof global&&global||Tn||tr,on={},wn=[],nt=Te({\u0275cmp:Te}),j=Te({\u0275dir:Te}),Z=Te({\u0275pipe:Te}),$e=Te({\u0275mod:Te}),pe=Te({\u0275fac:Te}),Ze=Te({__NG_ELEMENT_ID__:Te});let ct=0;function ue(t){return Se(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===tt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||wn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||kt.Emulated,id:"c",styles:t.styles||wn,_:null,setInput:null,schemas:t.schemas||null,tView:null},l=t.directives,d=t.features,v=t.pipes;return a.id+=ct++,a.inputs=J(t.inputs,s),a.outputs=J(t.outputs),d&&d.forEach(T=>T(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(ce):null,a.pipeDefs=v?()=>("function"==typeof v?v():v).map(je):null,a})}function ce(t){return Je(t)||function Tt(t){return t[j]||null}(t)}function je(t){return function Zt(t){return t[Z]||null}(t)}const te={};function ie(t){return Se(()=>{const r={type:t.type,bootstrap:t.bootstrap||wn,declarations:t.declarations||wn,imports:t.imports||wn,exports:t.exports||wn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(te[t.id]=t.type),r})}function J(t,r){if(null==t)return on;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),s[l]=a,r&&(r[l]=d)}return s}const Q=ue;function be(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Je(t){return t[nt]||null}function Sn(t,r){const s=t[$e]||null;if(!s&&!0===r)throw new Error(`Type ${oe(t)} does not have '\u0275mod' property.`);return s}function sn(t){return Array.isArray(t)&&"object"==typeof t[1]}function qn(t){return Array.isArray(t)&&!0===t[1]}function wr(t){return 0!=(8&t.flags)}function Wn(t){return 2==(2&t.flags)}function qr(t){return 1==(1&t.flags)}function $r(t){return null!==t.template}function Hr(t){return 0!=(512&t[2])}function Ni(t,r){return t.hasOwnProperty(pe)?t[pe]:null}class _i{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Rr(){return Ri}function Ri(t){return t.type.prototype.ngOnChanges&&(t.setInput=ns),hi}function hi(){const t=mr(this),r=null==t?void 0:t.current;if(r){const s=t.previous;if(s===on)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function ns(t,r,s,a){const l=mr(t)||function Hi(t,r){return t[Qi]=r}(t,{previous:on,current:null}),d=l.current||(l.current={}),v=l.previous,T=this.declaredInputs[s],O=v[T];d[T]=new _i(O&&O.currentValue,r,v===on),t[a]=r}Rr.ngInherit=!0;const Qi="__ngSimpleChanges__";function mr(t){return t[Qi]||null}let rs;function ki(t){rs=t}function gs(){return void 0!==rs?rs:"undefined"!=typeof document?document:void 0}function Mr(t){return!!t.listen}const ai={createRenderer:(t,r)=>gs()};function R(t){for(;Array.isArray(t);)t=t[0];return t}function X(t,r){return R(r[t])}function Ce(t,r){return R(r[t.index])}function Lt(t,r){return t.data[r]}function L(t,r){const s=r[t];return sn(s)?s:s[0]}function w(t){return 4==(4&t[2])}function y(t){return 128==(128&t[2])}function le(t,r){return null==r?null:t[r]}function Qe(t){t[18]=0}function St(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Ft={lFrame:Wa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bn(){return Ft.bindingsEnabled}function Rt(){return Ft.lFrame.lView}function or(){return Ft.lFrame.tView}function Ws(t){return Ft.lFrame.contextLView=t,t[8]}function Kn(){let t=Ts();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ts(){return Ft.lFrame.currentTNode}function Ks(t,r){const s=Ft.lFrame;s.currentTNode=t,s.isParent=r}function la(){return Ft.lFrame.isParent}function Do(){Ft.lFrame.isParent=!1}function go(){return Ft.isInCheckNoChangesMode}function To(t){Ft.isInCheckNoChangesMode=t}function Qr(){const t=Ft.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function to(){return Ft.lFrame.bindingIndex++}function ms(t){const r=Ft.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function za(t,r){const s=Ft.lFrame;s.bindingIndex=s.bindingRootIndex=t,Ho(r)}function Ho(t){Ft.lFrame.currentDirectiveIndex=t}function Ao(t){const r=Ft.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function no(){return Ft.lFrame.currentQueryIndex}function Go(t){Ft.lFrame.currentQueryIndex=t}function zo(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function So(t,r,s){if(s&tn.SkipSelf){let l=r,d=t;for(;!(l=l.parent,null!==l||s&tn.Host||(l=zo(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;r=l,t=d}const a=Ft.lFrame=Wo();return a.currentTNode=r,a.lView=t,!0}function mo(t){const r=Wo(),s=t[1];Ft.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Wo(){const t=Ft.lFrame,r=null===t?null:t.child;return null===r?Wa(t):r}function Wa(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ks(){const t=Ft.lFrame;return Ft.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ka=ks;function Mo(){const t=ks();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function si(){return Ft.lFrame.selectedIndex}function Fs(t){Ft.lFrame.selectedIndex=t}function ei(){const t=Ft.lFrame;return Lt(t.tView,t.selectedIndex)}function As(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:T,ngAfterViewInit:O,ngAfterViewChecked:B,ngOnDestroy:W}=d;v&&(t.contentHooks||(t.contentHooks=[])).push(-s,v),T&&((t.contentHooks||(t.contentHooks=[])).push(s,T),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,T)),O&&(t.viewHooks||(t.viewHooks=[])).push(-s,O),B&&((t.viewHooks||(t.viewHooks=[])).push(s,B),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,B)),null!=W&&(t.destroyHooks||(t.destroyHooks=[])).push(s,W)}}function qs(t,r,s){Ya(t,r,3,s)}function Oo(t,r,s,a){(3&t[2])===s&&Ya(t,r,s,a)}function Ci(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function Ya(t,r,s,a){const d=null!=a?a:-1,v=r.length-1;let T=0;for(let O=void 0!==a?65535&t[18]:0;O<v;O++)if("number"==typeof r[O+1]){if(T=r[O],null!=a&&T>=a)break}else r[O]<0&&(t[18]+=65536),(T<d||-1==d)&&(da(t,s,r,O),t[18]=(4294901760&t[18])+O+2),O++}function da(t,r,s,a){const l=s[a]<0,d=s[a+1],T=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{d.call(T)}finally{}}}else try{d.call(T)}finally{}}class Zs{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function qt(t,r,s){const a=Mr(t);let l=0;for(;l<s.length;){const d=s[l];if("number"==typeof d){if(0!==d)break;l++;const v=s[l++],T=s[l++],O=s[l++];a?t.setAttribute(r,T,O,v):r.setAttributeNS(v,T,O)}else{const v=d,T=s[++l];Ys(v)?a&&t.setProperty(r,v,T):a?t.setAttribute(r,v,T):r.setAttribute(v,T),l++}}return l}function Vr(t){return 3===t||4===t||6===t}function Ys(t){return 64===t.charCodeAt(0)}function Ko(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||_n(t,s,l,null,-1===s||2===s?r[++a]:null)}}return t}function _n(t,r,s,a,l){let d=0,v=t.length;if(-1===r)v=-1;else for(;d<t.length;){const T=t[d++];if("number"==typeof T){if(T===r){v=-1;break}if(T>r){v=d-1;break}}}for(;d<t.length;){const T=t[d];if("number"==typeof T)break;if(T===s){if(null===a)return void(null!==l&&(t[d+1]=l));if(a===t[d+1])return void(t[d+2]=l)}d++,null!==a&&d++,null!==l&&d++}-1!==v&&(t.splice(v,0,r),d=v+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==l&&t.splice(d++,0,l)}function Hn(t){return-1!==t}function xo(t){return 32767&t}function gt(t,r){let s=function Yt(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let jt=!0;function fi(t){const r=jt;return jt=t,r}let Ou=0;function io(t,r){const s=so(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,qo(a.data,t),qo(r,null),qo(a.blueprint,null));const l=S(t,r),d=t.injectorIndex;if(Hn(l)){const v=xo(l),T=gt(l,r),O=T[1].data;for(let B=0;B<8;B++)r[d+B]=T[v+B]|O[v+B]}return r[d+8]=l,d}function qo(t,r){t.push(0,0,0,0,0,0,0,0,r)}function so(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function S(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){const d=l[1],v=d.type;if(a=2===v?d.declTNode:1===v?l[6]:null,null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function I(t,r,s){!function xu(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Ze)&&(a=s[Ze]),null==a&&(a=s[Ze]=Ou++);const l=255&a;r.data[t+(l>>5)]|=1<<l}(t,r,s)}function P(t,r,s){if(s&tn.Optional)return t;at(r,"NodeInjector")}function V(t,r,s,a){if(s&tn.Optional&&void 0===a&&(a=null),0==(s&(tn.Self|tn.Host))){const l=t[9],d=Jn(void 0);try{return l?l.get(r,a,s&tn.Optional):vt(r,a,s&tn.Optional)}finally{Jn(d)}}return P(a,r,s)}function Y(t,r,s,a=tn.Default,l){if(null!==t){const d=function Pn(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Ze)?t[Ze]:void 0;return"number"==typeof r?r>=0?255&r:Me:r}(s);if("function"==typeof d){if(!So(r,t,a))return a&tn.Host?P(l,s,a):V(r,s,a,l);try{const v=d(a);if(null!=v||a&tn.Optional)return v;at(s)}finally{Ka()}}else if("number"==typeof d){let v=null,T=so(t,r),O=-1,B=a&tn.Host?r[16][6]:null;for((-1===T||a&tn.SkipSelf)&&(O=-1===T?S(t,r):r[T+8],-1!==O&&Cn(a,!1)?(v=r[1],T=xo(O),r=gt(O,r)):T=-1);-1!==T;){const W=r[1];if(Er(d,T,W.data)){const he=et(T,r,s,v,a,B);if(he!==ye)return he}O=r[T+8],-1!==O&&Cn(a,r[1].data[T+8]===B)&&Er(d,T,r)?(v=W,T=xo(O),r=gt(O,r)):T=-1}}}return V(r,s,a,l)}const ye={};function Me(){return new Vs(Kn(),Rt())}function et(t,r,s,a,l,d){const v=r[1],T=v.data[t+8],W=pn(T,v,s,null==a?Wn(T)&&jt:a!=v&&0!=(3&T.type),l&tn.Host&&d===T);return null!==W?ir(r,v,W,T):ye}function pn(t,r,s,a,l){const d=t.providerIndexes,v=r.data,T=1048575&d,O=t.directiveStart,W=d>>20,Ue=l?T+W:t.directiveEnd;for(let st=a?T:T+W;st<Ue;st++){const Pt=v[st];if(st<O&&s===Pt||st>=O&&Pt.type===s)return st}if(l){const st=v[O];if(st&&$r(st)&&st.type===s)return O}return null}function ir(t,r,s,a){let l=t[s];const d=r.data;if(function Ls(t){return t instanceof Zs}(l)){const v=l;v.resolving&&function Et(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Dt("200",`Circular dependency in DI detected for ${t}${s}`)}(lt(d[s]));const T=fi(v.canSeeViewProviders);v.resolving=!0;const O=v.injectImpl?Jn(v.injectImpl):null;So(t,a,tn.Default);try{l=t[s]=v.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Mu(t,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:d}=r.type.prototype;if(a){const v=Ri(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,v),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,v)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,d))}(s,d[s],r)}finally{null!==O&&Jn(O),fi(T),v.resolving=!1,Ka()}}return l}function Er(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function Cn(t,r){return!(t&tn.Self||t&tn.Host&&r)}class Vs{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Y(this._tNode,this._lView,r,a,s)}}function Ar(t){return Se(()=>{const r=t.prototype.constructor,s=r[pe]||Ai(r),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const d=l[pe]||Ai(l);if(d&&d!==s)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function Ai(t){return ot(t)?()=>{const r=Ai(Le(t));return r&&r()}:Ni(t)}function Us(t){return function b(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const d=s[l];if(Vr(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(d===r)return s[l+1];l+=2}}}return null}(Kn(),t)}const os="__parameters__";function Po(t,r,s){return Se(()=>{const a=function Ro(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...d){if(this instanceof l)return a.apply(this,d),this;const v=new l(...d);return T.annotation=v,T;function T(O,B,W){const he=O.hasOwnProperty(os)?O[os]:Object.defineProperty(O,os,{value:[]})[os];for(;he.length<=W;)he.push(null);return(he[W]=he[W]||[]).push(v),O}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class pi{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ae({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ko=new pi("AnalyzeForEntryComponents");function wi(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),wi(a,r)):r!==t&&r.push(a)}return r}function _s(t,r){t.forEach(s=>Array.isArray(s)?_s(s,r):r(s))}function Yo(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Ja(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function as(t,r,s){let a=Pa(t,r);return a>=0?t[1|a]=s:(a=~a,function Nu(t,r,s,a){let l=t.length;if(l==r)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>r;)t[l]=t[l-2],l--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Li(t,r){const s=Pa(t,r);if(s>=0)return t[1|s]}function Pa(t,r){return function ga(t,r,s){let a=0,l=t.length>>s;for(;l!==a;){const d=a+(l-a>>1),v=t[d<<s];if(r===v)return d<<s;v>r?l=d:a=d+1}return~(l<<s)}(t,r,1)}const Xo={},lo="__NG_DI_FLAG__",Fa="ngTempTokenPath",nu=/\n/gm,Jl="__source",Hc=Te({provide:String,useValue:Te});let gi;function Gc(t){const r=gi;return gi=t,r}function Hd(t,r=tn.Default){if(void 0===gi)throw new Error("inject() must be called from an injection context");return null===gi?vt(t,void 0,r):gi.get(t,r&tn.Optional?null:void 0,r)}function Wi(t,r=tn.Default){return(function ln(){return Ln}()||Hd)(Le(t),r)}function ku(t){const r=[];for(let s=0;s<t.length;s++){const a=Le(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let l,d=tn.Default;for(let v=0;v<a.length;v++){const T=a[v],O=ec(T);"number"==typeof O?-1===O?l=T.token:d|=O:l=T}r.push(Wi(l,d))}else r.push(Wi(a))}return r}function Fu(t,r){return t[lo]=r,t.prototype[lo]=r,t}function ec(t){return t[lo]}const iu=Fu(Po("Inject",t=>({token:t})),-1),Lo=Fu(Po("Optional"),8),Ms=Fu(Po("SkipSelf"),4);let Vu,Uu;function La(t){var r;return(null===(r=function Tl(){if(void 0===Vu&&(Vu=null,En.trustedTypes))try{Vu=En.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Vu}())||void 0===r?void 0:r.createHTML(t))||t}function Ea(t){var r;return(null===(r=function va(){if(void 0===Uu&&(Uu=null,En.trustedTypes))try{Uu=En.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Uu}())||void 0===r?void 0:r.createHTML(t))||t}class ea{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class au extends ea{getTypeName(){return"HTML"}}class Zc extends ea{getTypeName(){return"Style"}}class Yc extends ea{getTypeName(){return"Script"}}class Bu extends ea{getTypeName(){return"URL"}}class ac extends ea{getTypeName(){return"ResourceURL"}}function ta(t){return t instanceof ea?t.changingThisBreaksApplicationSecurity:t}function Jr(t,r){const s=uu(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function uu(t){return t instanceof ea&&t.getTypeName()||null}function ba(t){return new au(t)}function uc(t){return new Zc(t)}function lu(t){return new Yc(t)}function Wd(t){return new Bu(t)}function cu(t){return new ac(t)}class du{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(La(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Ia{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=La(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=La(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let l=s.length-1;0<l;l--){const v=s.item(l).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&r.removeAttribute(v)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const cc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,f=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function m(t){return(t=String(t)).match(cc)||t.match(f)?t:"unsafe:"+t}function z(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function se(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const ut=z("area,br,col,hr,img,wbr"),$t=z("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bn=z("rp,rt"),Tr=se(ut,se($t,z("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),se(bn,z("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),se(bn,$t)),Eo=z("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wo=z("srcset"),dc=se(Eo,wo,z("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),z("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Al=z("script,style,template");class Va{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Tr.hasOwnProperty(s))return this.sanitizedSomething=!0,!Al.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let l=0;l<a.length;l++){const d=a.item(l),v=d.name,T=v.toLowerCase();if(!dc.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let O=d.value;Eo[T]&&(O=m(O)),wo[T]&&(t=O,O=(t=String(t)).split(",").map(r=>m(r.trim())).join(", ")),this.buf.push(" ",v,'="',xr(O),'"')}var t;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Tr.hasOwnProperty(s)&&!ut.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(xr(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Qc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jc=/([^\#-~ |!])/g;function xr(t){return t.replace(/&/g,"&amp;").replace(Qc,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Jc,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $u;function Hu(t,r){let s=null;try{$u=$u||function ju(t){const r=new Ia(t);return function lc(){try{return!!(new window.DOMParser).parseFromString(La(""),"text/html")}catch(t){return!1}}()?new du(r):r}(t);let a=r?String(r):"";s=$u.getInertBodyElement(a);let l=5,d=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=d,d=s.innerHTML,s=$u.getInertBodyElement(a)}while(a!==d);return La((new Va).sanitizeChildren(na(s)||s))}finally{if(s){const a=na(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function na(t){return"content"in t&&function Gu(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var bi=(()=>((bi=bi||{})[bi.NONE=0]="NONE",bi[bi.HTML=1]="HTML",bi[bi.STYLE=2]="STYLE",bi[bi.SCRIPT=3]="SCRIPT",bi[bi.URL=4]="URL",bi[bi.RESOURCE_URL=5]="RESOURCE_URL",bi))();function qd(t){const r=hc();return r?Ea(r.sanitize(bi.HTML,t)||""):Jr(t,"HTML")?Ea(ta(t)):Hu(gs(),Ye(t))}function Xc(t){const r=hc();return r?r.sanitize(bi.URL,t)||"":Jr(t,"URL")?ta(t):m(Ye(t))}function hc(){const t=Rt();return t&&t[12]}const Sl="__ngContext__";function mi(t,r){t[Sl]=r}function td(t){const r=function zu(t){return t[Sl]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function g(t){return t.ngOriginalError}function $(t,...r){t.error(...r)}class ee{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function C(t){return t&&t.ngErrorLogger||$}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&g(r);for(;s&&g(s);)s=g(s);return s||null}}const Zn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(En))();function $s(t){return t instanceof Function?t():t}var us=(()=>((us=us||{})[us.Important=1]="Important",us[us.DashCase=2]="DashCase",us))();function hu(t,r){return undefined(t,r)}function Wu(t){const r=t[3];return qn(r)?r[3]:r}function ur(t){return Ki(t[13])}function Or(t){return Ki(t[4])}function Ki(t){for(;null!==t&&!qn(t);)t=t[4];return t}function ft(t,r,s,a,l){if(null!=a){let d,v=!1;qn(a)?d=a:sn(a)&&(v=!0,a=a[0]);const T=R(a);0===t&&null!==s?null==l?qu(r,s,T):Ba(r,s,T,l||null,!0):1===t&&null!==s?Ba(r,s,T,l||null,!0):2===t?function Yp(t,r,s){const a=Yu(t,r);a&&function _c(t,r,s,a){Mr(t)?t.removeChild(r,s,a):r.removeChild(s)}(t,a,r,s)}(r,T,v):3===t&&r.destroyNode(T),null!=d&&function ud(t,r,s,a,l){const d=s[7];d!==R(s)&&ft(r,t,a,d,l);for(let T=10;T<s.length;T++){const O=s[T];ad(O[1],O,t,r,a,d)}}(r,t,d,s,l)}}function Os(t,r,s){return Mr(t)?t.createElement(r,s):null===s?t.createElement(r):t.createElementNS(s,r)}function Es(t,r){const s=t[9],a=s.indexOf(r),l=r[3];1024&r[2]&&(r[2]&=-1025,St(l,-1)),s.splice(a,1)}function id(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&Es(l,a),r>0&&(t[s-1][4]=a[4]);const d=Ja(t,10+r);!function Vo(t,r){ad(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const v=d[19];null!==v&&v.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function eh(t,r){if(!(256&r[2])){const s=r[11];Mr(s)&&s.destroyNode&&ad(t,r,s,3,null,null),function yc(t){let r=t[13];if(!r)return sd(t[1],t);for(;r;){let s=null;if(sn(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)sn(r)&&sd(r[1],r),r=r[3];null===r&&(r=t),sn(r)&&sd(r[1],r),s=r&&r[4]}r=s}}(r)}}function sd(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Kp(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof Zs)){const d=s[a+1];if(Array.isArray(d))for(let v=0;v<d.length;v+=2){const T=l[d[v]],O=d[v+1];try{O.call(T)}finally{}}else try{d.call(l)}finally{}}}}(t,r),function Ku(t,r){const s=t.cleanup,a=r[7];let l=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const v=s[d+1],T="function"==typeof v?v(r):R(r[v]),O=a[l=s[d+2]],B=s[d+3];"boolean"==typeof B?T.removeEventListener(s[d],O,B):B>=0?a[l=B]():a[l=-B].unsubscribe(),d+=2}else{const v=a[l=s[d+1]];s[d].call(v)}if(null!==a){for(let d=l+1;d<a.length;d++)a[d]();r[7]=null}}(t,r),1===r[1].type&&Mr(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&qn(r[3])){s!==r[3]&&Es(s,r);const a=r[19];null!==a&&a.detachView(t)}}}function qp(t,r,s){return function ff(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===kt.None||l===kt.Emulated)return null}return Ce(a,s)}(t,r.parent,s)}function Ba(t,r,s,a,l){Mr(t)?t.insertBefore(r,s,a,l):r.insertBefore(s,a,l)}function qu(t,r,s){Mr(t)?t.appendChild(r,s):r.appendChild(s)}function Zu(t,r,s,a,l){null!==a?Ba(t,r,s,a,l):qu(t,r,s)}function Yu(t,r){return Mr(t)?t.parentNode(r):r.parentNode}let pf=function nh(t,r,s){return 40&t.type?Ce(t,s):null};function od(t,r,s,a){const l=qp(t,a,r),d=r[11],T=function th(t,r,s){return pf(t,r,s)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let O=0;O<s.length;O++)Zu(d,l,s[O],T,!1);else Zu(d,l,s,T,!1)}function vc(t,r){if(null!==r){const s=r.type;if(3&s)return Ce(r,t);if(4&s)return pu(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return vc(t,a);{const l=t[r.index];return qn(l)?pu(-1,l):R(l)}}if(32&s)return hu(r,t)()||R(t[r.index]);{const a=Ec(t,r);return null!==a?Array.isArray(a)?a[0]:vc(Wu(t[16]),a):vc(t,r.next)}}return null}function Ec(t,r){return null!==r?t[16][6].projection[r.projection]:null}function pu(t,r){const s=10+t+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return vc(a,l)}return r[7]}function rh(t,r,s,a,l,d,v){for(;null!=s;){const T=a[s.index],O=s.type;if(v&&0===r&&(T&&mi(R(T),a),s.flags|=4),64!=(64&s.flags))if(8&O)rh(t,r,s.child,a,l,d,!1),ft(r,t,l,T,d);else if(32&O){const B=hu(s,a);let W;for(;W=B();)ft(r,t,l,W,d);ft(r,t,l,T,d)}else 16&O?Qp(t,r,a,s,l,d):ft(r,t,l,T,d);s=v?s.projectionNext:s.next}}function ad(t,r,s,a,l,d){rh(s,a,t.firstChild,r,l,d,!1)}function Qp(t,r,s,a,l,d){const v=s[16],O=v[6].projection[a.projection];if(Array.isArray(O))for(let B=0;B<O.length;B++)ft(r,t,l,O[B],d);else rh(t,r,O,v[3],l,d,!0)}function Ju(t,r,s){Mr(t)?t.setAttribute(r,"style",s):r.style.cssText=s}function ih(t,r,s){Mr(t)?""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s):r.className=s}function Jp(t,r,s){let a=t.length;for(;;){const l=t.indexOf(r,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const d=r.length;if(l+d===a||t.charCodeAt(l+d)<=32)return l}s=l+1}}const sh="ng-template";function wc(t,r,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==Jp(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Xp(t){return 4===t.type&&t.value!==sh}function eg(t,r,s){return r===(4!==t.type||s?t.value:sh)}function ld(t,r,s){let a=4;const l=t.attrs||[],d=function tg(t){for(let r=0;r<t.length;r++)if(Vr(t[r]))return r;return t.length}(l);let v=!1;for(let T=0;T<r.length;T++){const O=r[T];if("number"!=typeof O){if(!v)if(4&a){if(a=2|1&a,""!==O&&!eg(t,O,s)||""===O&&1===r.length){if(bo(a))return!1;v=!0}}else{const B=8&a?O:r[++T];if(8&a&&null!==t.attrs){if(!wc(t.attrs,B,s)){if(bo(a))return!1;v=!0}continue}const he=oh(8&a?"class":O,l,Xp(t),s);if(-1===he){if(bo(a))return!1;v=!0;continue}if(""!==B){let Ue;Ue=he>d?"":l[he+1].toLowerCase();const st=8&a?Ue:null;if(st&&-1!==Jp(st,B,0)||2&a&&B!==Ue){if(bo(a))return!1;v=!0}}}}else{if(!v&&!bo(a)&&!bo(O))return!1;if(v&&bo(O))continue;v=!1,a=O|1&a}}return bo(a)||v}function bo(t){return 0==(1&t)}function oh(t,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let d=!1;for(;l<r.length;){const v=r[l];if(v===t)return l;if(3===v||6===v)d=!0;else{if(1===v||2===v){let T=r[++l];for(;"string"==typeof T;)T=r[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=d?1:2}return-1}return function ah(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function yf(t,r,s=!1){for(let a=0;a<r.length;a++)if(ld(t,r[a],s))return!0;return!1}function vf(t,r){return t?":not("+r.trim()+")":r}function Xu(t){let r=t[0],s=1,a=2,l="",d=!1;for(;s<t.length;){let v=t[s];if("string"==typeof v)if(2&a){const T=t[++s];l+="["+v+(T.length>0?'="'+T+'"':"")+"]"}else 8&a?l+="."+v:4&a&&(l+=" "+v);else""!==l&&!bo(v)&&(r+=vf(d,l),l=""),a=v,d=d||!bo(a);s++}return""!==l&&(r+=vf(d,l)),r}const lr={};function rg(t){Ol(or(),Rt(),si()+t,go())}function Ol(t,r,s,a){if(!a)if(3==(3&r[2])){const d=t.preOrderCheckHooks;null!==d&&qs(r,d,s)}else{const d=t.preOrderHooks;null!==d&&Oo(r,d,0,s)}Fs(s)}function Ta(t,r){return t<<17|r<<2}function Hs(t){return t>>17&32767}function wf(t){return 2|t}function gu(t){return(131068&t)>>2}function bf(t,r){return-131069&t|r<<2}function Ic(t){return 1|t}function yg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],d=s[a+1];if(-1!==d){const v=t.data[d];Go(l),v.contentQueries(2,r[d],d)}}}function yd(t,r,s,a,l,d,v,T,O,B){const W=r.blueprint.slice();return W[0]=l,W[2]=140|a,Qe(W),W[3]=W[15]=t,W[8]=s,W[10]=v||t&&t[10],W[11]=T||t&&t[11],W[12]=O||t&&t[12]||null,W[9]=B||t&&t[9]||null,W[6]=d,W[16]=2==r.type?t[16]:W,W}function tl(t,r,s,a,l){let d=t.data[r];if(null===d)d=function ph(t,r,s,a,l){const d=Ts(),v=la(),O=t.data[r]=function yh(t,r,s,a,l,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?d:d&&d.parent,s,r,a,l);return null===t.firstChild&&(t.firstChild=O),null!==d&&(v?null==d.child&&null!==O.parent&&(d.child=O):null===d.next&&(d.next=O)),O}(t,r,s,a,l),function jo(){return Ft.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=l;const v=function Ji(){const t=Ft.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===v?-1:v.injectorIndex}return Ks(d,!0),d}function Nl(t,r,s,a){if(0===s)return-1;const l=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return l}function Rl(t,r,s){mo(r);try{const a=t.viewQuery;null!==a&&Ad(1,a,s);const l=t.template;null!==l&&vd(t,r,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yg(t,r),t.staticViewQueries&&Ad(2,t.viewQuery,s);const d=t.components;null!==d&&function Wm(t,r){for(let s=0;s<r.length;s++)Cg(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,Mo()}}function yu(t,r,s,a){const l=r[2];if(256==(256&l))return;mo(r);const d=go();try{Qe(r),function Co(t){return Ft.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&vd(t,r,s,2,a);const v=3==(3&l);if(!d)if(v){const B=t.preOrderCheckHooks;null!==B&&qs(r,B,null)}else{const B=t.preOrderHooks;null!==B&&Oo(r,B,0,null),Ci(r,0)}if(function Qm(t){for(let r=ur(t);null!==r;r=Or(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],d=l[3];0==(1024&l[2])&&St(d,1),l[2]|=1024}}}(r),function kf(t){for(let r=ur(t);null!==r;r=Or(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];y(a)&&yu(l,a,l.template,a[8])}}(r),null!==t.contentQueries&&yg(t,r),!d)if(v){const B=t.contentCheckHooks;null!==B&&qs(r,B)}else{const B=t.contentHooks;null!==B&&Oo(r,B,1),Ci(r,1)}!function Gm(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)Fs(~l);else{const d=l,v=s[++a],T=s[++a];za(v,d),T(2,r[d])}}}finally{Fs(-1)}}(t,r);const T=t.components;null!==T&&function zm(t,r){for(let s=0;s<r.length;s++)Jm(t,r[s])}(r,T);const O=t.viewQuery;if(null!==O&&Ad(2,O,a),!d)if(v){const B=t.viewCheckHooks;null!==B&&qs(r,B)}else{const B=t.viewHooks;null!==B&&Oo(r,B,2),Ci(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),d||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,St(r[3],-1))}finally{Mo()}}function _d(t,r,s,a){const l=r[10],d=!go(),v=w(r);try{d&&!v&&l.begin&&l.begin(),v&&Rl(t,r,a),yu(t,r,s,a)}finally{d&&!v&&l.end&&l.end()}}function vd(t,r,s,a,l){const d=si(),v=2&a;try{Fs(-1),v&&r.length>20&&Ol(t,r,20,go()),s(a,l)}finally{Fs(d)}}function gh(t,r,s){if(wr(r)){const l=r.directiveEnd;for(let d=r.directiveStart;d<l;d++){const v=t.data[d];v.contentQueries&&v.contentQueries(1,s[d],d)}}}function Ed(t,r,s){!Bn()||(function xf(t,r,s,a){const l=s.directiveStart,d=s.directiveEnd;t.firstCreatePass||io(s,r),mi(a,r);const v=s.initialInputs;for(let T=l;T<d;T++){const O=t.data[T],B=$r(O);B&&Rf(r,s,O);const W=ir(r,t,T,s);mi(W,r),null!==v&&Eh(0,T-l,W,O,0,v),B&&(L(s.index,r)[8]=W)}}(t,r,s,Ce(s,r)),128==(128&s.flags)&&function Ig(t,r,s){const a=s.directiveStart,l=s.directiveEnd,v=s.index,T=function $o(){return Ft.lFrame.currentDirectiveIndex}();try{Fs(v);for(let O=a;O<l;O++){const B=t.data[O],W=r[O];Ho(O),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&_h(B,W)}}finally{Fs(-1),Ho(T)}}(t,r,s))}function wd(t,r,s=Ce){const a=r.localNames;if(null!==a){let l=r.index+1;for(let d=0;d<a.length;d+=2){const v=a[d+1],T=-1===v?s(r,t):t[v];t[l++]=T}}}function Sf(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=mh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function mh(t,r,s,a,l,d,v,T,O,B){const W=20+a,he=W+l,Ue=function _g(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:lr);return s}(W,he),st="function"==typeof B?B():B;return Ue[1]={type:t,blueprint:Ue,template:s,queries:null,viewQuery:T,declTNode:r,data:Ue.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:he,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:O,consts:st,incompleteFirstPass:!1}}function Mf(t,r,s,a){const l=kl(r);null===s?l.push(a):(l.push(s),t.firstCreatePass&&vu(t).push(a,l.length-1))}function Dc(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function Uo(t,r,s,a,l,d,v,T){const O=Ce(r,s);let W,B=r.inputs;!T&&null!=B&&(W=B[a])?(Ll(t,s,W,a,l),Wn(r)&&function Km(t,r){const s=L(r,t);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function wg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=v?v(l,r.value||"",a):l,Mr(d)?d.setProperty(O,a,l):Ys(a)||(O.setProperty?O.setProperty(a,l):O[a]=l))}function bd(t,r,s,a){let l=!1;if(Bn()){const d=function Nf(t,r,s){const a=t.directiveRegistry;let l=null;if(a)for(let d=0;d<a.length;d++){const v=a[d];yf(s,v.selectors,!1)&&(l||(l=[]),I(io(s,r),t,v.type),$r(v)?(_u(t,s),l.unshift(v)):l.push(v))}return l}(t,r,s),v=null===a?null:{"":-1};if(null!==d){l=!0,vh(s,t.data.length,d.length);for(let W=0;W<d.length;W++){const he=d[W];he.providersResolver&&he.providersResolver(he)}let T=!1,O=!1,B=Nl(t,r,d.length,null);for(let W=0;W<d.length;W++){const he=d[W];s.mergedAttrs=Ko(s.mergedAttrs,he.hostAttrs),Tg(t,s,r,B,he),Zm(B,he,v),null!==he.contentQueries&&(s.flags|=8),(null!==he.hostBindings||null!==he.hostAttrs||0!==he.hostVars)&&(s.flags|=128);const Ue=he.type.prototype;!T&&(Ue.ngOnChanges||Ue.ngOnInit||Ue.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),T=!0),!O&&(Ue.ngOnChanges||Ue.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),O=!0),B++}!function Of(t,r){const a=r.directiveEnd,l=t.data,d=r.attrs,v=[];let T=null,O=null;for(let B=r.directiveStart;B<a;B++){const W=l[B],he=W.inputs,Ue=null===d||Xp(r)?null:Pf(he,d);v.push(Ue),T=Dc(he,B,T),O=Dc(W.outputs,B,O)}null!==T&&(T.hasOwnProperty("class")&&(r.flags|=16),T.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=v,r.inputs=T,r.outputs=O}(t,s)}v&&function Dg(t,r,s){if(r){const a=t.localNames=[];for(let l=0;l<r.length;l+=2){const d=s[r[l+1]];if(null==d)throw new Dt("301",`Export of name '${r[l+1]}' not found!`);a.push(r[l],d)}}}(s,a,v)}return s.mergedAttrs=Ko(s.mergedAttrs,s.attrs),l}function Id(t,r,s,a,l,d){const v=d.hostBindings;if(v){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const O=~r.index;(function Dd(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(T)!=O&&T.push(O),T.push(a,l,v)}}function _h(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function _u(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Zm(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;$r(r)&&(s[""]=t)}}function vh(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function Tg(t,r,s,a,l){t.data[a]=l;const d=l.factory||(l.factory=Ni(l.type)),v=new Zs(d,$r(l),null);t.blueprint[a]=v,s[a]=v,Id(t,r,0,a,Nl(t,s,l.hostVars,lr),l)}function Rf(t,r,s){const a=Ce(r,t),l=Sf(s),d=t[10],v=Ac(t,yd(t,l,null,s.onPush?64:16,a,r,d,d.createRenderer(a,s),null,null));t[r.index]=v}function $a(t,r,s,a,l,d){const v=Ce(t,r);!function Td(t,r,s,a,l,d,v){if(null==d)Mr(t)?t.removeAttribute(r,l,s):r.removeAttribute(l);else{const T=null==v?Ye(d):v(d,a||"",l);Mr(t)?t.setAttribute(r,l,T,s):s?r.setAttributeNS(s,l,T):r.setAttribute(l,T)}}(r[11],v,d,t.value,s,a,l)}function Eh(t,r,s,a,l,d){const v=d[r];if(null!==v){const T=a.setInput;for(let O=0;O<v.length;){const B=v[O++],W=v[O++],he=v[O++];null!==T?a.setInput(s,he,B,W):s[W]=he}}}function Pf(t,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Pl(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function Jm(t,r){const s=L(r,t);if(y(s)){const a=s[1];80&s[2]?yu(a,s,a.template,s[8]):s[5]>0&&wh(s)}}function wh(t){for(let a=ur(t);null!==a;a=Or(a))for(let l=10;l<a.length;l++){const d=a[l];if(1024&d[2]){const v=d[1];yu(v,d,v.template,d[8])}else d[5]>0&&wh(d)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=L(s[a],t);y(l)&&l[5]>0&&wh(l)}}function Cg(t,r){const s=L(r,t),a=s[1];(function Xm(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),Rl(a,s,s[8])}function Ac(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function Ff(t){for(;t;){t[2]|=64;const r=Wu(t);if(Hr(t)&&!r)return t;t=r}return null}function Cd(t,r,s){const a=r[10];a.begin&&a.begin();try{yu(t,r,t.template,s)}catch(l){throw Fl(r,l),l}finally{a.end&&a.end()}}function Ag(t){!function Vf(t){for(let r=0;r<t.components.length;r++){const s=t.components[r],a=td(s),l=a[1];_d(l,a,l.template,s)}}(t[8])}function Ad(t,r,s){Go(0),r(t,s)}const Bf=(()=>Promise.resolve(null))();function kl(t){return t[7]||(t[7]=[])}function vu(t){return t.cleanup||(t.cleanup=[])}function Fl(t,r){const s=t[9],a=s?s.get(ee,null):null;a&&a.handleError(r)}function Ll(t,r,s,a,l){for(let d=0;d<s.length;){const v=s[d++],T=s[d++],O=r[v],B=t.data[v];null!==B.setInput?B.setInput(O,l,a,T):O[T]=l}}function Ha(t,r,s){const a=X(r,t);!function kr(t,r,s){Mr(t)?t.setValue(r,s):r.textContent=s}(t[11],a,s)}function Eu(t,r,s){let a=s?t.styles:null,l=s?t.classes:null,d=0;if(null!==r)for(let v=0;v<r.length;v++){const T=r[v];"number"==typeof T?d=T:1==d?l=Oe(l,T):2==d&&(a=Oe(a,T+": "+r[++v]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}const Sd=new pi("INJECTOR",-1);class Ih{get(r,s=Xo){if(s===Xo){const a=new Error(`NullInjectorError: No provider for ${oe(r)}!`);throw a.name="NullInjectorError",a}return s}}const Md=new pi("Set Injector scope."),Od={},ny={};let xd;function Dh(){return void 0===xd&&(xd=new Ih),xd}function xg(t,r=null,s=null,a){const l=jf(t,r,s,a);return l._resolveInjectorDefTypes(),l}function jf(t,r=null,s=null,a){return new ry(t,s,r||Dh(),a)}class ry{constructor(r,s,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];s&&_s(s,T=>this.processProvider(T,r,s)),_s([r],T=>this.processInjectorType(T,[],d)),this.records.set(Sd,Sc(void 0,this));const v=this.records.get(Md);this.scope=null!=v?v.value:null,this.source=l||("object"==typeof r?null:oe(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=Xo,a=tn.Default){this.assertNotDestroyed();const l=Gc(this),d=Jn(void 0);try{if(!(a&tn.SkipSelf)){let T=this.records.get(r);if(void 0===T){const O=function zf(t){return"function"==typeof t||"object"==typeof t&&t instanceof pi}(r)&&en(r);T=O&&this.injectableDefInScope(O)?Sc(Th(r),Od):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(a&tn.Self?Dh():this.parent).get(r,s=a&tn.Optional&&s===Xo?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[Fa]=v[Fa]||[]).unshift(oe(r)),l)throw v;return function _o(t,r,s,a){const l=t[Fa];throw r[Jl]&&l.unshift(r[Jl]),t.message=function ma(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let l=oe(r);if(Array.isArray(r))l=r.map(oe).join(" -> ");else if("object"==typeof r){let d=[];for(let v in r)if(r.hasOwnProperty(v)){let T=r[v];d.push(v+":"+("string"==typeof T?JSON.stringify(T):oe(T)))}l=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(nu,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[Fa]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{Jn(d),Gc(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,l)=>r.push(oe(l))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(r,s,a){if(!(r=Le(r)))return!1;let l=dr(r);const d=null==l&&r.ngModule||void 0,v=void 0===d?r:d,T=-1!==a.indexOf(v);if(void 0!==d&&(l=dr(d)),null==l)return!1;if(null!=l.imports&&!T){let W;a.push(v);try{_s(l.imports,he=>{this.processInjectorType(he,s,a)&&(void 0===W&&(W=[]),W.push(he))})}finally{}if(void 0!==W)for(let he=0;he<W.length;he++){const{ngModule:Ue,providers:st}=W[he];_s(st,Pt=>this.processProvider(Pt,Ue,st||wn))}}this.injectorDefTypes.add(v);const O=Ni(v)||(()=>new v);this.records.set(v,Sc(O,Od));const B=l.providers;if(null!=B&&!T){const W=r;_s(B,he=>this.processProvider(he,W,B))}return void 0!==d&&void 0!==r.providers}processProvider(r,s,a){let l=nl(r=Le(r))?r:Le(r&&r.provide);const d=function Rg(t,r,s){return Pg(t)?Sc(void 0,t.useValue):Sc($f(t),Od)}(r);if(nl(r)||!0!==r.multi)this.records.get(l);else{let v=this.records.get(l);v||(v=Sc(void 0,Od,!0),v.factory=()=>ku(v.multi),this.records.set(l,v)),l=r,v.multi.push(r)}this.records.set(l,d)}hydrate(r,s){return s.value===Od&&(s.value=ny,s.value=s.factory()),"object"==typeof s.value&&s.value&&function oy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Le(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Th(t){const r=en(t),s=null!==r?r.factory:Ni(t);if(null!==s)return s;if(t instanceof pi)throw new Error(`Token ${oe(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function Ng(t){const r=t.length;if(r>0){const a=function Qo(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?");throw new Error(`Can't resolve all parameters for ${oe(t)}: (${a.join(", ")}).`)}const s=function vn(t){const r=t&&(t[Fn]||t[sr]);if(r){const s=function Qn(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function $f(t,r,s){let a;if(nl(t)){const l=Le(t);return Ni(l)||Th(l)}if(Pg(t))a=()=>Le(t.useValue);else if(function sy(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ku(t.deps||[]));else if(function iy(t){return!(!t||!t.useExisting)}(t))a=()=>Wi(Le(t.useExisting));else{const l=Le(t&&(t.useClass||t.provide));if(!function Gf(t){return!!t.deps}(t))return Ni(l)||Th(l);a=()=>new l(...ku(t.deps))}return a}function Sc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Pg(t){return null!==t&&"object"==typeof t&&Hc in t}function nl(t){return"function"==typeof t}let sa=(()=>{class t{static create(s,a){var l;if(Array.isArray(s))return xg({name:""},a,s,"");{const d=null!==(l=s.name)&&void 0!==l?l:"";return xg({name:d},s.parent,s.providers,d)}}}return t.THROW_IF_NOT_FOUND=Xo,t.NULL=new Ih,t.\u0275prov=Ae({token:t,providedIn:"any",factory:()=>Wi(Sd)}),t.__NG_ELEMENT_ID__=-1,t})();function Jf(t,r){As(td(t)[1],Kn())}function Xf(t){let r=function xh(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let l;if($r(t))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Error("Directives cannot inherit Components");l=r.\u0275dir}if(l){if(s){a.push(l);const v=t;v.inputs=Nh(t.inputs),v.declaredInputs=Nh(t.declaredInputs),v.outputs=Nh(t.outputs);const T=l.hostBindings;T&&dy(t,T);const O=l.viewQuery,B=l.contentQueries;if(O&&tp(t,O),B&&Bg(t,B),De(t.inputs,l.inputs),De(t.declaredInputs,l.declaredInputs),De(t.outputs,l.outputs),$r(l)&&l.data.animation){const W=t.data;W.animation=(W.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let v=0;v<d.length;v++){const T=d[v];T&&T.ngInherit&&T(t),T===Xf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function ep(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Ko(l.hostAttrs,s=Ko(s,l.hostAttrs))}}(a)}function Nh(t){return t===on?{}:t===wn?[]:t}function tp(t,r){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function Bg(t,r){const s=t.contentQueries;t.contentQueries=s?(a,l,d)=>{r(a,l,d),s(a,l,d)}:r}function dy(t,r){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Mc=null;function rl(){if(!Mc){const t=En.Symbol;if(t&&t.iterator)Mc=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Mc=a)}}}return Mc}function kd(t){return!!ip(t)&&(Array.isArray(t)||!(t instanceof Map)&&rl()in t)}function ip(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function oa(t,r,s){return t[r]=s}function ws(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function sp(t,r,s,a){const l=Rt();return ws(l,to(),r)&&(or(),$a(ei(),l,t,r,s,a)),sp}function il(t,r,s,a){return ws(t,to(),s)?r+Ye(s)+a:lr}function up(t,r,s,a,l,d,v,T){const O=Rt(),B=or(),W=t+20,he=B.firstCreatePass?function py(t,r,s,a,l,d,v,T,O){const B=r.consts,W=tl(r,t,4,v||null,le(B,T));bd(r,s,W,le(B,O)),As(r,W);const he=W.tViews=mh(2,W,a,l,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,B);return null!==r.queries&&(r.queries.template(r,W),he.queries=r.queries.embeddedTView(W)),W}(W,B,O,r,s,a,l,d,v):B.data[W];Ks(he,!1);const Ue=O[11].createComment("");od(B,O,Ue,he),mi(Ue,O),Ac(O,O[W]=Pl(Ue,O,Ue,he)),qr(he)&&Ed(B,O,he),null!=v&&wd(O,he,T)}function jh(t,r=tn.Default){const s=Rt();return null===s?Wi(t,r):Y(Kn(),s,Le(t),r)}function Iu(){throw new Error("invalid")}function Du(t,r,s){const a=Rt();return ws(a,to(),r)&&Uo(or(),ei(),a,t,r,a[11],s,!1),Du}function xc(t,r,s,a,l){const v=l?"class":"style";Ll(t,s,r.inputs[v],v,a)}function dp(t,r,s,a){const l=Rt(),d=or(),v=20+t,T=l[11],O=l[v]=Os(T,r,function yl(){return Ft.lFrame.currentNamespace}()),B=d.firstCreatePass?function Ay(t,r,s,a,l,d,v){const T=r.consts,B=tl(r,t,2,l,le(T,d));return bd(r,s,B,le(T,v)),null!==B.attrs&&Eu(B,B.attrs,!1),null!==B.mergedAttrs&&Eu(B,B.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,B),B}(v,d,l,0,r,s,a):d.data[v];Ks(B,!0);const W=B.mergedAttrs;null!==W&&qt(T,O,W);const he=B.classes;null!==he&&ih(T,O,he);const Ue=B.styles;null!==Ue&&Ju(T,O,Ue),64!=(64&B.flags)&&od(d,l,O,B),0===function br(){return Ft.lFrame.elementDepthCount}()&&mi(O,l),function ar(){Ft.lFrame.elementDepthCount++}(),qr(B)&&(Ed(d,l,B),gh(d,B,l)),null!==a&&wd(l,B)}function $h(){let t=Kn();la()?Do():(t=t.parent,Ks(t,!1));const r=t;!function yr(){Ft.lFrame.elementDepthCount--}();const s=or();s.firstCreatePass&&(As(s,t),wr(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function yo(t){return 0!=(16&t.flags)}(r)&&xc(s,r,Rt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function ys(t){return 0!=(32&t.flags)}(r)&&xc(s,r,Rt(),r.stylesWithoutHost,!1)}function hp(t,r,s,a){dp(t,r,s,a),$h()}function Tu(t,r,s){const a=Rt(),l=or(),d=t+20,v=l.firstCreatePass?function Sy(t,r,s,a,l){const d=r.consts,v=le(d,a),T=tl(r,t,8,"ng-container",v);return null!==v&&Eu(T,v,!0),bd(r,s,T,le(d,l)),null!==r.queries&&r.queries.elementStart(r,T),T}(d,l,a,r,s):l.data[d];Ks(v,!0);const T=a[d]=a[11].createComment("");od(l,a,T,v),mi(T,a),qr(v)&&(Ed(l,a,v),gh(l,v,a)),null!=s&&wd(a,v)}function Nc(){let t=Kn();const r=or();la()?Do():(t=t.parent,Ks(t,!1)),r.firstCreatePass&&(As(r,t),wr(t)&&r.queries.elementEnd(t))}function pp(){return Rt()}function Ld(t){return!!t&&"function"==typeof t.then}function am(t){return!!t&&"function"==typeof t.subscribe}const um=am;function gp(t,r,s,a){const l=Rt(),d=or(),v=Kn();return function yp(t,r,s,a,l,d,v,T){const O=qr(a),W=t.firstCreatePass&&vu(t),he=r[8],Ue=kl(r);let st=!0;if(3&a.type||T){const gn=Ce(a,r),Nn=T?T(gn):gn,Gt=Ue.length,nr=T?Fr=>T(R(Fr[a.index])):a.index;if(Mr(s)){let Fr=null;if(!T&&O&&(Fr=function mp(t,r,s,a){const l=t.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const v=l[d];if(v===s&&l[d+1]===a){const T=r[7],O=l[d+2];return T.length>O?T[O]:null}"string"==typeof v&&(d+=2)}return null}(t,r,l,a.index)),null!==Fr)(Fr.__ngLastListenerFn__||Fr).__ngNextListenerFn__=d,Fr.__ngLastListenerFn__=d,st=!1;else{d=Gh(a,r,he,d,!1);const oi=s.listen(Nn,l,d);Ue.push(d,oi),W&&W.push(l,nr,Gt,Gt+1)}}else d=Gh(a,r,he,d,!0),Nn.addEventListener(l,d,v),Ue.push(d),W&&W.push(l,nr,Gt,v)}else d=Gh(a,r,he,d,!1);const Pt=a.outputs;let nn;if(st&&null!==Pt&&(nn=Pt[l])){const gn=nn.length;if(gn)for(let Nn=0;Nn<gn;Nn+=2){const Oa=r[nn[Nn]][nn[Nn+1]].subscribe(d),$d=Ue.length;Ue.push(d,Oa),W&&W.push(l,a.index,$d,-($d+1))}}}(d,l,l[11],v,t,r,!!s,a),gp}function ll(t,r,s,a){try{return!1!==s(a)}catch(l){return Fl(t,l),!1}}function Gh(t,r,s,a,l){return function d(v){if(v===Function)return a;const T=2&t.flags?L(t.index,r):r;0==(32&r[2])&&Ff(T);let O=ll(r,0,a,v),B=d.__ngNextListenerFn__;for(;B;)O=ll(r,0,B,v)&&O,B=B.__ngNextListenerFn__;return l&&!1===O&&(v.preventDefault(),v.returnValue=!1),O}}function _p(t=1){return function Au(t){return(Ft.lFrame.contextLView=function Na(t,r){for(;t>0;)r=r[15],t--;return r}(t,Ft.lFrame.contextLView))[8]}(t)}function Rc(t,r,s){return Pc(t,"",r,"",s),Rc}function Pc(t,r,s,a,l){const d=Rt(),v=il(d,r,s,a);return v!==lr&&Uo(or(),ei(),d,t,v,d[11],l,!1),Pc}function Lc(t,r,s,a,l){const d=t[s+1],v=null===r;let T=a?Hs(d):gu(d),O=!1;for(;0!==T&&(!1===O||v);){const W=t[T+1];xy(t[T],r)&&(O=!0,t[T+1]=a?Ic(W):wf(W)),T=a?Hs(W):gu(W)}O&&(t[s+1]=a?wf(d):Ic(d))}function xy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Pa(t,r)>=0}const bs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dm(t){return t.substring(bs.key,bs.keyEnd)}function bp(t,r){const s=bs.textEnd;return s===r?-1:(r=bs.keyEnd=function ky(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,bs.key=r,s),Vc(t,r,s))}function Vc(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function zh(t,r,s){return Ns(t,r,s,!1),zh}function Wh(t,r){return Ns(t,r,null,!0),Wh}function gm(t){!function Sa(t,r,s,a){const l=or(),d=ms(2);l.firstUpdatePass&&mm(l,null,d,a);const v=Rt();if(s!==lr&&ws(v,d,s)){const T=l.data[si()];if(vm(T,a)&&!fl(l,d)){let O=a?T.classesWithoutHost:T.stylesWithoutHost;null!==O&&(s=Oe(O,s||"")),xc(l,T,v,s,a)}else!function Hy(t,r,s,a,l,d,v,T){l===lr&&(l=wn);let O=0,B=0,W=0<l.length?l[0]:null,he=0<d.length?d[0]:null;for(;null!==W||null!==he;){const Ue=O<l.length?l[O+1]:void 0,st=B<d.length?d[B+1]:void 0;let nn,Pt=null;W===he?(O+=2,B+=2,Ue!==st&&(Pt=he,nn=st)):null===he||null!==W&&W<he?(O+=2,Pt=W):(B+=2,Pt=he,nn=st),null!==Pt&&_m(t,r,s,a,Pt,nn,v,T),W=O<l.length?l[O]:null,he=B<d.length?d[B]:null}}(l,T,v,v[11],v[d+1],v[d+1]=function $y(t,r,s){if(null==s||""===s)return wn;const a=[],l=ta(s);if(Array.isArray(l))for(let d=0;d<l.length;d++)t(a,l[d],!0);else if("object"==typeof l)for(const d in l)l.hasOwnProperty(d)&&t(a,d,l[d]);else"string"==typeof l&&r(a,l);return a}(t,r,s),a,d)}}(as,Aa,t,!0)}function Aa(t,r){for(let s=function Ry(t){return function Ip(t){bs.key=0,bs.keyEnd=0,bs.value=0,bs.valueEnd=0,bs.textEnd=t.length}(t),bp(t,Vc(t,0,bs.textEnd))}(r);s>=0;s=bp(r,s))as(t,dm(r),!0)}function Ns(t,r,s,a){const l=Rt(),d=or(),v=ms(2);d.firstUpdatePass&&mm(d,t,v,a),r!==lr&&ws(l,v,r)&&_m(d,d.data[si()],l,l[11],t,l[v+1]=function Gy(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=oe(ta(t)))),t}(r,s),a,v)}function fl(t,r){return r>=t.expandoStartIndex}function mm(t,r,s,a){const l=t.data;if(null===l[s+1]){const d=l[si()],v=fl(t,s);vm(d,a)&&null===r&&!v&&(r=!1),r=function Vy(t,r,s,a){const l=Ao(t);let d=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=Ud(s=Tp(null,t,r,s,a),r.attrs,a),d=null);else{const v=r.directiveStylingLast;if(-1===v||t[v]!==l)if(s=Tp(l,t,r,s,a),null===d){let O=function Uy(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==gu(a))return t[Hs(a)]}(t,r,a);void 0!==O&&Array.isArray(O)&&(O=Tp(null,t,r,O[1],a),O=Ud(O,r.attrs,a),function By(t,r,s,a){t[Hs(s?r.classBindings:r.styleBindings)]=a}(t,r,a,O))}else d=function jy(t,r,s){let a;const l=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<l;d++)a=Ud(a,t[d].hostAttrs,s);return Ud(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(l,d,r,a),function Oy(t,r,s,a,l,d){let v=d?r.classBindings:r.styleBindings,T=Hs(v),O=gu(v);t[a]=s;let W,B=!1;if(Array.isArray(s)){const he=s;W=he[1],(null===W||Pa(he,W)>0)&&(B=!0)}else W=s;if(l)if(0!==O){const Ue=Hs(t[T+1]);t[a+1]=Ta(Ue,T),0!==Ue&&(t[Ue+1]=bf(t[Ue+1],a)),t[T+1]=function ig(t,r){return 131071&t|r<<17}(t[T+1],a)}else t[a+1]=Ta(T,0),0!==T&&(t[T+1]=bf(t[T+1],a)),T=a;else t[a+1]=Ta(O,0),0===T?T=a:t[O+1]=bf(t[O+1],a),O=a;B&&(t[a+1]=wf(t[a+1])),Lc(t,W,a,!0),Lc(t,W,a,!1),function cm(t,r,s,a,l){const d=l?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&Pa(d,r)>=0&&(s[a+1]=Ic(s[a+1]))}(r,W,t,a,d),v=Ta(T,O),d?r.classBindings=v:r.styleBindings=v}(l,d,r,s,v,a)}}function Tp(t,r,s,a,l){let d=null;const v=s.directiveEnd;let T=s.directiveStylingLast;for(-1===T?T=s.directiveStart:T++;T<v&&(d=r[T],a=Ud(a,d.hostAttrs,l),d!==t);)T++;return null!==t&&(s.directiveStylingLast=T),a}function Ud(t,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let d=0;d<r.length;d++){const v=r[d];"number"==typeof v?l=v:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),as(t,v,!!s||r[++d]))}return void 0===t?null:t}function _m(t,r,s,a,l,d,v,T){if(!(3&r.type))return;const O=t.data,B=O[T+1];Uc(function sg(t){return 1==(1&t)}(B)?Wl(O,r,s,l,gu(B),v):void 0)||(Uc(d)||function uh(t){return 2==(2&t)}(B)&&(d=Wl(O,null,s,l,T,v)),function Qu(t,r,s,a,l){const d=Mr(t);if(r)l?d?t.addClass(s,a):s.classList.add(a):d?t.removeClass(s,a):s.classList.remove(a);else{let v=-1===a.indexOf("-")?void 0:us.DashCase;if(null==l)d?t.removeStyle(s,a,v):s.style.removeProperty(a);else{const T="string"==typeof l&&l.endsWith("!important");T&&(l=l.slice(0,-10),v|=us.Important),d?t.setStyle(s,a,l,v):s.style.setProperty(a,l,T?"important":"")}}}(a,v,X(si(),s),l,d))}function Wl(t,r,s,a,l,d){const v=null===r;let T;for(;l>0;){const O=t[l],B=Array.isArray(O),W=B?O[1]:O,he=null===W;let Ue=s[l+1];Ue===lr&&(Ue=he?wn:void 0);let st=he?Li(Ue,a):W===a?Ue:void 0;if(B&&!Uc(st)&&(st=Li(O,a)),Uc(st)&&(T=st,v))return T;const Pt=t[l+1];l=v?Hs(Pt):gu(Pt)}if(null!==r){let O=d?r.residualClasses:r.residualStyles;null!=O&&(T=Li(O,a))}return T}function Uc(t){return void 0!==t}function vm(t,r){return 0!=(t.flags&(r?16:32))}function Em(t,r=""){const s=Rt(),a=or(),l=t+20,d=a.firstCreatePass?tl(a,l,1,r,null):a.data[l],v=s[l]=function co(t,r){return Mr(t)?t.createText(r):t.createTextNode(r)}(s[11],r);od(a,s,v,d),Ks(d,!1)}function Cp(t){return qh("",t,""),Cp}function qh(t,r,s){const a=Rt(),l=il(a,t,r,s);return l!==lr&&Ha(a,si(),l),qh}function Ky(t,r,s){const a=Rt();if(ws(a,to(),r)){const d=or(),v=ei();Uo(d,v,a,t,r,function bh(t,r,s){return(null===t||$r(t))&&(s=function q(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(s[r.index])),s[11]}(Ao(d.data),v,a),s,!0)}return Ky}const Bd=void 0;var rE=["en",[["a","p"],["AM","PM"],Bd],[["AM","PM"],Bd,Bd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bd,"{1} 'at' {0}",Bd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Zh={};function qy(t){const r=function iE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ov(r);if(s)return s;const a=r.split("-")[0];if(s=ov(a),s)return s;if("en"===a)return rE;throw new Error(`Missing locale data for the locale "${t}".`)}function sv(t){return qy(t)[cr.PluralCase]}function ov(t){return t in Zh||(Zh[t]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[t]),Zh[t]}var cr=(()=>((cr=cr||{})[cr.LocaleId=0]="LocaleId",cr[cr.DayPeriodsFormat=1]="DayPeriodsFormat",cr[cr.DayPeriodsStandalone=2]="DayPeriodsStandalone",cr[cr.DaysFormat=3]="DaysFormat",cr[cr.DaysStandalone=4]="DaysStandalone",cr[cr.MonthsFormat=5]="MonthsFormat",cr[cr.MonthsStandalone=6]="MonthsStandalone",cr[cr.Eras=7]="Eras",cr[cr.FirstDayOfWeek=8]="FirstDayOfWeek",cr[cr.WeekendRange=9]="WeekendRange",cr[cr.DateFormat=10]="DateFormat",cr[cr.TimeFormat=11]="TimeFormat",cr[cr.DateTimeFormat=12]="DateTimeFormat",cr[cr.NumberSymbols=13]="NumberSymbols",cr[cr.NumberFormats=14]="NumberFormats",cr[cr.CurrencyCode=15]="CurrencyCode",cr[cr.CurrencySymbol=16]="CurrencySymbol",cr[cr.CurrencyName=17]="CurrencyName",cr[cr.Currencies=18]="Currencies",cr[cr.Directionality=19]="Directionality",cr[cr.PluralCase=20]="PluralCase",cr[cr.ExtraData=21]="ExtraData",cr))();const Im="en-US";let av=Im;function Qy(t,r,s,a,l){if(t=Le(t),Array.isArray(t))for(let d=0;d<t.length;d++)Qy(t[d],r,s,a,l);else{const d=or(),v=Rt();let T=nl(t)?t:Le(t.provide),O=$f(t);const B=Kn(),W=1048575&B.providerIndexes,he=B.directiveStart,Ue=B.providerIndexes>>20;if(nl(t)||!t.multi){const st=new Zs(O,l,jh),Pt=Xy(T,r,l?W:W+Ue,he);-1===Pt?(I(io(B,v),d,T),Jy(d,t,r.length),r.push(T),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(st),v.push(st)):(s[Pt]=st,v[Pt]=st)}else{const st=Xy(T,r,W+Ue,he),Pt=Xy(T,r,W,W+Ue),nn=st>=0&&s[st],gn=Pt>=0&&s[Pt];if(l&&!gn||!l&&!nn){I(io(B,v),d,T);const Nn=function nw(t,r,s,a,l){const d=new Zs(t,s,jh);return d.multi=[],d.index=r,d.componentProviders=0,xv(d,l,a&&!s),d}(l?tw:ew,s.length,l,a,O);!l&&gn&&(s[Pt].providerFactory=Nn),Jy(d,t,r.length,0),r.push(T),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(Nn),v.push(Nn)}else Jy(d,t,st>-1?st:Pt,xv(s[l?Pt:st],O,!l&&a));!l&&a&&gn&&s[Pt].componentProviders++}}}function Jy(t,r,s,a){const l=nl(r),d=function Hf(t){return!!t.useClass}(r);if(l||d){const O=(d?Le(r.useClass):r).prototype.ngOnDestroy;if(O){const B=t.destroyHooks||(t.destroyHooks=[]);if(!l&&r.multi){const W=B.indexOf(s);-1===W?B.push(s,[a,O]):B[W+1].push(a,O)}else B.push(s,O)}}}function xv(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function Xy(t,r,s,a){for(let l=s;l<a;l++)if(r[l]===t)return l;return-1}function ew(t,r,s,a){return e_(this.multi,[])}function tw(t,r,s,a){const l=this.multi;let d;if(this.providerFactory){const v=this.providerFactory.componentProviders,T=ir(s,s[1],this.providerFactory.index,a);d=T.slice(0,v),e_(l,d);for(let O=v;O<T.length;O++)d.push(T[O])}else d=[],e_(l,d);return d}function e_(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Nv(t,r=[]){return s=>{s.providersResolver=(a,l)=>function XE(t,r,s){const a=or();if(a.firstCreatePass){const l=$r(t);Qy(s,a.data,a.blueprint,l,!0),Qy(r,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,r)}}class Rv{}class sw{resolveComponentFactory(r){throw function iw(t){const r=Error(`No component factory found for ${oe(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Np=(()=>{class t{}return t.NULL=new sw,t})();function ow(){return Qh(Kn(),Rt())}function Qh(t,r){return new Rp(Ce(t,r))}let Rp=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=ow,t})();function aw(t){return t instanceof Rp?t.nativeElement:t}class kv{}let uw=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function cw(){const t=Rt(),s=L(Kn().index,t);return function lw(t){return t[11]}(sn(s)?s:t)}(),t})(),dw=(()=>{class t{}return t.\u0275prov=Ae({token:t,providedIn:"root",factory:()=>null}),t})();class Fv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Lv=new Fv("13.0.3"),t_={};function Sm(t,r,s,a,l=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(R(d)),qn(d))for(let T=10;T<d.length;T++){const O=d[T],B=O[1].firstChild;null!==B&&Sm(O[1],O,B,a)}const v=s.type;if(8&v)Sm(t,r,s.child,a);else if(32&v){const T=hu(s,r);let O;for(;O=T();)a.push(O)}else if(16&v){const T=Ec(r,s);if(Array.isArray(T))a.push(...T);else{const O=Wu(r[16]);Sm(O[1],O,T,a,!0)}}s=l?s.projectionNext:s.next}return a}class Pp{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Sm(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(qn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(id(r,a),Ja(s,a))}this._attachedToViewContainer=!1}eh(this._lView[1],this._lView)}onDestroy(r){Mf(this._lView[1],this._lView,null,r)}markForCheck(){Ff(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Cd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Uf(t,r,s){To(!0);try{Cd(t,r,s)}finally{To(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ho(t,r){ad(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=r}}class hw extends Pp{constructor(r){super(r),this._view=r}detectChanges(){Ag(this._view)}checkNoChanges(){!function Sg(t){To(!0);try{Ag(t)}finally{To(!1)}}(this._view)}get context(){return null}}class Vv extends Np{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Je(r);return new n_(s,this.ngModule)}}function Uv(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}const pw=new pi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Zn});class n_ extends Rv{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function bc(t){return t.map(Xu).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Uv(this.componentDef.inputs)}get outputs(){return Uv(this.componentDef.outputs)}create(r,s,a,l){const d=(l=l||this.ngModule)?function gw(t,r){return{get:(s,a,l)=>{const d=t.get(s,t_,l);return d!==t_||a===t_?d:r.get(s,a,l)}}}(r,l.injector):r,v=d.get(kv,ai),T=d.get(dw,null),O=v.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",W=a?function Eg(t,r,s){if(Mr(t))return t.selectRootElement(r,s===kt.ShadowDom);let a="string"==typeof r?t.querySelector(r):r;return a.textContent="",a}(O,a,this.componentDef.encapsulation):Os(v.createRenderer(null,this.componentDef),B,function fw(t){const r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(B)),he=this.componentDef.onPush?576:528,Ue=function Ug(t,r){return{components:[],scheduler:t||Zn,clean:Bf,playerHandler:r||null,flags:0}}(),st=mh(0,null,null,1,0,null,null,null,null,null),Pt=yd(null,st,Ue,he,null,null,v,O,T,d);let nn,gn;mo(Pt);try{const Nn=function Vg(t,r,s,a,l,d){const v=s[1];s[20]=t;const O=tl(v,20,2,"#host",null),B=O.mergedAttrs=r.hostAttrs;null!==B&&(Eu(O,B,!0),null!==t&&(qt(l,t,B),null!==O.classes&&ih(l,t,O.classes),null!==O.styles&&Ju(l,t,O.styles)));const W=a.createRenderer(t,r),he=yd(s,Sf(r),null,r.onPush?64:16,s[20],O,a,W,d||null,null);return v.firstCreatePass&&(I(io(O,s),v,r.type),_u(v,O),vh(O,s.length,1)),Ac(s,he),s[20]=he}(W,this.componentDef,Pt,v,O);if(W)if(a)qt(O,W,["ng-version",Lv.full]);else{const{attrs:Gt,classes:nr}=function ng(t){const r=[],s=[];let a=1,l=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===l?""!==d&&r.push(d,t[++a]):8===l&&s.push(d);else{if(!bo(l))break;l=d}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Gt&&qt(O,W,Gt),nr&&nr.length>0&&ih(O,W,nr.join(" "))}if(gn=Lt(st,20),void 0!==s){const Gt=gn.projection=[];for(let nr=0;nr<this.ngContentSelectors.length;nr++){const Fr=s[nr];Gt.push(null!=Fr?Array.from(Fr):null)}}nn=function Oh(t,r,s,a,l){const d=s[1],v=function Cc(t,r,s){const a=Kn();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Tg(t,a,r,Nl(t,r,1,null),s));const l=ir(r,t,a.directiveStart,a);mi(l,r);const d=Ce(a,r);return d&&mi(d,r),l}(d,s,r);if(a.components.push(v),t[8]=v,l&&l.forEach(O=>O(v,r)),r.contentQueries){const O=Kn();r.contentQueries(1,v,O.directiveStart)}const T=Kn();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Fs(T.index),Id(s[1],T,0,T.directiveStart,T.directiveEnd,r),_h(r,v)),v}(Nn,this.componentDef,Pt,Ue,[Jf]),Rl(st,Pt,null)}finally{Mo()}return new yw(this.componentType,nn,Qh(gn,Pt),Pt,gn)}}class yw extends class rw{}{constructor(r,s,a,l,d){super(),this.location=a,this._rootLView=l,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new hw(l),this.componentType=r}get injector(){return new Vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Jh{}class Bv{}const Xh=new Map;class Hv extends Jh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const a=Sn(r);this._bootstrapComponents=$s(a.bootstrap),this._r3Injector=jf(r,s,[{provide:Jh,useValue:this},{provide:Np,useValue:this.componentFactoryResolver}],oe(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=sa.THROW_IF_NOT_FOUND,a=tn.Default){return r===sa||r===Jh||r===Sd?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class r_ extends Bv{constructor(r){super(),this.moduleType=r,null!==Sn(r)&&function vw(t){const r=new Set;!function s(a){const l=Sn(a,!0),d=l.id;null!==d&&(function jv(t,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${t} - ${oe(r)} vs ${oe(r.name)}`)}(d,Xh.get(d),a),Xh.set(d,a));const v=$s(l.imports);for(const T of v)r.has(T)||(r.add(T),s(T))}(t)}(r)}create(r){return new Hv(this.moduleType,r)}}function Gv(t,r,s){const a=Qr()+t,l=Rt();return l[a]===lr?oa(l,a,s?r.call(s):r()):function Oc(t,r){return t[r]}(l,a)}function zv(t,r,s,a){return Wv(Rt(),Qr(),t,r,s,a)}function Wv(t,r,s,a,l,d){const v=r+s;return ws(t,v,l)?oa(t,v+1,d?a.call(d,l):a(l)):function kp(t,r){const s=t[r];return s===lr?void 0:s}(t,v+1)}function Qv(t,r){const s=or();let a;const l=t+20;s.firstCreatePass?(a=function Sw(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const d=a.factory||(a.factory=Ni(a.type)),v=Jn(jh);try{const T=fi(!1),O=d();return fi(T),function gy(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Rt(),l,O),O}finally{Jn(v)}}function Jv(t,r,s){const a=t+20,l=Rt(),d=function mn(t,r){return t[r]}(l,a);return function Fp(t,r){return t[1].data[r].pure}(l,a)?Wv(l,Qr(),r,d.transform,s,d):d.transform(s)}function i_(t){return r=>{setTimeout(t,void 0,r)}}const gl=class Rw extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var l,d,v;let T=r,O=s||(()=>null),B=a;if(r&&"object"==typeof r){const he=r;T=null===(l=he.next)||void 0===l?void 0:l.bind(he),O=null===(d=he.error)||void 0===d?void 0:d.bind(he),B=null===(v=he.complete)||void 0===v?void 0:v.bind(he)}this.__isAsync&&(O=i_(O),T&&(T=i_(T)),B&&(B=i_(B)));const W=super.subscribe({next:T,error:O,complete:B});return r instanceof _.w0&&r.add(W),W}};function Pw(){return this._results[rl()]()}class s_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=rl(),a=s_.prototype;a[s]||(a[s]=Pw)}get changes(){return this._changes||(this._changes=new gl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=wi(r);(this._changesDetected=!function El(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],d=r[a];if(s&&(l=s(l),d=s(d)),d!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Lp=(()=>{class t{}return t.__NG_ELEMENT_ID__=Lw,t})();const kw=Lp,Fw=class extends kw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=yd(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(a[19]=d.createEmbeddedView(s)),Rl(s,a,r),new Pp(a)}};function Lw(){return Mm(Kn(),Rt())}function Mm(t,r){return 4&t.type?new Fw(r,t,Qh(t,r)):null}let Om=(()=>{class t{}return t.__NG_ELEMENT_ID__=Vw,t})();function Vw(){return t0(Kn(),Rt())}const Uw=Om,Xv=class extends Uw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Qh(this._hostTNode,this._hostLView)}get injector(){return new Vs(this._hostTNode,this._hostLView)}get parentInjector(){const r=S(this._hostTNode,this._hostLView);if(Hn(r)){const s=gt(r,this._hostLView),a=xo(r);return new Vs(s[1].data[a+8],s)}return new Vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=e0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const l=r.createEmbeddedView(s||{});return this.insert(l,a),l}createComponent(r,s,a,l,d){const v=r&&!function Fo(t){return"function"==typeof t}(r);let T;if(v)T=s;else{const he=s||{};T=he.index,a=he.injector,l=he.projectableNodes,d=he.ngModuleRef}const O=v?r:new n_(Je(r)),B=a||this.parentInjector;if(!d&&null==O.ngModule&&B){const he=B.get(Jh,null);he&&(d=he)}const W=O.create(B,l,void 0,d);return this.insert(W.hostView,T),W}insert(r,s){const a=r._lView,l=a[1];if(function x(t){return qn(t[3])}(a)){const W=this.indexOf(r);if(-1!==W)this.detach(W);else{const he=a[3],Ue=new Xv(he,he[6],he[3]);Ue.detach(Ue.indexOf(r))}}const d=this._adjustIndex(s),v=this._lContainer;!function hf(t,r,s,a){const l=10+a,d=s.length;a>0&&(s[l-1][4]=r),a<d-10?(r[4]=s[l],Yo(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const v=r[17];null!==v&&s!==v&&function Wp(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(v,r);const T=r[19];null!==T&&T.insertView(t),r[2]|=128}(l,a,v,d);const T=pu(d,v),O=a[11],B=Yu(O,v[7]);return null!==B&&function mc(t,r,s,a,l,d){a[0]=l,a[6]=r,ad(t,a,s,1,l,d)}(l,v[6],O,a,B,T),r.attachToViewContainerRef(),Yo(o_(v),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=e0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=id(this._lContainer,s);a&&(Ja(o_(this._lContainer),s),eh(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=id(this._lContainer,s);return a&&null!=Ja(o_(this._lContainer),s)?new Pp(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function e0(t){return t[8]}function o_(t){return t[8]||(t[8]=[])}function t0(t,r){let s;const a=r[t.index];if(qn(a))s=a;else{let l;if(8&t.type)l=R(a);else{const d=r[11];l=d.createComment("");const v=Ce(t,r);Ba(d,Yu(d,v),l,function Zp(t,r){return Mr(t)?t.nextSibling(r):r.nextSibling}(d,v),!1)}r[t.index]=s=Pl(a,r,l,t),Ac(r,s)}return new Xv(s,t,r)}class a_{constructor(r){this.queryList=r,this.matches=null}clone(){return new a_(this.queryList)}setDirty(){this.queryList.setDirty()}}class u_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let d=0;d<a;d++){const v=s.getByIndex(d);l.push(this.queries[v.indexInDeclarationView].clone())}return new u_(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==c0(r,s).matches&&this.queries[s].setDirty()}}class n0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class l_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,l);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new l_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class c_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new c_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const d=a[l];this.matchTNodeWithReadOption(r,s,$w(s,d)),this.matchTNodeWithReadOption(r,s,pn(s,r,d,!1,!1))}else a===Lp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,pn(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Rp||l===Om||l===Lp&&4&s.type)this.addMatch(s.index,-2);else{const d=pn(s,r,l,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function $w(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function Gw(t,r,s,a){return-1===s?function Hw(t,r){return 11&t.type?Qh(t,r):4&t.type?Mm(t,r):null}(r,t):-2===s?function zw(t,r,s){return s===Rp?Qh(r,t):s===Lp?Mm(r,t):s===Om?t0(r,t):void 0}(t,r,a):ir(t,t[1],s,r)}function r0(t,r,s,a){const l=r[19].queries[a];if(null===l.matches){const d=t.data,v=s.matches,T=[];for(let O=0;O<v.length;O+=2){const B=v[O];T.push(B<0?null:Gw(r,d[B],v[O+1],s.metadata.read))}l.matches=T}return l.matches}function d_(t,r,s,a){const l=t.queries.getByIndex(s),d=l.matches;if(null!==d){const v=r0(t,r,l,s);for(let T=0;T<d.length;T+=2){const O=d[T];if(O>0)a.push(v[T/2]);else{const B=d[T+1],W=r[-O];for(let he=10;he<W.length;he++){const Ue=W[he];Ue[17]===Ue[3]&&d_(Ue[1],Ue,B,a)}if(null!==W[9]){const he=W[9];for(let Ue=0;Ue<he.length;Ue++){const st=he[Ue];d_(st[1],st,B,a)}}}}}return a}function s0(t){const r=Rt(),s=or(),a=no();Go(a+1);const l=c0(s,a);if(t.dirty&&w(r)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const d=l.crossesNgTemplate?d_(s,r,a,[]):r0(s,r,l,a);t.reset(d,aw),t.notifyOnChanges()}return!0}return!1}function o0(t,r,s,a){const l=or();if(l.firstCreatePass){const d=Kn();(function l0(t,r,s){null===t.queries&&(t.queries=new l_),t.queries.track(new c_(r,s))})(l,new n0(r,s,a),d.index),function qw(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}!function u0(t,r,s){const a=new s_(4==(4&s));Mf(t,r,a,a.destroy),null===r[19]&&(r[19]=new u_),r[19].queries.push(new a_(a))}(l,Rt(),s)}function a0(){return function Kw(t,r){return t[19].queries[r].queryList}(Rt(),no())}function c0(t,r){return t.queries.getByIndex(r)}function Rm(...t){}const y_=new pi("Application Initializer");let tf=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Rm,this.reject=Rm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(Ld(d))s.push(d);else if(um(d)){const v=new Promise((T,O)=>{d.subscribe({complete:T,error:O})});s.push(v)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Wi(y_,8))},t.\u0275prov=Ae({token:t,factory:t.\u0275fac}),t})();const A0=new pi("AppId"),fb={provide:A0,useFactory:function hb(){return`${__()}${__()}${__()}`},deps:[]};function __(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const S0=new pi("Platform Initializer"),M0=new pi("Platform ID"),O0=new pi("appBootstrapListener");let x0=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ae({token:t,factory:t.\u0275fac}),t})();const Pm=new pi("LocaleId"),N0=new pi("DefaultCurrencyCode");class pb{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let v_=(()=>{class t{compileModuleSync(s){return new r_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=$s(Sn(s).declarations).reduce((v,T)=>{const O=Je(T);return O&&v.push(new n_(O)),v},[]);return new pb(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ae({token:t,factory:t.\u0275fac}),t})();const mb=(()=>Promise.resolve(0))();function E_(t){"undefined"==typeof Zone?mb.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ma{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gl(!1),this.onMicrotaskEmpty=new gl(!1),this.onStable=new gl(!1),this.onError=new gl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function yb(){let t=En.requestAnimationFrame,r=En.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Eb(t){const r=()=>{!function vb(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(En,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,b_(t),t.isCheckStableRunning=!0,w_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),b_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,d,v,T)=>{try{return R0(t),s.invokeTask(l,d,v,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),P0(t)}},onInvoke:(s,a,l,d,v,T,O)=>{try{return R0(t),s.invoke(l,d,v,T,O)}finally{t.shouldCoalesceRunChangeDetection&&r(),P0(t)}},onHasTask:(s,a,l,d)=>{s.hasTask(l,d),a===l&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,b_(t),w_(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,l,d)=>(s.handleError(l,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ma.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ma.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const d=this._inner,v=d.scheduleEventTask("NgZoneEvent: "+l,r,_b,Rm,Rm);try{return d.runTask(v,s,a)}finally{d.cancelTask(v)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const _b={};function w_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function b_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function R0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function P0(t){t._nesting--,w_(t)}class wb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gl,this.onMicrotaskEmpty=new gl,this.onStable=new gl,this.onError=new gl}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}let k0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ma.assertNotInAngularZone(),E_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())E_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(Wi(Ma))},t.\u0275prov=Ae({token:t,factory:t.\u0275fac}),t})(),F0=(()=>{class t{constructor(){this._applications=new Map,I_.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return I_.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ae({token:t,factory:t.\u0275fac}),t})();class bb{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function Ib(t){I_=t}let Cu,I_=new bb;const L0=new pi("AllowMultipleToken");class Cb{constructor(r,s){this.name=r,this.token=s}}function V0(t,r,s=[]){const a=`Platform: ${r}`,l=new pi(a);return(d=[])=>{let v=U0();if(!v||v.injector.get(L0,!1))if(t)t(s.concat(d).concat({provide:l,useValue:!0}));else{const T=s.concat(d).concat({provide:l,useValue:!0},{provide:Md,useValue:"platform"});!function Ab(t){if(Cu&&!Cu.destroyed&&!Cu.injector.get(L0,!1))throw new Dt("400","");Cu=t.get(B0);const r=t.get(S0,null);r&&r.forEach(s=>s())}(sa.create({providers:T,name:a}))}return function Sb(t){const r=U0();if(!r)throw new Dt("401","");return r}()}}function U0(){return Cu&&!Cu.destroyed?Cu:null}let B0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const T=function Mb(t,r){let s;return s="noop"===t?new wb:("zone.js"===t?void 0:t)||new Ma({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),O=[{provide:Ma,useValue:T}];return T.run(()=>{const B=sa.create({providers:O,parent:this.injector,name:s.moduleType.name}),W=s.create(B),he=W.injector.get(ee,null);if(!he)throw new Dt("402","");return T.runOutsideAngular(()=>{const Ue=T.onError.subscribe({next:st=>{he.handleError(st)}});W.onDestroy(()=>{D_(this._modules,W),Ue.unsubscribe()})}),function Ob(t,r,s){try{const a=s();return Ld(a)?a.catch(l=>{throw r.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(he,T,()=>{const Ue=W.injector.get(tf);return Ue.runInitializers(),Ue.donePromise.then(()=>(function uE(t){Kt(t,"Expected localeId to be defined"),"string"==typeof t&&(av=t.toLowerCase().replace(/_/g,"-"))}(W.injector.get(Pm,Im)||Im),this._moduleDoBootstrap(W),W))})})}bootstrapModule(s,a=[]){const l=j0({},a);return function Db(t,r,s){const a=new r_(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(s){const a=s.injector.get(Up);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Dt("403","");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Dt("404","");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Wi(sa))},t.\u0275prov=Ae({token:t,factory:t.\u0275fac}),t})();function j0(t,r){return Array.isArray(r)?r.reduce(j0,t):Object.assign(Object.assign({},t),r)}let Up=(()=>{class t{constructor(s,a,l,d,v){this._zone=s,this._injector=a,this._exceptionHandler=l,this._componentFactoryResolver=d,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new G.y(B=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{B.next(this._stable),B.complete()})}),O=new G.y(B=>{let W;this._zone.runOutsideAngular(()=>{W=this._zone.onStable.subscribe(()=>{Ma.assertNotInAngularZone(),E_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,B.next(!0))})})});const he=this._zone.onUnstable.subscribe(()=>{Ma.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{B.next(!1)}))});return()=>{W.unsubscribe(),he.unsubscribe()}});this.isStable=(0,ve.T)(T,O.pipe((0,Ie.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Dt("405","");let l;l=s instanceof Rv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(l.componentType);const d=function Tb(t){return t.isBoundToModule}(l)?void 0:this._injector.get(Jh),T=l.create(sa.NULL,[],a||l.selector,d),O=T.location.nativeElement,B=T.injector.get(k0,null),W=B&&T.injector.get(F0);return B&&W&&W.registerApplication(O,B),T.onDestroy(()=>{this.detachView(T.hostView),D_(this.components,T),W&&W.unregisterApplication(O)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Dt("101","");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;D_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(O0,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(Wi(Ma),Wi(sa),Wi(ee),Wi(Np),Wi(tf))},t.\u0275prov=Ae({token:t,factory:t.\u0275fac}),t})();function D_(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let H0=!0,G0=!1;function Nb(){return G0=!0,H0}function Rb(){if(G0)throw new Error("Cannot enable prod mode after platform setup.");H0=!1}let Pb=(()=>{class t{}return t.__NG_ELEMENT_ID__=kb,t})();function kb(t){return function Fb(t,r,s){if(Wn(t)&&!s){const a=L(t.index,r);return new Pp(a,a)}return 47&t.type?new Pp(r[16],r):null}(Kn(),Rt(),16==(16&t))}class Y0{constructor(){}supports(r){return kd(r)}create(r){return new $b(r)}}const jb=(t,r)=>r;class $b{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||jb}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,d=null;for(;s||a;){const v=!a||s&&s.currentIndex<J0(a,l,d)?s:a,T=J0(v,l,d),O=v.currentIndex;if(v===a)l--,a=a._nextRemoved;else if(s=s._next,null==v.previousIndex)l++;else{d||(d=[]);const B=T-l,W=O-l;if(B!=W){for(let Ue=0;Ue<B;Ue++){const st=Ue<d.length?d[Ue]:d[Ue]=0,Pt=st+Ue;W<=Pt&&Pt<B&&(d[Ue]=st+1)}d[v.previousIndex]=W-B}}T!==O&&r(v,T,O)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!kd(r))throw new Error(`Error trying to diff '${oe(r)}'. Only arrays and iterables are allowed`);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,d,v,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let T=0;T<this.length;T++)d=r[T],v=this._trackByFn(T,d),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,d,v,T)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,v,T),a=!0),s=s._next}else l=0,function $g(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[rl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,T=>{v=this._trackByFn(l,T),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,T,v,l)),Object.is(s.item,T)||this._addIdentityChange(s,T)):(s=this._mismatch(s,T,v,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,l)):r=this._addAfter(new Hb(s,a),d,l),r}_verifyReinsertion(r,s,a,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,d=r._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Q0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Q0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Hb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Q0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Gb,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function J0(t,r,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class X0{constructor(){}supports(r){return r instanceof Map||ip(r)}create(){return new zb}}class zb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||ip(r)))throw new Error(`Error trying to diff '${oe(r)}'. Only maps and objects are allowed`)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const d=l._prev,v=l._next;return d&&(d._next=v),v&&(v._prev=d),l._next=null,l._prev=null,l}const a=new Wb(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Wb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eE(){return new Fm([new Y0])}let Fm=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||eE()),deps:[[t,new Ms,new Lo]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function Kb(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=Ae({token:t,providedIn:"root",factory:eE}),t})();function tE(){return new Lm([new X0])}let Lm=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||tE()),deps:[[t,new Ms,new Lo]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=Ae({token:t,providedIn:"root",factory:tE}),t})();const qb=[new X0],Yb=new Fm([new Y0]),Qb=new Lm(qb),Jb=V0(null,"core",[{provide:M0,useValue:"unknown"},{provide:B0,deps:[sa]},{provide:F0,deps:[]},{provide:x0,deps:[]}]),rI=[{provide:Up,useClass:Up,deps:[Ma,sa,ee,Np,tf]},{provide:pw,deps:[Ma],useFactory:function iI(t){let r=[];return t.onStable.subscribe(()=>{for(;r.length;)r.pop()()}),function(s){r.push(s)}}},{provide:tf,useClass:tf,deps:[[new Lo,y_]]},{provide:v_,useClass:v_,deps:[]},fb,{provide:Fm,useFactory:function Xb(){return Yb},deps:[]},{provide:Lm,useFactory:function eI(){return Qb},deps:[]},{provide:Pm,useFactory:function tI(t){return t||function nI(){return"undefined"!=typeof $localize&&$localize.locale||Im}()},deps:[[new iu(Pm),new Lo,new Ms]]},{provide:N0,useValue:"USD"}];let sI=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Wi(Up))},t.\u0275mod=ie({type:t}),t.\u0275inj=Mt({providers:rI}),t})()},2382:(Qt,rt,k)=>{k.d(rt,{Fj:()=>We,qu:()=>Lt,NI:()=>Un,u:()=>ps,cw:()=>Gn,sg:()=>Yr,u5:()=>X,JJ:()=>Se,JL:()=>tt,YN:()=>yi,wV:()=>zt,_:()=>qr,UX:()=>Ce,EJ:()=>Ps,kI:()=>ae,_Y:()=>qe,Kr:()=>Ni});var c=k(5e3),_=k(9808),G=k(8306),ve=k(4742),Ie=k(8421),Te=k(3269),De=k(5403),oe=k(3268),Oe=k(1810),de=k(8996),Le=k(4004);let ot=(()=>{class L{constructor(y,x){this._renderer=y,this._elementRef=x,this.onChange=le=>{},this.onTouched=()=>{}}setProperty(y,x){this._renderer.setProperty(this._elementRef.nativeElement,y,x)}registerOnTouched(y){this.onTouched=y}registerOnChange(y){this.onChange=y}setDisabledState(y){this.setProperty("disabled",y)}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(c.Qsj),c.Y36(c.SBq))},L.\u0275dir=c.lG2({type:L}),L})(),it=(()=>{class L extends ot{}return L.\u0275fac=function(){let w;return function(x){return(w||(w=c.n5z(L)))(x||L)}}(),L.\u0275dir=c.lG2({type:L,features:[c.qOj]}),L})();const Dt=new c.OlP("NgValueAccessor"),Ye={provide:Dt,useExisting:(0,c.Gpc)(()=>We),multi:!0},Et=new c.OlP("CompositionEventMode");let We=(()=>{class L extends ot{constructor(y,x,le){super(y,x),this._compositionMode=le,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lt(){const L=(0,_.q)()?(0,_.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(y){this.setProperty("value",null==y?"":y)}_handleInput(y){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(y)}_compositionStart(){this._composing=!0}_compositionEnd(y){this._composing=!1,this._compositionMode&&this.onChange(y)}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Et,8))},L.\u0275dir=c.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(y,x){1&y&&c.NdJ("input",function(Qe){return x._handleInput(Qe.target.value)})("blur",function(){return x.onTouched()})("compositionstart",function(){return x._compositionStart()})("compositionend",function(Qe){return x._compositionEnd(Qe.target.value)})},features:[c._Bn([Ye]),c.qOj]}),L})();function Re(L){return null==L||0===L.length}function at(L){return null!=L&&"number"==typeof L.length}const It=new c.OlP("NgValidators"),Ne=new c.OlP("NgAsyncValidators"),Ct=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ae{static min(w){return function me(L){return w=>{if(Re(w.value)||Re(L))return null;const y=parseFloat(w.value);return!isNaN(y)&&y<L?{min:{min:L,actual:w.value}}:null}}(w)}static max(w){return function _e(L){return w=>{if(Re(w.value)||Re(L))return null;const y=parseFloat(w.value);return!isNaN(y)&&y>L?{max:{max:L,actual:w.value}}:null}}(w)}static required(w){return function xe(L){return Re(L.value)?{required:!0}:null}(w)}static requiredTrue(w){return function He(L){return!0===L.value?null:{required:!0}}(w)}static email(w){return function fe(L){return Re(L.value)||Ct.test(L.value)?null:{email:!0}}(w)}static minLength(w){return function mt(L){return w=>Re(w.value)||!at(w.value)?null:w.value.length<L?{minlength:{requiredLength:L,actualLength:w.value.length}}:null}(w)}static maxLength(w){return function Vt(L){return w=>at(w.value)&&w.value.length>L?{maxlength:{requiredLength:L,actualLength:w.value.length}}:null}(w)}static pattern(w){return function hn(L){if(!L)return wt;let w,y;return"string"==typeof L?(y="","^"!==L.charAt(0)&&(y+="^"),y+=L,"$"!==L.charAt(L.length-1)&&(y+="$"),w=new RegExp(y)):(y=L.toString(),w=L),x=>{if(Re(x.value))return null;const le=x.value;return w.test(le)?null:{pattern:{requiredPattern:y,actualValue:le}}}}(w)}static nullValidator(w){return null}static compose(w){return Ke(w)}static composeAsync(w){return en(w)}}function wt(L){return null}function Kt(L){return null!=L}function Jt(L){const w=(0,c.QGY)(L)?(0,de.D)(L):L;return(0,c.CqO)(w),w}function rn(L){let w={};return L.forEach(y=>{w=null!=y?Object.assign(Object.assign({},w),y):w}),0===Object.keys(w).length?null:w}function dt(L,w){return w.map(y=>y(L))}function Ae(L){return L.map(w=>function pt(L){return!L.validate}(w)?w:y=>w.validate(y))}function Ke(L){if(!L)return null;const w=L.filter(Kt);return 0==w.length?null:function(y){return rn(dt(y,w))}}function Mt(L){return null!=L?Ke(Ae(L)):null}function en(L){if(!L)return null;const w=L.filter(Kt);return 0==w.length?null:function(y){return function ne(...L){const w=(0,Te.jO)(L),{args:y,keys:x}=(0,ve.D)(L),le=new G.y(Qe=>{const{length:St}=y;if(!St)return void Qe.complete();const Ft=new Array(St);let $n=St,br=St;for(let ar=0;ar<St;ar++){let yr=!1;(0,Ie.Xf)(y[ar]).subscribe(new De.Q(Qe,Bn=>{yr||(yr=!0,br--),Ft[ar]=Bn},()=>$n--,void 0,()=>{(!$n||!yr)&&(br||Qe.next(x?(0,Oe.n)(x,Ft):Ft),Qe.complete())}))}});return w?le.pipe((0,oe.Z)(w)):le}(dt(y,w).map(Jt)).pipe((0,Le.U)(rn))}}function Dn(L){return null!=L?en(Ae(L)):null}function vn(L,w){return null===L?[w]:Array.isArray(L)?[...L,w]:[L,w]}function Qn(L){return L._rawValidators}function dr(L){return L._rawAsyncValidators}function Fn(L){return L?Array.isArray(L)?L:[L]:[]}function un(L,w){return Array.isArray(L)?L.includes(w):L===w}function sr(L,w){const y=Fn(w);return Fn(L).forEach(le=>{un(y,le)||y.push(le)}),y}function er(L,w){return Fn(w).filter(y=>!un(L,y))}class tn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(w){this._rawValidators=w||[],this._composedValidatorFn=Mt(this._rawValidators)}_setAsyncValidators(w){this._rawAsyncValidators=w||[],this._composedAsyncValidatorFn=Dn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(w){this._onDestroyCallbacks.push(w)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(w=>w()),this._onDestroyCallbacks=[]}reset(w){this.control&&this.control.reset(w)}hasError(w,y){return!!this.control&&this.control.hasError(w,y)}getError(w,y){return this.control?this.control.getError(w,y):null}}class Ln extends tn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ln extends tn{get formDirective(){return null}get path(){return null}}class Jn{constructor(w){this._cd=w}is(w){var y,x,le;return"submitted"===w?!!(null===(y=this._cd)||void 0===y?void 0:y.submitted):!!(null===(le=null===(x=this._cd)||void 0===x?void 0:x.control)||void 0===le?void 0:le[w])}}let Se=(()=>{class L extends Jn{constructor(y){super(y)}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(Ln,2))},L.\u0275dir=c.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(y,x){2&y&&c.ekj("ng-untouched",x.is("untouched"))("ng-touched",x.is("touched"))("ng-pristine",x.is("pristine"))("ng-dirty",x.is("dirty"))("ng-valid",x.is("valid"))("ng-invalid",x.is("invalid"))("ng-pending",x.is("pending"))},features:[c.qOj]}),L})(),tt=(()=>{class L extends Jn{constructor(y){super(y)}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(ln,10))},L.\u0275dir=c.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(y,x){2&y&&c.ekj("ng-untouched",x.is("untouched"))("ng-touched",x.is("touched"))("ng-pristine",x.is("pristine"))("ng-dirty",x.is("dirty"))("ng-valid",x.is("valid"))("ng-invalid",x.is("invalid"))("ng-pending",x.is("pending"))("ng-submitted",x.is("submitted"))},features:[c.qOj]}),L})();function j(L,w){Ze(L,w),w.valueAccessor.writeValue(L.value),function ue(L,w){w.valueAccessor.registerOnChange(y=>{L._pendingValue=y,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&ce(L,w)})}(L,w),function je(L,w){const y=(x,le)=>{w.valueAccessor.writeValue(x),le&&w.viewToModelUpdate(x)};L.registerOnChange(y),w._registerOnDestroy(()=>{L._unregisterOnChange(y)})}(L,w),function re(L,w){w.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&ce(L,w),"submit"!==L.updateOn&&L.markAsTouched()})}(L,w),function pe(L,w){if(w.valueAccessor.setDisabledState){const y=x=>{w.valueAccessor.setDisabledState(x)};L.registerOnDisabledChange(y),w._registerOnDestroy(()=>{L._unregisterOnDisabledChange(y)})}}(L,w)}function Z(L,w,y=!0){const x=()=>{};w.valueAccessor&&(w.valueAccessor.registerOnChange(x),w.valueAccessor.registerOnTouched(x)),ct(L,w),L&&(w._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function $e(L,w){L.forEach(y=>{y.registerOnValidatorChange&&y.registerOnValidatorChange(w)})}function Ze(L,w){const y=Qn(L);null!==w.validator?L.setValidators(vn(y,w.validator)):"function"==typeof y&&L.setValidators([y]);const x=dr(L);null!==w.asyncValidator?L.setAsyncValidators(vn(x,w.asyncValidator)):"function"==typeof x&&L.setAsyncValidators([x]);const le=()=>L.updateValueAndValidity();$e(w._rawValidators,le),$e(w._rawAsyncValidators,le)}function ct(L,w){let y=!1;if(null!==L){if(null!==w.validator){const le=Qn(L);if(Array.isArray(le)&&le.length>0){const Qe=le.filter(St=>St!==w.validator);Qe.length!==le.length&&(y=!0,L.setValidators(Qe))}}if(null!==w.asyncValidator){const le=dr(L);if(Array.isArray(le)&&le.length>0){const Qe=le.filter(St=>St!==w.asyncValidator);Qe.length!==le.length&&(y=!0,L.setAsyncValidators(Qe))}}}const x=()=>{};return $e(w._rawValidators,x),$e(w._rawAsyncValidators,x),y}function ce(L,w){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),w.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function Zt(L,w){const y=L.indexOf(w);y>-1&&L.splice(y,1)}const Rn="VALID",xn="INVALID",pr="PENDING",Sr="DISABLED";function vr(L){return(ht(L)?L.validators:L)||null}function Ir(L){return Array.isArray(L)?Mt(L):L||null}function Ge(L,w){return(ht(w)?w.asyncValidators:L)||null}function Ve(L){return Array.isArray(L)?Dn(L):L||null}function ht(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}class Xt{constructor(w,y){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=w,this._rawAsyncValidators=y,this._composedValidatorFn=Ir(this._rawValidators),this._composedAsyncValidatorFn=Ve(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(w){this._rawValidators=this._composedValidatorFn=w}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(w){this._rawAsyncValidators=this._composedAsyncValidatorFn=w}get parent(){return this._parent}get valid(){return this.status===Rn}get invalid(){return this.status===xn}get pending(){return this.status==pr}get disabled(){return this.status===Sr}get enabled(){return this.status!==Sr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(w){this._rawValidators=w,this._composedValidatorFn=Ir(w)}setAsyncValidators(w){this._rawAsyncValidators=w,this._composedAsyncValidatorFn=Ve(w)}addValidators(w){this.setValidators(sr(w,this._rawValidators))}addAsyncValidators(w){this.setAsyncValidators(sr(w,this._rawAsyncValidators))}removeValidators(w){this.setValidators(er(w,this._rawValidators))}removeAsyncValidators(w){this.setAsyncValidators(er(w,this._rawAsyncValidators))}hasValidator(w){return un(this._rawValidators,w)}hasAsyncValidator(w){return un(this._rawAsyncValidators,w)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(w={}){this.touched=!0,this._parent&&!w.onlySelf&&this._parent.markAsTouched(w)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(w=>w.markAllAsTouched())}markAsUntouched(w={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(y=>{y.markAsUntouched({onlySelf:!0})}),this._parent&&!w.onlySelf&&this._parent._updateTouched(w)}markAsDirty(w={}){this.pristine=!1,this._parent&&!w.onlySelf&&this._parent.markAsDirty(w)}markAsPristine(w={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(y=>{y.markAsPristine({onlySelf:!0})}),this._parent&&!w.onlySelf&&this._parent._updatePristine(w)}markAsPending(w={}){this.status=pr,!1!==w.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!w.onlySelf&&this._parent.markAsPending(w)}disable(w={}){const y=this._parentMarkedDirty(w.onlySelf);this.status=Sr,this.errors=null,this._forEachChild(x=>{x.disable(Object.assign(Object.assign({},w),{onlySelf:!0}))}),this._updateValue(),!1!==w.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},w),{skipPristineCheck:y})),this._onDisabledChange.forEach(x=>x(!0))}enable(w={}){const y=this._parentMarkedDirty(w.onlySelf);this.status=Rn,this._forEachChild(x=>{x.enable(Object.assign(Object.assign({},w),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:w.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},w),{skipPristineCheck:y})),this._onDisabledChange.forEach(x=>x(!1))}_updateAncestors(w){this._parent&&!w.onlySelf&&(this._parent.updateValueAndValidity(w),w.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(w){this._parent=w}updateValueAndValidity(w={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rn||this.status===pr)&&this._runAsyncValidator(w.emitEvent)),!1!==w.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!w.onlySelf&&this._parent.updateValueAndValidity(w)}_updateTreeValidity(w={emitEvent:!0}){this._forEachChild(y=>y._updateTreeValidity(w)),this.updateValueAndValidity({onlySelf:!0,emitEvent:w.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sr:Rn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(w){if(this.asyncValidator){this.status=pr,this._hasOwnPendingAsyncValidator=!0;const y=Jt(this.asyncValidator(this));this._asyncValidationSubscription=y.subscribe(x=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(x,{emitEvent:w})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(w,y={}){this.errors=w,this._updateControlsErrors(!1!==y.emitEvent)}get(w){return function Xr(L,w,y){if(null==w||(Array.isArray(w)||(w=w.split(y)),Array.isArray(w)&&0===w.length))return null;let x=L;return w.forEach(le=>{x=x instanceof Gn?x.controls.hasOwnProperty(le)?x.controls[le]:null:x instanceof zn&&x.at(le)||null}),x}(this,w,".")}getError(w,y){const x=y?this.get(y):this;return x&&x.errors?x.errors[w]:null}hasError(w,y){return!!this.getError(w,y)}get root(){let w=this;for(;w._parent;)w=w._parent;return w}_updateControlsErrors(w){this.status=this._calculateStatus(),w&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(w)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Sr:this.errors?xn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pr)?pr:this._anyControlsHaveStatus(xn)?xn:Rn}_anyControlsHaveStatus(w){return this._anyControls(y=>y.status===w)}_anyControlsDirty(){return this._anyControls(w=>w.dirty)}_anyControlsTouched(){return this._anyControls(w=>w.touched)}_updatePristine(w={}){this.pristine=!this._anyControlsDirty(),this._parent&&!w.onlySelf&&this._parent._updatePristine(w)}_updateTouched(w={}){this.touched=this._anyControlsTouched(),this._parent&&!w.onlySelf&&this._parent._updateTouched(w)}_isBoxedValue(w){return"object"==typeof w&&null!==w&&2===Object.keys(w).length&&"value"in w&&"disabled"in w}_registerOnCollectionChange(w){this._onCollectionChange=w}_setUpdateStrategy(w){ht(w)&&null!=w.updateOn&&(this._updateOn=w.updateOn)}_parentMarkedDirty(w){return!w&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Un extends Xt{constructor(w=null,y,x){super(vr(y),Ge(x,y)),this._onChange=[],this._applyFormState(w),this._setUpdateStrategy(y),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(w,y={}){this.value=this._pendingValue=w,this._onChange.length&&!1!==y.emitModelToViewChange&&this._onChange.forEach(x=>x(this.value,!1!==y.emitViewToModelChange)),this.updateValueAndValidity(y)}patchValue(w,y={}){this.setValue(w,y)}reset(w=null,y={}){this._applyFormState(w),this.markAsPristine(y),this.markAsUntouched(y),this.setValue(this.value,y),this._pendingChange=!1}_updateValue(){}_anyControls(w){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(w){this._onChange.push(w)}_unregisterOnChange(w){Zt(this._onChange,w)}registerOnDisabledChange(w){this._onDisabledChange.push(w)}_unregisterOnDisabledChange(w){Zt(this._onDisabledChange,w)}_forEachChild(w){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(w){this._isBoxedValue(w)?(this.value=this._pendingValue=w.value,w.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=w}}class Gn extends Xt{constructor(w,y,x){super(vr(y),Ge(x,y)),this.controls=w,this._initObservables(),this._setUpdateStrategy(y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(w,y){return this.controls[w]?this.controls[w]:(this.controls[w]=y,y.setParent(this),y._registerOnCollectionChange(this._onCollectionChange),y)}addControl(w,y,x={}){this.registerControl(w,y),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}removeControl(w,y={}){this.controls[w]&&this.controls[w]._registerOnCollectionChange(()=>{}),delete this.controls[w],this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}setControl(w,y,x={}){this.controls[w]&&this.controls[w]._registerOnCollectionChange(()=>{}),delete this.controls[w],y&&this.registerControl(w,y),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}contains(w){return this.controls.hasOwnProperty(w)&&this.controls[w].enabled}setValue(w,y={}){this._checkAllValuesPresent(w),Object.keys(w).forEach(x=>{this._throwIfControlMissing(x),this.controls[x].setValue(w[x],{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y)}patchValue(w,y={}){null!=w&&(Object.keys(w).forEach(x=>{this.controls[x]&&this.controls[x].patchValue(w[x],{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y))}reset(w={},y={}){this._forEachChild((x,le)=>{x.reset(w[le],{onlySelf:!0,emitEvent:y.emitEvent})}),this._updatePristine(y),this._updateTouched(y),this.updateValueAndValidity(y)}getRawValue(){return this._reduceChildren({},(w,y,x)=>(w[x]=y instanceof Un?y.value:y.getRawValue(),w))}_syncPendingControls(){let w=this._reduceChildren(!1,(y,x)=>!!x._syncPendingControls()||y);return w&&this.updateValueAndValidity({onlySelf:!0}),w}_throwIfControlMissing(w){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[w])throw new Error(`Cannot find form control with name: ${w}.`)}_forEachChild(w){Object.keys(this.controls).forEach(y=>{const x=this.controls[y];x&&w(x,y)})}_setUpControls(){this._forEachChild(w=>{w.setParent(this),w._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(w){for(const y of Object.keys(this.controls)){const x=this.controls[y];if(this.contains(y)&&w(x))return!0}return!1}_reduceValue(){return this._reduceChildren({},(w,y,x)=>((y.enabled||this.disabled)&&(w[x]=y.value),w))}_reduceChildren(w,y){let x=w;return this._forEachChild((le,Qe)=>{x=y(x,le,Qe)}),x}_allControlsDisabled(){for(const w of Object.keys(this.controls))if(this.controls[w].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(w){this._forEachChild((y,x)=>{if(void 0===w[x])throw new Error(`Must supply a value for form control with name: '${x}'.`)})}}class zn extends Xt{constructor(w,y,x){super(vr(y),Ge(x,y)),this.controls=w,this._initObservables(),this._setUpdateStrategy(y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(w){return this.controls[w]}push(w,y={}){this.controls.push(w),this._registerControl(w),this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}insert(w,y,x={}){this.controls.splice(w,0,y),this._registerControl(y),this.updateValueAndValidity({emitEvent:x.emitEvent})}removeAt(w,y={}){this.controls[w]&&this.controls[w]._registerOnCollectionChange(()=>{}),this.controls.splice(w,1),this.updateValueAndValidity({emitEvent:y.emitEvent})}setControl(w,y,x={}){this.controls[w]&&this.controls[w]._registerOnCollectionChange(()=>{}),this.controls.splice(w,1),y&&(this.controls.splice(w,0,y),this._registerControl(y)),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(w,y={}){this._checkAllValuesPresent(w),w.forEach((x,le)=>{this._throwIfControlMissing(le),this.at(le).setValue(x,{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y)}patchValue(w,y={}){null!=w&&(w.forEach((x,le)=>{this.at(le)&&this.at(le).patchValue(x,{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y))}reset(w=[],y={}){this._forEachChild((x,le)=>{x.reset(w[le],{onlySelf:!0,emitEvent:y.emitEvent})}),this._updatePristine(y),this._updateTouched(y),this.updateValueAndValidity(y)}getRawValue(){return this.controls.map(w=>w instanceof Un?w.value:w.getRawValue())}clear(w={}){this.controls.length<1||(this._forEachChild(y=>y._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:w.emitEvent}))}_syncPendingControls(){let w=this.controls.reduce((y,x)=>!!x._syncPendingControls()||y,!1);return w&&this.updateValueAndValidity({onlySelf:!0}),w}_throwIfControlMissing(w){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(w))throw new Error(`Cannot find form control at index ${w}`)}_forEachChild(w){this.controls.forEach((y,x)=>{w(y,x)})}_updateValue(){this.value=this.controls.filter(w=>w.enabled||this.disabled).map(w=>w.value)}_anyControls(w){return this.controls.some(y=>y.enabled&&w(y))}_setUpControls(){this._forEachChild(w=>this._registerControl(w))}_checkAllValuesPresent(w){this._forEachChild((y,x)=>{if(void 0===w[x])throw new Error(`Must supply a value for form control at index: ${x}.`)})}_allControlsDisabled(){for(const w of this.controls)if(w.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(w){w.setParent(this),w._registerOnCollectionChange(this._onCollectionChange)}}let qe=(()=>{class L{}return L.\u0275fac=function(y){return new(y||L)},L.\u0275dir=c.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})();const Nt={provide:Dt,useExisting:(0,c.Gpc)(()=>zt),multi:!0};let zt=(()=>{class L extends it{writeValue(y){this.setProperty("value",null==y?"":y)}registerOnChange(y){this.onChange=x=>{y(""==x?null:parseFloat(x))}}}return L.\u0275fac=function(){let w;return function(x){return(w||(w=c.n5z(L)))(x||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(y,x){1&y&&c.NdJ("input",function(Qe){return x.onChange(Qe.target.value)})("blur",function(){return x.onTouched()})},features:[c._Bn([Nt]),c.qOj]}),L})();const sn={provide:Dt,useExisting:(0,c.Gpc)(()=>qr),multi:!0};let wr=(()=>{class L{}return L.\u0275fac=function(y){return new(y||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({}),L})(),Wn=(()=>{class L{constructor(){this._accessors=[]}add(y,x){this._accessors.push([y,x])}remove(y){for(let x=this._accessors.length-1;x>=0;--x)if(this._accessors[x][1]===y)return void this._accessors.splice(x,1)}select(y){this._accessors.forEach(x=>{this._isSameGroup(x,y)&&x[1]!==y&&x[1].fireUncheck(y.value)})}_isSameGroup(y,x){return!!y[0].control&&y[0]._parent===x._control._parent&&y[1].name===x.name}}return L.\u0275fac=function(y){return new(y||L)},L.\u0275prov=c.Yz7({token:L,factory:L.\u0275fac,providedIn:wr}),L})(),qr=(()=>{class L extends it{constructor(y,x,le,Qe){super(y,x),this._registry=le,this._injector=Qe,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Ln),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(y){this._state=y===this.value,this.setProperty("checked",this._state)}registerOnChange(y){this._fn=y,this.onChange=()=>{y(this.value),this._registry.select(this)}}fireUncheck(y){this.writeValue(y)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Wn),c.Y36(c.zs3))},L.\u0275dir=c.lG2({type:L,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(y,x){1&y&&c.NdJ("change",function(){return x.onChange()})("blur",function(){return x.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[c._Bn([sn]),c.qOj]}),L})();const ci=new c.OlP("NgModelWithFormControlWarning"),ri={provide:ln,useExisting:(0,c.Gpc)(()=>Yr)};let Yr=(()=>{class L extends ln{constructor(y,x){super(),this.validators=y,this.asyncValidators=x,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(y),this._setAsyncValidators(x)}ngOnChanges(y){this._checkFormPresent(),y.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ct(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(y){const x=this.form.get(y.path);return j(x,y),x.updateValueAndValidity({emitEvent:!1}),this.directives.push(y),x}getControl(y){return this.form.get(y.path)}removeControl(y){Z(y.control||null,y,!1),Zt(this.directives,y)}addFormGroup(y){this._setUpFormContainer(y)}removeFormGroup(y){this._cleanUpFormContainer(y)}getFormGroup(y){return this.form.get(y.path)}addFormArray(y){this._setUpFormContainer(y)}removeFormArray(y){this._cleanUpFormContainer(y)}getFormArray(y){return this.form.get(y.path)}updateModel(y,x){this.form.get(y.path).setValue(x)}onSubmit(y){return this.submitted=!0,function Je(L,w){L._syncPendingControls(),w.forEach(y=>{const x=y.control;"submit"===x.updateOn&&x._pendingChange&&(y.viewToModelUpdate(x._pendingValue),x._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(y),!1}onReset(){this.resetForm()}resetForm(y){this.form.reset(y),this.submitted=!1}_updateDomValue(){this.directives.forEach(y=>{const x=y.control,le=this.form.get(y.path);x!==le&&(Z(x||null,y),le instanceof Un&&(j(le,y),y.control=le))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(y){const x=this.form.get(y.path);(function te(L,w){Ze(L,w)})(x,y),x.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(y){if(this.form){const x=this.form.get(y.path);x&&function ie(L,w){return ct(L,w)}(x,y)&&x.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ze(this.form,this),this._oldForm&&ct(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(It,10),c.Y36(Ne,10))},L.\u0275dir=c.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(y,x){1&y&&c.NdJ("submit",function(Qe){return x.onSubmit(Qe)})("reset",function(){return x.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([ri]),c.qOj,c.TTD]}),L})();const Gs={provide:Ln,useExisting:(0,c.Gpc)(()=>ps)};let ps=(()=>{class L extends Ln{constructor(y,x,le,Qe,St){super(),this._ngModelWarningConfig=St,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=y,this._setValidators(x),this._setAsyncValidators(le),this.valueAccessor=function Tt(L,w){if(!w)return null;let y,x,le;return Array.isArray(w),w.forEach(Qe=>{Qe.constructor===We?y=Qe:function be(L){return Object.getPrototypeOf(L.constructor)===it}(Qe)?x=Qe:le=Qe}),le||x||y||null}(0,Qe)}set isDisabled(y){}ngOnChanges(y){this._added||this._setUpControl(),function Q(L,w){if(!L.hasOwnProperty("model"))return!1;const y=L.model;return!!y.isFirstChange()||!Object.is(w,y.currentValue)}(y,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(y){this.viewModel=y,this.update.emit(y)}get path(){return function nt(L,w){return[...w.path,L]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(y){return new(y||L)(c.Y36(ln,13),c.Y36(It,10),c.Y36(Ne,10),c.Y36(Dt,10),c.Y36(ci,8))},L.\u0275dir=c.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Gs]),c.qOj,c.TTD]}),L})();const Is={provide:Dt,useExisting:(0,c.Gpc)(()=>Ps),multi:!0};function Di(L,w){return null==L?`${w}`:(w&&"object"==typeof w&&(w="Object"),`${L}: ${w}`.slice(0,50))}let Ps=(()=>{class L extends it{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(y){this._compareWith=y}writeValue(y){this.value=y;const x=this._getOptionId(y);null==x&&this.setProperty("selectedIndex",-1);const le=Di(x,y);this.setProperty("value",le)}registerOnChange(y){this.onChange=x=>{this.value=this._getOptionValue(x),y(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(y){for(const x of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(x),y))return x;return null}_getOptionValue(y){const x=function $i(L){return L.split(":")[0]}(y);return this._optionMap.has(x)?this._optionMap.get(x):y}}return L.\u0275fac=function(){let w;return function(x){return(w||(w=c.n5z(L)))(x||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(y,x){1&y&&c.NdJ("change",function(Qe){return x.onChange(Qe.target.value)})("blur",function(){return x.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Is]),c.qOj]}),L})(),yi=(()=>{class L{constructor(y,x,le){this._element=y,this._renderer=x,this._select=le,this._select&&(this.id=this._select._registerOption())}set ngValue(y){null!=this._select&&(this._select._optionMap.set(this.id,y),this._setElementValue(Di(this.id,y)),this._select.writeValue(this._select.value))}set value(y){this._setElementValue(y),this._select&&this._select.writeValue(this._select.value)}_setElementValue(y){this._renderer.setProperty(this._element.nativeElement,"value",y)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Ps,9))},L.\u0275dir=c.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})();const zs={provide:Dt,useExisting:(0,c.Gpc)(()=>Yi),multi:!0};function di(L,w){return null==L?`${w}`:("string"==typeof w&&(w=`'${w}'`),w&&"object"==typeof w&&(w="Object"),`${L}: ${w}`.slice(0,50))}let Yi=(()=>{class L extends it{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(y){this._compareWith=y}writeValue(y){let x;if(this.value=y,Array.isArray(y)){const le=y.map(Qe=>this._getOptionId(Qe));x=(Qe,St)=>{Qe._setSelected(le.indexOf(St.toString())>-1)}}else x=(le,Qe)=>{le._setSelected(!1)};this._optionMap.forEach(x)}registerOnChange(y){this.onChange=x=>{const le=[],Qe=x.selectedOptions;if(void 0!==Qe){const St=Qe;for(let Ft=0;Ft<St.length;Ft++){const br=this._getOptionValue(St[Ft].value);le.push(br)}}else{const St=x.options;for(let Ft=0;Ft<St.length;Ft++){const $n=St[Ft];if($n.selected){const br=this._getOptionValue($n.value);le.push(br)}}}this.value=le,y(le)}}_registerOption(y){const x=(this._idCounter++).toString();return this._optionMap.set(x,y),x}_getOptionId(y){for(const x of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(x)._value,y))return x;return null}_getOptionValue(y){const x=function Ti(L){return L.split(":")[0]}(y);return this._optionMap.has(x)?this._optionMap.get(x)._value:y}}return L.\u0275fac=function(){let w;return function(x){return(w||(w=c.n5z(L)))(x||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(y,x){1&y&&c.NdJ("change",function(Qe){return x.onChange(Qe.target)})("blur",function(){return x.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([zs]),c.qOj]}),L})(),Ni=(()=>{class L{constructor(y,x,le){this._element=y,this._renderer=x,this._select=le,this._select&&(this.id=this._select._registerOption(this))}set ngValue(y){null!=this._select&&(this._value=y,this._setElementValue(di(this.id,y)),this._select.writeValue(this._select.value))}set value(y){this._select?(this._value=y,this._setElementValue(di(this.id,y)),this._select.writeValue(this._select.value)):this._setElementValue(y)}_setElementValue(y){this._renderer.setProperty(this._element.nativeElement,"value",y)}_setSelected(y){this._renderer.setProperty(this._element.nativeElement,"selected",y)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Yi,9))},L.\u0275dir=c.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})(),F=(()=>{class L{}return L.\u0275fac=function(y){return new(y||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[[wr]]}),L})(),X=(()=>{class L{}return L.\u0275fac=function(y){return new(y||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[F]}),L})(),Ce=(()=>{class L{static withConfig(y){return{ngModule:L,providers:[{provide:ci,useValue:y.warnOnNgModelWithFormControl}]}}}return L.\u0275fac=function(y){return new(y||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[F]}),L})(),Lt=(()=>{class L{group(y,x=null){const le=this._reduceControls(y);let Ft,Qe=null,St=null;return null!=x&&(function _t(L){return void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn}(x)?(Qe=null!=x.validators?x.validators:null,St=null!=x.asyncValidators?x.asyncValidators:null,Ft=null!=x.updateOn?x.updateOn:void 0):(Qe=null!=x.validator?x.validator:null,St=null!=x.asyncValidator?x.asyncValidator:null)),new Gn(le,{asyncValidators:St,updateOn:Ft,validators:Qe})}control(y,x,le){return new Un(y,x,le)}array(y,x,le){const Qe=y.map(St=>this._createControl(St));return new zn(Qe,x,le)}_reduceControls(y){const x={};return Object.keys(y).forEach(le=>{x[le]=this._createControl(y[le])}),x}_createControl(y){return y instanceof Un||y instanceof Gn||y instanceof zn?y:Array.isArray(y)?this.control(y[0],y.length>1?y[1]:null,y.length>2?y[2]:null):this.control(y)}}return L.\u0275fac=function(y){return new(y||L)},L.\u0275prov=c.Yz7({token:L,factory:L.\u0275fac,providedIn:Ce}),L})()},2313:(Qt,rt,k)=>{k.d(rt,{Dx:()=>ln,H7:()=>ce,b2:()=>un,q6:()=>dr,se:()=>He});var c=k(9808),_=k(5e3);class G extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends G{static makeCurrent(){(0,c.HT)(new ve)}onAndCancel(J,Q,be){return J.addEventListener(Q,be,!1),()=>{J.removeEventListener(Q,be,!1)}}dispatchEvent(J,Q){J.dispatchEvent(Q)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,Q){return(Q=Q||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,Q){return"window"===Q?window:"document"===Q?J:"body"===Q?J.body:null}getBaseHref(J){const Q=function Te(){return Ie=Ie||document.querySelector("base"),Ie?Ie.getAttribute("href"):null}();return null==Q?null:function oe(U){De=De||document.createElement("a"),De.setAttribute("href",U);const J=De.pathname;return"/"===J.charAt(0)?J:`/${J}`}(Q)}resetBaseElement(){Ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,c.Mx)(document.cookie,J)}}let De,Ie=null;const Oe=new _.OlP("TRANSITION_ID"),de=[{provide:_.ip1,useFactory:function ne(U,J,Q){return()=>{Q.get(_.CZH).donePromise.then(()=>{const be=(0,c.q)(),Je=J.querySelectorAll(`style[ng-transition="${U}"]`);for(let Tt=0;Tt<Je.length;Tt++)be.remove(Je[Tt])})}},deps:[Oe,c.K0,_.zs3],multi:!0}];class Le{static init(){(0,_.VLi)(new Le)}addToWindow(J){_.dqk.getAngularTestability=(be,Je=!0)=>{const Tt=J.findTestabilityInTree(be,Je);if(null==Tt)throw new Error("Could not find testability for element.");return Tt},_.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(be=>{const Je=_.dqk.getAllAngularTestabilities();let Tt=Je.length,Zt=!1;const Sn=function(Rn){Zt=Zt||Rn,Tt--,0==Tt&&be(Zt)};Je.forEach(function(Rn){Rn.whenStable(Sn)})})}findTestabilityInTree(J,Q,be){if(null==Q)return null;const Je=J.getTestability(Q);return null!=Je?Je:be?(0,c.q)().isShadowRoot(Q)?this.findTestabilityInTree(J,Q.host,!0):this.findTestabilityInTree(J,Q.parentElement,!0):null}}let ot=(()=>{class U{build(){return new XMLHttpRequest}}return U.\u0275fac=function(Q){return new(Q||U)},U.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac}),U})();const it=new _.OlP("EventManagerPlugins");let Dt=(()=>{class U{constructor(Q,be){this._zone=be,this._eventNameToPlugin=new Map,Q.forEach(Je=>Je.manager=this),this._plugins=Q.slice().reverse()}addEventListener(Q,be,Je){return this._findPluginFor(be).addEventListener(Q,be,Je)}addGlobalEventListener(Q,be,Je){return this._findPluginFor(be).addGlobalEventListener(Q,be,Je)}getZone(){return this._zone}_findPluginFor(Q){const be=this._eventNameToPlugin.get(Q);if(be)return be;const Je=this._plugins;for(let Tt=0;Tt<Je.length;Tt++){const Zt=Je[Tt];if(Zt.supports(Q))return this._eventNameToPlugin.set(Q,Zt),Zt}throw new Error(`No event manager plugin found for event ${Q}`)}}return U.\u0275fac=function(Q){return new(Q||U)(_.LFG(it),_.LFG(_.R0b))},U.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac}),U})();class Ot{constructor(J){this._doc=J}addGlobalEventListener(J,Q,be){const Je=(0,c.q)().getGlobalEventTarget(this._doc,J);if(!Je)throw new Error(`Unsupported event target ${Je} for event ${Q}`);return this.addEventListener(Je,Q,be)}}let Pe=(()=>{class U{constructor(){this._stylesSet=new Set}addStyles(Q){const be=new Set;Q.forEach(Je=>{this._stylesSet.has(Je)||(this._stylesSet.add(Je),be.add(Je))}),this.onStylesAdded(be)}onStylesAdded(Q){}getAllStyles(){return Array.from(this._stylesSet)}}return U.\u0275fac=function(Q){return new(Q||U)},U.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac}),U})(),Ye=(()=>{class U extends Pe{constructor(Q){super(),this._doc=Q,this._hostNodes=new Map,this._hostNodes.set(Q.head,[])}_addStylesToHost(Q,be,Je){Q.forEach(Tt=>{const Zt=this._doc.createElement("style");Zt.textContent=Tt,Je.push(be.appendChild(Zt))})}addHost(Q){const be=[];this._addStylesToHost(this._stylesSet,Q,be),this._hostNodes.set(Q,be)}removeHost(Q){const be=this._hostNodes.get(Q);be&&be.forEach(lt),this._hostNodes.delete(Q)}onStylesAdded(Q){this._hostNodes.forEach((be,Je)=>{this._addStylesToHost(Q,Je,be)})}ngOnDestroy(){this._hostNodes.forEach(Q=>Q.forEach(lt))}}return U.\u0275fac=function(Q){return new(Q||U)(_.LFG(c.K0))},U.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac}),U})();function lt(U){(0,c.q)().remove(U)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},We=/%COMP%/g;function me(U,J,Q){for(let be=0;be<J.length;be++){let Je=J[be];Array.isArray(Je)?me(U,Je,Q):(Je=Je.replace(We,U),Q.push(Je))}return Q}function _e(U){return J=>{if("__ngUnwrap__"===J)return U;!1===U(J)&&(J.preventDefault(),J.returnValue=!1)}}let He=(()=>{class U{constructor(Q,be,Je){this.eventManager=Q,this.sharedStylesHost=be,this.appId=Je,this.rendererByCompId=new Map,this.defaultRenderer=new fe(Q)}createRenderer(Q,be){if(!Q||!be)return this.defaultRenderer;switch(be.encapsulation){case _.ifc.Emulated:{let Je=this.rendererByCompId.get(be.id);return Je||(Je=new hn(this.eventManager,this.sharedStylesHost,be,this.appId),this.rendererByCompId.set(be.id,Je)),Je.applyToHost(Q),Je}case 1:case _.ifc.ShadowDom:return new wt(this.eventManager,this.sharedStylesHost,Q,be);default:if(!this.rendererByCompId.has(be.id)){const Je=me(be.id,be.styles,[]);this.sharedStylesHost.addStyles(Je),this.rendererByCompId.set(be.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return U.\u0275fac=function(Q){return new(Q||U)(_.LFG(Dt),_.LFG(Ye),_.LFG(_.AFp))},U.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac}),U})();class fe{constructor(J){this.eventManager=J,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(J,Q){return Q?document.createElementNS(Et[Q]||Q,J):document.createElement(J)}createComment(J){return document.createComment(J)}createText(J){return document.createTextNode(J)}appendChild(J,Q){J.appendChild(Q)}insertBefore(J,Q,be){J&&J.insertBefore(Q,be)}removeChild(J,Q){J&&J.removeChild(Q)}selectRootElement(J,Q){let be="string"==typeof J?document.querySelector(J):J;if(!be)throw new Error(`The selector "${J}" did not match any elements`);return Q||(be.textContent=""),be}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,Q,be,Je){if(Je){Q=Je+":"+Q;const Tt=Et[Je];Tt?J.setAttributeNS(Tt,Q,be):J.setAttribute(Q,be)}else J.setAttribute(Q,be)}removeAttribute(J,Q,be){if(be){const Je=Et[be];Je?J.removeAttributeNS(Je,Q):J.removeAttribute(`${be}:${Q}`)}else J.removeAttribute(Q)}addClass(J,Q){J.classList.add(Q)}removeClass(J,Q){J.classList.remove(Q)}setStyle(J,Q,be,Je){Je&(_.JOm.DashCase|_.JOm.Important)?J.style.setProperty(Q,be,Je&_.JOm.Important?"important":""):J.style[Q]=be}removeStyle(J,Q,be){be&_.JOm.DashCase?J.style.removeProperty(Q):J.style[Q]=""}setProperty(J,Q,be){J[Q]=be}setValue(J,Q){J.nodeValue=Q}listen(J,Q,be){return"string"==typeof J?this.eventManager.addGlobalEventListener(J,Q,_e(be)):this.eventManager.addEventListener(J,Q,_e(be))}}class hn extends fe{constructor(J,Q,be,Je){super(J),this.component=be;const Tt=me(Je+"-"+be.id,be.styles,[]);Q.addStyles(Tt),this.contentAttr=function Ct(U){return"_ngcontent-%COMP%".replace(We,U)}(Je+"-"+be.id),this.hostAttr=function ae(U){return"_nghost-%COMP%".replace(We,U)}(Je+"-"+be.id)}applyToHost(J){super.setAttribute(J,this.hostAttr,"")}createElement(J,Q){const be=super.createElement(J,Q);return super.setAttribute(be,this.contentAttr,""),be}}class wt extends fe{constructor(J,Q,be,Je){super(J),this.sharedStylesHost=Q,this.hostEl=be,this.shadowRoot=be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Tt=me(Je.id,Je.styles,[]);for(let Zt=0;Zt<Tt.length;Zt++){const Sn=document.createElement("style");Sn.textContent=Tt[Zt],this.shadowRoot.appendChild(Sn)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(J,Q){return super.appendChild(this.nodeOrShadowRoot(J),Q)}insertBefore(J,Q,be){return super.insertBefore(this.nodeOrShadowRoot(J),Q,be)}removeChild(J,Q){return super.removeChild(this.nodeOrShadowRoot(J),Q)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}}let Kt=(()=>{class U extends Ot{constructor(Q){super(Q)}supports(Q){return!0}addEventListener(Q,be,Je){return Q.addEventListener(be,Je,!1),()=>this.removeEventListener(Q,be,Je)}removeEventListener(Q,be,Je){return Q.removeEventListener(be,Je)}}return U.\u0275fac=function(Q){return new(Q||U)(_.LFG(c.K0))},U.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac}),U})();const Jt=["alt","control","meta","shift"],dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ae={alt:U=>U.altKey,control:U=>U.ctrlKey,meta:U=>U.metaKey,shift:U=>U.shiftKey};let Ke=(()=>{class U extends Ot{constructor(Q){super(Q)}supports(Q){return null!=U.parseEventName(Q)}addEventListener(Q,be,Je){const Tt=U.parseEventName(be),Zt=U.eventCallback(Tt.fullKey,Je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(Q,Tt.domEventName,Zt))}static parseEventName(Q){const be=Q.toLowerCase().split("."),Je=be.shift();if(0===be.length||"keydown"!==Je&&"keyup"!==Je)return null;const Tt=U._normalizeKey(be.pop());let Zt="";if(Jt.forEach(Rn=>{const xn=be.indexOf(Rn);xn>-1&&(be.splice(xn,1),Zt+=Rn+".")}),Zt+=Tt,0!=be.length||0===Tt.length)return null;const Sn={};return Sn.domEventName=Je,Sn.fullKey=Zt,Sn}static getEventFullKey(Q){let be="",Je=function Mt(U){let J=U.key;if(null==J){if(J=U.keyIdentifier,null==J)return"Unidentified";J.startsWith("U+")&&(J=String.fromCharCode(parseInt(J.substring(2),16)),3===U.location&&pt.hasOwnProperty(J)&&(J=pt[J]))}return dt[J]||J}(Q);return Je=Je.toLowerCase()," "===Je?Je="space":"."===Je&&(Je="dot"),Jt.forEach(Tt=>{Tt!=Je&&Ae[Tt](Q)&&(be+=Tt+".")}),be+=Je,be}static eventCallback(Q,be,Je){return Tt=>{U.getEventFullKey(Tt)===Q&&Je.runGuarded(()=>be(Tt))}}static _normalizeKey(Q){return"esc"===Q?"escape":Q}}return U.\u0275fac=function(Q){return new(Q||U)(_.LFG(c.K0))},U.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac}),U})();const dr=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:c.bD},{provide:_.g9A,useValue:function en(){ve.makeCurrent(),Le.init()},multi:!0},{provide:c.K0,useFactory:function vn(){return(0,_.RDi)(document),document},deps:[]}]),Fn=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function Dn(){return new _.qLn},deps:[]},{provide:it,useClass:Kt,multi:!0,deps:[c.K0,_.R0b,_.Lbi]},{provide:it,useClass:Ke,multi:!0,deps:[c.K0]},{provide:He,useClass:He,deps:[Dt,Ye,_.AFp]},{provide:_.FYo,useExisting:He},{provide:Pe,useExisting:Ye},{provide:Ye,useClass:Ye,deps:[c.K0]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b]},{provide:Dt,useClass:Dt,deps:[it,_.R0b]},{provide:c.JF,useClass:ot,deps:[]}];let un=(()=>{class U{constructor(Q){if(Q)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Q){return{ngModule:U,providers:[{provide:_.AFp,useValue:Q.appId},{provide:Oe,useExisting:_.AFp},de]}}}return U.\u0275fac=function(Q){return new(Q||U)(_.LFG(U,12))},U.\u0275mod=_.oAB({type:U}),U.\u0275inj=_.cJS({providers:Fn,imports:[c.ez,_.hGG]}),U})(),ln=(()=>{class U{constructor(Q){this._doc=Q}getTitle(){return this._doc.title}setTitle(Q){this._doc.title=Q||""}}return U.\u0275fac=function(Q){return new(Q||U)(_.LFG(c.K0))},U.\u0275prov=_.Yz7({token:U,factory:function(Q){let be=null;return be=Q?new Q:function Ln(){return new ln((0,_.LFG)(c.K0))}(),be},providedIn:"root"}),U})();"undefined"!=typeof window&&window;let ce=(()=>{class U{}return U.\u0275fac=function(Q){return new(Q||U)},U.\u0275prov=_.Yz7({token:U,factory:function(Q){let be=null;return be=Q?new(Q||U):_.LFG(te),be},providedIn:"root"}),U})(),te=(()=>{class U extends ce{constructor(Q){super(),this._doc=Q}sanitize(Q,be){if(null==be)return null;switch(Q){case _.q3G.NONE:return be;case _.q3G.HTML:return(0,_.qzn)(be,"HTML")?(0,_.z3N)(be):(0,_.EiD)(this._doc,String(be)).toString();case _.q3G.STYLE:return(0,_.qzn)(be,"Style")?(0,_.z3N)(be):be;case _.q3G.SCRIPT:if((0,_.qzn)(be,"Script"))return(0,_.z3N)(be);throw new Error("unsafe value used in a script context");case _.q3G.URL:return(0,_.yhl)(be),(0,_.qzn)(be,"URL")?(0,_.z3N)(be):(0,_.mCW)(String(be));case _.q3G.RESOURCE_URL:if((0,_.qzn)(be,"ResourceURL"))return(0,_.z3N)(be);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Q} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Q){return(0,_.JVY)(Q)}bypassSecurityTrustStyle(Q){return(0,_.L6k)(Q)}bypassSecurityTrustScript(Q){return(0,_.eBb)(Q)}bypassSecurityTrustUrl(Q){return(0,_.LAX)(Q)}bypassSecurityTrustResourceUrl(Q){return(0,_.pB0)(Q)}}return U.\u0275fac=function(Q){return new(Q||U)(_.LFG(c.K0))},U.\u0275prov=_.Yz7({token:U,factory:function(Q){let be=null;return be=Q?new Q:function je(U){return new te(U.get(c.K0))}(_.LFG(_.zs3)),be},providedIn:"root"}),U})()},5335:(Qt,rt,k)=>{k.d(rt,{jw:()=>ke,F0:()=>Ci,rH:()=>Ss,Od:()=>Qa,yS:()=>Zs,Bz:()=>Hn,lC:()=>Ds,fw:()=>ki});var c=k(5e3),_=k(7579);class G extends _.x{constructor(I){super(),this._value=I}get value(){return this.getValue()}_subscribe(I){const b=super._subscribe(I);return!b.closed&&I.next(this._value),b}getValue(){const{hasError:I,thrownError:b,_value:P}=this;if(I)throw b;return this._throwIfClosed(),P}next(I){super.next(this._value=I)}}var ve=k(8306),Ie=k(4742),Te=k(8996),De=k(4671),oe=k(3268),Oe=k(3269),ne=k(1810),de=k(5403),Le=k(9672);function Dt(S,I,b){S?(0,Le.f)(b,S,I):I()}var Ot=k(8421);function Pe(S){return new ve.y(I=>{(0,Ot.Xf)(S()).subscribe(I)})}var Ye=k(727),lt=k(4482);function Et(){return(0,lt.e)((S,I)=>{let b=null;S._refCount++;const P=new de.Q(I,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(b=null);const V=S._connection,Y=b;b=null,V&&(!Y||V===Y)&&V.unsubscribe(),I.unsubscribe()});S.subscribe(P),P.closed||(b=S.connect())})}class We extends ve.y{constructor(I,b){super(),this.source=I,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,lt.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,null==I||I.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new Ye.w0;const b=this.getSubject();I.add(this.source.subscribe(new de.Q(b,void 0,()=>{this._teardown(),b.complete()},P=>{this._teardown(),b.error(P)},()=>this._teardown()))),I.closed&&(this._connection=null,I=Ye.w0.EMPTY)}return I}refCount(){return Et()(this)}}var Re=k(9646),at=k(6805),It=k(7272),Ne=k(515);function Ct(S){return(0,lt.e)((I,b)=>{let Y,P=null,V=!1;P=I.subscribe(new de.Q(b,void 0,void 0,ye=>{Y=(0,Ot.Xf)(S(ye,Ct(S)(I))),P?(P.unsubscribe(),P=null,Y.subscribe(b)):V=!0})),V&&(P.unsubscribe(),P=null,Y.subscribe(b))})}var ae=k(9300);function me(S){return S<=0?()=>Ne.E:(0,lt.e)((I,b)=>{let P=[];I.subscribe(new de.Q(b,V=>{P.push(V),S<P.length&&P.shift()},()=>{for(const V of P)b.next(V);b.complete()},void 0,()=>{P=null}))})}var _e=k(8068),xe=k(6590),mt=k(4004),Vt=k(3900),hn=k(5698),wt=k(8675),Kt=k(5026),Jt=k(4351),rn=k(590),dt=k(5577),pt=k(8505),Ae=k(8189),Ke=k(9808);class Mt{constructor(I,b){this.id=I,this.url=b}}class en extends Mt{constructor(I,b,P="imperative",V=null){super(I,b),this.navigationTrigger=P,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dn extends Mt{constructor(I,b,P){super(I,b),this.urlAfterRedirects=P}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vn extends Mt{constructor(I,b,P){super(I,b),this.reason=P}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qn extends Mt{constructor(I,b,P){super(I,b),this.error=P}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dr extends Mt{constructor(I,b,P,V){super(I,b),this.urlAfterRedirects=P,this.state=V}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fn extends Mt{constructor(I,b,P,V){super(I,b),this.urlAfterRedirects=P,this.state=V}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class un extends Mt{constructor(I,b,P,V,Y){super(I,b),this.urlAfterRedirects=P,this.state=V,this.shouldActivate=Y}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sr extends Mt{constructor(I,b,P,V){super(I,b),this.urlAfterRedirects=P,this.state=V}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class er extends Mt{constructor(I,b,P,V){super(I,b),this.urlAfterRedirects=P,this.state=V}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tn{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ln{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ln{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jn{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vt{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ke{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Se{constructor(I,b,P){this.routerEvent=I,this.position=b,this.anchor=P}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const tt="primary";class At{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const b=this.params[I];return Array.isArray(b)?b[0]:b}return null}getAll(I){if(this.has(I)){const b=this.params[I];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function Ut(S){return new At(S)}const kt="ngNavigationCancelingError";function xt(S){const I=Error("NavigationCancelingError: "+S);return I[kt]=!0,I}function tr(S,I,b){const P=b.path.split("/");if(P.length>S.length||"full"===b.pathMatch&&(I.hasChildren()||P.length<S.length))return null;const V={};for(let Y=0;Y<P.length;Y++){const ye=P[Y],Me=S[Y];if(ye.startsWith(":"))V[ye.substring(1)]=Me;else if(ye!==Me.path)return null}return{consumed:S.slice(0,P.length),posParams:V}}function En(S,I){const b=S?Object.keys(S):void 0,P=I?Object.keys(I):void 0;if(!b||!P||b.length!=P.length)return!1;let V;for(let Y=0;Y<b.length;Y++)if(V=b[Y],!jn(S[V],I[V]))return!1;return!0}function jn(S,I){if(Array.isArray(S)&&Array.isArray(I)){if(S.length!==I.length)return!1;const b=[...S].sort(),P=[...I].sort();return b.every((V,Y)=>P[Y]===V)}return S===I}function fn(S){return Array.prototype.concat.apply([],S)}function on(S){return S.length>0?S[S.length-1]:null}function nt(S,I){for(const b in S)S.hasOwnProperty(b)&&I(S[b],b)}function j(S){return(0,c.CqO)(S)?S:(0,c.QGY)(S)?(0,Te.D)(Promise.resolve(S)):(0,Re.of)(S)}const $e={exact:function ue(S,I,b){if(!be(S.segments,I.segments)||!te(S.segments,I.segments,b)||S.numberOfChildren!==I.numberOfChildren)return!1;for(const P in I.children)if(!S.children[P]||!ue(S.children[P],I.children[P],b))return!1;return!0},subset:ce},pe={exact:function ct(S,I){return En(S,I)},subset:function re(S,I){return Object.keys(I).length<=Object.keys(S).length&&Object.keys(I).every(b=>jn(S[b],I[b]))},ignored:()=>!0};function Ze(S,I,b){return $e[b.paths](S.root,I.root,b.matrixParams)&&pe[b.queryParams](S.queryParams,I.queryParams)&&!("exact"===b.fragment&&S.fragment!==I.fragment)}function ce(S,I,b){return je(S,I,I.segments,b)}function je(S,I,b,P){if(S.segments.length>b.length){const V=S.segments.slice(0,b.length);return!(!be(V,b)||I.hasChildren()||!te(V,b,P))}if(S.segments.length===b.length){if(!be(S.segments,b)||!te(S.segments,b,P))return!1;for(const V in I.children)if(!S.children[V]||!ce(S.children[V],I.children[V],P))return!1;return!0}{const V=b.slice(0,S.segments.length),Y=b.slice(S.segments.length);return!!(be(S.segments,V)&&te(S.segments,V,P)&&S.children[tt])&&je(S.children[tt],I,Y,P)}}function te(S,I,b){return I.every((P,V)=>pe[b](S[V].parameters,P.parameters))}class ie{constructor(I,b,P){this.root=I,this.queryParams=b,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ut(this.queryParams)),this._queryParamMap}toString(){return Sn.serialize(this)}}class U{constructor(I,b){this.segments=I,this.children=b,this.parent=null,nt(b,(P,V)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rn(this)}}class J{constructor(I,b){this.path=I,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=Ut(this.parameters)),this._parameterMap}toString(){return Ve(this)}}function be(S,I){return S.length===I.length&&S.every((b,P)=>b.path===I[P].path)}class Tt{}class Zt{parse(I){const b=new ji(I);return new ie(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(I){const b=`/${xn(I.root,!0)}`,P=function Xt(S){const I=Object.keys(S).map(b=>{const P=S[b];return Array.isArray(P)?P.map(V=>`${Sr(b)}=${Sr(V)}`).join("&"):`${Sr(b)}=${Sr(P)}`}).filter(b=>!!b);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${b}${P}${"string"==typeof I.fragment?`#${function Xr(S){return encodeURI(S)}(I.fragment)}`:""}`}}const Sn=new Zt;function Rn(S){return S.segments.map(I=>Ve(I)).join("/")}function xn(S,I){if(!S.hasChildren())return Rn(S);if(I){const b=S.children[tt]?xn(S.children[tt],!1):"",P=[];return nt(S.children,(V,Y)=>{Y!==tt&&P.push(`${Y}:${xn(V,!1)}`)}),P.length>0?`${b}(${P.join("//")})`:b}{const b=function Je(S,I){let b=[];return nt(S.children,(P,V)=>{V===tt&&(b=b.concat(I(P,V)))}),nt(S.children,(P,V)=>{V!==tt&&(b=b.concat(I(P,V)))}),b}(S,(P,V)=>V===tt?[xn(S.children[tt],!1)]:[`${V}:${xn(P,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[tt]?`${Rn(S)}/${b[0]}`:`${Rn(S)}/(${b.join("//")})`}}function pr(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sr(S){return pr(S).replace(/%3B/gi,";")}function vr(S){return pr(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ir(S){return decodeURIComponent(S)}function Ge(S){return Ir(S.replace(/\+/g,"%20"))}function Ve(S){return`${vr(S.path)}${function ht(S){return Object.keys(S).map(I=>`;${vr(I)}=${vr(S[I])}`).join("")}(S.parameters)}`}const Un=/^[^\/()?;=#]+/;function Gn(S){const I=S.match(Un);return I?I[0]:""}const zn=/^[^=?&#]+/,Xn=/^[^&#]+/;class ji{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new U([],{}):new U([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(I.length>0||Object.keys(b).length>0)&&(P[tt]=new U(I,b)),P}parseSegment(){const I=Gn(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new J(Ir(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const b=Gn(this.remaining);if(!b)return;this.capture(b);let P="";if(this.consumeOptional("=")){const V=Gn(this.remaining);V&&(P=V,this.capture(P))}I[Ir(b)]=Ir(P)}parseQueryParam(I){const b=function Dr(S){const I=S.match(zn);return I?I[0]:""}(this.remaining);if(!b)return;this.capture(b);let P="";if(this.consumeOptional("=")){const ye=function jr(S){const I=S.match(Xn);return I?I[0]:""}(this.remaining);ye&&(P=ye,this.capture(P))}const V=Ge(b),Y=Ge(P);if(I.hasOwnProperty(V)){let ye=I[V];Array.isArray(ye)||(ye=[ye],I[V]=ye),ye.push(Y)}else I[V]=Y}parseParens(I){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Gn(this.remaining),V=this.remaining[P.length];if("/"!==V&&")"!==V&&";"!==V)throw new Error(`Cannot parse url '${this.url}'`);let Y;P.indexOf(":")>-1?(Y=P.substr(0,P.indexOf(":")),this.capture(Y),this.capture(":")):I&&(Y=tt);const ye=this.parseChildren();b[Y]=1===Object.keys(ye).length?ye[tt]:new U([],ye),this.consumeOptional("//")}return b}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class Vn{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const b=this.pathFromRoot(I);return b.length>1?b[b.length-2]:null}children(I){const b=Mi(I,this._root);return b?b.children.map(P=>P.value):[]}firstChild(I){const b=Mi(I,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(I){const b=Oi(I,this._root);return b.length<2?[]:b[b.length-2].children.map(V=>V.value).filter(V=>V!==I)}pathFromRoot(I){return Oi(I,this._root).map(b=>b.value)}}function Mi(S,I){if(S===I.value)return I;for(const b of I.children){const P=Mi(S,b);if(P)return P}return null}function Oi(S,I){if(S===I.value)return[I];for(const b of I.children){const P=Oi(S,b);if(P.length)return P.unshift(I),P}return[]}class ni{constructor(I,b){this.value=I,this.children=b}toString(){return`TreeNode(${this.value})`}}function Wr(S){const I={};return S&&S.children.forEach(b=>I[b.value.outlet]=b),I}class Lr extends Vn{constructor(I,b){super(I),this.snapshot=b,qn(this,I)}toString(){return this.snapshot.toString()}}function Nr(S,I){const b=function ze(S,I){const ye=new zt([],{},{},"",{},tt,I,null,S.root,-1,{});return new sn("",new ni(ye,[]))}(S,I),P=new G([new J("",{})]),V=new G({}),Y=new G({}),ye=new G({}),Me=new G(""),et=new Fe(P,V,ye,Me,Y,tt,I,b.root);return et.snapshot=b.root,new Lr(new ni(et,[]),b)}class Fe{constructor(I,b,P,V,Y,ye,Me,et){this.url=I,this.params=b,this.queryParams=P,this.fragment=V,this.data=Y,this.outlet=ye,this.component=Me,this._futureSnapshot=et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(I=>Ut(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(I=>Ut(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qe(S,I="emptyOnly"){const b=S.pathFromRoot;let P=0;if("always"!==I)for(P=b.length-1;P>=1;){const V=b[P],Y=b[P-1];if(V.routeConfig&&""===V.routeConfig.path)P--;else{if(Y.component)break;P--}}return function Nt(S){return S.reduce((I,b)=>({params:Object.assign(Object.assign({},I.params),b.params),data:Object.assign(Object.assign({},I.data),b.data),resolve:Object.assign(Object.assign({},I.resolve),b._resolvedData)}),{params:{},data:{},resolve:{}})}(b.slice(P))}class zt{constructor(I,b,P,V,Y,ye,Me,et,pn,ir,Pn){this.url=I,this.params=b,this.queryParams=P,this.fragment=V,this.data=Y,this.outlet=ye,this.component=Me,this.routeConfig=et,this._urlSegment=pn,this._lastPathIndex=ir,this._resolve=Pn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ut(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ut(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sn extends Vn{constructor(I,b){super(b),this.url=I,qn(this,b)}toString(){return wr(this._root)}}function qn(S,I){I.value._routerState=S,I.children.forEach(b=>qn(S,b))}function wr(S){const I=S.children.length>0?` { ${S.children.map(wr).join(", ")} } `:"";return`${S.value}${I}`}function Wn(S){if(S.snapshot){const I=S.snapshot,b=S._futureSnapshot;S.snapshot=b,En(I.queryParams,b.queryParams)||S.queryParams.next(b.queryParams),I.fragment!==b.fragment&&S.fragment.next(b.fragment),En(I.params,b.params)||S.params.next(b.params),function hr(S,I){if(S.length!==I.length)return!1;for(let b=0;b<S.length;++b)if(!En(S[b],I[b]))return!1;return!0}(I.url,b.url)||S.url.next(b.url),En(I.data,b.data)||S.data.next(b.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function qr(S,I){const b=En(S.params,I.params)&&function Q(S,I){return be(S,I)&&S.every((b,P)=>En(b.parameters,I[P].parameters))}(S.url,I.url);return b&&!(!S.parent!=!I.parent)&&(!S.parent||qr(S.parent,I.parent))}function Hr(S,I,b){if(b&&S.shouldReuseRoute(I.value,b.value.snapshot)){const P=b.value;P._futureSnapshot=I.value;const V=function ci(S,I,b){return I.children.map(P=>{for(const V of b.children)if(S.shouldReuseRoute(P.value,V.value.snapshot))return Hr(S,P,V);return Hr(S,P)})}(S,I,b);return new ni(P,V)}{if(S.shouldAttach(I.value)){const Y=S.retrieve(I.value);if(null!==Y){const ye=Y.route;return ye.value._futureSnapshot=I.value,ye.children=I.children.map(Me=>Hr(S,Me)),ye}}const P=function rr(S){return new Fe(new G(S.url),new G(S.params),new G(S.queryParams),new G(S.fragment),new G(S.data),S.outlet,S.component,S)}(I.value),V=I.children.map(Y=>Hr(S,Y));return new ni(P,V)}}function ri(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Yr(S){return"object"==typeof S&&null!=S&&S.outlets}function Zi(S,I,b,P,V){let Y={};return P&&nt(P,(ye,Me)=>{Y[Me]=Array.isArray(ye)?ye.map(et=>`${et}`):`${ye}`}),new ie(b.root===S?I:fs(b.root,S,I),Y,V)}function fs(S,I,b){const P={};return nt(S.children,(V,Y)=>{P[Y]=V===I?b:fs(V,I,b)}),new U(S.segments,P)}class ts{constructor(I,b,P){if(this.isAbsolute=I,this.numberOfDoubleDots=b,this.commands=P,I&&P.length>0&&ri(P[0]))throw new Error("Root segment cannot have matrix parameters");const V=P.find(Yr);if(V&&V!==on(P))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ii{constructor(I,b,P){this.segmentGroup=I,this.processChildren=b,this.index=P}}function Di(S,I,b){if(S||(S=new U([],{})),0===S.segments.length&&S.hasChildren())return $i(S,I,b);const P=function Ps(S,I,b){let P=0,V=I;const Y={match:!1,pathIndex:0,commandIndex:0};for(;V<S.segments.length;){if(P>=b.length)return Y;const ye=S.segments[V],Me=b[P];if(Yr(Me))break;const et=`${Me}`,pn=P<b.length-1?b[P+1]:null;if(V>0&&void 0===et)break;if(et&&pn&&"object"==typeof pn&&void 0===pn.outlets){if(!Ti(et,pn,ye))return Y;P+=2}else{if(!Ti(et,{},ye))return Y;P++}V++}return{match:!0,pathIndex:V,commandIndex:P}}(S,I,b),V=b.slice(P.commandIndex);if(P.match&&P.pathIndex<S.segments.length){const Y=new U(S.segments.slice(0,P.pathIndex),{});return Y.children[tt]=new U(S.segments.slice(P.pathIndex),S.children),$i(Y,0,V)}return P.match&&0===V.length?new U(S.segments,{}):P.match&&!S.hasChildren()?yi(S,I,b):P.match?$i(S,0,V):yi(S,I,b)}function $i(S,I,b){if(0===b.length)return new U(S.segments,{});{const P=function Is(S){return Yr(S[0])?S[0].outlets:{[tt]:S}}(b),V={};return nt(P,(Y,ye)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(V[ye]=Di(S.children[ye],I,Y))}),nt(S.children,(Y,ye)=>{void 0===P[ye]&&(V[ye]=Y)}),new U(S.segments,V)}}function yi(S,I,b){const P=S.segments.slice(0,I);let V=0;for(;V<b.length;){const Y=b[V];if(Yr(Y)){const et=zs(Y.outlets);return new U(P,et)}if(0===V&&ri(b[0])){P.push(new J(S.segments[I].path,di(b[0]))),V++;continue}const ye=Yr(Y)?Y.outlets[tt]:`${Y}`,Me=V<b.length-1?b[V+1]:null;ye&&Me&&ri(Me)?(P.push(new J(ye,di(Me))),V+=2):(P.push(new J(ye,{})),V++)}return new U(P,{})}function zs(S){const I={};return nt(S,(b,P)=>{"string"==typeof b&&(b=[b]),null!==b&&(I[P]=yi(new U([],{}),0,b))}),I}function di(S){const I={};return nt(S,(b,P)=>I[P]=`${b}`),I}function Ti(S,I,b){return S==b.path&&En(I,b.parameters)}class Yi{constructor(I,b,P,V){this.routeReuseStrategy=I,this.futureState=b,this.currState=P,this.forwardEvent=V}activate(I){const b=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,P,I),Wn(this.futureState.root),this.activateChildRoutes(b,P,I)}deactivateChildRoutes(I,b,P){const V=Wr(b);I.children.forEach(Y=>{const ye=Y.value.outlet;this.deactivateRoutes(Y,V[ye],P),delete V[ye]}),nt(V,(Y,ye)=>{this.deactivateRouteAndItsChildren(Y,P)})}deactivateRoutes(I,b,P){const V=I.value,Y=b?b.value:null;if(V===Y)if(V.component){const ye=P.getContext(V.outlet);ye&&this.deactivateChildRoutes(I,b,ye.children)}else this.deactivateChildRoutes(I,b,P);else Y&&this.deactivateRouteAndItsChildren(b,P)}deactivateRouteAndItsChildren(I,b){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,b):this.deactivateRouteAndOutlet(I,b)}detachAndStoreRouteSubtree(I,b){const P=b.getContext(I.value.outlet),V=P&&I.value.component?P.children:b,Y=Wr(I);for(const ye of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[ye],V);if(P&&P.outlet){const ye=P.outlet.detach(),Me=P.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:ye,route:I,contexts:Me})}}deactivateRouteAndOutlet(I,b){const P=b.getContext(I.value.outlet),V=P&&I.value.component?P.children:b,Y=Wr(I);for(const ye of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[ye],V);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(I,b,P){const V=Wr(b);I.children.forEach(Y=>{this.activateRoutes(Y,V[Y.value.outlet],P),this.forwardEvent(new ke(Y.value.snapshot))}),I.children.length&&this.forwardEvent(new Jn(I.value.snapshot))}activateRoutes(I,b,P){const V=I.value,Y=b?b.value:null;if(Wn(V),V===Y)if(V.component){const ye=P.getOrCreateContext(V.outlet);this.activateChildRoutes(I,b,ye.children)}else this.activateChildRoutes(I,b,P);else if(V.component){const ye=P.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const Me=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),ye.children.onOutletReAttached(Me.contexts),ye.attachRef=Me.componentRef,ye.route=Me.route.value,ye.outlet&&ye.outlet.attach(Me.componentRef,Me.route.value),Wn(Me.route.value),this.activateChildRoutes(I,null,ye.children)}else{const Me=function Ni(S){for(let I=S.parent;I;I=I.parent){const b=I.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}(V.snapshot),et=Me?Me.module.componentFactoryResolver:null;ye.attachRef=null,ye.route=V,ye.resolver=et,ye.outlet&&ye.outlet.activateWith(V,et),this.activateChildRoutes(I,null,ye.children)}}else this.activateChildRoutes(I,null,P)}}class _i{constructor(I,b){this.routes=I,this.module=b}}function Rr(S){return"function"==typeof S}function hi(S){return S instanceof ie}const Gi=Symbol("INITIAL_VALUE");function Zr(){return(0,Vt.w)(S=>function ot(...S){const I=(0,Oe.yG)(S),b=(0,Oe.jO)(S),{args:P,keys:V}=(0,Ie.D)(S);if(0===P.length)return(0,Te.D)([],I);const Y=new ve.y(function it(S,I,b=De.y){return P=>{Dt(I,()=>{const{length:V}=S,Y=new Array(V);let ye=V,Me=V;for(let et=0;et<V;et++)Dt(I,()=>{const pn=(0,Te.D)(S[et],I);let ir=!1;pn.subscribe(new de.Q(P,Pn=>{Y[et]=Pn,ir||(ir=!0,Me--),Me||P.next(b(Y.slice()))},()=>{--ye||P.complete()}))},P)},P)}}(P,I,V?ye=>(0,ne.n)(V,ye):De.y));return b?Y.pipe((0,oe.Z)(b)):Y}(S.map(I=>I.pipe((0,hn.q)(1),(0,wt.O)(Gi)))).pipe((0,Kt.R)((I,b)=>{let P=!1;return b.reduce((V,Y,ye)=>V!==Gi?V:(Y===Gi&&(P=!0),P||!1!==Y&&ye!==b.length-1&&!hi(Y)?V:Y),I)},Gi),(0,ae.h)(I=>I!==Gi),(0,mt.U)(I=>hi(I)?I:!0===I),(0,hn.q)(1)))}class Pr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pi,this.attachRef=null}}class Pi{constructor(){this.contexts=new Map}onChildOutletCreated(I,b){const P=this.getOrCreateContext(I);P.outlet=b,this.contexts.set(I,P)}onChildOutletDestroyed(I){const b=this.getContext(I);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let b=this.getContext(I);return b||(b=new Pr,this.contexts.set(I,b)),b}getContext(I){return this.contexts.get(I)||null}}let Ds=(()=>{class S{constructor(b,P,V,Y,ye){this.parentContexts=b,this.location=P,this.resolver=V,this.changeDetector=ye,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=Y||tt,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,P){this.activated=b,this._activatedRoute=P,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,P){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const ye=(P=P||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),Me=this.parentContexts.getOrCreateContext(this.name).children,et=new rs(b,Me,this.location.injector);this.activated=this.location.createComponent(ye,this.location.length,et),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(b){return new(b||S)(c.Y36(Pi),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},S.\u0275dir=c.lG2({type:S,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),S})();class rs{constructor(I,b,P){this.route=I,this.childContexts=b,this.parent=P}get(I,b){return I===Fe?this.route:I===Pi?this.childContexts:this.parent.get(I,b)}}let ki=(()=>{class S{}return S.\u0275fac=function(b){return new(b||S)},S.\u0275cmp=c.Xpm({type:S,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,P){1&b&&c._UZ(0,"router-outlet")},directives:[Ds],encapsulation:2}),S})();function gs(S,I=""){for(let b=0;b<S.length;b++){const P=S[b];zi(P,Mr(I,P))}}function zi(S,I){S.children&&gs(S.children,I)}function Mr(S,I){return I?S||I.path?S&&!I.path?`${S}/`:!S&&I.path?I.path:`${S}/${I.path}`:"":S}function ai(S){const I=S.children&&S.children.map(ai),b=I?Object.assign(Object.assign({},S),{children:I}):Object.assign({},S);return!b.component&&(I||b.loadChildren)&&b.outlet&&b.outlet!==tt&&(b.component=ki),b}function Gr(S){return S.outlet||tt}function R(S,I){const b=S.filter(P=>Gr(P)===I);return b.push(...S.filter(P=>Gr(P)!==I)),b}const q={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function F(S,I,b){var P;if(""===I.path)return"full"===I.pathMatch&&(S.hasChildren()||b.length>0)?Object.assign({},q):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Y=(I.matcher||tr)(b,S,I);if(!Y)return Object.assign({},q);const ye={};nt(Y.posParams,(et,pn)=>{ye[pn]=et.path});const Me=Y.consumed.length>0?Object.assign(Object.assign({},ye),Y.consumed[Y.consumed.length-1].parameters):ye;return{matched:!0,consumedSegments:Y.consumed,lastChild:Y.consumed.length,parameters:Me,positionalParamSegments:null!==(P=Y.posParams)&&void 0!==P?P:{}}}function X(S,I,b,P,V="corrected"){if(b.length>0&&function Lt(S,I,b){return b.some(P=>L(S,I,P)&&Gr(P)!==tt)}(S,b,P)){const ye=new U(I,function _t(S,I,b,P){const V={};V[tt]=P,P._sourceSegment=S,P._segmentIndexShift=I.length;for(const Y of b)if(""===Y.path&&Gr(Y)!==tt){const ye=new U([],{});ye._sourceSegment=S,ye._segmentIndexShift=I.length,V[Gr(Y)]=ye}return V}(S,I,P,new U(b,S.children)));return ye._sourceSegment=S,ye._segmentIndexShift=I.length,{segmentGroup:ye,slicedSegments:[]}}if(0===b.length&&function mn(S,I,b){return b.some(P=>L(S,I,P))}(S,b,P)){const ye=new U(S.segments,function Ce(S,I,b,P,V,Y){const ye={};for(const Me of P)if(L(S,b,Me)&&!V[Gr(Me)]){const et=new U([],{});et._sourceSegment=S,et._segmentIndexShift="legacy"===Y?S.segments.length:I.length,ye[Gr(Me)]=et}return Object.assign(Object.assign({},V),ye)}(S,I,b,P,S.children,V));return ye._sourceSegment=S,ye._segmentIndexShift=I.length,{segmentGroup:ye,slicedSegments:b}}const Y=new U(S.segments,S.children);return Y._sourceSegment=S,Y._segmentIndexShift=I.length,{segmentGroup:Y,slicedSegments:b}}function L(S,I,b){return(!(S.hasChildren()||I.length>0)||"full"!==b.pathMatch)&&""===b.path}function w(S,I,b,P){return!!(Gr(S)===P||P!==tt&&L(I,b,S))&&("**"===S.path||F(I,S,b).matched)}function y(S,I,b){return 0===I.length&&!S.children[b]}class x{constructor(I){this.segmentGroup=I||null}}class le{constructor(I){this.urlTree=I}}function Qe(S){return new ve.y(I=>I.error(new x(S)))}function St(S){return new ve.y(I=>I.error(new le(S)))}function Ft(S){return new ve.y(I=>I.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${S}'`)))}class ar{constructor(I,b,P,V,Y){this.configLoader=b,this.urlSerializer=P,this.urlTree=V,this.config=Y,this.allowRedirects=!0,this.ngModule=I.get(c.h0i)}apply(){const I=X(this.urlTree.root,[],[],this.config).segmentGroup,b=new U(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,b,tt).pipe((0,mt.U)(Y=>this.createUrlTree(Bn(Y),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ct(Y=>{if(Y instanceof le)return this.allowRedirects=!1,this.match(Y.urlTree);throw Y instanceof x?this.noMatchError(Y):Y}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,tt).pipe((0,mt.U)(V=>this.createUrlTree(Bn(V),I.queryParams,I.fragment))).pipe(Ct(V=>{throw V instanceof x?this.noMatchError(V):V}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,b,P){const V=I.segments.length>0?new U([],{[tt]:I}):I;return new ie(V,b,P)}expandSegmentGroup(I,b,P,V){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(I,b,P).pipe((0,mt.U)(Y=>new U([],Y))):this.expandSegment(I,P,b,P.segments,V,!0)}expandChildren(I,b,P){const V=[];for(const Y of Object.keys(P.children))"primary"===Y?V.unshift(Y):V.push(Y);return(0,Te.D)(V).pipe((0,Jt.b)(Y=>{const ye=P.children[Y],Me=R(b,Y);return this.expandSegmentGroup(I,Me,ye,Y).pipe((0,mt.U)(et=>({segment:et,outlet:Y})))}),(0,Kt.R)((Y,ye)=>(Y[ye.outlet]=ye.segment,Y),{}),function He(S,I){const b=arguments.length>=2;return P=>P.pipe(S?(0,ae.h)((V,Y)=>S(V,Y,P)):De.y,me(1),b?(0,xe.d)(I):(0,_e.T)(()=>new at.K))}())}expandSegment(I,b,P,V,Y,ye){return(0,Te.D)(P).pipe((0,Jt.b)(Me=>this.expandSegmentAgainstRoute(I,b,P,Me,V,Y,ye).pipe(Ct(pn=>{if(pn instanceof x)return(0,Re.of)(null);throw pn}))),(0,rn.P)(Me=>!!Me),Ct((Me,et)=>{if(Me instanceof at.K||"EmptyError"===Me.name){if(y(b,V,Y))return(0,Re.of)(new U([],{}));throw new x(b)}throw Me}))}expandSegmentAgainstRoute(I,b,P,V,Y,ye,Me){return w(V,b,Y,ye)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(I,b,V,Y,ye):Me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,b,P,V,Y,ye):Qe(b):Qe(b)}expandSegmentAgainstRouteUsingRedirect(I,b,P,V,Y,ye){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,P,V,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(I,b,P,V,Y,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,b,P,V){const Y=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?St(Y):this.lineralizeSegments(P,Y).pipe((0,dt.z)(ye=>{const Me=new U(ye,{});return this.expandSegment(I,Me,b,ye,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,b,P,V,Y,ye){const{matched:Me,consumedSegments:et,lastChild:pn,positionalParamSegments:ir}=F(b,V,Y);if(!Me)return Qe(b);const Pn=this.applyRedirectCommands(et,V.redirectTo,ir);return V.redirectTo.startsWith("/")?St(Pn):this.lineralizeSegments(V,Pn).pipe((0,dt.z)(Er=>this.expandSegment(I,b,P,Er.concat(Y.slice(pn)),ye,!1)))}matchSegmentAgainstRoute(I,b,P,V,Y){if("**"===P.path)return P.loadChildren?(P._loadedConfig?(0,Re.of)(P._loadedConfig):this.configLoader.load(I.injector,P)).pipe((0,mt.U)(Er=>(P._loadedConfig=Er,new U(V,{})))):(0,Re.of)(new U(V,{}));const{matched:ye,consumedSegments:Me,lastChild:et}=F(b,P,V);if(!ye)return Qe(b);const pn=V.slice(et);return this.getChildConfig(I,P,V).pipe((0,dt.z)(Pn=>{const Er=Pn.module,Cn=Pn.routes,{segmentGroup:Vs,slicedSegments:Ar}=X(b,Me,pn,Cn),Ai=new U(Vs.segments,Vs.children);if(0===Ar.length&&Ai.hasChildren())return this.expandChildren(Er,Cn,Ai).pipe((0,mt.U)(Ei=>new U(Me,Ei)));if(0===Cn.length&&0===Ar.length)return(0,Re.of)(new U(Me,{}));const Us=Gr(P)===Y;return this.expandSegment(Er,Ai,Cn,Ar,Us?tt:Y,!0).pipe((0,mt.U)(os=>new U(Me.concat(os.segments),os.children)))}))}getChildConfig(I,b,P){return b.children?(0,Re.of)(new _i(b.children,I)):b.loadChildren?void 0!==b._loadedConfig?(0,Re.of)(b._loadedConfig):this.runCanLoadGuards(I.injector,b,P).pipe((0,dt.z)(V=>V?this.configLoader.load(I.injector,b).pipe((0,mt.U)(Y=>(b._loadedConfig=Y,Y))):function $n(S){return new ve.y(I=>I.error(xt(`Cannot load children because the guard of the route "path: '${S.path}'" returned false`)))}(b))):(0,Re.of)(new _i([],I))}runCanLoadGuards(I,b,P){const V=b.canLoad;if(!V||0===V.length)return(0,Re.of)(!0);const Y=V.map(ye=>{const Me=I.get(ye);let et;if(function ns(S){return S&&Rr(S.canLoad)}(Me))et=Me.canLoad(b,P);else{if(!Rr(Me))throw new Error("Invalid CanLoad guard");et=Me(b,P)}return j(et)});return(0,Re.of)(Y).pipe(Zr(),(0,pt.b)(ye=>{if(!hi(ye))return;const Me=xt(`Redirecting to "${this.urlSerializer.serialize(ye)}"`);throw Me.url=ye,Me}),(0,mt.U)(ye=>!0===ye))}lineralizeSegments(I,b){let P=[],V=b.root;for(;;){if(P=P.concat(V.segments),0===V.numberOfChildren)return(0,Re.of)(P);if(V.numberOfChildren>1||!V.children[tt])return Ft(I.redirectTo);V=V.children[tt]}}applyRedirectCommands(I,b,P){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),I,P)}applyRedirectCreatreUrlTree(I,b,P,V){const Y=this.createSegmentGroup(I,b.root,P,V);return new ie(Y,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(I,b){const P={};return nt(I,(V,Y)=>{if("string"==typeof V&&V.startsWith(":")){const Me=V.substring(1);P[Y]=b[Me]}else P[Y]=V}),P}createSegmentGroup(I,b,P,V){const Y=this.createSegments(I,b.segments,P,V);let ye={};return nt(b.children,(Me,et)=>{ye[et]=this.createSegmentGroup(I,Me,P,V)}),new U(Y,ye)}createSegments(I,b,P,V){return b.map(Y=>Y.path.startsWith(":")?this.findPosParam(I,Y,V):this.findOrReturn(Y,P))}findPosParam(I,b,P){const V=P[b.path.substring(1)];if(!V)throw new Error(`Cannot redirect to '${I}'. Cannot find '${b.path}'.`);return V}findOrReturn(I,b){let P=0;for(const V of b){if(V.path===I.path)return b.splice(P),V;P++}return I}}function Bn(S){const I={};for(const P of Object.keys(S.children)){const Y=Bn(S.children[P]);(Y.segments.length>0||Y.hasChildren())&&(I[P]=Y)}return function yr(S){if(1===S.numberOfChildren&&S.children[tt]){const I=S.children[tt];return new U(S.segments.concat(I.segments),I.children)}return S}(new U(S.segments,I))}class Fi{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class Rt{constructor(I,b){this.component=I,this.route=b}}function or(S,I,b){const P=S._root;return Ji(P,I?I._root:null,b,[P.value])}function Kn(S,I,b){const P=function Ts(S){if(!S)return null;for(let I=S.parent;I;I=I.parent){const b=I.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(I);return(P?P.module.injector:b).get(S)}function Ji(S,I,b,P,V={canDeactivateChecks:[],canActivateChecks:[]}){const Y=Wr(I);return S.children.forEach(ye=>{(function Ks(S,I,b,P,V={canDeactivateChecks:[],canActivateChecks:[]}){const Y=S.value,ye=I?I.value:null,Me=b?b.getContext(S.value.outlet):null;if(ye&&Y.routeConfig===ye.routeConfig){const et=function la(S,I,b){if("function"==typeof b)return b(S,I);switch(b){case"pathParamsChange":return!be(S.url,I.url);case"pathParamsOrQueryParamsChange":return!be(S.url,I.url)||!En(S.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qr(S,I)||!En(S.queryParams,I.queryParams);default:return!qr(S,I)}}(ye,Y,Y.routeConfig.runGuardsAndResolvers);et?V.canActivateChecks.push(new Fi(P)):(Y.data=ye.data,Y._resolvedData=ye._resolvedData),Ji(S,I,Y.component?Me?Me.children:null:b,P,V),et&&Me&&Me.outlet&&Me.outlet.isActivated&&V.canDeactivateChecks.push(new Rt(Me.outlet.component,ye))}else ye&&Do(I,Me,V),V.canActivateChecks.push(new Fi(P)),Ji(S,null,Y.component?Me?Me.children:null:b,P,V)})(ye,Y[ye.value.outlet],b,P.concat([ye.value]),V),delete Y[ye.value.outlet]}),nt(Y,(ye,Me)=>Do(ye,b.getContext(Me),V)),V}function Do(S,I,b){const P=Wr(S),V=S.value;nt(P,(Y,ye)=>{Do(Y,V.component?I?I.children.getContext(ye):null:I,b)}),b.canDeactivateChecks.push(new Rt(V.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,V))}class ms{}function jo(S){return new ve.y(I=>I.error(S))}class za{constructor(I,b,P,V,Y,ye){this.rootComponentType=I,this.config=b,this.urlTree=P,this.url=V,this.paramsInheritanceStrategy=Y,this.relativeLinkResolution=ye}recognize(){const I=X(this.urlTree.root,[],[],this.config.filter(ye=>void 0===ye.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,I,tt);if(null===b)return null;const P=new zt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},tt,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new ni(P,b),Y=new sn(this.url,V);return this.inheritParamsAndData(Y._root),Y}inheritParamsAndData(I){const b=I.value,P=qe(b,this.paramsInheritanceStrategy);b.params=Object.freeze(P.params),b.data=Object.freeze(P.data),I.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(I,b,P){return 0===b.segments.length&&b.hasChildren()?this.processChildren(I,b):this.processSegment(I,b,b.segments,P)}processChildren(I,b){const P=[];for(const Y of Object.keys(b.children)){const ye=b.children[Y],Me=R(I,Y),et=this.processSegmentGroup(Me,ye,Y);if(null===et)return null;P.push(...et)}const V=no(P);return function $o(S){S.sort((I,b)=>I.value.outlet===tt?-1:b.value.outlet===tt?1:I.value.outlet.localeCompare(b.value.outlet))}(V),V}processSegment(I,b,P,V){for(const Y of I){const ye=this.processSegmentAgainstRoute(Y,b,P,V);if(null!==ye)return ye}return y(b,P,V)?[]:null}processSegmentAgainstRoute(I,b,P,V){if(I.redirectTo||!w(I,b,P,V))return null;let Y,ye=[],Me=[];if("**"===I.path){const Cn=P.length>0?on(P).parameters:{};Y=new zt(P,Cn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mo(I),Gr(I),I.component,I,zo(b),So(b)+P.length,Wo(I))}else{const Cn=F(b,I,P);if(!Cn.matched)return null;ye=Cn.consumedSegments,Me=P.slice(Cn.lastChild),Y=new zt(ye,Cn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mo(I),Gr(I),I.component,I,zo(b),So(b)+ye.length,Wo(I))}const et=function Ho(S){return S.children?S.children:S.loadChildren?S._loadedConfig.routes:[]}(I),{segmentGroup:pn,slicedSegments:ir}=X(b,ye,Me,et.filter(Cn=>void 0===Cn.redirectTo),this.relativeLinkResolution);if(0===ir.length&&pn.hasChildren()){const Cn=this.processChildren(et,pn);return null===Cn?null:[new ni(Y,Cn)]}if(0===et.length&&0===ir.length)return[new ni(Y,[])];const Pn=Gr(I)===V,Er=this.processSegment(et,pn,ir,Pn?tt:V);return null===Er?null:[new ni(Y,Er)]}}function Ao(S){const I=S.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function no(S){const I=[],b=new Set;for(const P of S){if(!Ao(P)){I.push(P);continue}const V=I.find(Y=>P.value.routeConfig===Y.value.routeConfig);void 0!==V?(V.children.push(...P.children),b.add(V)):I.push(P)}for(const P of b){const V=no(P.children);I.push(new ni(P.value,V))}return I.filter(P=>!b.has(P))}function zo(S){let I=S;for(;I._sourceSegment;)I=I._sourceSegment;return I}function So(S){let I=S,b=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,b+=I._segmentIndexShift?I._segmentIndexShift:0;return b-1}function mo(S){return S.data||{}}function Wo(S){return S.resolve||{}}function Na(S){return(0,Vt.w)(I=>{const b=S(I);return b?(0,Te.D)(b).pipe((0,mt.U)(()=>I)):(0,Re.of)(I)})}class ei extends class Fs{shouldDetach(I){return!1}store(I,b){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,b){return I.routeConfig===b.routeConfig}}{}const qa=new c.OlP("ROUTES");class Su{constructor(I,b,P,V){this.injector=I,this.compiler=b,this.onLoadStartListener=P,this.onLoadEndListener=V}load(I,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const V=this.loadModuleFactory(b.loadChildren).pipe((0,mt.U)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(b);const ye=Y.create(I);return new _i(fn(ye.injector.get(qa,void 0,c.XFs.Self|c.XFs.Optional)).map(ai),ye)}),Ct(Y=>{throw b._loader$=void 0,Y}));return b._loader$=new We(V,()=>new _.x).pipe(Et()),b._loader$}loadModuleFactory(I){return j(I()).pipe((0,dt.z)(b=>b instanceof c.YKP?(0,Re.of)(b):(0,Te.D)(this.compiler.compileModuleAsync(b))))}}class Cs{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,b){return I}}function yl(S){throw S}function Mu(S,I,b){return I.parse("/")}function As(S,I){return(0,Re.of)(null)}const qs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ci=(()=>{class S{constructor(b,P,V,Y,ye,Me,et){this.rootComponentType=b,this.urlSerializer=P,this.rootContexts=V,this.location=Y,this.config=et,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _.x,this.errorHandler=yl,this.malformedUriErrorHandler=Mu,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:As,afterPreactivation:As},this.urlHandlingStrategy=new Cs,this.routeReuseStrategy=new ei,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ye.get(c.h0i),this.console=ye.get(c.c2e);const Pn=ye.get(c.R0b);this.isNgZoneEnabled=Pn instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(et),this.currentUrlTree=function Z(){return new ie(new U([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Su(ye,Me,Er=>this.triggerEvent(new tn(Er)),Er=>this.triggerEvent(new Ln(Er))),this.routerState=Nr(this.currentUrlTree,this.rootComponentType),this.transitions=new G({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const P=this.events;return b.pipe((0,ae.h)(V=>0!==V.id),(0,mt.U)(V=>Object.assign(Object.assign({},V),{extractedUrl:this.urlHandlingStrategy.extract(V.rawUrl)})),(0,Vt.w)(V=>{let Y=!1,ye=!1;return(0,Re.of)(V).pipe((0,pt.b)(Me=>{this.currentNavigation={id:Me.id,initialUrl:Me.currentRawUrl,extractedUrl:Me.extractedUrl,trigger:Me.source,extras:Me.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Vt.w)(Me=>{const et=this.browserUrlTree.toString(),pn=!this.navigated||Me.extractedUrl.toString()!==et||et!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||pn)&&this.urlHandlingStrategy.shouldProcessUrl(Me.rawUrl))return da(Me.source)&&(this.browserUrlTree=Me.extractedUrl),(0,Re.of)(Me).pipe((0,Vt.w)(Pn=>{const Er=this.transitions.getValue();return P.next(new en(Pn.id,this.serializeUrl(Pn.extractedUrl),Pn.source,Pn.restoredState)),Er!==this.transitions.getValue()?Ne.E:Promise.resolve(Pn)}),function is(S,I,b,P){return(0,Vt.w)(V=>function br(S,I,b,P,V){return new ar(S,I,b,P,V).apply()}(S,I,b,V.extractedUrl,P).pipe((0,mt.U)(Y=>Object.assign(Object.assign({},V),{urlAfterRedirects:Y}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pt.b)(Pn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Pn.urlAfterRedirects})}),function Wa(S,I,b,P,V){return(0,dt.z)(Y=>function ca(S,I,b,P,V="emptyOnly",Y="legacy"){try{const ye=new za(S,I,b,P,V,Y).recognize();return null===ye?jo(new ms):(0,Re.of)(ye)}catch(ye){return jo(ye)}}(S,I,Y.urlAfterRedirects,b(Y.urlAfterRedirects),P,V).pipe((0,mt.U)(ye=>Object.assign(Object.assign({},Y),{targetSnapshot:ye}))))}(this.rootComponentType,this.config,Pn=>this.serializeUrl(Pn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pt.b)(Pn=>{if("eager"===this.urlUpdateStrategy){if(!Pn.extras.skipLocationChange){const Cn=this.urlHandlingStrategy.merge(Pn.urlAfterRedirects,Pn.rawUrl);this.setBrowserUrl(Cn,Pn)}this.browserUrlTree=Pn.urlAfterRedirects}const Er=new dr(Pn.id,this.serializeUrl(Pn.extractedUrl),this.serializeUrl(Pn.urlAfterRedirects),Pn.targetSnapshot);P.next(Er)}));if(pn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Er,extractedUrl:Cn,source:Vs,restoredState:Ar,extras:Ai}=Me,Us=new en(Er,this.serializeUrl(Cn),Vs,Ar);P.next(Us);const Ur=Nr(Cn,this.rootComponentType).snapshot;return(0,Re.of)(Object.assign(Object.assign({},Me),{targetSnapshot:Ur,urlAfterRedirects:Cn,extras:Object.assign(Object.assign({},Ai),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Me.rawUrl,Me.resolve(null),Ne.E}),Na(Me=>{const{targetSnapshot:et,id:pn,extractedUrl:ir,rawUrl:Pn,extras:{skipLocationChange:Er,replaceUrl:Cn}}=Me;return this.hooks.beforePreactivation(et,{navigationId:pn,appliedUrlTree:ir,rawUrlTree:Pn,skipLocationChange:!!Er,replaceUrl:!!Cn})}),(0,pt.b)(Me=>{const et=new Fn(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot);this.triggerEvent(et)}),(0,mt.U)(Me=>Object.assign(Object.assign({},Me),{guards:or(Me.targetSnapshot,Me.currentSnapshot,this.rootContexts)})),function ml(S,I){return(0,dt.z)(b=>{const{targetSnapshot:P,currentSnapshot:V,guards:{canActivateChecks:Y,canDeactivateChecks:ye}}=b;return 0===ye.length&&0===Y.length?(0,Re.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function xa(S,I,b,P){return(0,Te.D)(S).pipe((0,dt.z)(V=>function to(S,I,b,P,V){const Y=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,Re.of)(!0);const ye=Y.map(Me=>{const et=Kn(Me,I,V);let pn;if(function Hi(S){return S&&Rr(S.canDeactivate)}(et))pn=j(et.canDeactivate(S,I,b,P));else{if(!Rr(et))throw new Error("Invalid CanDeactivate guard");pn=j(et(S,I,b,P))}return pn.pipe((0,rn.P)())});return(0,Re.of)(ye).pipe(Zr())}(V.component,V.route,b,I,P)),(0,rn.P)(V=>!0!==V,!0))}(ye,P,V,S).pipe((0,dt.z)(Me=>Me&&function Ri(S){return"boolean"==typeof S}(Me)?function go(S,I,b,P){return(0,Te.D)(I).pipe((0,Jt.b)(V=>(0,It.z)(function Qr(S,I){return null!==S&&I&&I(new ln(S)),(0,Re.of)(!0)}(V.route.parent,P),function To(S,I){return null!==S&&I&&I(new vt(S)),(0,Re.of)(!0)}(V.route,P),function Co(S,I,b){const P=I[I.length-1],Y=I.slice(0,I.length-1).reverse().map(ye=>function Ws(S){const I=S.routeConfig?S.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:S,guards:I}:null}(ye)).filter(ye=>null!==ye).map(ye=>Pe(()=>{const Me=ye.guards.map(et=>{const pn=Kn(et,ye.node,b);let ir;if(function mr(S){return S&&Rr(S.canActivateChild)}(pn))ir=j(pn.canActivateChild(P,S));else{if(!Rr(pn))throw new Error("Invalid CanActivateChild guard");ir=j(pn(P,S))}return ir.pipe((0,rn.P)())});return(0,Re.of)(Me).pipe(Zr())}));return(0,Re.of)(Y).pipe(Zr())}(S,V.path,b),function vi(S,I,b){const P=I.routeConfig?I.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Re.of)(!0);const V=P.map(Y=>Pe(()=>{const ye=Kn(Y,I,b);let Me;if(function Qi(S){return S&&Rr(S.canActivate)}(ye))Me=j(ye.canActivate(I,S));else{if(!Rr(ye))throw new Error("Invalid CanActivate guard");Me=j(ye(I,S))}return Me.pipe((0,rn.P)())}));return(0,Re.of)(V).pipe(Zr())}(S,V.route,b))),(0,rn.P)(V=>!0!==V,!0))}(P,Y,S,I):(0,Re.of)(Me)),(0,mt.U)(Me=>Object.assign(Object.assign({},b),{guardsResult:Me})))})}(this.ngModule.injector,Me=>this.triggerEvent(Me)),(0,pt.b)(Me=>{if(hi(Me.guardsResult)){const pn=xt(`Redirecting to "${this.serializeUrl(Me.guardsResult)}"`);throw pn.url=Me.guardsResult,pn}const et=new un(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot,!!Me.guardsResult);this.triggerEvent(et)}),(0,ae.h)(Me=>!!Me.guardsResult||(this.restoreHistory(Me),this.cancelNavigationTransition(Me,""),!1)),Na(Me=>{if(Me.guards.canActivateChecks.length)return(0,Re.of)(Me).pipe((0,pt.b)(et=>{const pn=new sr(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot);this.triggerEvent(pn)}),(0,Vt.w)(et=>{let pn=!1;return(0,Re.of)(et).pipe(function ks(S,I){return(0,dt.z)(b=>{const{targetSnapshot:P,guards:{canActivateChecks:V}}=b;if(!V.length)return(0,Re.of)(b);let Y=0;return(0,Te.D)(V).pipe((0,Jt.b)(ye=>function Ka(S,I,b,P){return function Mo(S,I,b,P){const V=Object.keys(S);if(0===V.length)return(0,Re.of)({});const Y={};return(0,Te.D)(V).pipe((0,dt.z)(ye=>function Au(S,I,b,P){const V=Kn(S,I,P);return j(V.resolve?V.resolve(I,b):V(I,b))}(S[ye],I,b,P).pipe((0,pt.b)(Me=>{Y[ye]=Me}))),me(1),(0,dt.z)(()=>Object.keys(Y).length===V.length?(0,Re.of)(Y):Ne.E))}(S._resolve,S,I,P).pipe((0,mt.U)(Y=>(S._resolvedData=Y,S.data=Object.assign(Object.assign({},S.data),qe(S,b).resolve),null)))}(ye.route,P,S,I)),(0,pt.b)(()=>Y++),me(1),(0,dt.z)(ye=>Y===V.length?(0,Re.of)(b):Ne.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pt.b)({next:()=>pn=!0,complete:()=>{pn||(this.restoreHistory(et),this.cancelNavigationTransition(et,"At least one route resolver didn't emit any value."))}}))}),(0,pt.b)(et=>{const pn=new er(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot);this.triggerEvent(pn)}))}),Na(Me=>{const{targetSnapshot:et,id:pn,extractedUrl:ir,rawUrl:Pn,extras:{skipLocationChange:Er,replaceUrl:Cn}}=Me;return this.hooks.afterPreactivation(et,{navigationId:pn,appliedUrlTree:ir,rawUrlTree:Pn,skipLocationChange:!!Er,replaceUrl:!!Cn})}),(0,mt.U)(Me=>{const et=function $r(S,I,b){const P=Hr(S,I._root,b?b._root:void 0);return new Lr(P,I)}(this.routeReuseStrategy,Me.targetSnapshot,Me.currentRouterState);return Object.assign(Object.assign({},Me),{targetRouterState:et})}),(0,pt.b)(Me=>{this.currentUrlTree=Me.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Me.urlAfterRedirects,Me.rawUrl),this.routerState=Me.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Me.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Me),this.browserUrlTree=Me.urlAfterRedirects)}),((S,I,b)=>(0,mt.U)(P=>(new Yi(I,P.targetRouterState,P.currentRouterState,b).activate(S),P)))(this.rootContexts,this.routeReuseStrategy,Me=>this.triggerEvent(Me)),(0,pt.b)({next(){Y=!0},complete(){Y=!0}}),function fe(S){return(0,lt.e)((I,b)=>{try{I.subscribe(b)}finally{b.add(S)}})}(()=>{var Me;Y||ye||this.cancelNavigationTransition(V,`Navigation ID ${V.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Me=this.currentNavigation)||void 0===Me?void 0:Me.id)===V.id&&(this.currentNavigation=null)}),Ct(Me=>{if(ye=!0,function Tn(S){return S&&S[kt]}(Me)){const et=hi(Me.url);et||(this.navigated=!0,this.restoreHistory(V,!0));const pn=new vn(V.id,this.serializeUrl(V.extractedUrl),Me.message);P.next(pn),et?setTimeout(()=>{const ir=this.urlHandlingStrategy.merge(Me.url,this.rawUrlTree),Pn={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||da(V.source)};this.scheduleNavigation(ir,"imperative",null,Pn,{resolve:V.resolve,reject:V.reject,promise:V.promise})},0):V.resolve(!1)}else{this.restoreHistory(V,!0);const et=new Qn(V.id,this.serializeUrl(V.extractedUrl),Me);P.next(et);try{V.resolve(this.errorHandler(Me))}catch(pn){V.reject(pn)}}return Ne.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const P="popstate"===b.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{var V;const Y={replaceUrl:!0},ye=(null===(V=b.state)||void 0===V?void 0:V.navigationId)?b.state:null;if(ye){const et=Object.assign({},ye);delete et.navigationId,delete et.\u0275routerPageId,0!==Object.keys(et).length&&(Y.state=et)}const Me=this.parseUrl(b.url);this.scheduleNavigation(Me,P,ye,Y)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){gs(b),this.config=b.map(ai),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,P={}){const{relativeTo:V,queryParams:Y,fragment:ye,queryParamsHandling:Me,preserveFragment:et}=P,pn=V||this.routerState.root,ir=et?this.currentUrlTree.fragment:ye;let Pn=null;switch(Me){case"merge":Pn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Y);break;case"preserve":Pn=this.currentUrlTree.queryParams;break;default:Pn=Y||null}return null!==Pn&&(Pn=this.removeEmptyProps(Pn)),function eo(S,I,b,P,V){if(0===b.length)return Zi(I.root,I.root,I,P,V);const Y=function Rs(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new ts(!0,0,S);let I=0,b=!1;const P=S.reduce((V,Y,ye)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const Me={};return nt(Y.outlets,(et,pn)=>{Me[pn]="string"==typeof et?et.split("/"):et}),[...V,{outlets:Me}]}if(Y.segmentPath)return[...V,Y.segmentPath]}return"string"!=typeof Y?[...V,Y]:0===ye?(Y.split("/").forEach((Me,et)=>{0==et&&"."===Me||(0==et&&""===Me?b=!0:".."===Me?I++:""!=Me&&V.push(Me))}),V):[...V,Y]},[]);return new ts(b,I,P)}(b);if(Y.toRoot())return Zi(I.root,new U([],{}),I,P,V);const ye=function Gs(S,I,b){if(S.isAbsolute)return new ii(I.root,!0,0);if(-1===b.snapshot._lastPathIndex){const Y=b.snapshot._urlSegment;return new ii(Y,Y===I.root,0)}const P=ri(S.commands[0])?0:1;return function ps(S,I,b){let P=S,V=I,Y=b;for(;Y>V;){if(Y-=V,P=P.parent,!P)throw new Error("Invalid number of '../'");V=P.segments.length}return new ii(P,!1,V-Y)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+P,S.numberOfDoubleDots)}(Y,I,S),Me=ye.processChildren?$i(ye.segmentGroup,ye.index,Y.commands):Di(ye.segmentGroup,ye.index,Y.commands);return Zi(ye.segmentGroup,Me,I,P,V)}(pn,this.currentUrlTree,b,Pn,null!=ir?ir:null)}navigateByUrl(b,P={skipLocationChange:!1}){const V=hi(b)?b:this.parseUrl(b),Y=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(Y,"imperative",null,P)}navigate(b,P={skipLocationChange:!1}){return function Ya(S){for(let I=0;I<S.length;I++){const b=S[I];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${I}`)}}(b),this.navigateByUrl(this.createUrlTree(b,P),P)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let P;try{P=this.urlSerializer.parse(b)}catch(V){P=this.malformedUriErrorHandler(V,this.urlSerializer,b)}return P}isActive(b,P){let V;if(V=!0===P?Object.assign({},qs):!1===P?Object.assign({},Oo):P,hi(b))return Ze(this.currentUrlTree,b,V);const Y=this.parseUrl(b);return Ze(this.currentUrlTree,Y,V)}removeEmptyProps(b){return Object.keys(b).reduce((P,V)=>{const Y=b[V];return null!=Y&&(P[V]=Y),P},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new Dn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,P,V,Y,ye){var Me,et,pn;if(this.disposed)return Promise.resolve(!1);const ir=this.transitions.value,Pn=da(P)&&ir&&!da(ir.source),Er=ir.rawUrl.toString()===b.toString(),Cn=ir.id===(null===(Me=this.currentNavigation)||void 0===Me?void 0:Me.id);if(Pn&&Er&&Cn)return Promise.resolve(!0);let Ar,Ai,Us;ye?(Ar=ye.resolve,Ai=ye.reject,Us=ye.promise):Us=new Promise((Ei,Kr)=>{Ar=Ei,Ai=Kr});const Ur=++this.navigationId;let os;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(V=this.location.getState()),os=V&&V.\u0275routerPageId?V.\u0275routerPageId:Y.replaceUrl||Y.skipLocationChange?null!==(et=this.browserPageId)&&void 0!==et?et:0:(null!==(pn=this.browserPageId)&&void 0!==pn?pn:0)+1):os=0,this.setTransition({id:Ur,targetPageId:os,source:P,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:Y,resolve:Ar,reject:Ai,promise:Us,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Us.catch(Ei=>Promise.reject(Ei))}setBrowserUrl(b,P){const V=this.urlSerializer.serialize(b),Y=Object.assign(Object.assign({},P.extras.state),this.generateNgRouterState(P.id,P.targetPageId));this.location.isCurrentPathEqualTo(V)||P.extras.replaceUrl?this.location.replaceState(V,"",Y):this.location.go(V,"",Y)}restoreHistory(b,P=!1){var V,Y;if("computed"===this.canceledNavigationResolution){const ye=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(V=this.currentNavigation)||void 0===V?void 0:V.finalUrl)||0===ye?this.currentUrlTree===(null===(Y=this.currentNavigation)||void 0===Y?void 0:Y.finalUrl)&&0===ye&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ye)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,P){const V=new vn(b.id,this.serializeUrl(b.extractedUrl),P);this.triggerEvent(V),b.resolve(!1)}generateNgRouterState(b,P){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:P}:{navigationId:b}}}return S.\u0275fac=function(b){c.$Z()},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})();function da(S){return"imperative"!==S}let Ss=(()=>{class S{constructor(b,P,V,Y,ye){this.router=b,this.route=P,this.tabIndexAttribute=V,this.renderer=Y,this.el=ye,this.commands=null,this.onChanges=new _.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){if(null!=this.tabIndexAttribute)return;const P=this.renderer,V=this.el.nativeElement;null!==b?P.setAttribute(V,"tabindex",b):P.removeAttribute(V,"tabindex")}ngOnChanges(b){this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const b={skipLocationChange:Ls(this.skipLocationChange),replaceUrl:Ls(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ls(this.preserveFragment)})}}return S.\u0275fac=function(b){return new(b||S)(c.Y36(Ci),c.Y36(Fe),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},S.\u0275dir=c.lG2({type:S,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,P){1&b&&c.NdJ("click",function(){return P.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),S})(),Zs=(()=>{class S{constructor(b,P,V){this.router=b,this.route=P,this.locationStrategy=V,this.commands=null,this.href=null,this.onChanges=new _.x,this.subscription=b.events.subscribe(Y=>{Y instanceof Dn&&this.updateTargetUrlAndHref()})}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:null}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,P,V,Y,ye){if(0!==b||P||V||Y||ye||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Me={skipLocationChange:Ls(this.skipLocationChange),replaceUrl:Ls(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Me),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ls(this.preserveFragment)})}}return S.\u0275fac=function(b){return new(b||S)(c.Y36(Ci),c.Y36(Fe),c.Y36(Ke.S$))},S.\u0275dir=c.lG2({type:S,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,P){1&b&&c.NdJ("click",function(Y){return P.onClick(Y.button,Y.ctrlKey,Y.shiftKey,Y.altKey,Y.metaKey)}),2&b&&c.uIk("target",P.target)("href",P.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),S})();function Ls(S){return""===S||!!S}let Qa=(()=>{class S{constructor(b,P,V,Y,ye,Me){this.router=b,this.element=P,this.renderer=V,this.cdr=Y,this.link=ye,this.linkWithHref=Me,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=b.events.subscribe(et=>{et instanceof Dn&&this.update()})}ngAfterContentInit(){(0,Re.of)(this.links.changes,this.linksWithHrefs.changes,(0,Re.of)(null)).pipe((0,Ae.J)()).subscribe(b=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var b;null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe();const P=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(V=>!!V).map(V=>V.onChanges);this.linkInputChangesSubscription=(0,Te.D)(P).pipe((0,Ae.J)()).subscribe(V=>{this.isActive!==this.isLinkActive(this.router)(V)&&this.update()})}set routerLinkActive(b){const P=Array.isArray(b)?b:b.split(" ");this.classes=P.filter(V=>!!V)}ngOnChanges(b){this.update()}ngOnDestroy(){var b;this.routerEventsSubscription.unsubscribe(),null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const b=this.hasActiveLinks();this.isActive!==b&&(this.isActive=b,this.cdr.markForCheck(),this.classes.forEach(P=>{b?this.renderer.addClass(this.element.nativeElement,P):this.renderer.removeClass(this.element.nativeElement,P)}),this.isActiveChange.emit(b))})}isLinkActive(b){const P=function ro(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return V=>!!V.urlTree&&b.isActive(V.urlTree,P)}hasActiveLinks(){const b=this.isLinkActive(this.router);return this.link&&b(this.link)||this.linkWithHref&&b(this.linkWithHref)||this.links.some(b)||this.linksWithHrefs.some(b)}}return S.\u0275fac=function(b){return new(b||S)(c.Y36(Ci),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(Ss,8),c.Y36(Zs,8))},S.\u0275dir=c.lG2({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(b,P,V){if(1&b&&(c.Suo(V,Ss,5),c.Suo(V,Zs,5)),2&b){let Y;c.iGM(Y=c.CRH())&&(P.links=Y),c.iGM(Y=c.CRH())&&(P.linksWithHrefs=Y)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.TTD]}),S})();class Cr{}class ys{preload(I,b){return(0,Re.of)(null)}}let ha=(()=>{class S{constructor(b,P,V,Y){this.router=b,this.injector=V,this.preloadingStrategy=Y,this.loader=new Su(V,P,et=>b.triggerEvent(new tn(et)),et=>b.triggerEvent(new Ln(et)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ae.h)(b=>b instanceof Dn),(0,Jt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(c.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,P){const V=[];for(const Y of P)if(Y.loadChildren&&!Y.canLoad&&Y._loadedConfig){const ye=Y._loadedConfig;V.push(this.processRoutes(ye.module,ye.routes))}else Y.loadChildren&&!Y.canLoad?V.push(this.preloadConfig(b,Y)):Y.children&&V.push(this.processRoutes(b,Y.children));return(0,Te.D)(V).pipe((0,Ae.J)(),(0,mt.U)(Y=>{}))}preloadConfig(b,P){return this.preloadingStrategy.preload(P,()=>(P._loadedConfig?(0,Re.of)(P._loadedConfig):this.loader.load(b.injector,P)).pipe((0,dt.z)(Y=>(P._loadedConfig=Y,this.processRoutes(Y.module,Y.routes)))))}}return S.\u0275fac=function(b){return new(b||S)(c.LFG(Ci),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Cr))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})(),_l=(()=>{class S{constructor(b,P,V={}){this.router=b,this.viewportScroller=P,this.options=V,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},V.scrollPositionRestoration=V.scrollPositionRestoration||"disabled",V.anchorScrolling=V.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof en?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Dn&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof Se&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,P){this.router.triggerEvent(new Se(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return S.\u0275fac=function(b){c.$Z()},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})();const Vr=new c.OlP("ROUTER_CONFIGURATION"),Ys=new c.OlP("ROUTER_FORROOT_GUARD"),Ko=[Ke.Ye,{provide:Tt,useClass:Zt},{provide:Ci,useFactory:function fi(S,I,b,P,V,Y,ye={},Me,et){const pn=new Ci(null,S,I,b,P,V,fn(Y));return Me&&(pn.urlHandlingStrategy=Me),et&&(pn.routeReuseStrategy=et),function ss(S,I){S.errorHandler&&(I.errorHandler=S.errorHandler),S.malformedUriErrorHandler&&(I.malformedUriErrorHandler=S.malformedUriErrorHandler),S.onSameUrlNavigation&&(I.onSameUrlNavigation=S.onSameUrlNavigation),S.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=S.paramsInheritanceStrategy),S.relativeLinkResolution&&(I.relativeLinkResolution=S.relativeLinkResolution),S.urlUpdateStrategy&&(I.urlUpdateStrategy=S.urlUpdateStrategy),S.canceledNavigationResolution&&(I.canceledNavigationResolution=S.canceledNavigationResolution)}(ye,pn),ye.enableTracing&&pn.events.subscribe(ir=>{var Pn,Er;null===(Pn=console.group)||void 0===Pn||Pn.call(console,`Router Event: ${ir.constructor.name}`),console.log(ir.toString()),console.log(ir),null===(Er=console.groupEnd)||void 0===Er||Er.call(console)}),pn},deps:[Tt,Pi,Ke.Ye,c.zs3,c.Sil,qa,Vr,[class Za{},new c.FiY],[class si{},new c.FiY]]},Pi,{provide:Fe,useFactory:function No(S){return S.routerState.root},deps:[Ci]},ha,ys,class yo{preload(I,b){return b().pipe(Ct(()=>(0,Re.of)(null)))}},{provide:Vr,useValue:{enableTracing:!1}}];function _n(){return new c.PXZ("Router",Ci)}let Hn=(()=>{class S{constructor(b,P){}static forRoot(b,P){return{ngModule:S,providers:[Ko,jt(b),{provide:Ys,useFactory:gt,deps:[[Ci,new c.FiY,new c.tp0]]},{provide:Vr,useValue:P||{}},{provide:Ke.S$,useFactory:Yt,deps:[Ke.lw,[new c.tBr(Ke.mr),new c.FiY],Vr]},{provide:_l,useFactory:xo,deps:[Ci,Ke.EM,Vr]},{provide:Cr,useExisting:P&&P.preloadingStrategy?P.preloadingStrategy:ys},{provide:c.PXZ,multi:!0,useFactory:_n},[Ra,{provide:c.ip1,multi:!0,useFactory:Ou,deps:[Ra]},{provide:io,useFactory:xu,deps:[Ra]},{provide:c.tb,multi:!0,useExisting:io}]]}}static forChild(b){return{ngModule:S,providers:[jt(b)]}}}return S.\u0275fac=function(b){return new(b||S)(c.LFG(Ys,8),c.LFG(Ci,8))},S.\u0275mod=c.oAB({type:S}),S.\u0275inj=c.cJS({}),S})();function xo(S,I,b){return b.scrollOffset&&I.setOffset(b.scrollOffset),new _l(S,I,b)}function Yt(S,I,b={}){return b.useHash?new Ke.Do(S,I):new Ke.b0(S,I)}function gt(S){return"guarded"}function jt(S){return[{provide:c.deG,multi:!0,useValue:S},{provide:qa,multi:!0,useValue:S}]}let Ra=(()=>{class S{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new _.x}appInitializer(){return this.injector.get(Ke.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let P=null;const V=new Promise(Me=>P=Me),Y=this.injector.get(Ci),ye=this.injector.get(Vr);return"disabled"===ye.initialNavigation?(Y.setUpLocationChangeListener(),P(!0)):"enabled"===ye.initialNavigation||"enabledBlocking"===ye.initialNavigation?(Y.hooks.afterPreactivation=()=>this.initNavigation?(0,Re.of)(null):(this.initNavigation=!0,P(!0),this.resultOfPreactivationDone),Y.initialNavigation()):P(!0),V})}bootstrapListener(b){const P=this.injector.get(Vr),V=this.injector.get(ha),Y=this.injector.get(_l),ye=this.injector.get(Ci),Me=this.injector.get(c.z2F);b===Me.components[0]&&(("enabledNonBlocking"===P.initialNavigation||void 0===P.initialNavigation)&&ye.initialNavigation(),V.setUpPreloading(),Y.init(),ye.resetRootComponentType(Me.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return S.\u0275fac=function(b){return new(b||S)(c.LFG(c.zs3))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})();function Ou(S){return S.appInitializer.bind(S)}function xu(S){return S.bootstrapListener.bind(S)}const io=new c.OlP("Router Initializer")},579:(Qt,rt,k)=>{k.d(rt,{EI:()=>wn,Gb:()=>hr,Iv:()=>fn,Kz:()=>nt,Xd:()=>er,lT:()=>jn,xP:()=>on});var c=k(5861),_=k(9681),G=k(1877),ve=k(2090),Ie=k(4859);k(2833);const De="analytics",oe="firebase_id",de="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Le="https://www.googletagmanager.com/gtag/js",ot=new G.Yd("@firebase/analytics");function it(pe){return Promise.all(pe.map(Ze=>Ze.catch(ct=>ct)))}function Dt(pe,Ze){const ct=document.createElement("script");ct.src=`${Le}?l=${pe}&id=${Ze}`,ct.async=!0,document.head.appendChild(ct)}function Pe(pe,Ze,ct,ue,re,ce){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(pe,Ze,ct,ue,re,ce){const je=ue[re];try{if(je)yield Ze[je];else{const ie=(yield it(ct)).find(U=>U.measurementId===re);ie&&(yield Ze[ie.appId])}}catch(te){ot.error(te)}pe("config",re,ce)})).apply(this,arguments)}function lt(pe,Ze,ct,ue,re){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(pe,Ze,ct,ue,re){try{let ce=[];if(re&&re.send_to){let je=re.send_to;Array.isArray(je)||(je=[je]);const te=yield it(ct);for(const ie of je){const U=te.find(Q=>Q.measurementId===ie),J=U&&Ze[U.appId];if(!J){ce=[];break}ce.push(J)}}0===ce.length&&(ce=Object.values(Ze)),yield Promise.all(ce),pe("event",ue,re||{})}catch(ce){ot.error(ce)}})).apply(this,arguments)}function at(){const pe=window.document.getElementsByTagName("script");for(const Ze of Object.values(pe))if(Ze.src&&Ze.src.includes(Le))return Ze;return null}const Ne=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_e=new class me{constructor(Ze={},ct=1e3){this.throttleMetadata=Ze,this.intervalMillis=ct}getThrottleMetadata(Ze){return this.throttleMetadata[Ze]}setThrottleMetadata(Ze,ct){this.throttleMetadata[Ze]=ct}deleteThrottleMetadata(Ze){delete this.throttleMetadata[Ze]}};function xe(pe){return new Headers({Accept:"application/json","x-goog-api-key":pe})}function He(pe){return fe.apply(this,arguments)}function fe(){return(fe=(0,c.Z)(function*(pe){var Ze;const{appId:ct,apiKey:ue}=pe,re={method:"GET",headers:xe(ue)},ce=de.replace("{app-id}",ct),je=yield fetch(ce,re);if(200!==je.status&&304!==je.status){let te="";try{const ie=yield je.json();(null===(Ze=ie.error)||void 0===Ze?void 0:Ze.message)&&(te=ie.error.message)}catch(ie){}throw Ne.create("config-fetch-failed",{httpStatus:je.status,responseMessage:te})}return je.json()})).apply(this,arguments)}function mt(pe){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(pe,Ze=_e,ct){const{appId:ue,apiKey:re,measurementId:ce}=pe.options;if(!ue)throw Ne.create("no-app-id");if(!re){if(ce)return{measurementId:ce,appId:ue};throw Ne.create("no-api-key")}const je=Ze.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},te=new rn;return setTimeout((0,c.Z)(function*(){te.abort()}),void 0!==ct?ct:6e4),hn({appId:ue,apiKey:re,measurementId:ce},je,te,Ze)})).apply(this,arguments)}function hn(pe,Ze,ct){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(pe,{throttleEndTimeMillis:Ze,backoffCount:ct},ue,re=_e){const{appId:ce,measurementId:je}=pe;try{yield Kt(ue,Ze)}catch(te){if(je)return ot.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${te.message}]`),{appId:ce,measurementId:je};throw te}try{const te=yield He(pe);return re.deleteThrottleMetadata(ce),te}catch(te){if(!Jt(te)){if(re.deleteThrottleMetadata(ce),je)return ot.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${te.message}]`),{appId:ce,measurementId:je};throw te}const ie=503===Number(te.customData.httpStatus)?(0,ve.$s)(ct,re.intervalMillis,30):(0,ve.$s)(ct,re.intervalMillis),U={throttleEndTimeMillis:Date.now()+ie,backoffCount:ct+1};return re.setThrottleMetadata(ce,U),ot.debug(`Calling attemptFetch again in ${ie} millis`),hn(pe,U,ue,re)}})).apply(this,arguments)}function Kt(pe,Ze){return new Promise((ct,ue)=>{const re=Math.max(Ze-Date.now(),0),ce=setTimeout(ct,re);pe.addEventListener(()=>{clearTimeout(ce),ue(Ne.create("fetch-throttle",{throttleEndTimeMillis:Ze}))})})}function Jt(pe){if(!(pe instanceof ve.ZR&&pe.customData))return!1;const Ze=Number(pe.customData.httpStatus);return 429===Ze||500===Ze||503===Ze||504===Ze}class rn{constructor(){this.listeners=[]}addEventListener(Ze){this.listeners.push(Ze)}abort(){this.listeners.forEach(Ze=>Ze())}}function dt(){return pt.apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(){if(!(0,ve.hl)())return ot.warn(Ne.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(pe){return ot.warn(Ne.create("indexeddb-unavailable",{errorInfo:pe}).message),!1}return!0})).apply(this,arguments)}function Ke(){return(Ke=(0,c.Z)(function*(pe,Ze,ct,ue,re,ce,je){var te;const ie=mt(pe);ie.then(Je=>{ct[Je.measurementId]=Je.appId,pe.options.measurementId&&Je.measurementId!==pe.options.measurementId&&ot.warn(`The measurement ID in the local Firebase config (${pe.options.measurementId}) does not match the measurement ID fetched from the server (${Je.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Je=>ot.error(Je)),Ze.push(ie);const U=dt().then(Je=>{if(Je)return ue.getId()}),[J,Q]=yield Promise.all([ie,U]);at()||Dt(ce,J.measurementId),re("js",new Date);const be=null!==(te=null==je?void 0:je.config)&&void 0!==te?te:{};return be.origin="firebase",be.update=!0,null!=Q&&(be[oe]=Q),re("config",J.measurementId,be),J.measurementId})).apply(this,arguments)}class Mt{constructor(Ze){this.app=Ze}_delete(){return delete en[this.app.options.appId],Promise.resolve()}}let en={},Dn=[];const vn={};let Fn,un,Qn="dataLayer",dr="gtag",sr=!1;function er(pe){if(sr)throw Ne.create("already-initialized");pe.dataLayerName&&(Qn=pe.dataLayerName),pe.gtagName&&(dr=pe.gtagName)}function Ln(pe,Ze,ct){!function tn(){const pe=[];if((0,ve.ru)()&&pe.push("This is a browser extension environment."),(0,ve.zI)()||pe.push("Cookies are not available."),pe.length>0){const Ze=pe.map((ue,re)=>`(${re+1}) ${ue}`).join(" "),ct=Ne.create("invalid-analytics-context",{errorInfo:Ze});ot.warn(ct.message)}}();const ue=pe.options.appId;if(!ue)throw Ne.create("no-app-id");if(!pe.options.apiKey){if(!pe.options.measurementId)throw Ne.create("no-api-key");ot.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${pe.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=en[ue])throw Ne.create("already-exists",{id:ue});if(!sr){!function Ot(pe){let Ze=[];Array.isArray(window[pe])?Ze=window[pe]:window[pe]=Ze}(Qn);const{wrappedGtag:ce,gtagCore:je}=function Re(pe,Ze,ct,ue,re){let ce=function(...je){window[ue].push(arguments)};return window[re]&&"function"==typeof window[re]&&(ce=window[re]),window[re]=function We(pe,Ze,ct,ue){function ce(){return(ce=(0,c.Z)(function*(je,te,ie){try{"event"===je?yield lt(pe,Ze,ct,te,ie):"config"===je?yield Pe(pe,Ze,ct,ue,te,ie):pe("set",te)}catch(U){ot.error(U)}})).apply(this,arguments)}return function re(je,te,ie){return ce.apply(this,arguments)}}(ce,pe,Ze,ct),{gtagCore:ce,wrappedGtag:window[re]}}(en,Dn,vn,Qn,dr);un=ce,Fn=je,sr=!0}return en[ue]=function Ae(pe,Ze,ct,ue,re,ce,je){return Ke.apply(this,arguments)}(pe,Dn,vn,Ze,Fn,Qn,ct),new Mt(pe)}function Jn(){return(Jn=(0,c.Z)(function*(pe,Ze,ct,ue,re){if(re&&re.global)pe("event",ct,ue);else{const ce=yield Ze;pe("event",ct,Object.assign(Object.assign({},ue),{send_to:ce}))}})).apply(this,arguments)}function ke(){return(ke=(0,c.Z)(function*(pe,Ze,ct,ue){if(ue&&ue.global)return pe("set",{screen_name:ct}),Promise.resolve();pe("config",yield Ze,{update:!0,screen_name:ct})})).apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(pe,Ze,ct,ue){if(ue&&ue.global)return pe("set",{user_id:ct}),Promise.resolve();pe("config",yield Ze,{update:!0,user_id:ct})})).apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(pe,Ze,ct,ue){if(ue&&ue.global){const re={};for(const ce of Object.keys(ct))re[`user_properties.${ce}`]=ct[ce];return pe("set",re),Promise.resolve()}pe("config",yield Ze,{update:!0,user_properties:ct})})).apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(pe,Ze){const ct=yield pe;window[`ga-disable-${ct}`]=!Ze})).apply(this,arguments)}function hr(){return En.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch(pe){return!1}})).apply(this,arguments)}function jn(pe,Ze,ct){pe=(0,ve.m9)(pe),function vt(pe,Ze,ct,ue){return ke.apply(this,arguments)}(un,en[pe.app.options.appId],Ze,ct).catch(ue=>ot.error(ue))}function fn(pe,Ze,ct){pe=(0,ve.m9)(pe),function Se(pe,Ze,ct,ue){return tt.apply(this,arguments)}(un,en[pe.app.options.appId],Ze,ct).catch(ue=>ot.error(ue))}function on(pe,Ze,ct){pe=(0,ve.m9)(pe),function At(pe,Ze,ct,ue){return Ut.apply(this,arguments)}(un,en[pe.app.options.appId],Ze,ct).catch(ue=>ot.error(ue))}function wn(pe,Ze){pe=(0,ve.m9)(pe),function kt(pe,Ze){return xt.apply(this,arguments)}(en[pe.app.options.appId],Ze).catch(ct=>ot.error(ct))}function nt(pe,Ze,ct,ue){pe=(0,ve.m9)(pe),function ln(pe,Ze,ct,ue,re){return Jn.apply(this,arguments)}(un,en[pe.app.options.appId],Ze,ct,ue).catch(re=>ot.error(re))}const j="@firebase/analytics",Z="0.7.8";!function $e(){(0,_._registerComponent)(new Ie.wA(De,(Ze,{options:ct})=>Ln(Ze.getProvider("app").getImmediate(),Ze.getProvider("installations-internal").getImmediate(),ct),"PUBLIC")),(0,_._registerComponent)(new Ie.wA("analytics-internal",function pe(Ze){try{const ct=Ze.getProvider(De).getImmediate();return{logEvent:(ue,re,ce)=>nt(ct,ue,re,ce)}}catch(ct){throw Ne.create("interop-component-reg-failed",{reason:ct})}},"PRIVATE")),(0,_.registerVersion)(j,Z),(0,_.registerVersion)(j,Z,"esm2017")}()},3942:(Qt,rt,k)=>{k.d(rt,{Z:()=>Dt});var c=k(2090),_=k(4859),G=k(9681),ve=k(1877);class Ie{constructor(Pe,Ye){this._delegate=Pe,this.firebase=Ye,(0,G._addComponent)(Pe,new _.wA("app-compat",()=>this,"PUBLIC")),this.container=Pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this._delegate.automaticDataCollectionEnabled=Pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Pe=>{this._delegate.checkDestroyed(),Pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(Pe,Ye=G._DEFAULT_ENTRY_NAME){var lt;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(Pe);return!Et.isInitialized()&&"EXPLICIT"===(null===(lt=Et.getComponent())||void 0===lt?void 0:lt.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:Ye})}_removeServiceInstance(Pe,Ye=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Pe).clearInstance(Ye)}_addComponent(Pe){(0,G._addComponent)(this._delegate,Pe)}_addOrOverwriteComponent(Pe){(0,G._addOrOverwriteComponent)(this._delegate,Pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function Oe(){const Ot=function oe(Ot){const Pe={},Ye={__esModule:!0,initializeApp:function We(Ne,Ct={}){const ae=G.initializeApp(Ne,Ct);if((0,c.r3)(Pe,ae.name))return Pe[ae.name];const me=new Ot(ae,Ye);return Pe[ae.name]=me,me},app:Et,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function at(Ne){const Ct=Ne.name,ae=Ct.replace("-compat","");if(G._registerComponent(Ne)&&"PUBLIC"===Ne.type){const me=(_e=Et())=>{if("function"!=typeof _e[ae])throw De.create("invalid-app-argument",{appName:Ct});return _e[ae]()};void 0!==Ne.serviceProps&&(0,c.ZB)(me,Ne.serviceProps),Ye[ae]=me,Ot.prototype[ae]=function(..._e){return this._getService.bind(this,Ct).apply(this,Ne.multipleInstances?_e:[])}}return"PUBLIC"===Ne.type?Ye[ae]:null},removeApp:function lt(Ne){delete Pe[Ne]},useAsService:function It(Ne,Ct){return"serverAuth"===Ct?null:Ct},modularAPIs:G}};function Et(Ne){if(!(0,c.r3)(Pe,Ne=Ne||G._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:Ne});return Pe[Ne]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function Re(){return Object.keys(Pe).map(Ne=>Pe[Ne])}}),Et.App=Ot,Ye}(Ie);return Ot.INTERNAL=Object.assign(Object.assign({},Ot.INTERNAL),{createFirebaseNamespace:Oe,extendNamespace:function Pe(Ye){(0,c.ZB)(Ot,Ye)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ot}(),de=new ve.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ot=self.firebase.SDK_VERSION;Ot&&Ot.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Dt=ne;!function it(Ot){(0,G.registerVersion)("@firebase/app-compat","0.1.23",Ot)}()},9681:(Qt,rt,k)=>{k.r(rt),k.d(rt,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>Qn,_DEFAULT_ENTRY_NAME:()=>hn,_addComponent:()=>rn,_addOrOverwriteComponent:()=>dt,_apps:()=>Kt,_clearComponents:()=>Mt,_components:()=>Jt,_getProvider:()=>Ae,_registerComponent:()=>pt,_removeServiceInstance:()=>Ke,deleteApp:()=>sr,getApp:()=>Fn,getApps:()=>un,initializeApp:()=>dr,onLog:()=>Ln,registerVersion:()=>tn,setLogLevel:()=>ln});var c=k(5861),_=k(4859),G=k(1877),ve=k(2090);class Ie{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map($e=>{if(function Te(j){const Z=j.getComponent();return"VERSION"===(null==Z?void 0:Z.type)}($e)){const pe=$e.getImmediate();return`${pe.library}/${pe.version}`}return null}).filter($e=>$e).join(" ")}}const De="@firebase/app",Oe=new G.Yd("@firebase/app"),hn="[DEFAULT]",wt={[De]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Kt=new Map,Jt=new Map;function rn(j,Z){try{j.container.addComponent(Z)}catch($e){Oe.debug(`Component ${Z.name} failed to register with FirebaseApp ${j.name}`,$e)}}function dt(j,Z){j.container.addOrOverwriteComponent(Z)}function pt(j){const Z=j.name;if(Jt.has(Z))return Oe.debug(`There were multiple attempts to register component ${Z}.`),!1;Jt.set(Z,j);for(const $e of Kt.values())rn($e,j);return!0}function Ae(j,Z){const $e=j.container.getProvider("heartbeat").getImmediate({optional:!0});return $e&&$e.triggerHeartbeat(),j.container.getProvider(Z)}function Ke(j,Z,$e=hn){Ae(j,Z).clearInstance($e)}function Mt(){Jt.clear()}const Dn=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class vn{constructor(Z,$e,pe){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},$e),this._name=$e.name,this._automaticDataCollectionEnabled=$e.automaticDataCollectionEnabled,this._container=pe,this.container.addComponent(new _.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}const Qn="9.7.0";function dr(j,Z={}){"object"!=typeof Z&&(Z={name:Z});const $e=Object.assign({name:hn,automaticDataCollectionEnabled:!1},Z),pe=$e.name;if("string"!=typeof pe||!pe)throw Dn.create("bad-app-name",{appName:String(pe)});const Ze=Kt.get(pe);if(Ze){if((0,ve.vZ)(j,Ze.options)&&(0,ve.vZ)($e,Ze.config))return Ze;throw Dn.create("duplicate-app",{appName:pe})}const ct=new _.H0(pe);for(const re of Jt.values())ct.addComponent(re);const ue=new vn(j,$e,ct);return Kt.set(pe,ue),ue}function Fn(j=hn){const Z=Kt.get(j);if(!Z)throw Dn.create("no-app",{appName:j});return Z}function un(){return Array.from(Kt.values())}function sr(j){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(j){const Z=j.name;Kt.has(Z)&&(Kt.delete(Z),yield Promise.all(j.container.getProviders().map($e=>$e.delete())),j.isDeleted=!0)})).apply(this,arguments)}function tn(j,Z,$e){var pe;let Ze=null!==(pe=wt[j])&&void 0!==pe?pe:j;$e&&(Ze+=`-${$e}`);const ct=Ze.match(/\s|\//),ue=Z.match(/\s|\//);if(ct||ue){const re=[`Unable to register library "${Ze}" with version "${Z}":`];return ct&&re.push(`library name "${Ze}" contains illegal characters (whitespace or "/")`),ct&&ue&&re.push("and"),ue&&re.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void Oe.warn(re.join(" "))}pt(new _.wA(`${Ze}-version`,()=>({library:Ze,version:Z}),"VERSION"))}function Ln(j,Z){if(null!==j&&"function"!=typeof j)throw Dn.create("invalid-log-argument");(0,G.Am)(j,Z)}function ln(j){(0,G.Ub)(j)}const ke="firebase-heartbeat-store";let Se=null;function tt(){return Se||(Se=(0,ve.X3)("firebase-heartbeat-database",1,(j,Z)=>{0===Z&&j.createObjectStore(ke)}).catch(j=>{throw Dn.create("storage-open",{originalErrorMessage:j.message})})),Se}function Ut(){return(Ut=(0,c.Z)(function*(j){try{return(yield tt()).transaction(ke).objectStore(ke).get(Tn(j))}catch(Z){throw Dn.create("storage-get",{originalErrorMessage:Z.message})}})).apply(this,arguments)}function kt(j,Z){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(j,Z){try{const pe=(yield tt()).transaction(ke,"readwrite");return yield pe.objectStore(ke).put(Z,Tn(j)),pe.complete}catch($e){throw Dn.create("storage-set",{originalErrorMessage:$e.message})}})).apply(this,arguments)}function Tn(j){return`${j.name}!${j.options.appId}`}class En{constructor(Z){this.container=Z,this._heartbeatsCache=null;const $e=this.container.getProvider("app").getImmediate();this._storage=new on($e),this._heartbeatsCachePromise=this._storage.read().then(pe=>(this._heartbeatsCache=pe,pe))}triggerHeartbeat(){var Z=this;return(0,c.Z)(function*(){const pe=Z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ze=jn();if(null===Z._heartbeatsCache&&(Z._heartbeatsCache=yield Z._heartbeatsCachePromise),Z._heartbeatsCache.lastSentHeartbeatDate!==Ze&&!Z._heartbeatsCache.heartbeats.some(ct=>ct.date===Ze))return Z._heartbeatsCache.heartbeats.push({date:Ze,agent:pe}),Z._heartbeatsCache.heartbeats=Z._heartbeatsCache.heartbeats.filter(ct=>{const ue=new Date(ct.date).valueOf();return Date.now()-ue<=2592e6}),Z._storage.overwrite(Z._heartbeatsCache)})()}getHeartbeatsHeader(){var Z=this;return(0,c.Z)(function*(){if(null===Z._heartbeatsCache&&(yield Z._heartbeatsCachePromise),null===Z._heartbeatsCache||0===Z._heartbeatsCache.heartbeats.length)return"";const $e=jn(),{heartbeatsToSend:pe,unsentEntries:Ze}=function fn(j,Z=1024){const $e=[];let pe=j.slice();for(const Ze of j){const ct=$e.find(ue=>ue.agent===Ze.agent);if(ct){if(ct.dates.push(Ze.date),wn($e)>Z){ct.dates.pop();break}}else if($e.push({agent:Ze.agent,dates:[Ze.date]}),wn($e)>Z){$e.pop();break}pe=pe.slice(1)}return{heartbeatsToSend:$e,unsentEntries:pe}}(Z._heartbeatsCache.heartbeats),ct=(0,ve.L)(JSON.stringify({version:2,heartbeats:pe}));return Z._heartbeatsCache.lastSentHeartbeatDate=$e,Ze.length>0?(Z._heartbeatsCache.heartbeats=Ze,yield Z._storage.overwrite(Z._heartbeatsCache)):(Z._heartbeatsCache.heartbeats=[],Z._storage.overwrite(Z._heartbeatsCache)),ct})()}}function jn(){return(new Date).toISOString().substring(0,10)}class on{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Z=this;return(0,c.Z)(function*(){return(yield Z._canUseIndexedDBPromise)&&(yield function At(j){return Ut.apply(this,arguments)}(Z.app))||{heartbeats:[]}})()}overwrite(Z){var $e=this;return(0,c.Z)(function*(){var pe;if(yield $e._canUseIndexedDBPromise){const ct=yield $e.read();return kt($e.app,{lastSentHeartbeatDate:null!==(pe=Z.lastSentHeartbeatDate)&&void 0!==pe?pe:ct.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}})()}add(Z){var $e=this;return(0,c.Z)(function*(){var pe;if(yield $e._canUseIndexedDBPromise){const ct=yield $e.read();return kt($e.app,{lastSentHeartbeatDate:null!==(pe=Z.lastSentHeartbeatDate)&&void 0!==pe?pe:ct.lastSentHeartbeatDate,heartbeats:[...ct.heartbeats,...Z.heartbeats]})}})()}}function wn(j){return(0,ve.L)(JSON.stringify({version:2,heartbeats:j})).length}!function nt(j){pt(new _.wA("platform-logger",Z=>new Ie(Z),"PRIVATE")),pt(new _.wA("heartbeat",Z=>new En(Z),"PRIVATE")),tn(De,"0.7.22",j),tn(De,"0.7.22","esm2017"),tn("fire-js","")}("")},4859:(Qt,rt,k)=>{k.d(rt,{H0:()=>oe,wA:()=>G});var c=k(5861),_=k(2090);class G{constructor(ne,de,Le){this.name=ne,this.instanceFactory=de,this.type=Le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const ve="[DEFAULT]";class Ie{constructor(ne,de){this.name=ne,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const de=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(de)){const Le=new _.BH;if(this.instancesDeferred.set(de,Le),this.isInitialized(de)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:de});ot&&Le.resolve(ot)}catch(ot){}}return this.instancesDeferred.get(de).promise}getImmediate(ne){var de;const Le=this.normalizeInstanceIdentifier(null==ne?void 0:ne.identifier),ot=null!==(de=null==ne?void 0:ne.optional)&&void 0!==de&&de;if(!this.isInitialized(Le)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Le})}catch(it){if(ot)return null;throw it}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function De(Oe){return"EAGER"===Oe.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:ve})}catch(de){}for(const[de,Le]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(de);try{const it=this.getOrInitializeService({instanceIdentifier:ot});Le.resolve(it)}catch(it){}}}}clearInstance(ne=ve){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,c.Z)(function*(){const de=Array.from(ne.instances.values());yield Promise.all([...de.filter(Le=>"INTERNAL"in Le).map(Le=>Le.INTERNAL.delete()),...de.filter(Le=>"_delete"in Le).map(Le=>Le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=ve){return this.instances.has(ne)}getOptions(ne=ve){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:de={}}=ne,Le=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Le))throw Error(`${this.name}(${Le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:Le,options:de});for(const[it,Dt]of this.instancesDeferred.entries())Le===this.normalizeInstanceIdentifier(it)&&Dt.resolve(ot);return ot}onInit(ne,de){var Le;const ot=this.normalizeInstanceIdentifier(de),it=null!==(Le=this.onInitCallbacks.get(ot))&&void 0!==Le?Le:new Set;it.add(ne),this.onInitCallbacks.set(ot,it);const Dt=this.instances.get(ot);return Dt&&ne(Dt,ot),()=>{it.delete(ne)}}invokeOnInitCallbacks(ne,de){const Le=this.onInitCallbacks.get(de);if(Le)for(const ot of Le)try{ot(ne,de)}catch(it){}}getOrInitializeService({instanceIdentifier:ne,options:de={}}){let Le=this.instances.get(ne);if(!Le&&this.component&&(Le=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=ne,Oe===ve?void 0:Oe),options:de}),this.instances.set(ne,Le),this.instancesOptions.set(ne,de),this.invokeOnInitCallbacks(Le,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Le)}catch(ot){}var Oe;return Le||null}normalizeInstanceIdentifier(ne=ve){return this.component?this.component.multipleInstances?ne:ve:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const de=this.getProvider(ne.name);if(de.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);de.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const de=new Ie(ne,this);return this.providers.set(ne,de),de}getProviders(){return Array.from(this.providers.values())}}},2833:(Qt,rt,k)=>{var c=k(5861),_=k(9681),G=k(4859),ve=k(2090);const Ie="@firebase/installations",oe="w:0.5.8",Oe="FIS_v2",Dt=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ot(Ge){return Ge instanceof ve.ZR&&Ge.code.includes("request-failed")}function Pe({projectId:Ge}){return`https://firebaseinstallations.googleapis.com/v1/projects/${Ge}/installations`}function Ye(Ge){return{token:Ge.token,requestStatus:2,expiresIn:Ne(Ge.expiresIn),creationTime:Date.now()}}function lt(Ge,Ve){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(Ge,Ve){const Xt=(yield Ve.json()).error;return Dt.create("request-failed",{requestName:Ge,serverCode:Xt.code,serverMessage:Xt.message,serverStatus:Xt.status})})).apply(this,arguments)}function We({apiKey:Ge}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ge})}function Re(Ge,{refreshToken:Ve}){const ht=We(Ge);return ht.append("Authorization",function Ct(Ge){return`${Oe} ${Ge}`}(Ve)),ht}function at(Ge){return It.apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(Ge){const Ve=yield Ge();return Ve.status>=500&&Ve.status<600?Ge():Ve})).apply(this,arguments)}function Ne(Ge){return Number(Ge.replace("s","000"))}function ae(Ge,Ve){return me.apply(this,arguments)}function me(){return(me=(0,c.Z)(function*({appConfig:Ge,heartbeatServiceProvider:Ve},{fid:ht}){const Xt=Pe(Ge),Un=We(Ge),Gn=Ve.getImmediate({optional:!0});if(Gn){const jr=yield Gn.getHeartbeatsHeader();jr&&Un.append("x-firebase-client",jr)}const Dr={method:"POST",headers:Un,body:JSON.stringify({fid:ht,authVersion:Oe,appId:Ge.appId,sdkVersion:oe})},Xn=yield at(()=>fetch(Xt,Dr));if(Xn.ok){const jr=yield Xn.json();return{fid:jr.fid||ht,registrationStatus:2,refreshToken:jr.refreshToken,authToken:Ye(jr.authToken)}}throw yield lt("Create Installation",Xn)})).apply(this,arguments)}function _e(Ge){return new Promise(Ve=>{setTimeout(Ve,Ge)})}const He=/^[cdef][\w-]{21}$/;function mt(){try{const Ge=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Ge),Ge[0]=112+Ge[0]%16;const ht=function Vt(Ge){return function xe(Ge){return btoa(String.fromCharCode(...Ge)).replace(/\+/g,"-").replace(/\//g,"_")}(Ge).substr(0,22)}(Ge);return He.test(ht)?ht:""}catch(Ge){return""}}function hn(Ge){return`${Ge.appName}!${Ge.appId}`}const wt=new Map;function Kt(Ge,Ve){const ht=hn(Ge);dt(ht,Ve),function pt(Ge,Ve){const ht=function Ke(){return!Ae&&"BroadcastChannel"in self&&(Ae=new BroadcastChannel("[Firebase] FID Change"),Ae.onmessage=Ge=>{dt(Ge.data.key,Ge.data.fid)}),Ae}();ht&&ht.postMessage({key:Ge,fid:Ve}),function Mt(){0===wt.size&&Ae&&(Ae.close(),Ae=null)}()}(ht,Ve)}function dt(Ge,Ve){const ht=wt.get(Ge);if(ht)for(const Xt of ht)Xt(Ve)}let Ae=null;const vn="firebase-installations-store";let Qn=null;function dr(){return Qn||(Qn=(0,ve.X3)("firebase-installations-database",1,(Ge,Ve)=>{0===Ve&&Ge.createObjectStore(vn)})),Qn}function Fn(Ge,Ve){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(Ge,Ve){const ht=hn(Ge),Un=(yield dr()).transaction(vn,"readwrite"),Gn=Un.objectStore(vn),zn=yield Gn.get(ht);return yield Gn.put(Ve,ht),yield Un.complete,(!zn||zn.fid!==Ve.fid)&&Kt(Ge,Ve.fid),Ve})).apply(this,arguments)}function sr(Ge){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(Ge){const Ve=hn(Ge),Xt=(yield dr()).transaction(vn,"readwrite");yield Xt.objectStore(vn).delete(Ve),yield Xt.complete})).apply(this,arguments)}function tn(Ge,Ve){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(Ge,Ve){const ht=hn(Ge),Un=(yield dr()).transaction(vn,"readwrite"),Gn=Un.objectStore(vn),zn=yield Gn.get(ht),Dr=Ve(zn);return void 0===Dr?yield Gn.delete(ht):yield Gn.put(Dr,ht),yield Un.complete,Dr&&(!zn||zn.fid!==Dr.fid)&&Kt(Ge,Dr.fid),Dr})).apply(this,arguments)}function ln(Ge){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(Ge){let Ve;const ht=yield tn(Ge.appConfig,Xt=>{const Un=vt(Xt),Gn=ke(Ge,Un);return Ve=Gn.registrationPromise,Gn.installationEntry});return""===ht.fid?{installationEntry:yield Ve}:{installationEntry:ht,registrationPromise:Ve}})).apply(this,arguments)}function vt(Ge){return xt(Ge||{fid:mt(),registrationStatus:0})}function ke(Ge,Ve){if(0===Ve.registrationStatus){if(!navigator.onLine)return{installationEntry:Ve,registrationPromise:Promise.reject(Dt.create("app-offline"))};const ht={fid:Ve.fid,registrationStatus:1,registrationTime:Date.now()},Xt=function Se(Ge,Ve){return tt.apply(this,arguments)}(Ge,ht);return{installationEntry:ht,registrationPromise:Xt}}return 1===Ve.registrationStatus?{installationEntry:Ve,registrationPromise:At(Ge)}:{installationEntry:Ve}}function tt(){return(tt=(0,c.Z)(function*(Ge,Ve){try{const ht=yield ae(Ge,Ve);return Fn(Ge.appConfig,ht)}catch(ht){throw Ot(ht)&&409===ht.customData.serverCode?yield sr(Ge.appConfig):yield Fn(Ge.appConfig,{fid:Ve.fid,registrationStatus:0}),ht}})).apply(this,arguments)}function At(Ge){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(Ge){let Ve=yield kt(Ge.appConfig);for(;1===Ve.registrationStatus;)yield _e(100),Ve=yield kt(Ge.appConfig);if(0===Ve.registrationStatus){const{installationEntry:ht,registrationPromise:Xt}=yield ln(Ge);return Xt||ht}return Ve})).apply(this,arguments)}function kt(Ge){return tn(Ge,Ve=>{if(!Ve)throw Dt.create("installation-not-found");return xt(Ve)})}function xt(Ge){return function Tn(Ge){return 1===Ge.registrationStatus&&Ge.registrationTime+1e4<Date.now()}(Ge)?{fid:Ge.fid,registrationStatus:0}:Ge}function tr(Ge,Ve){return hr.apply(this,arguments)}function hr(){return(hr=(0,c.Z)(function*({appConfig:Ge,heartbeatServiceProvider:Ve},ht){const Xt=En(Ge,ht),Un=Re(Ge,ht),Gn=Ve.getImmediate({optional:!0});if(Gn){const jr=yield Gn.getHeartbeatsHeader();jr&&Un.append("x-firebase-client",jr)}const Dr={method:"POST",headers:Un,body:JSON.stringify({installation:{sdkVersion:oe,appId:Ge.appId}})},Xn=yield at(()=>fetch(Xt,Dr));if(Xn.ok)return Ye(yield Xn.json());throw yield lt("Generate Auth Token",Xn)})).apply(this,arguments)}function En(Ge,{fid:Ve}){return`${Pe(Ge)}/${Ve}/authTokens:generate`}function jn(Ge){return fn.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(Ge,Ve=!1){let ht;const Xt=yield tn(Ge.appConfig,Gn=>{if(!$e(Gn))throw Dt.create("not-registered");const zn=Gn.authToken;if(!Ve&&pe(zn))return Gn;if(1===zn.requestStatus)return ht=on(Ge,Ve),Gn;{if(!navigator.onLine)throw Dt.create("app-offline");const Dr=ct(Gn);return ht=j(Ge,Dr),Dr}});return ht?yield ht:Xt.authToken})).apply(this,arguments)}function on(Ge,Ve){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(Ge,Ve){let ht=yield nt(Ge.appConfig);for(;1===ht.authToken.requestStatus;)yield _e(100),ht=yield nt(Ge.appConfig);const Xt=ht.authToken;return 0===Xt.requestStatus?jn(Ge,Ve):Xt})).apply(this,arguments)}function nt(Ge){return tn(Ge,Ve=>{if(!$e(Ve))throw Dt.create("not-registered");return function ue(Ge){return 1===Ge.requestStatus&&Ge.requestTime+1e4<Date.now()}(Ve.authToken)?Object.assign(Object.assign({},Ve),{authToken:{requestStatus:0}}):Ve})}function j(Ge,Ve){return Z.apply(this,arguments)}function Z(){return(Z=(0,c.Z)(function*(Ge,Ve){try{const ht=yield tr(Ge,Ve),Xt=Object.assign(Object.assign({},Ve),{authToken:ht});return yield Fn(Ge.appConfig,Xt),ht}catch(ht){if(!Ot(ht)||401!==ht.customData.serverCode&&404!==ht.customData.serverCode){const Xt=Object.assign(Object.assign({},Ve),{authToken:{requestStatus:0}});yield Fn(Ge.appConfig,Xt)}else yield sr(Ge.appConfig);throw ht}})).apply(this,arguments)}function $e(Ge){return void 0!==Ge&&2===Ge.registrationStatus}function pe(Ge){return 2===Ge.requestStatus&&!function Ze(Ge){const Ve=Date.now();return Ve<Ge.creationTime||Ge.creationTime+Ge.expiresIn<Ve+36e5}(Ge)}function ct(Ge){const Ve={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Ge),{authToken:Ve})}function ce(){return(ce=(0,c.Z)(function*(Ge){const Ve=Ge,{installationEntry:ht,registrationPromise:Xt}=yield ln(Ve);return Xt?Xt.catch(console.error):jn(Ve).catch(console.error),ht.fid})).apply(this,arguments)}function te(){return(te=(0,c.Z)(function*(Ge,Ve=!1){const ht=Ge;return yield ie(ht),(yield jn(ht,Ve)).token})).apply(this,arguments)}function ie(Ge){return U.apply(this,arguments)}function U(){return(U=(0,c.Z)(function*(Ge){const{registrationPromise:Ve}=yield ln(Ge);Ve&&(yield Ve)})).apply(this,arguments)}function xn(Ge){return Dt.create("missing-app-config-values",{valueName:Ge})}const pr="installations",Xr=Ge=>{const Ve=Ge.getProvider("app").getImmediate(),ht=function Rn(Ge){if(!Ge||!Ge.options)throw xn("App Configuration");if(!Ge.name)throw xn("App Name");const Ve=["projectId","apiKey","appId"];for(const ht of Ve)if(!Ge.options[ht])throw xn(ht);return{appName:Ge.name,projectId:Ge.options.projectId,apiKey:Ge.options.apiKey,appId:Ge.options.appId}}(Ve);return{app:Ve,appConfig:ht,heartbeatServiceProvider:(0,_._getProvider)(Ve,"heartbeat"),_delete:()=>Promise.resolve()}},vr=Ge=>{const Ve=Ge.getProvider("app").getImmediate(),ht=(0,_._getProvider)(Ve,pr).getImmediate();return{getId:()=>function re(Ge){return ce.apply(this,arguments)}(ht),getToken:Un=>function je(Ge){return te.apply(this,arguments)}(ht,Un)}};(function Ir(){(0,_._registerComponent)(new G.wA(pr,Xr,"PUBLIC")),(0,_._registerComponent)(new G.wA("installations-internal",vr,"PRIVATE"))})(),(0,_.registerVersion)(Ie,"0.5.8"),(0,_.registerVersion)(Ie,"0.5.8","esm2017")},1877:(Qt,rt,k)=>{k.d(rt,{Am:()=>Oe,Ub:()=>oe,Yd:()=>De,in:()=>_});const c=[];var _=(()=>{return(ne=_||(_={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",_;var ne})();const G={debug:_.DEBUG,verbose:_.VERBOSE,info:_.INFO,warn:_.WARN,error:_.ERROR,silent:_.SILENT},ve=_.INFO,Ie={[_.DEBUG]:"log",[_.VERBOSE]:"log",[_.INFO]:"info",[_.WARN]:"warn",[_.ERROR]:"error"},Te=(ne,de,...Le)=>{if(de<ne.logLevel)return;const ot=(new Date).toISOString(),it=Ie[de];if(!it)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[it](`[${ot}]  ${ne.name}:`,...Le)};class De{constructor(de){this.name=de,this._logLevel=ve,this._logHandler=Te,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in _))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?G[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,_.DEBUG,...de),this._logHandler(this,_.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,_.VERBOSE,...de),this._logHandler(this,_.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,_.INFO,...de),this._logHandler(this,_.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,_.WARN,...de),this._logHandler(this,_.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,_.ERROR,...de),this._logHandler(this,_.ERROR,...de)}}function oe(ne){c.forEach(de=>{de.setLogLevel(ne)})}function Oe(ne,de){for(const Le of c){let ot=null;de&&de.level&&(ot=G[de.level]),Le.userLogHandler=null===ne?null:(it,Dt,...Ot)=>{const Pe=Ot.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch(lt){return null}}).filter(Ye=>Ye).join(" ");Dt>=(null!=ot?ot:it.logLevel)&&ne({level:_[Dt].toLowerCase(),message:Pe,args:Ot,type:it.name})}}}},2290:(Qt,rt,k)=>{k.d(rt,{Rh:()=>hn,_W:()=>fe});var c=k(5e3),_=k(1777),G=k(7579),ve=k(9808),Ie=k(2313);const Te=["toast-component",""];function De(dt,pt){if(1&dt){const Ae=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){return c.CHM(Ae),c.oxw().remove()}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA(),c.qZA()}}function oe(dt,pt){if(1&dt&&(c.ynx(0),c._uU(1),c.BQk()),2&dt){const Ae=c.oxw(2);c.xp6(1),c.hij("[",Ae.duplicatesCount+1,"]")}}function Oe(dt,pt){if(1&dt&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,oe,2,1,"ng-container",4),c.qZA()),2&dt){const Ae=c.oxw();c.Tol(Ae.options.titleClass),c.uIk("aria-label",Ae.title),c.xp6(1),c.hij(" ",Ae.title," "),c.xp6(1),c.Q6J("ngIf",Ae.duplicatesCount)}}function ne(dt,pt){if(1&dt&&c._UZ(0,"div",7),2&dt){const Ae=c.oxw();c.Tol(Ae.options.messageClass),c.Q6J("innerHTML",Ae.message,c.oJD)}}function de(dt,pt){if(1&dt&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&dt){const Ae=c.oxw();c.Tol(Ae.options.messageClass),c.uIk("aria-label",Ae.message),c.xp6(1),c.hij(" ",Ae.message," ")}}function Le(dt,pt){if(1&dt&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&dt){const Ae=c.oxw();c.xp6(1),c.Udp("width",Ae.width+"%")}}function ot(dt,pt){if(1&dt){const Ae=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){return c.CHM(Ae),c.oxw().remove()}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA(),c.qZA()}}function it(dt,pt){if(1&dt&&(c.ynx(0),c._uU(1),c.BQk()),2&dt){const Ae=c.oxw(2);c.xp6(1),c.hij("[",Ae.duplicatesCount+1,"]")}}function Dt(dt,pt){if(1&dt&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,it,2,1,"ng-container",4),c.qZA()),2&dt){const Ae=c.oxw();c.Tol(Ae.options.titleClass),c.uIk("aria-label",Ae.title),c.xp6(1),c.hij(" ",Ae.title," "),c.xp6(1),c.Q6J("ngIf",Ae.duplicatesCount)}}function Ot(dt,pt){if(1&dt&&c._UZ(0,"div",7),2&dt){const Ae=c.oxw();c.Tol(Ae.options.messageClass),c.Q6J("innerHTML",Ae.message,c.oJD)}}function Pe(dt,pt){if(1&dt&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&dt){const Ae=c.oxw();c.Tol(Ae.options.messageClass),c.uIk("aria-label",Ae.message),c.xp6(1),c.hij(" ",Ae.message," ")}}function Ye(dt,pt){if(1&dt&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&dt){const Ae=c.oxw();c.xp6(1),c.Udp("width",Ae.width+"%")}}class We{constructor(pt,Ae){this.component=pt,this.injector=Ae}attach(pt,Ae){return this._attachedHost=pt,pt.attach(this,Ae)}detach(){const pt=this._attachedHost;if(pt)return this._attachedHost=void 0,pt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(pt){this._attachedHost=pt}}class at{constructor(pt,Ae,Ke,Mt,en,Dn){this.toastId=pt,this.config=Ae,this.message=Ke,this.title=Mt,this.toastType=en,this.toastRef=Dn,this._onTap=new G.x,this._onAction=new G.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(pt){this._onAction.next(pt)}onAction(){return this._onAction.asObservable()}}const It={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},Ne=new c.OlP("ToastConfig");class Ct{constructor(pt){this._overlayRef=pt,this.duplicatesCount=0,this._afterClosed=new G.x,this._activate=new G.x,this._manualClose=new G.x,this._resetTimeout=new G.x,this._countDuplicate=new G.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(pt,Ae){pt&&this._resetTimeout.next(),Ae&&this._countDuplicate.next(++this.duplicatesCount)}}class ae{constructor(pt,Ae){this._toastPackage=pt,this._parentInjector=Ae}get(pt,Ae,Ke){return pt===at?this._toastPackage:this._parentInjector.get(pt,Ae,Ke)}}class me extends class Re{attach(pt,Ae){return this._attachedPortal=pt,this.attachComponentPortal(pt,Ae)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(pt){this._disposeFn=pt}}{constructor(pt,Ae,Ke){super(),this._hostDomElement=pt,this._componentFactoryResolver=Ae,this._appRef=Ke}attachComponentPortal(pt,Ae){const Ke=this._componentFactoryResolver.resolveComponentFactory(pt.component);let Mt;return Mt=Ke.create(pt.injector),this._appRef.attachView(Mt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Mt.hostView),Mt.destroy()}),Ae?this._hostDomElement.insertBefore(this._getComponentRootNode(Mt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Mt)),Mt}_getComponentRootNode(pt){return pt.hostView.rootNodes[0]}}class _e{constructor(pt){this._portalHost=pt}attach(pt,Ae=!0){return this._portalHost.attach(pt,Ae)}detach(){return this._portalHost.detach()}}let xe=(()=>{class dt{constructor(Ae){this._document=Ae}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ae=this._document.createElement("div");Ae.classList.add("overlay-container"),Ae.setAttribute("aria-live","polite"),this._document.body.appendChild(Ae),this._containerElement=Ae}}return dt.\u0275fac=function(Ae){return new(Ae||dt)(c.LFG(ve.K0))},dt.\u0275prov=c.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})(),He=(()=>{class dt{constructor(Ae,Ke,Mt,en){this._overlayContainer=Ae,this._componentFactoryResolver=Ke,this._appRef=Mt,this._document=en,this._paneElements=new Map}create(Ae,Ke){return this._createOverlayRef(this.getPaneElement(Ae,Ke))}getPaneElement(Ae="",Ke){return this._paneElements.get(Ke)||this._paneElements.set(Ke,{}),this._paneElements.get(Ke)[Ae]||(this._paneElements.get(Ke)[Ae]=this._createPaneElement(Ae,Ke)),this._paneElements.get(Ke)[Ae]}_createPaneElement(Ae,Ke){const Mt=this._document.createElement("div");return Mt.id="toast-container",Mt.classList.add(Ae),Mt.classList.add("toast-container"),Ke?Ke.getContainerElement().appendChild(Mt):this._overlayContainer.getContainerElement().appendChild(Mt),Mt}_createPortalHost(Ae){return new me(Ae,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ae){return new _e(this._createPortalHost(Ae))}}return dt.\u0275fac=function(Ae){return new(Ae||dt)(c.LFG(xe),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(ve.K0))},dt.\u0275prov=c.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})(),fe=(()=>{class dt{constructor(Ae,Ke,Mt,en,Dn){this.overlay=Ke,this._injector=Mt,this.sanitizer=en,this.ngZone=Dn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},Ae.default),Ae.config),Ae.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},Ae.default.iconClasses),Ae.config.iconClasses))}show(Ae,Ke,Mt={},en=""){return this._preBuildNotification(en,Ae,Ke,this.applyConfig(Mt))}success(Ae,Ke,Mt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ae,Ke,this.applyConfig(Mt))}error(Ae,Ke,Mt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ae,Ke,this.applyConfig(Mt))}info(Ae,Ke,Mt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ae,Ke,this.applyConfig(Mt))}warning(Ae,Ke,Mt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ae,Ke,this.applyConfig(Mt))}clear(Ae){for(const Ke of this.toasts)if(void 0!==Ae){if(Ke.toastId===Ae)return void Ke.toastRef.manualClose()}else Ke.toastRef.manualClose()}remove(Ae){const Ke=this._findToast(Ae);if(!Ke||(Ke.activeToast.toastRef.close(),this.toasts.splice(Ke.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Mt=this.toasts[this.currentlyActive].toastRef;Mt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Mt.activate())}return!0}findDuplicate(Ae="",Ke="",Mt,en){const{includeTitleDuplicates:Dn}=this.toastrConfig;for(const vn of this.toasts){const Qn=Dn&&vn.title===Ae;if((!Dn||Qn)&&vn.message===Ke)return vn.toastRef.onDuplicate(Mt,en),vn}return null}applyConfig(Ae={}){return Object.assign(Object.assign({},this.toastrConfig),Ae)}_findToast(Ae){for(let Ke=0;Ke<this.toasts.length;Ke++)if(this.toasts[Ke].toastId===Ae)return{index:Ke,activeToast:this.toasts[Ke]};return null}_preBuildNotification(Ae,Ke,Mt,en){return en.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ae,Ke,Mt,en)):this._buildNotification(Ae,Ke,Mt,en)}_buildNotification(Ae,Ke,Mt,en){if(!en.toastComponent)throw new Error("toastComponent required");const Dn=this.findDuplicate(Mt,Ke,this.toastrConfig.resetTimeoutOnDuplicate&&en.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Mt||Ke)&&this.toastrConfig.preventDuplicates&&null!==Dn)return Dn;this.previousToastMessage=Ke;let vn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(vn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Qn=this.overlay.create(en.positionClass,this.overlayContainer);this.index=this.index+1;let dr=Ke;Ke&&en.enableHtml&&(dr=this.sanitizer.sanitize(c.q3G.HTML,Ke));const Fn=new Ct(Qn),un=new at(this.index,en,dr,Mt,Ae,Fn),sr=new ae(un,this._injector),er=new We(en.toastComponent,sr),tn=Qn.attach(er,this.toastrConfig.newestOnTop);Fn.componentInstance=tn.instance;const Ln={toastId:this.index,title:Mt||"",message:Ke||"",toastRef:Fn,onShown:Fn.afterActivate(),onHidden:Fn.afterClosed(),onTap:un.onTap(),onAction:un.onAction(),portal:tn};return vn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Ln.toastRef.activate()})),this.toasts.push(Ln),Ln}}return dt.\u0275fac=function(Ae){return new(Ae||dt)(c.LFG(Ne),c.LFG(He),c.LFG(c.zs3),c.LFG(Ie.H7),c.LFG(c.R0b))},dt.\u0275prov=c.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})(),mt=(()=>{class dt{constructor(Ae,Ke,Mt){this.toastrService=Ae,this.toastPackage=Ke,this.ngZone=Mt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ke.message,this.title=Ke.title,this.options=Ke.config,this.originalTimeout=Ke.config.timeOut,this.toastClasses=`${Ke.toastType} ${Ke.config.toastClass}`,this.sub=Ke.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ke.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ke.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ke.toastRef.countDuplicate().subscribe(en=>{this.duplicatesCount=en})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ae=(new Date).getTime();this.width=(this.hideTime-Ae)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ae,Ke){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ae),Ke)):this.timeout=setTimeout(()=>Ae(),Ke)}outsideInterval(Ae,Ke){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ae),Ke)):this.intervalId=setInterval(()=>Ae(),Ke)}runInsideAngular(Ae){this.ngZone?this.ngZone.run(()=>Ae()):Ae()}}return dt.\u0275fac=function(Ae){return new(Ae||dt)(c.Y36(fe),c.Y36(at),c.Y36(c.R0b))},dt.\u0275cmp=c.Xpm({type:dt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ae,Ke){1&Ae&&c.NdJ("click",function(){return Ke.tapToast()})("mouseenter",function(){return Ke.stickAround()})("mouseleave",function(){return Ke.delayedHideToast()}),2&Ae&&(c.d8E("@flyInOut",Ke.state),c.Tol(Ke.toastClasses),c.Udp("display",Ke.displayStyle))},attrs:Te,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ae,Ke){1&Ae&&(c.YNc(0,De,3,0,"button",0),c.YNc(1,Oe,3,5,"div",1),c.YNc(2,ne,1,3,"div",2),c.YNc(3,de,2,4,"div",3),c.YNc(4,Le,2,2,"div",4)),2&Ae&&(c.Q6J("ngIf",Ke.options.closeButton),c.xp6(1),c.Q6J("ngIf",Ke.title),c.xp6(1),c.Q6J("ngIf",Ke.message&&Ke.options.enableHtml),c.xp6(1),c.Q6J("ngIf",Ke.message&&!Ke.options.enableHtml),c.xp6(1),c.Q6J("ngIf",Ke.options.progressBar))},directives:[ve.O5],encapsulation:2,data:{animation:[(0,_.X$)("flyInOut",[(0,_.SB)("inactive",(0,_.oB)({opacity:0})),(0,_.SB)("active",(0,_.oB)({opacity:1})),(0,_.SB)("removed",(0,_.oB)({opacity:0})),(0,_.eR)("inactive => active",(0,_.jt)("{{ easeTime }}ms {{ easing }}")),(0,_.eR)("active => removed",(0,_.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),dt})();const Vt=Object.assign(Object.assign({},It),{toastComponent:mt});let hn=(()=>{class dt{static forRoot(Ae={}){return{ngModule:dt,providers:[{provide:Ne,useValue:{default:Vt,config:Ae}}]}}}return dt.\u0275fac=function(Ae){return new(Ae||dt)},dt.\u0275mod=c.oAB({type:dt}),dt.\u0275inj=c.cJS({imports:[[ve.ez]]}),dt})(),Kt=(()=>{class dt{constructor(Ae,Ke,Mt){this.toastrService=Ae,this.toastPackage=Ke,this.appRef=Mt,this.width=-1,this.toastClasses="",this.state="inactive",this.message=Ke.message,this.title=Ke.title,this.options=Ke.config,this.originalTimeout=Ke.config.timeOut,this.toastClasses=`${Ke.toastType} ${Ke.config.toastClass}`,this.sub=Ke.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ke.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ke.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ke.toastRef.countDuplicate().subscribe(en=>{this.duplicatesCount=en})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ae=(new Date).getTime();this.width=(this.hideTime-Ae)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return dt.\u0275fac=function(Ae){return new(Ae||dt)(c.Y36(fe),c.Y36(at),c.Y36(c.z2F))},dt.\u0275cmp=c.Xpm({type:dt,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(Ae,Ke){1&Ae&&c.NdJ("click",function(){return Ke.tapToast()})("mouseenter",function(){return Ke.stickAround()})("mouseleave",function(){return Ke.delayedHideToast()}),2&Ae&&(c.Tol(Ke.toastClasses),c.Udp("display",Ke.displayStyle))},attrs:Te,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ae,Ke){1&Ae&&(c.YNc(0,ot,3,0,"button",0),c.YNc(1,Dt,3,5,"div",1),c.YNc(2,Ot,1,3,"div",2),c.YNc(3,Pe,2,4,"div",3),c.YNc(4,Ye,2,2,"div",4)),2&Ae&&(c.Q6J("ngIf",Ke.options.closeButton),c.xp6(1),c.Q6J("ngIf",Ke.title),c.xp6(1),c.Q6J("ngIf",Ke.message&&Ke.options.enableHtml),c.xp6(1),c.Q6J("ngIf",Ke.message&&!Ke.options.enableHtml),c.xp6(1),c.Q6J("ngIf",Ke.options.progressBar))},directives:[ve.O5],encapsulation:2}),dt})();Object.assign(Object.assign({},It),{toastComponent:Kt})},5861:(Qt,rt,k)=>{function c(G,ve,Ie,Te,De,oe,Oe){try{var ne=G[oe](Oe),de=ne.value}catch(Le){return void Ie(Le)}ne.done?ve(de):Promise.resolve(de).then(Te,De)}function _(G){return function(){var ve=this,Ie=arguments;return new Promise(function(Te,De){var oe=G.apply(ve,Ie);function Oe(de){c(oe,Te,De,Oe,ne,"next",de)}function ne(de){c(oe,Te,De,Oe,ne,"throw",de)}Oe(void 0)})}}k.d(rt,{Z:()=>_})}},Qt=>{Qt(Qt.s=6568)}]);