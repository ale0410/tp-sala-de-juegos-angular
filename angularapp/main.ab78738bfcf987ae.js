"use strict";(self.webpackChunktp_sala_de_juegos=self.webpackChunktp_sala_de_juegos||[]).push([[179],{7128:(Qt,et,L)=>{L.d(et,{nm:()=>rt});var c=L(880),Te=(L(5e3),L(3692),L(5867),L(5861)),Ce=L(9681),De=L(4859),oe=L(2090),Me=L(1877);const ie=new Map,fe={activated:!1,tokenObservers:[]},Fe={initialized:!1,enabled:!1};function it(Ge){return ie.get(Ge)||fe}function tt(Ge,Re){ie.set(Ge,Re)}function wt(){return Fe}class xe{constructor(Re,Ke,Ct,Ut,sn){if(this.operation=Re,this.retryPolicy=Ke,this.getWaitDuration=Ct,this.lowerBound=Ut,this.upperBound=sn,this.pending=null,this.nextErrorWaitInterval=Ut,Ut>sn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Re){var Ke=this;return(0,Te.Z)(function*(){Ke.stop();try{Ke.pending=new oe.BH,yield function st(Ge){return new Promise(Re=>{setTimeout(Re,Ge)})}(Ke.getNextRun(Re)),Ke.pending.resolve(),yield Ke.pending.promise,Ke.pending=new oe.BH,yield Ke.operation(),Ke.pending.resolve(),yield Ke.pending.promise,Ke.process(!0).catch(()=>{})}catch(Ct){Ke.retryPolicy(Ct)?Ke.process(!1).catch(()=>{}):Ke.stop()}})()}getNextRun(Re){if(Re)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ke=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ke}}}const Ne=new oe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function le(Ge){if(!it(Ge).activated)throw Ne.create("use-before-activation",{appName:Ge.name})}function He(Ge,Re){return me.apply(this,arguments)}function me(){return(me=(0,Te.Z)(function*({url:Ge,body:Re},Ke){const Ct={"Content-Type":"application/json"},Ut=Ke.getImmediate({optional:!0});if(Ut){const $r=yield Ut.getHeartbeatsHeader();$r&&(Ct["X-Firebase-Client"]=$r)}const sn={method:"POST",body:JSON.stringify(Re),headers:Ct};let Kn,Ir;try{Kn=yield fetch(Ge,sn)}catch($r){throw Ne.create("fetch-network-error",{originalErrorMessage:$r.message})}if(200!==Kn.status)throw Ne.create("fetch-status-error",{httpStatus:Kn.status});try{Ir=yield Kn.json()}catch($r){throw Ne.create("fetch-parse-error",{originalErrorMessage:$r.message})}const qn=Ir.ttl.match(/^([\d.]+)(s)$/);if(!qn||!qn[2]||isNaN(Number(qn[1])))throw Ne.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Ir.ttl}`});const Qr=1e3*Number(qn[1]),Wr=Date.now();return{token:Ir.token,expireTimeMillis:Wr+Qr,issuedAtTimeMillis:Wr}})).apply(this,arguments)}function un(Ge,Re){const{projectId:Ke,appId:Ct,apiKey:Ut}=Ge.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ke}/apps/${Ct}:exchangeDebugToken?key=${Ut}`,body:{debug_token:Re}}}const Kt="firebase-app-check-store";let ct=null;function dt(){return ct||(ct=new Promise((Ge,Re)=>{try{const Ke=indexedDB.open("firebase-app-check-database",1);Ke.onsuccess=Ct=>{Ge(Ct.target.result)},Ke.onerror=Ct=>{var Ut;Re(Ne.create("storage-open",{originalErrorMessage:null===(Ut=Ct.target.error)||void 0===Ut?void 0:Ut.message}))},Ke.onupgradeneeded=Ct=>{0===Ct.oldVersion&&Ct.target.result.createObjectStore(Kt,{keyPath:"compositeKey"})}}catch(Ke){Re(Ne.create("storage-open",{originalErrorMessage:Ke.message}))}}),ct)}function dn(){return(dn=(0,Te.Z)(function*(Ge,Re){const Ct=(yield dt()).transaction(Kt,"readwrite"),sn=Ct.objectStore(Kt).put({compositeKey:Ge,value:Re});return new Promise((Kn,Ir)=>{sn.onsuccess=qn=>{Kn()},Ct.onerror=qn=>{var Qr;Ir(Ne.create("storage-set",{originalErrorMessage:null===(Qr=qn.target.error)||void 0===Qr?void 0:Qr.message}))}})})).apply(this,arguments)}const an=new Me.Yd("@firebase/app-check");function rn(Ge,Re){return(0,oe.hl)()?function ze(Ge,Re){return function En(Ge,Re){return dn.apply(this,arguments)}(function Sn(Ge){return`${Ge.options.appId}-${Ge.name}`}(Ge),Re)}(Ge,Re).catch(Ke=>{an.warn(`Failed to write token to IndexedDB. Error: ${Ke}`)}):Promise.resolve()}function On(){return wt().enabled}function Sr(){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,Te.Z)(function*(){const Ge=wt();if(Ge.enabled&&Ge.token)return Ge.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const zt={error:"UNKNOWN_ERROR"};function vr(Ge){return oe.US.encodeString(JSON.stringify(Ge),!1)}function mn(Ge){return qt.apply(this,arguments)}function qt(){return(qt=(0,Te.Z)(function*(Ge,Re=!1){const Ke=Ge.app;le(Ke);const Ct=it(Ke);let sn,Ut=Ct.token;if(!Ut){const qn=yield Ct.cachedTokenPromise;qn&&Yn(qn)&&(Ut=qn)}if(!Re&&Ut&&Yn(Ut))return{token:Ut.token};let Ir,Kn=!1;if(On()){Ct.exchangeTokenPromise||(Ct.exchangeTokenPromise=He(un(Ke,yield Sr()),Ge.heartbeatServiceProvider).then(Qr=>(Ct.exchangeTokenPromise=void 0,Qr)),Kn=!0);const qn=yield Ct.exchangeTokenPromise;return yield rn(Ke,qn),tt(Ke,Object.assign(Object.assign({},Ct),{token:qn})),{token:qn.token}}try{Ct.exchangeTokenPromise||(Ct.exchangeTokenPromise=Ct.provider.getToken().then(qn=>(Ct.exchangeTokenPromise=void 0,qn)),Kn=!0),Ut=yield Ct.exchangeTokenPromise}catch(qn){"appCheck/throttled"===qn.code?an.warn(qn.message):an.error(qn),sn=qn}return Ut?(Ir={token:Ut.token},tt(Ke,Object.assign(Object.assign({},Ct),{token:Ut})),yield rn(Ke,Ut)):Ir=Qn(sn),Kn&&_n(Ke,Ir),Ir})).apply(this,arguments)}function Bn(Ge,Re){const Ke=it(Ge),Ct=Ke.tokenObservers.filter(Ut=>Ut.next!==Re);0===Ct.length&&Ke.tokenRefresher&&Ke.tokenRefresher.isRunning()&&Ke.tokenRefresher.stop(),tt(Ge,Object.assign(Object.assign({},Ke),{tokenObservers:Ct}))}function Er(Ge){const{app:Re}=Ge,Ke=it(Re);let Ct=Ke.tokenRefresher;Ct||(Ct=function pr(Ge){const{app:Re}=Ge;return new xe((0,Te.Z)(function*(){let Ct;if(Ct=it(Re).token?yield mn(Ge,!0):yield mn(Ge),Ct.error)throw Ct.error}),()=>!0,()=>{const Ke=it(Re);if(Ke.token){let Ct=Ke.token.issuedAtTimeMillis+.5*(Ke.token.expireTimeMillis-Ke.token.issuedAtTimeMillis)+3e5;return Ct=Math.min(Ct,Ke.token.expireTimeMillis-3e5),Math.max(0,Ct-Date.now())}return 0},3e4,96e4)}(Ge),tt(Re,Object.assign(Object.assign({},Ke),{tokenRefresher:Ct}))),!Ct.isRunning()&&Ke.isTokenAutoRefreshEnabled&&Ct.start()}function _n(Ge,Re){const Ke=it(Ge).tokenObservers;for(const Ct of Ke)try{"EXTERNAL"===Ct.type&&null!=Re.error?Ct.error(Re.error):Ct.next(Re)}catch(Ut){}}function Yn(Ge){return Ge.expireTimeMillis-Date.now()>0}function Qn(Ge){return{token:vr(zt),error:Ge}}class jn{constructor(Re,Ke){this.app=Re,this.heartbeatServiceProvider=Ke}_delete(){const{tokenObservers:Re}=it(this.app);for(const Ke of Re)Bn(this.app,Ke.next);return Promise.resolve()}}const hr="app-check-internal";!function wr(){(0,Ce._registerComponent)(new De.wA("app-check",Ge=>function In(Ge,Re){return new jn(Ge,Re)}(Ge.getProvider("app").getImmediate(),Ge.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ge,Re,Ke)=>{Ge.getProvider(hr).initialize()})),(0,Ce._registerComponent)(new De.wA(hr,Ge=>function Xe(Ge){return{getToken:Re=>mn(Ge,Re),addTokenListener:Re=>function kt(Ge,Re,Ke,Ct){const{app:Ut}=Ge,sn=it(Ut),Kn={next:Ke,error:Ct,type:Re};if(tt(Ut,Object.assign(Object.assign({},sn),{tokenObservers:[...sn.tokenObservers,Kn]})),sn.token&&Yn(sn.token)){const Ir=sn.token;Promise.resolve().then(()=>{Ke({token:Ir.token}),Er(Ge)}).catch(()=>{})}sn.cachedTokenPromise.then(()=>Er(Ge))}(Ge,"INTERNAL",Re),removeTokenListener:Re=>Bn(Ge.app,Re)}}(Ge.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)("@firebase/app-check","0.5.7")}();class rt{constructor(){return(0,c.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(Qt,et,L)=>{L.d(et,{Ot:()=>we,ZF:()=>Pe,hX:()=>it,z6:()=>Te});var c=L(5867),w=L(5e3),z=L(880);class we{constructor(xe){return xe}}class Te{constructor(){return(0,c.C6)()}}const oe=new w.OlP("angularfire2._apps"),Me={provide:we,useFactory:function De(We){return We&&1===We.length?We[0]:new we((0,c.Mq)())},deps:[[new w.FiY,oe]]},ie={provide:Te,deps:[[new w.FiY,oe]]};function fe(We){return(xe,st)=>{const vt=xe.runOutsideAngular(()=>We(st));return new we(vt)}}let Fe=(()=>{class We{constructor(st){(0,c.KN)("angularfire",z.q4.full,"core"),(0,c.KN)("angularfire",z.q4.full,"app"),(0,c.KN)("angular",w.q4F.full,st.toString())}}return We.\u0275fac=function(st){return new(st||We)(w.LFG(w.Lbi))},We.\u0275mod=w.oAB({type:We}),We.\u0275inj=w.cJS({providers:[Me,ie]}),We})();function it(We,...xe){return{ngModule:Fe,providers:[{provide:oe,useFactory:fe(We),multi:!0,deps:[w.R0b,w.zs3,z.HU,...xe]}]}}const Pe=(0,z.u3)(c.ZF,!0)},3385:(Qt,et,L)=>{L.d(et,{zQ:()=>Ee,ww:()=>Oe,rT:()=>Ne,f7:()=>le,L6:()=>st,_Q:()=>vt,lh:()=>Nt,Qv:()=>xe,nw:()=>_e});var c=L(5e3),w=L(7579),z=L(9646),we=L(8306),Te=L(8996),Ce=L(6451),De=L(3900),oe=L(576);function Me(He,me){return(0,oe.m)(me)?(0,De.w)(()=>He,me):(0,De.w)(()=>He)}var ie=L(5363),fe=L(4004),Fe=L(3151),it=L(590),tt=L(9468),wt=L(9300),Tt=L(880),Pe=L(2011),Ye=L(9808),at=L(7128),mt=L(127);const xe=new c.OlP("angularfire2.auth.use-emulator"),st=new c.OlP("angularfire2.auth.settings"),vt=new c.OlP("angularfire2.auth.tenant-id"),Ne=new c.OlP("angularfire2.auth.langugage-code"),Nt=new c.OlP("angularfire2.auth.use-device-language"),le=new c.OlP("angularfire.auth.persistence"),_e=(He,me,pt,xt,un,yt,Ht,Kt)=>(0,Pe.cc)(`${He.name}.auth`,"AngularFireAuth",He.name,()=>{const nn=me.runOutsideAngular(()=>He.auth());if(pt&&nn.useEmulator(...pt),xt&&(nn.tenantId=xt),nn.languageCode=un,yt&&nn.useDeviceLanguage(),Ht)for(const[ct,dt]of Object.entries(Ht))nn.settings[ct]=dt;return Kt&&nn.setPersistence(Kt),nn},[pt,xt,un,yt,Ht,Kt]);let Ee=(()=>{class He{constructor(pt,xt,un,yt,Ht,Kt,nn,ct,dt,Ae,ze,It){const en=new w.x,En=(0,z.of)(void 0).pipe((0,ie.Q)(Ht.outsideAngular),(0,De.w)(()=>yt.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,5881)))),(0,fe.U)(()=>(0,Pe.on)(pt,yt,xt)),(0,fe.U)(dn=>_e(dn,yt,Kt,ct,dt,Ae,nn,ze)),(0,Fe.d)({bufferSize:1,refCount:!1}));if((0,Ye.PM)(un))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,z.of)(null);else{En.pipe((0,it.P)()).subscribe();const rr=En.pipe((0,De.w)(an=>an.getRedirectResult().then(Jn=>Jn,()=>null)),Tt.iC,(0,Fe.d)({bufferSize:1,refCount:!1})),sr=En.pipe((0,De.w)(an=>new we.y(Jn=>({unsubscribe:yt.runOutsideAngular(()=>an.onAuthStateChanged(Xn=>Jn.next(Xn),Xn=>Jn.error(Xn),()=>Jn.complete()))})))),Sn=En.pipe((0,De.w)(an=>new we.y(Jn=>({unsubscribe:yt.runOutsideAngular(()=>an.onIdTokenChanged(Xn=>Jn.next(Xn),Xn=>Jn.error(Xn),()=>Jn.complete()))}))));this.authState=rr.pipe(Me(sr),(0,tt.R)(Ht.outsideAngular),(0,ie.Q)(Ht.insideAngular)),this.user=rr.pipe(Me(Sn),(0,tt.R)(Ht.outsideAngular),(0,ie.Q)(Ht.insideAngular)),this.idToken=this.user.pipe((0,De.w)(an=>an?(0,Te.D)(an.getIdToken()):(0,z.of)(null))),this.idTokenResult=this.user.pipe((0,De.w)(an=>an?(0,Te.D)(an.getIdTokenResult()):(0,z.of)(null))),this.credential=(0,Ce.T)(rr,en,this.authState.pipe((0,wt.h)(an=>!an))).pipe((0,fe.U)(an=>(null==an?void 0:an.user)?an:null),(0,tt.R)(Ht.outsideAngular),(0,ie.Q)(Ht.insideAngular))}return(0,Pe.pX)(this,En,yt,{spy:{apply:(dn,rr,sr)=>{(dn.startsWith("signIn")||dn.startsWith("createUser"))&&sr.then(Sn=>en.next(Sn))}}})}}return He.\u0275fac=function(pt){return new(pt||He)(c.LFG(Pe.Dh),c.LFG(Pe.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Tt.HU),c.LFG(xe,8),c.LFG(st,8),c.LFG(vt,8),c.LFG(Ne,8),c.LFG(Nt,8),c.LFG(le,8),c.LFG(at.nm,8))},He.\u0275prov=c.Yz7({token:He,factory:He.\u0275fac,providedIn:"any"}),He})(),Oe=(()=>{class He{constructor(){mt.Z.registerVersion("angularfire",Tt.q4.full,"auth-compat")}}return He.\u0275fac=function(pt){return new(pt||He)},He.\u0275mod=c.oAB({type:He}),He.\u0275inj=c.cJS({providers:[Ee]}),He})()},3290:(Qt,et,L)=>{L.d(et,{ST:()=>jn,yb:()=>In});var c=L(5e3),w=L(4986),z=L(8306),we=L(8996),Te=L(9646),Ce=L(880),De=L(8675),oe=L(1520),Me=L(4004),ie=L(5026),fe=L(1884),Fe=L(9300),it=L(2011),tt=L(9808),Tt=(L(5881),L(3942)),Pe=L(5525),Ye=L(2090),at=L(4859);function xe(Xe,H){if(void 0===H)return{merge:!1};if(void 0!==H.mergeFields&&void 0!==H.merge)throw new Pe.WA("invalid-argument",`Invalid options passed to function ${Xe}(): You cannot specify both "merge" and "mergeFields".`);return H}function st(){if("undefined"==typeof Uint8Array)throw new Pe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function vt(){if(!(0,Pe.Me)())throw new Pe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ne{constructor(H){this._delegate=H}static fromBase64String(H){return vt(),new Ne(Pe.Jj.fromBase64String(H))}static fromUint8Array(H){return st(),new Ne(Pe.Jj.fromUint8Array(H))}toBase64(){return vt(),this._delegate.toBase64()}toUint8Array(){return st(),this._delegate.toUint8Array()}isEqual(H){return this._delegate.isEqual(H._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Nt(Xe){return function le(Xe,H){if("object"!=typeof Xe||null===Xe)return!1;const Q=Xe;for(const $e of H)if($e in Q&&"function"==typeof Q[$e])return!0;return!1}(Xe,["next","error","complete"])}class _e{enableIndexedDbPersistence(H,Q){return(0,Pe.ST)(H._delegate,{forceOwnership:Q})}enableMultiTabIndexedDbPersistence(H){return(0,Pe.fH)(H._delegate)}clearIndexedDbPersistence(H){return(0,Pe.Fc)(H._delegate)}}class Ee{constructor(H,Q,$e){this._delegate=Q,this._persistenceProvider=$e,this.INTERNAL={delete:()=>this.terminate()},H instanceof Pe.l7||(this._appCompat=H)}get _databaseId(){return this._delegate._databaseId}settings(H){const Q=this._delegate._getSettings();!H.merge&&Q.host!==H.host&&(0,Pe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),H.merge&&delete(H=Object.assign(Object.assign({},Q),H)).merge,this._delegate._setSettings(H)}useEmulator(H,Q,$e={}){(0,Pe.at)(this._delegate,H,Q,$e)}enableNetwork(){return(0,Pe.Ix)(this._delegate)}disableNetwork(){return(0,Pe.TF)(this._delegate)}enablePersistence(H){let Q=!1,$e=!1;return H&&(Q=!!H.synchronizeTabs,$e=!!H.experimentalForceOwningTab,(0,Pe.Wi)("synchronizeTabs",Q,"experimentalForceOwningTab",$e)),Q?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,$e)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Pe.Mx)(this._delegate)}onSnapshotsInSync(H){return(0,Pe.sc)(this._delegate,H)}get app(){if(!this._appCompat)throw new Pe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(H){try{return new It(this,(0,Pe.hJ)(this._delegate,H))}catch(Q){throw yt(Q,"collection()","Firestore.collection()")}}doc(H){try{return new un(this,(0,Pe.JU)(this._delegate,H))}catch(Q){throw yt(Q,"doc()","Firestore.doc()")}}collectionGroup(H){try{return new dt(this,(0,Pe.B$)(this._delegate,H))}catch(Q){throw yt(Q,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(H){return(0,Pe.i3)(this._delegate,Q=>H(new me(this,Q)))}batch(){return(0,Pe.qY)(this._delegate),new pt(new Pe.PU(this._delegate,H=>(0,Pe.GL)(this._delegate,H)))}loadBundle(H){return(0,Pe.Pb)(this._delegate,H)}namedQuery(H){return(0,Pe.L$)(this._delegate,H).then(Q=>Q?new dt(this,Q):null)}}class Oe extends Pe.u7{constructor(H){super(),this.firestore=H}convertBytes(H){return new Ne(new Pe.Jj(H))}convertReference(H){const Q=this.convertDocumentKey(H,this.firestore._databaseId);return un.forKey(Q,this.firestore,null)}}class me{constructor(H,Q){this._firestore=H,this._delegate=Q,this._userDataWriter=new Oe(H)}get(H){const Q=en(H);return this._delegate.get(Q).then($e=>new nn(this._firestore,new Pe.xU(this._firestore._delegate,this._userDataWriter,$e._key,$e._document,$e.metadata,Q.converter)))}set(H,Q,$e){const ge=en(H);return $e?(xe("Transaction.set",$e),this._delegate.set(ge,Q,$e)):this._delegate.set(ge,Q),this}update(H,Q,$e,...ge){const qe=en(H);return 2===arguments.length?this._delegate.update(qe,Q):this._delegate.update(qe,Q,$e,...ge),this}delete(H){const Q=en(H);return this._delegate.delete(Q),this}}class pt{constructor(H){this._delegate=H}set(H,Q,$e){const ge=en(H);return $e?(xe("WriteBatch.set",$e),this._delegate.set(ge,Q,$e)):this._delegate.set(ge,Q),this}update(H,Q,$e,...ge){const qe=en(H);return 2===arguments.length?this._delegate.update(qe,Q):this._delegate.update(qe,Q,$e,...ge),this}delete(H){const Q=en(H);return this._delegate.delete(Q),this}commit(){return this._delegate.commit()}}class xt{constructor(H,Q,$e){this._firestore=H,this._userDataWriter=Q,this._delegate=$e}fromFirestore(H,Q){const $e=new Pe.$q(this._firestore._delegate,this._userDataWriter,H._key,H._document,H.metadata,null);return this._delegate.fromFirestore(new ct(this._firestore,$e),null!=Q?Q:{})}toFirestore(H,Q){return Q?this._delegate.toFirestore(H,Q):this._delegate.toFirestore(H)}static getInstance(H,Q){const $e=xt.INSTANCES;let ge=$e.get(H);ge||(ge=new WeakMap,$e.set(H,ge));let qe=ge.get(Q);return qe||(qe=new xt(H,new Oe(H),Q),ge.set(Q,qe)),qe}}xt.INSTANCES=new WeakMap;class un{constructor(H,Q){this.firestore=H,this._delegate=Q,this._userDataWriter=new Oe(H)}static forPath(H,Q,$e){if(H.length%2!=0)throw new Pe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${H.canonicalString()} has ${H.length}`);return new un(Q,new Pe.my(Q._delegate,$e,new Pe.Ky(H)))}static forKey(H,Q,$e){return new un(Q,new Pe.my(Q._delegate,$e,H))}get id(){return this._delegate.id}get parent(){return new It(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(H){try{return new It(this.firestore,(0,Pe.hJ)(this._delegate,H))}catch(Q){throw yt(Q,"collection()","DocumentReference.collection()")}}isEqual(H){return(H=(0,Ye.m9)(H))instanceof Pe.my&&(0,Pe.Eo)(this._delegate,H)}set(H,Q){Q=xe("DocumentReference.set",Q);try{return Q?(0,Pe.pl)(this._delegate,H,Q):(0,Pe.pl)(this._delegate,H)}catch($e){throw yt($e,"setDoc()","DocumentReference.set()")}}update(H,Q,...$e){try{return 1===arguments.length?(0,Pe.r7)(this._delegate,H):(0,Pe.r7)(this._delegate,H,Q,...$e)}catch(ge){throw yt(ge,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Pe.oe)(this._delegate)}onSnapshot(...H){const Q=Ht(H),$e=Kt(H,ge=>new nn(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,ge._key,ge._document,ge.metadata,this._delegate.converter)));return(0,Pe.cf)(this._delegate,Q,$e)}get(H){let Q;return Q="cache"===(null==H?void 0:H.source)?(0,Pe.kl)(this._delegate):"server"===(null==H?void 0:H.source)?(0,Pe.Xk)(this._delegate):(0,Pe.QT)(this._delegate),Q.then($e=>new nn(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,$e._key,$e._document,$e.metadata,this._delegate.converter)))}withConverter(H){return new un(this.firestore,this._delegate.withConverter(H?xt.getInstance(this.firestore,H):null))}}function yt(Xe,H,Q){return Xe.message=Xe.message.replace(H,Q),Xe}function Ht(Xe){for(const H of Xe)if("object"==typeof H&&!Nt(H))return H;return{}}function Kt(Xe,H){var Q,$e;let ge;return ge=Nt(Xe[0])?Xe[0]:Nt(Xe[1])?Xe[1]:"function"==typeof Xe[0]?{next:Xe[0],error:Xe[1],complete:Xe[2]}:{next:Xe[1],error:Xe[2],complete:Xe[3]},{next:qe=>{ge.next&&ge.next(H(qe))},error:null===(Q=ge.error)||void 0===Q?void 0:Q.bind(ge),complete:null===($e=ge.complete)||void 0===$e?void 0:$e.bind(ge)}}class nn{constructor(H,Q){this._firestore=H,this._delegate=Q}get ref(){return new un(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(H){return this._delegate.data(H)}get(H,Q){return this._delegate.get(H,Q)}isEqual(H){return(0,Pe.qK)(this._delegate,H._delegate)}}class ct extends nn{data(H){const Q=this._delegate.data(H);return(0,Pe.K9)(void 0!==Q,"Document in a QueryDocumentSnapshot should exist"),Q}}class dt{constructor(H,Q){this.firestore=H,this._delegate=Q,this._userDataWriter=new Oe(H)}where(H,Q,$e){try{return new dt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.ar)(H,Q,$e)))}catch(ge){throw yt(ge,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(H,Q){try{return new dt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Xo)(H,Q)))}catch($e){throw yt($e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(H){try{return new dt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.b9)(H)))}catch(Q){throw yt(Q,"limit()","Query.limit()")}}limitToLast(H){try{return new dt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.vh)(H)))}catch(Q){throw yt(Q,"limitToLast()","Query.limitToLast()")}}startAt(...H){try{return new dt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.e0)(...H)))}catch(Q){throw yt(Q,"startAt()","Query.startAt()")}}startAfter(...H){try{return new dt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.TQ)(...H)))}catch(Q){throw yt(Q,"startAfter()","Query.startAfter()")}}endBefore(...H){try{return new dt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Lx)(...H)))}catch(Q){throw yt(Q,"endBefore()","Query.endBefore()")}}endAt(...H){try{return new dt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Wu)(...H)))}catch(Q){throw yt(Q,"endAt()","Query.endAt()")}}isEqual(H){return(0,Pe.iE)(this._delegate,H._delegate)}get(H){let Q;return Q="cache"===(null==H?void 0:H.source)?(0,Pe.UQ)(this._delegate):"server"===(null==H?void 0:H.source)?(0,Pe.zN)(this._delegate):(0,Pe.PL)(this._delegate),Q.then($e=>new ze(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,$e._snapshot)))}onSnapshot(...H){const Q=Ht(H),$e=Kt(H,ge=>new ze(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,ge._snapshot)));return(0,Pe.cf)(this._delegate,Q,$e)}withConverter(H){return new dt(this.firestore,this._delegate.withConverter(H?xt.getInstance(this.firestore,H):null))}}class Ae{constructor(H,Q){this._firestore=H,this._delegate=Q}get type(){return this._delegate.type}get doc(){return new ct(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ze{constructor(H,Q){this._firestore=H,this._delegate=Q}get query(){return new dt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(H=>new ct(this._firestore,H))}docChanges(H){return this._delegate.docChanges(H).map(Q=>new Ae(this._firestore,Q))}forEach(H,Q){this._delegate.forEach($e=>{H.call(Q,new ct(this._firestore,$e))})}isEqual(H){return(0,Pe.qK)(this._delegate,H._delegate)}}class It extends dt{constructor(H,Q){super(H,Q),this.firestore=H,this._delegate=Q}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const H=this._delegate.parent;return H?new un(this.firestore,H):null}doc(H){try{return new un(this.firestore,void 0===H?(0,Pe.JU)(this._delegate):(0,Pe.JU)(this._delegate,H))}catch(Q){throw yt(Q,"doc()","CollectionReference.doc()")}}add(H){return(0,Pe.ET)(this._delegate,H).then(Q=>new un(this.firestore,Q))}isEqual(H){return(0,Pe.Eo)(this._delegate,H._delegate)}withConverter(H){return new It(this.firestore,this._delegate.withConverter(H?xt.getInstance(this.firestore,H):null))}}function en(Xe){return(0,Pe.Cf)(Xe,Pe.my)}class En{constructor(...H){this._delegate=new Pe.Lz(...H)}static documentId(){return new En(Pe.Xb.keyField().canonicalString())}isEqual(H){return(H=(0,Ye.m9)(H))instanceof Pe.Lz&&this._delegate._internalPath.isEqual(H._internalPath)}}class dn{constructor(H){this._delegate=H}static serverTimestamp(){const H=(0,Pe.Bt)();return H._methodName="FieldValue.serverTimestamp",new dn(H)}static delete(){const H=(0,Pe.AK)();return H._methodName="FieldValue.delete",new dn(H)}static arrayUnion(...H){const Q=(0,Pe.vr)(...H);return Q._methodName="FieldValue.arrayUnion",new dn(Q)}static arrayRemove(...H){const Q=(0,Pe.Ab)(...H);return Q._methodName="FieldValue.arrayRemove",new dn(Q)}static increment(H){const Q=(0,Pe.nP)(H);return Q._methodName="FieldValue.increment",new dn(Q)}isEqual(H){return this._delegate.isEqual(H._delegate)}}const rr={Firestore:Ee,GeoPoint:Pe.F8,Timestamp:Pe.EK,Blob:Ne,Transaction:me,WriteBatch:pt,DocumentReference:un,DocumentSnapshot:nn,Query:dt,QueryDocumentSnapshot:ct,QuerySnapshot:ze,CollectionReference:It,FieldPath:En,FieldValue:dn,setLogLevel:function He(Xe){(0,Pe.Ub)(Xe)},CACHE_SIZE_UNLIMITED:Pe.IX};!function Sn(Xe){(function sr(Xe,H){Xe.INTERNAL.registerComponent(new at.wA("firestore-compat",Q=>{const $e=Q.getProvider("app-compat").getImmediate(),ge=Q.getProvider("firestore").getImmediate();return H($e,ge)},"PUBLIC").setServiceProps(Object.assign({},rr)))})(Xe,(H,Q)=>new Ee(H,Q,new _e)),Xe.registerVersion("@firebase/firestore-compat","0.1.17")}(Tt.Z);var an=L(3385),Jn=L(7128),Xn=L(127);function Ln(Xe,H){return function rn(Xe,H=w.z){return new z.y(Q=>{let $e;return null!=H?H.schedule(()=>{$e=Xe.onSnapshot({includeMetadataChanges:!0},Q)}):$e=Xe.onSnapshot({includeMetadataChanges:!0},Q),()=>{null!=$e&&$e()}})}(Xe,H)}function On(Xe,H){return Ln(Xe,H).pipe((0,Me.U)(Q=>({payload:Q,type:"query"})))}function Sr(Xe,H){return On(Xe,H).pipe((0,De.O)(void 0),(0,oe.G)(),(0,Me.U)(([Q,$e])=>{const ge=$e.payload.docChanges(),qe=ge.map(lt=>({type:lt.type,payload:lt}));return Q&&JSON.stringify(Q.payload.metadata)!==JSON.stringify($e.payload.metadata)&&$e.payload.docs.forEach((lt,ue)=>{const ne=ge.find(Ue=>Ue.doc.ref.isEqual(lt.ref)),de=null==Q?void 0:Q.payload.docs.find(Ue=>Ue.ref.isEqual(lt.ref));ne&&JSON.stringify(ne.doc.metadata)===JSON.stringify(lt.metadata)||!ne&&de&&JSON.stringify(de.metadata)===JSON.stringify(lt.metadata)||qe.push({type:"modified",payload:{oldIndex:ue,newIndex:ue,type:"modified",doc:lt}})}),qe}))}function Cr(Xe,H,Q){return Sr(Xe,Q).pipe((0,ie.R)(($e,ge)=>function $n(Xe,H,Q){return H.forEach($e=>{Q.indexOf($e.type)>-1&&(Xe=function vr(Xe,H){switch(H.type){case"added":if(!Xe[H.newIndex]||!Xe[H.newIndex].doc.ref.isEqual(H.doc.ref))return zt(Xe,H.newIndex,0,H);break;case"modified":if(null==Xe[H.oldIndex]||Xe[H.oldIndex].doc.ref.isEqual(H.doc.ref)){if(H.oldIndex!==H.newIndex){const Q=Xe.slice();return Q.splice(H.oldIndex,1),Q.splice(H.newIndex,0,H),Q}return zt(Xe,H.newIndex,1,H)}break;case"removed":if(Xe[H.oldIndex]&&Xe[H.oldIndex].doc.ref.isEqual(H.doc.ref))return zt(Xe,H.oldIndex,1)}return Xe}(Xe,$e))}),Xe}($e,ge.map(qe=>qe.payload),H),[]),(0,fe.x)(),(0,Me.U)($e=>$e.map(ge=>({type:ge.type,payload:ge}))))}function zt(Xe,H,Q,...$e){const ge=Xe.slice();return ge.splice(H,Q,...$e),ge}function mn(Xe){return(!Xe||0===Xe.length)&&(Xe=["added","removed","modified"]),Xe}class qt{constructor(H,Q,$e){this.ref=H,this.query=Q,this.afs=$e}stateChanges(H){let Q=Sr(this.query,this.afs.schedulers.outsideAngular);return H&&H.length>0&&(Q=Q.pipe((0,Me.U)($e=>$e.filter(ge=>H.indexOf(ge.type)>-1)))),Q.pipe((0,De.O)(void 0),(0,oe.G)(),(0,Fe.h)(([$e,ge])=>ge.length>0||!$e),(0,Me.U)(([$e,ge])=>ge),Ce.iC)}auditTrail(H){return this.stateChanges(H).pipe((0,ie.R)((Q,$e)=>[...Q,...$e],[]))}snapshotChanges(H){const Q=mn(H);return Cr(this.query,Q,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(H={}){return On(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)(Q=>Q.payload.docs.map($e=>H.idField?Object.assign(Object.assign({},$e.data()),{[H.idField]:$e.id}):$e.data())),Ce.iC)}get(H){return(0,we.D)(this.query.get(H)).pipe(Ce.iC)}add(H){return this.ref.add(H)}doc(H){return new kt(this.ref.doc(H),this.afs)}}class kt{constructor(H,Q){this.ref=H,this.afs=Q}set(H,Q){return this.ref.set(H,Q)}update(H){return this.ref.update(H)}delete(){return this.ref.delete()}collection(H,Q){const $e=this.ref.collection(H),{ref:ge,query:qe}=Qn($e,Q);return new qt(ge,qe,this.afs)}snapshotChanges(){return function Tn(Xe,H){return Ln(Xe,H).pipe((0,De.O)(void 0),(0,oe.G)(),(0,Me.U)(([Q,$e])=>$e.exists?(null==Q?void 0:Q.exists)?{payload:$e,type:"modified"}:{payload:$e,type:"added"}:{payload:$e,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(H={}){return this.snapshotChanges().pipe((0,Me.U)(({payload:Q})=>H.idField?Object.assign(Object.assign({},Q.data()),{[H.idField]:Q.id}):Q.data()))}get(H){return(0,we.D)(this.ref.get(H)).pipe(Ce.iC)}}class Bn{constructor(H,Q){this.query=H,this.afs=Q}stateChanges(H){return H&&0!==H.length?Sr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)(Q=>Q.filter($e=>H.indexOf($e.type)>-1)),(0,Fe.h)(Q=>Q.length>0),Ce.iC):Sr(this.query,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}auditTrail(H){return this.stateChanges(H).pipe((0,ie.R)((Q,$e)=>[...Q,...$e],[]))}snapshotChanges(H){const Q=mn(H);return Cr(this.query,Q,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(H={}){return On(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)($e=>$e.payload.docs.map(ge=>H.idField?Object.assign({[H.idField]:ge.id},ge.data()):ge.data())),Ce.iC)}get(H){return(0,we.D)(this.query.get(H)).pipe(Ce.iC)}}const Er=new c.OlP("angularfire2.enableFirestorePersistence"),pr=new c.OlP("angularfire2.firestore.persistenceSettings"),_n=new c.OlP("angularfire2.firestore.settings"),Yn=new c.OlP("angularfire2.firestore.use-emulator");function Qn(Xe,H=(Q=>Q)){return{query:H(Xe),ref:Xe}}let jn=(()=>{class Xe{constructor(Q,$e,ge,qe,lt,ue,ne,de,Ue,ee,re,B,X,J,Ie,Qe,Et){this.schedulers=ne;const Gt=(0,it.on)(Q,ue,$e),wn=Ue;ee&&(0,an.nw)(Gt,ue,re,X,J,Ie,B,Qe),[this.firestore,this.persistenceEnabled$]=(0,it.cc)(`${Gt.name}.firestore`,"AngularFirestore",Gt.name,()=>{const xn=ue.runOutsideAngular(()=>Gt.firestore());if(qe&&xn.settings(qe),wn&&xn.useEmulator(...wn),ge&&!(0,tt.PM)(lt)){const Dn=()=>{try{return(0,we.D)(xn.enablePersistence(de||void 0).then(()=>!0,()=>!1))}catch(cr){return"undefined"!=typeof console&&console.warn(cr),(0,Te.of)(!1)}};return[xn,ue.runOutsideAngular(Dn)]}return[xn,(0,Te.of)(!1)]},[qe,wn,ge])}collection(Q,$e){let ge;ge="string"==typeof Q?this.firestore.collection(Q):Q;const{ref:qe,query:lt}=Qn(ge,$e),ue=this.schedulers.ngZone.run(()=>qe);return new qt(ue,lt,this)}collectionGroup(Q,$e){const ge=$e||(lt=>lt),qe=this.firestore.collectionGroup(Q);return new Bn(ge(qe),this)}doc(Q){let $e;$e="string"==typeof Q?this.firestore.doc(Q):Q;const ge=this.schedulers.ngZone.run(()=>$e);return new kt(ge,this)}createId(){return this.firestore.collection("_").doc().id}}return Xe.\u0275fac=function(Q){return new(Q||Xe)(c.LFG(it.Dh),c.LFG(it.xv,8),c.LFG(Er,8),c.LFG(_n,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ce.HU),c.LFG(pr,8),c.LFG(Yn,8),c.LFG(an.zQ,8),c.LFG(an.Qv,8),c.LFG(an.L6,8),c.LFG(an._Q,8),c.LFG(an.rT,8),c.LFG(an.lh,8),c.LFG(an.f7,8),c.LFG(Jn.nm,8))},Xe.\u0275prov=c.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"any"}),Xe})(),In=(()=>{class Xe{constructor(){Xn.Z.registerVersion("angularfire",Ce.q4.full,"fst-compat")}static enablePersistence(Q){return{ngModule:Xe,providers:[{provide:Er,useValue:!0},{provide:pr,useValue:Q}]}}}return Xe.\u0275fac=function(Q){return new(Q||Xe)},Xe.\u0275mod=c.oAB({type:Xe}),Xe.\u0275inj=c.cJS({providers:[jn]}),Xe})()},2011:(Qt,et,L)=>{L.d(et,{Dh:()=>oe,GT:()=>Ce,Ot:()=>De,cc:()=>tt,hO:()=>it,on:()=>ie,pX:()=>Te,xv:()=>Me});var c=L(5e3),w=L(127),z=L(880);Qt=L.hmd(Qt);const we=["ngOnDestroy"],Te=(Ye,at,mt,We={})=>new Proxy(Ye,{get:(xe,st)=>mt.runOutsideAngular(()=>{var vt;if(Ye[st])return(null===(vt=null==We?void 0:We.spy)||void 0===vt?void 0:vt.get)&&We.spy.get(st,Ye[st]),Ye[st];if(we.indexOf(st)>-1)return()=>{};const Ne=at.toPromise().then(Nt=>{const le=Nt&&Nt[st];return"function"==typeof le?le.bind(Nt):le&&le.then?le.then(_e=>mt.run(()=>_e)):mt.run(()=>le)});return new Proxy(()=>{},{get:(Nt,le)=>Ne[le],apply:(Nt,le,_e)=>Ne.then(Ee=>{var Oe;const He=Ee&&Ee(..._e);return(null===(Oe=null==We?void 0:We.spy)||void 0===Oe?void 0:Oe.apply)&&We.spy.apply(st,_e,He),He})})})}),Ce=(Ye,at)=>{at.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(We=>{Object.defineProperty(Ye.prototype,We,Object.getOwnPropertyDescriptor(mt.prototype||mt,We))})})};class De{constructor(at){return at}}const oe=new c.OlP("angularfire2.app.options"),Me=new c.OlP("angularfire2.app.name");function ie(Ye,at,mt){const xe="object"==typeof mt&&mt||{};xe.name=xe.name||"string"==typeof mt&&mt||"[DEFAULT]";const vt=w.Z.apps.filter(Ne=>Ne&&Ne.name===xe.name)[0]||at.runOutsideAngular(()=>w.Z.initializeApp(Ye,xe));try{JSON.stringify(Ye)!==JSON.stringify(vt.options)&&fe("error",`${vt.name} Firebase App already initialized with different options${Qt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ne){}return new De(vt)}const fe=(Ye,...at)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ye](...at)},Fe={provide:De,useFactory:ie,deps:[oe,c.R0b,[new c.FiY,Me]]};let it=(()=>{class Ye{constructor(mt){w.Z.registerVersion("angularfire",z.q4.full,"core"),w.Z.registerVersion("angularfire",z.q4.full,"app-compat"),w.Z.registerVersion("angular",c.q4F.full,mt.toString())}static initializeApp(mt,We){return{ngModule:Ye,providers:[{provide:oe,useValue:mt},{provide:Me,useValue:We}]}}}return Ye.\u0275fac=function(mt){return new(mt||Ye)(c.LFG(c.Lbi))},Ye.\u0275mod=c.oAB({type:Ye}),Ye.\u0275inj=c.cJS({providers:[Fe]}),Ye})();function tt(Ye,at,mt,We,xe){const[,st,vt]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===Ye)||[];if(st)return function wt(Ye,at){try{return Ye.toString()===at.toString()}catch(mt){return Ye===at}}(xe,vt)||(Pe("error",`${at} was already initialized on the ${mt} Firebase App with different settings.${Tt?" You may need to reload as Firebase is not HMR aware.":""}`),Pe("warn",{is:xe,was:vt})),st;{const Ne=We();return globalThis.\u0275AngularfireInstanceCache.push([Ye,Ne,xe]),Ne}}const Tt=!!Qt.hot,Pe=(Ye,...at)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ye](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(Qt,et,L)=>{L.d(et,{q4:()=>gi,iC:()=>gt,HU:()=>Or,vb:()=>Bs,JM:()=>Us,nk:()=>Ss,u3:()=>V});var c=L(5e3),w=L(5867),z=L(5861),we=L(9681),Te=L(2090),Ce=L(4859),De=L(1877);L(2833);const Me="@firebase/remote-config",tt=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xt{constructor(y,N,ae,Ze){this.client=y,this.storage=N,this.storageCache=ae,this.logger=Ze}isCachedDataFresh(y,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ae=Date.now()-N,Ze=ae<=y;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ae}. Cache max age millis (minimumFetchIntervalMillis setting): ${y}. Is cache hit: ${Ze}.`),Ze}fetch(y){var N=this;return(0,z.Z)(function*(){const[ae,Ze]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(Ze&&N.isCachedDataFresh(y.cacheMaxAgeMillis,ae))return Ze;y.eTag=Ze&&Ze.eTag;const bt=yield N.client.fetch(y),St=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===bt.status&&St.push(N.storage.setLastSuccessfulFetchResponse(bt)),yield Promise.all(St),bt})()}}function un(E=navigator){return E.languages&&E.languages[0]||E.language}class yt{constructor(y,N,ae,Ze,bt,St){this.firebaseInstallations=y,this.sdkVersion=N,this.namespace=ae,this.projectId=Ze,this.apiKey=bt,this.appId=St}fetch(y){var N=this;return(0,z.Z)(function*(){const[ae,Ze]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),St=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,or={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":y.eTag||"*"},Tr={sdk_version:N.sdkVersion,app_instance_id:ae,app_instance_id_token:Ze,app_id:N.appId,language_code:un()},ar={method:"POST",headers:or,body:JSON.stringify(Tr)},ir=fetch(St,ar),kn=new Promise((Vn,$s)=>{y.signal.addEventListener(()=>{const $i=new Error("The operation was aborted.");$i.name="AbortError",$s($i)})});let ji;try{yield Promise.race([ir,kn]),ji=yield ir}catch(Vn){let $s="fetch-client-network";throw"AbortError"===Vn.name&&($s="fetch-timeout"),tt.create($s,{originalErrorMessage:Vn.message})}let os=ji.status;const At=ji.headers.get("ETag")||void 0;let Zn,js;if(200===ji.status){let Vn;try{Vn=yield ji.json()}catch($s){throw tt.create("fetch-client-parse",{originalErrorMessage:$s.message})}Zn=Vn.entries,js=Vn.state}if("INSTANCE_STATE_UNSPECIFIED"===js?os=500:"NO_CHANGE"===js?os=304:("NO_TEMPLATE"===js||"EMPTY_CONFIG"===js)&&(Zn={}),304!==os&&200!==os)throw tt.create("fetch-status",{httpStatus:os});return{status:os,eTag:At,config:Zn}})()}}class nn{constructor(y,N){this.client=y,this.storage=N}fetch(y){var N=this;return(0,z.Z)(function*(){const ae=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(y,ae)})()}attemptFetch(y,{throttleEndTimeMillis:N,backoffCount:ae}){var Ze=this;return(0,z.Z)(function*(){yield function Ht(E,y){return new Promise((N,ae)=>{const Ze=Math.max(y-Date.now(),0),bt=setTimeout(N,Ze);E.addEventListener(()=>{clearTimeout(bt),ae(tt.create("fetch-throttle",{throttleEndTimeMillis:y}))})})}(y.signal,N);try{const bt=yield Ze.client.fetch(y);return yield Ze.storage.deleteThrottleMetadata(),bt}catch(bt){if(!function Kt(E){if(!(E instanceof Te.ZR&&E.customData))return!1;const y=Number(E.customData.httpStatus);return 429===y||500===y||503===y||504===y}(bt))throw bt;const St={throttleEndTimeMillis:Date.now()+(0,Te.$s)(ae),backoffCount:ae+1};return yield Ze.storage.setThrottleMetadata(St),Ze.attemptFetch(y,St)}})()}}class Ae{constructor(y,N,ae,Ze,bt){this.app=y,this._client=N,this._storageCache=ae,this._storage=Ze,this._logger=bt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ze(E,y){const N=E.target.error||void 0;return tt.create(y,{originalErrorMessage:N&&N.message})}const It="app_namespace_store";class rr{constructor(y,N,ae,Ze=function dn(){return new Promise((E,y)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=ae=>{y(ze(ae,"storage-open"))},N.onsuccess=ae=>{E(ae.target.result)},N.onupgradeneeded=ae=>{0===ae.oldVersion&&ae.target.result.createObjectStore(It,{keyPath:"compositeKey"})}}catch(N){y(tt.create("storage-open",{originalErrorMessage:N}))}})}()){this.appId=y,this.appName=N,this.namespace=ae,this.openDbPromise=Ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(y){return this.set("last_fetch_status",y)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(y){return this.set("last_successful_fetch_timestamp_millis",y)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(y){return this.set("last_successful_fetch_response",y)}getActiveConfig(){return this.get("active_config")}setActiveConfig(y){return this.set("active_config",y)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(y){return this.set("active_config_etag",y)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(y){return this.set("throttle_metadata",y)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(y){var N=this;return(0,z.Z)(function*(){const ae=yield N.openDbPromise;return new Promise((Ze,bt)=>{const or=ae.transaction([It],"readonly").objectStore(It),Tr=N.createCompositeKey(y);try{const ar=or.get(Tr);ar.onerror=ir=>{bt(ze(ir,"storage-get"))},ar.onsuccess=ir=>{const kn=ir.target.result;Ze(kn?kn.value:void 0)}}catch(ar){bt(tt.create("storage-get",{originalErrorMessage:ar&&ar.message}))}})})()}set(y,N){var ae=this;return(0,z.Z)(function*(){const Ze=yield ae.openDbPromise;return new Promise((bt,St)=>{const Tr=Ze.transaction([It],"readwrite").objectStore(It),ar=ae.createCompositeKey(y);try{const ir=Tr.put({compositeKey:ar,value:N});ir.onerror=kn=>{St(ze(kn,"storage-set"))},ir.onsuccess=()=>{bt()}}catch(ir){St(tt.create("storage-set",{originalErrorMessage:ir&&ir.message}))}})})()}delete(y){var N=this;return(0,z.Z)(function*(){const ae=yield N.openDbPromise;return new Promise((Ze,bt)=>{const or=ae.transaction([It],"readwrite").objectStore(It),Tr=N.createCompositeKey(y);try{const ar=or.delete(Tr);ar.onerror=ir=>{bt(ze(ir,"storage-delete"))},ar.onsuccess=()=>{Ze()}}catch(ar){bt(tt.create("storage-delete",{originalErrorMessage:ar&&ar.message}))}})})()}createCompositeKey(y){return[this.appId,this.appName,this.namespace,y].join()}}class sr{constructor(y){this.storage=y}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var y=this;return(0,z.Z)(function*(){const N=y.storage.getLastFetchStatus(),ae=y.storage.getLastSuccessfulFetchTimestampMillis(),Ze=y.storage.getActiveConfig(),bt=yield N;bt&&(y.lastFetchStatus=bt);const St=yield ae;St&&(y.lastSuccessfulFetchTimestampMillis=St);const or=yield Ze;or&&(y.activeConfig=or)})()}setLastFetchStatus(y){return this.lastFetchStatus=y,this.storage.setLastFetchStatus(y)}setLastSuccessfulFetchTimestampMillis(y){return this.lastSuccessfulFetchTimestampMillis=y,this.storage.setLastSuccessfulFetchTimestampMillis(y)}setActiveConfig(y){return this.activeConfig=y,this.storage.setActiveConfig(y)}}function Xn(){return rn.apply(this,arguments)}function rn(){return(rn=(0,z.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch(E){return!1}})).apply(this,arguments)}!function Sn(){(0,we._registerComponent)(new Ce.wA("remote-config",function E(y,{instanceIdentifier:N}){const ae=y.getProvider("app").getImmediate(),Ze=y.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw tt.create("registration-window");if(!(0,Te.hl)())throw tt.create("indexed-db-unavailable");const{projectId:bt,apiKey:St,appId:or}=ae.options;if(!bt)throw tt.create("registration-project-id");if(!St)throw tt.create("registration-api-key");if(!or)throw tt.create("registration-app-id");const Tr=new rr(or,ae.name,N=N||"firebase"),ar=new sr(Tr),ir=new De.Yd(Me);ir.logLevel=De.in.ERROR;const kn=new yt(Ze,we.SDK_VERSION,N,bt,St,or),ji=new nn(kn,Tr),os=new xt(ji,Tr,ar,ir),At=new Ae(ae,os,ar,Tr,ir);return function vt(E){const y=(0,Te.m9)(E);y._initializePromise||(y._initializePromise=y._storageCache.loadFromStorage().then(()=>{y._isInitializationComplete=!0}))}(At),At},"PUBLIC").setMultipleInstances(!0)),(0,we.registerVersion)(Me,"0.3.7"),(0,we.registerVersion)(Me,"0.3.7","esm2017")}();const Ln="/firebase-messaging-sw.js",Tn="/firebase-cloud-messaging-push-scope",On="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Cr="google.c.a.c_id",$n="google.c.a.c_l",zt="google.c.a.ts",vr="google.c.a.e";var qt=(()=>{return(E=qt||(qt={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",qt;var E})();function kt(E){const y=new Uint8Array(E);return btoa(String.fromCharCode(...y)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bn(E){const N=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ae=atob(N),Ze=new Uint8Array(ae.length);for(let bt=0;bt<ae.length;++bt)Ze[bt]=ae.charCodeAt(bt);return Ze}const Er="fcm_token_details_db",_n="fcm_token_object_Store";function Yn(E){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,z.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(bt=>bt.name).includes(Er))return null;let y=null;return(yield(0,Te.X3)(Er,5,function(){var ae=(0,z.Z)(function*(Ze,bt,St,or){var Tr;if(bt<2||!Ze.objectStoreNames.contains(_n))return;const ar=or.objectStore(_n),ir=yield ar.index("fcmSenderId").get(E);if(yield ar.clear(),ir)if(2===bt){const kn=ir;if(!kn.auth||!kn.p256dh||!kn.endpoint)return;y={token:kn.fcmToken,createTime:null!==(Tr=kn.createTime)&&void 0!==Tr?Tr:Date.now(),subscriptionOptions:{auth:kn.auth,p256dh:kn.p256dh,endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:"string"==typeof kn.vapidKey?kn.vapidKey:kt(kn.vapidKey)}}}else if(3===bt){const kn=ir;y={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:kt(kn.auth),p256dh:kt(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:kt(kn.vapidKey)}}}else if(4===bt){const kn=ir;y={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:kt(kn.auth),p256dh:kt(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:kt(kn.vapidKey)}}}});return function(Ze,bt,St,or){return ae.apply(this,arguments)}}())).close(),yield(0,Te.Lj)(Er),yield(0,Te.Lj)("fcm_vapid_details_db"),yield(0,Te.Lj)("undefined"),jn(y)?y:null}),Qn.apply(this,arguments)}function jn(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:y}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof y.auth&&y.auth.length>0&&"string"==typeof y.p256dh&&y.p256dh.length>0&&"string"==typeof y.endpoint&&y.endpoint.length>0&&"string"==typeof y.swScope&&y.swScope.length>0&&"string"==typeof y.vapidKey&&y.vapidKey.length>0}const H="firebase-messaging-store";let Q=null;function $e(){return Q||(Q=(0,Te.X3)("firebase-messaging-database",1,(E,y)=>{0===y&&E.createObjectStore(H)})),Q}function ge(E){return qe.apply(this,arguments)}function qe(){return(qe=(0,z.Z)(function*(E){const y=Ue(E),ae=yield(yield $e()).transaction(H).objectStore(H).get(y);if(ae)return ae;{const Ze=yield Yn(E.appConfig.senderId);if(Ze)return yield lt(E,Ze),Ze}})).apply(this,arguments)}function lt(E,y){return ue.apply(this,arguments)}function ue(){return(ue=(0,z.Z)(function*(E,y){const N=Ue(E),Ze=(yield $e()).transaction(H,"readwrite");return yield Ze.objectStore(H).put(y,N),yield Ze.complete,y})).apply(this,arguments)}function ne(E){return de.apply(this,arguments)}function de(){return(de=(0,z.Z)(function*(E){const y=Ue(E),ae=(yield $e()).transaction(H,"readwrite");yield ae.objectStore(H).delete(y),yield ae.complete})).apply(this,arguments)}function Ue({appConfig:E}){return E.appId}const re=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function B(E,y){return X.apply(this,arguments)}function X(){return(X=(0,z.Z)(function*(E,y){const N=yield wn(E),ae=Dn(y),Ze={method:"POST",headers:N,body:JSON.stringify(ae)};let bt;try{bt=yield(yield fetch(Gt(E.appConfig),Ze)).json()}catch(St){throw re.create("token-subscribe-failed",{errorInfo:St})}if(bt.error)throw re.create("token-subscribe-failed",{errorInfo:bt.error.message});if(!bt.token)throw re.create("token-subscribe-no-token");return bt.token})).apply(this,arguments)}function J(E,y){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,z.Z)(function*(E,y){const N=yield wn(E),ae=Dn(y.subscriptionOptions),Ze={method:"PATCH",headers:N,body:JSON.stringify(ae)};let bt;try{bt=yield(yield fetch(`${Gt(E.appConfig)}/${y.token}`,Ze)).json()}catch(St){throw re.create("token-update-failed",{errorInfo:St})}if(bt.error)throw re.create("token-update-failed",{errorInfo:bt.error.message});if(!bt.token)throw re.create("token-update-no-token");return bt.token})).apply(this,arguments)}function Qe(E,y){return Et.apply(this,arguments)}function Et(){return(Et=(0,z.Z)(function*(E,y){const ae={method:"DELETE",headers:yield wn(E)};try{const bt=yield(yield fetch(`${Gt(E.appConfig)}/${y}`,ae)).json();if(bt.error)throw re.create("token-unsubscribe-failed",{errorInfo:bt.error.message})}catch(Ze){throw re.create("token-unsubscribe-failed",{errorInfo:Ze})}})).apply(this,arguments)}function Gt({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function wn(E){return xn.apply(this,arguments)}function xn(){return(xn=(0,z.Z)(function*({appConfig:E,installations:y}){const N=yield y.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Dn({p256dh:E,auth:y,endpoint:N,vapidKey:ae}){const Ze={web:{endpoint:N,auth:y,p256dh:E}};return ae!==On&&(Ze.web.applicationPubKey=ae),Ze}const cr=6048e5;function Ar(E){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,z.Z)(function*(E){const y=yield Nn(E.swRegistration,E.vapidKey),N={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:y.endpoint,auth:kt(y.getKey("auth")),p256dh:kt(y.getKey("p256dh"))},ae=yield ge(E.firebaseDependencies);if(ae){if(Hn(ae.subscriptionOptions,N))return Date.now()>=ae.createTime+cr?je(E,{token:ae.token,createTime:Date.now(),subscriptionOptions:N}):ae.token;try{yield Qe(E.firebaseDependencies,ae.token)}catch(Ze){console.warn(Ze)}return rt(E.firebaseDependencies,N)}return rt(E.firebaseDependencies,N)})).apply(this,arguments)}function hr(E){return wr.apply(this,arguments)}function wr(){return(wr=(0,z.Z)(function*(E){const y=yield ge(E.firebaseDependencies);y&&(yield Qe(E.firebaseDependencies,y.token),yield ne(E.firebaseDependencies));const N=yield E.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function je(E,y){return Le.apply(this,arguments)}function Le(){return(Le=(0,z.Z)(function*(E,y){try{const N=yield J(E.firebaseDependencies,y),ae=Object.assign(Object.assign({},y),{token:N,createTime:Date.now()});return yield lt(E.firebaseDependencies,ae),N}catch(N){throw yield hr(E),N}})).apply(this,arguments)}function rt(E,y){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,z.Z)(function*(E,y){const ae={token:yield B(E,y),createTime:Date.now(),subscriptionOptions:y};return yield lt(E,ae),ae.token})).apply(this,arguments)}function Nn(E,y){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,z.Z)(function*(E,y){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bn(y)})})).apply(this,arguments)}function Hn(E,y){return y.vapidKey===E.vapidKey&&y.endpoint===E.endpoint&&y.auth===E.auth&&y.p256dh===E.p256dh}function br(E){const y={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Gn(E,y){if(!y.notification)return;E.notification={};const N=y.notification.title;N&&(E.notification.title=N);const ae=y.notification.body;ae&&(E.notification.body=ae);const Ze=y.notification.image;Ze&&(E.notification.image=Ze)}(y,E),function kr(E,y){!y.data||(E.data=y.data)}(y,E),function Ai(E,y){if(!y.fcmOptions)return;E.fcmOptions={};const N=y.fcmOptions.link;N&&(E.fcmOptions.link=N);const ae=y.fcmOptions.analytics_label;ae&&(E.fcmOptions.analyticsLabel=ae)}(y,E),y}function Pn(E){return"object"==typeof E&&!!E&&Cr in E}function Si(E,y){const N=[];for(let ae=0;ae<E.length;ae++)N.push(E.charAt(ae)),ae<y.length&&N.push(y.charAt(ae));return N.join("")}function ti(E){return re.create("missing-app-config-values",{valueName:E})}Si("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Si("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jr{constructor(y,N,ae){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ze=function Mi(E){if(!E||!E.options)throw ti("App Configuration Object");if(!E.name)throw ti("App Name");const y=["projectId","apiKey","appId","messagingSenderId"],{options:N}=E;for(const ae of y)if(!N[ae])throw ti(ae);return{appName:E.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(y);this.firebaseDependencies={app:y,appConfig:Ze,installations:N,analyticsProvider:ae}}_delete(){return Promise.resolve()}}function gr(E){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,z.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Ln,{scope:Tn}),E.swRegistration.update().catch(()=>{})}catch(y){throw re.create("failed-service-worker-registration",{browserErrorMessage:y.message})}})).apply(this,arguments)}function Ge(E,y){return Re.apply(this,arguments)}function Re(){return(Re=(0,z.Z)(function*(E,y){if(!y&&!E.swRegistration&&(yield gr(E)),y||!E.swRegistration){if(!(y instanceof ServiceWorkerRegistration))throw re.create("invalid-sw-registration");E.swRegistration=y}})).apply(this,arguments)}function Ke(E,y){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,z.Z)(function*(E,y){y?E.vapidKey=y:E.vapidKey||(E.vapidKey=On)})).apply(this,arguments)}function sn(){return(sn=(0,z.Z)(function*(E,y){if(!navigator)throw re.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw re.create("permission-blocked");return yield Ke(E,null==y?void 0:y.vapidKey),yield Ge(E,null==y?void 0:y.serviceWorkerRegistration),Ar(E)})).apply(this,arguments)}function Kn(E,y,N){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,z.Z)(function*(E,y,N){const ae=qn(y);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(ae,{message_id:N[Cr],message_name:N[$n],message_time:N[zt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qn(E){switch(E){case qt.NOTIFICATION_CLICKED:return"notification_open";case qt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Wr(){return(Wr=(0,z.Z)(function*(E,y){const N=y.data;if(!N.isFirebaseMessaging)return;E.onMessageHandler&&N.messageType===qt.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(br(N)):E.onMessageHandler.next(br(N)));const ae=N.data;Pn(ae)&&"1"===ae[vr]&&(yield Kn(E,N.messageType,ae))})).apply(this,arguments)}const $r="@firebase/messaging",pi=E=>{const y=new jr(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function Qr(E,y){return Wr.apply(this,arguments)}(y,N)),y},So=E=>{const y=E.getProvider("messaging").getImmediate();return{getToken:ae=>function Ut(E,y){return sn.apply(this,arguments)}(y,ae)}};function Oi(){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,z.Z)(function*(){try{yield(0,Te.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,Te.hl)()&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function li(){(0,we._registerComponent)(new Ce.wA("messaging",pi,"PUBLIC")),(0,we._registerComponent)(new Ce.wA("messaging-internal",So,"PRIVATE")),(0,we.registerVersion)($r,"0.9.12"),(0,we.registerVersion)($r,"0.9.12","esm2017")}();var ts=L(7982),Ls=L(4408),po=L(7565);const Ii=new class ci extends po.v{}(class ms extends Ls.o{constructor(y,N){super(y,N),this.scheduler=y,this.work=N}schedule(y,N=0){return N>0?super.schedule(y,N):(this.delay=N,this.state=y,this.scheduler.flush(this),this)}execute(y,N){return N>0||this.closed?super.execute(y,N):this._execute(y,N)}requestAsyncId(y,N,ae=0){return null!=ae&&ae>0||null==ae&&this.delay>0?super.requestAsyncId(y,N,ae):y.flush(this)}});var As=L(4986),xi=L(8306),Ti=L(8505),Vr=L(9468),ns=L(5363);const gi=new c.GfV("7.3.0"),ys="__angularfire_symbol__analyticsIsSupportedValue",rs="__angularfire_symbol__analyticsIsSupported",mr="__angularfire_symbol__remoteConfigIsSupportedValue",_s="__angularfire_symbol__remoteConfigIsSupported",Ni="__angularfire_symbol__messagingIsSupportedValue",Hr="__angularfire_symbol__messagingIsSupported";globalThis[rs]||(globalThis[rs]=(0,ts.Gb)().then(E=>globalThis[ys]=E).catch(()=>globalThis[ys]=!1)),globalThis[Hr]||(globalThis[Hr]=Oi().then(E=>globalThis[Ni]=E).catch(()=>globalThis[Ni]=!1)),globalThis[_s]||(globalThis[_s]=Xn().then(E=>globalThis[mr]=E).catch(()=>globalThis[mr]=!1));const Ss={async:()=>globalThis[rs],sync:()=>{const E=globalThis[ys];if(void 0===E)throw new Error((E=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${E} in the constructor, first ensure that ${E} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${E})\`.`)("Analytics"));return E}};function Us(E,y,N){if(y){if(1===y.length)return y[0];const bt=y.filter(St=>St.app===N);if(1===bt.length)return bt[0]}return N.container.getProvider(E).getImmediate({optional:!0})}const Bs=(E,y)=>{const N=y?[y]:(0,w.C6)(),ae=[];return N.forEach(Ze=>{Ze.container.getProvider(E).instances.forEach(St=>{ae.includes(St)||ae.push(St)})}),ae};function ss(){}class yr{constructor(y,N=Ii){this.zone=y,this.delegate=N}now(){return this.delegate.now()}schedule(y,N,ae){const Ze=this.zone;return this.delegate.schedule(function(St){Ze.runGuarded(()=>{y.apply(this,[St])})},N,ae)}}class Bi{constructor(y){this.zone=y,this.task=null}call(y,N){const ae=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss)),N.pipe((0,Ti.b)({next:ae,complete:ae,error:ae})).subscribe(y).add(ae)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Or=(()=>{class E{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new yr(Zone.current)),this.insideAngular=N.run(()=>new yr(Zone.current,As.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(N){return new(N||E)(c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function P(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Z(E){return P().ngZone.runOutsideAngular(()=>E())}function F(E){return P().ngZone.run(()=>E())}function gt(E){return P(),function Mt(E){return function(N){return(N=N.lift(new Bi(E.ngZone))).pipe((0,Vr.R)(E.outsideAngular),(0,ns.Q)(E.insideAngular))}}(P())(E)}const on=(E,y)=>function(){const ae=arguments;return y&&setTimeout(()=>{"scheduled"===y.state&&y.invoke()},10),F(()=>E.apply(void 0,ae))},V=(E,y)=>function(){let N;const ae=arguments;for(let bt=0;bt<arguments.length;bt++)"function"==typeof ae[bt]&&(y&&(N||(N=F(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss)))),ae[bt]=on(ae[bt],N));const Ze=Z(()=>E.apply(this,ae));if(!y){if(Ze instanceof xi.y){const bt=P();return Ze.pipe((0,Vr.R)(bt.outsideAngular),(0,ns.Q)(bt.insideAngular))}return F(()=>Ze)}return Ze instanceof xi.y?Ze.pipe(gt):Ze instanceof Promise?F(()=>new Promise((bt,St)=>Ze.then(or=>F(()=>bt(or)),or=>F(()=>St(or))))):"function"==typeof Ze&&N?function(){return setTimeout(()=>{N&&"scheduled"===N.state&&N.invoke()},10),Ze.apply(this,arguments)}:F(()=>Ze)}},573:(Qt,et,L)=>{L.d(et,{$:()=>ir,A:()=>fe,E:()=>Le,G:()=>Hn,I:()=>li,K:()=>ne,L:()=>ci,M:()=>xi,N:()=>Ti,P:()=>Wa,Q:()=>Vr,R:()=>dc,T:()=>As,U:()=>rs,V:()=>mr,W:()=>is,X:()=>Mt,Y:()=>V,Z:()=>y,_:()=>bt,a:()=>eo,a0:()=>ji,a1:()=>At,a2:()=>js,a3:()=>$s,a4:()=>Zs,a5:()=>Lo,a6:()=>uu,a7:()=>$a,a8:()=>Qo,a9:()=>Mo,aA:()=>Io,aB:()=>Ya,aC:()=>wr,aG:()=>Un,aJ:()=>gi,aa:()=>Oo,ab:()=>lu,ae:()=>Uo,af:()=>Ms,ag:()=>vs,aj:()=>ss,ak:()=>Js,am:()=>yi,an:()=>Lu,ao:()=>wn,ap:()=>le,aq:()=>Gt,ar:()=>Ie,as:()=>mt,at:()=>gc,au:()=>ha,av:()=>We,aw:()=>Ne,ax:()=>Ee,ay:()=>de,az:()=>ws,b:()=>jt,c:()=>ei,d:()=>qa,e:()=>Ol,f:()=>xl,g:()=>Nl,h:()=>$c,i:()=>An,j:()=>pu,k:()=>Ju,l:()=>Zi,m:()=>qc,n:()=>Yc,o:()=>oe,r:()=>Ml,s:()=>Kr,u:()=>za,z:()=>tt});var c=L(5861),w=L(2090),z=L(9681),we=L(655),Te=L(1877),Ce=L(4859);const oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const tt=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},wt=function it(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Tt=new w.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new Te.Yd("@firebase/auth");function at(D,...g){Ye.logLevel<=Te.in.ERROR&&Ye.error(`Auth (${z.SDK_VERSION}): ${D}`,...g)}function mt(D,...g){throw vt(D,...g)}function We(D,...g){return vt(D,...g)}function xe(D,g,m){const S=Object.assign(Object.assign({},wt()),{[g]:m});return new w.LL("auth","Firebase",S).create(g,{appName:D.name})}function st(D,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&mt(D,"argument-error"),xe(D,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(D,...g){if("string"!=typeof D){const m=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=D.name),D._errorFactory.create(m,...S)}return Tt.create(D,...g)}function Ne(D,g,...m){if(!D)throw vt(g,...m)}function Nt(D){const g="INTERNAL ASSERTION FAILED: "+D;throw at(g),new Error(g)}function le(D,g){D||Nt(g)}const _e=new Map;function Ee(D){le(D instanceof Function,"Expected a class definition");let g=_e.get(D);return g?(le(g instanceof D,"Instance stored in cache mismatched with class"),g):(g=new D,_e.set(D,g),g)}function me(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function pt(){return"http:"===xt()||"https:"===xt()}function xt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Ht{constructor(g,m){this.shortDelay=g,this.longDelay=m,le(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,w.uI)()||(0,w.b$)()}get(){return function un(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,w.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kt(D,g){le(D.emulator,"Emulator should always be set here");const{url:m}=D.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class nn{static initialize(g,m,S){this.fetchImpl=g,m&&(this.headersImpl=m),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},dt=new Ht(3e4,6e4);function Ae(D,g){return D.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:D.tenantId}):g}function ze(D,g,m,S){return It.apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(D,g,m,S,G={}){return en(D,G,(0,c.Z)(function*(){let se={},ot={};S&&("GET"===g?ot=S:se={body:JSON.stringify(S)});const Ft=(0,w.xO)(Object.assign({key:D.config.apiKey},ot)).slice(1),fn=yield D._getAdditionalHeaders();return fn["Content-Type"]="application/json",D.languageCode&&(fn["X-Firebase-Locale"]=D.languageCode),nn.fetch()(sr(D,D.config.apiHost,m,Ft),Object.assign({method:g,headers:fn,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function en(D,g,m){return En.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(D,g,m){D._canInitEmulator=!1;const S=Object.assign(Object.assign({},ct),g);try{const G=new Sn(D),se=yield Promise.race([m(),G.promise]);G.clearNetworkTimeout();const ot=yield se.json();if("needConfirmation"in ot)throw an(D,"account-exists-with-different-credential",ot);if(se.ok&&!("errorMessage"in ot))return ot;{const Ft=se.ok?ot.errorMessage:ot.error.message,[fn,pn]=Ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===fn)throw an(D,"credential-already-in-use",ot);if("EMAIL_EXISTS"===fn)throw an(D,"email-already-in-use",ot);const ur=S[fn]||fn.toLowerCase().replace(/[_\s]+/g,"-");if(pn)throw xe(D,ur,pn);mt(D,ur)}}catch(G){if(G instanceof w.ZR)throw G;mt(D,"network-request-failed")}})).apply(this,arguments)}function dn(D,g,m,S){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(D,g,m,S,G={}){const se=yield ze(D,g,m,S,G);return"mfaPendingCredential"in se&&mt(D,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function sr(D,g,m,S){const G=`${g}${m}?${S}`;return D.config.emulator?Kt(D.config,G):`${D.config.apiScheme}://${G}`}class Sn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,S)=>{this.timer=setTimeout(()=>S(We(this.auth,"network-request-failed")),dt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function an(D,g,m){const S={appName:D.name};m.email&&(S.email=m.email),m.phoneNumber&&(S.phoneNumber=m.phoneNumber);const G=We(D,g,S);return G.customData._tokenResponse=m,G}function Xn(){return(Xn=(0,c.Z)(function*(D,g){return ze(D,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function rn(D,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(D,g){return ze(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Tn(D,g){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(D,g){return ze(D,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Sr(D){if(D)try{const g=new Date(Number(D));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function zt(){return(zt=(0,c.Z)(function*(D,g=!1){const m=(0,w.m9)(D),S=yield m.getIdToken(g),G=mn(S);Ne(G&&G.exp&&G.auth_time&&G.iat,m.auth,"internal-error");const se="object"==typeof G.firebase?G.firebase:void 0,ot=null==se?void 0:se.sign_in_provider;return{claims:G,token:S,authTime:Sr(vr(G.auth_time)),issuedAtTime:Sr(vr(G.iat)),expirationTime:Sr(vr(G.exp)),signInProvider:ot||null,signInSecondFactor:(null==se?void 0:se.sign_in_second_factor)||null}})).apply(this,arguments)}function vr(D){return 1e3*Number(D)}function mn(D){const[g,m,S]=D.split(".");if(void 0===g||void 0===m||void 0===S)return at("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,w.tV)(m);return G?JSON.parse(G):(at("Failed to decode base64 JWT payload"),null)}catch(G){return at("Caught error parsing JWT payload as JSON",G),null}}function kt(D,g){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(D,g,m=!1){if(m)return g;try{return yield g}catch(S){throw S instanceof w.ZR&&Er(S)&&D.auth.currentUser===D&&(yield D.auth.signOut()),S}})).apply(this,arguments)}function Er({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class pr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const G=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),S)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class _n{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sr(this.lastLoginAt),this.creationTime=Sr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yn(D){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(D){var g;const m=D.auth,S=yield D.getIdToken(),G=yield kt(D,Tn(m,{idToken:S}));Ne(null==G?void 0:G.users.length,m,"internal-error");const se=G.users[0];D._notifyReloadListener(se);const ot=(null===(g=se.providerUserInfo)||void 0===g?void 0:g.length)?H(se.providerUserInfo):[],Ft=Xe(D.providerData,ot),ur=!!D.isAnonymous&&!(D.email&&se.passwordHash||(null==Ft?void 0:Ft.length)),fr={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:Ft,metadata:new _n(se.createdAt,se.lastLoginAt),isAnonymous:ur};Object.assign(D,fr)})).apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(D){const g=(0,w.m9)(D);yield Yn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Xe(D,g){return[...D.filter(S=>!g.some(G=>G.providerId===S.providerId)),...g]}function H(D){return D.map(g=>{var{providerId:m}=g,S=(0,we._T)(g,["providerId"]);return{providerId:m,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function $e(){return($e=(0,c.Z)(function*(D,g){const m=yield en(D,{},(0,c.Z)(function*(){const S=(0,w.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:G,apiKey:se}=D.config,ot=sr(D,G,"/v1/token",`key=${se}`),Ft=yield D._getAdditionalHeaders();return Ft["Content-Type"]="application/x-www-form-urlencoded",nn.fetch()(ot,{method:"POST",headers:Ft,body:S})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ne(g.idToken,"internal-error"),Ne(void 0!==g.idToken,"internal-error"),Ne(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function qt(D){const g=mn(D);return Ne(g,"internal-error"),Ne(void 0!==g.exp,"internal-error"),Ne(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var S=this;return(0,c.Z)(function*(){return Ne(!S.accessToken||S.refreshToken,g,"user-token-expired"),m||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var S=this;return(0,c.Z)(function*(){const{accessToken:G,refreshToken:se,expiresIn:ot}=yield function Q(D,g){return $e.apply(this,arguments)}(g,m);S.updateTokensAndExpiration(G,se,Number(ot))})()}updateTokensAndExpiration(g,m,S){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,m){const{refreshToken:S,accessToken:G,expirationTime:se}=m,ot=new ge;return S&&(Ne("string"==typeof S,"internal-error",{appName:g}),ot.refreshToken=S),G&&(Ne("string"==typeof G,"internal-error",{appName:g}),ot.accessToken=G),se&&(Ne("number"==typeof se,"internal-error",{appName:g}),ot.expirationTime=se),ot}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ge,this.toJSON())}_performRefresh(){return Nt("not implemented")}}function qe(D,g){Ne("string"==typeof D||void 0===D,"internal-error",{appName:g})}class lt{constructor(g){var{uid:m,auth:S,stsTokenManager:G}=g,se=(0,we._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=S,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new _n(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,c.Z)(function*(){const S=yield kt(m,m.stsTokenManager.getToken(m.auth,g));return Ne(S,m.auth,"internal-error"),m.accessToken!==S&&(m.accessToken=S,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),S})()}getIdTokenResult(g){return function $n(D){return zt.apply(this,arguments)}(this,g)}reload(){return function jn(D){return In.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ne(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new lt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var S=this;return(0,c.Z)(function*(){let G=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),G=!0),m&&(yield Yn(S)),yield S.auth._persistUserIfCurrent(S),G&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,c.Z)(function*(){const m=yield g.getIdToken();return yield kt(g,function Jn(D,g){return Xn.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var S,G,se,ot,Ft,fn,pn,ur;const fr=null!==(S=m.displayName)&&void 0!==S?S:void 0,Dr=null!==(G=m.email)&&void 0!==G?G:void 0,ko=null!==(se=m.phoneNumber)&&void 0!==se?se:void 0,Fo=null!==(ot=m.photoURL)&&void 0!==ot?ot:void 0,Wd=null!==(Ft=m.tenantId)&&void 0!==Ft?Ft:void 0,oo=null!==(fn=m._redirectEventId)&&void 0!==fn?fn:void 0,yc=null!==(pn=m.createdAt)&&void 0!==pn?pn:void 0,Ul=null!==(ur=m.lastLoginAt)&&void 0!==ur?ur:void 0,{uid:tu,emailVerified:Qc,isAnonymous:Jc,providerData:Nr,stsTokenManager:tl}=m;Ne(tu&&tl,g,"internal-error");const nl=ge.fromJSON(this.name,tl);Ne("string"==typeof tu,g,"internal-error"),qe(fr,g.name),qe(Dr,g.name),Ne("boolean"==typeof Qc,g,"internal-error"),Ne("boolean"==typeof Jc,g,"internal-error"),qe(ko,g.name),qe(Fo,g.name),qe(Wd,g.name),qe(oo,g.name),qe(yc,g.name),qe(Ul,g.name);const ya=new lt({uid:tu,auth:g,email:Dr,emailVerified:Qc,displayName:fr,isAnonymous:Jc,photoURL:Fo,phoneNumber:ko,tenantId:Wd,stsTokenManager:nl,createdAt:yc,lastLoginAt:Ul});return Nr&&Array.isArray(Nr)&&(ya.providerData=Nr.map(rl=>Object.assign({},rl))),oo&&(ya._redirectEventId=oo),ya}static _fromIdTokenResponse(g,m,S=!1){return(0,c.Z)(function*(){const G=new ge;G.updateFromServerResponse(m);const se=new lt({uid:m.localId,auth:g,stsTokenManager:G,isAnonymous:S});return yield Yn(se),se})()}}const ne=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,S){var G=this;return(0,c.Z)(function*(){G.storage[m]=S})()}_get(m){var S=this;return(0,c.Z)(function*(){const G=S.storage[m];return void 0===G?null:G})()}_remove(m){var S=this;return(0,c.Z)(function*(){delete S.storage[m]})()}_addListener(m,S){}_removeListener(m,S){}}return D.type="NONE",D})();function de(D,g,m){return`firebase:${D}:${g}:${m}`}class Ue{constructor(g,m,S){this.persistence=g,this.auth=m,this.userKey=S;const{config:G,name:se}=this.auth;this.fullUserKey=de(this.userKey,G.apiKey,se),this.fullPersistenceKey=de("persistence",G.apiKey,se),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?lt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,c.Z)(function*(){if(m.persistence===g)return;const S=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,S?m.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,S="authUser"){return(0,c.Z)(function*(){if(!m.length)return new Ue(Ee(ne),g,S);const G=(yield Promise.all(m.map(function(){var pn=(0,c.Z)(function*(ur){if(yield ur._isAvailable())return ur});return function(ur){return pn.apply(this,arguments)}}()))).filter(pn=>pn);let se=G[0]||Ee(ne);const ot=de(S,g.config.apiKey,g.name);let Ft=null;for(const pn of m)try{const ur=yield pn._get(ot);if(ur){const fr=lt._fromJSON(g,ur);pn!==se&&(Ft=fr),se=pn;break}}catch(ur){}const fn=G.filter(pn=>pn._shouldAllowMigration);return se._shouldAllowMigration&&fn.length?(se=fn[0],Ft&&(yield se._set(ot,Ft.toJSON())),yield Promise.all(m.map(function(){var pn=(0,c.Z)(function*(ur){if(ur!==se)try{yield ur._remove(ot)}catch(fr){}});return function(ur){return pn.apply(this,arguments)}}())),new Ue(se,g,S)):new Ue(se,g,S)})()}}function ee(D){const g=D.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(J(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(re(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Qe(g))return"Blackberry";if(Et(g))return"Webos";if(B(g))return"Safari";if((g.includes("chrome/")||X(g))&&!g.includes("edge/"))return"Chrome";if(Ie(g))return"Android";{const S=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function re(D=(0,w.z$)()){return/firefox\//i.test(D)}function B(D=(0,w.z$)()){const g=D.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function X(D=(0,w.z$)()){return/crios\//i.test(D)}function J(D=(0,w.z$)()){return/iemobile/i.test(D)}function Ie(D=(0,w.z$)()){return/android/i.test(D)}function Qe(D=(0,w.z$)()){return/blackberry/i.test(D)}function Et(D=(0,w.z$)()){return/webos/i.test(D)}function Gt(D=(0,w.z$)()){return/iphone|ipad|ipod/i.test(D)}function wn(D=(0,w.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function cr(D=(0,w.z$)()){return Gt(D)||Ie(D)||Et(D)||Qe(D)||/windows phone/i.test(D)||J(D)}function Yr(D,g=[]){let m;switch(D){case"Browser":m=ee((0,w.z$)());break;case"Worker":m=`${ee((0,w.z$)())}-${D}`;break;default:m=D}const S=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${z.SDK_VERSION}/${S}`}class hr{constructor(g,m,S){this.app=g,this.heartbeatServiceProvider=m,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new je(this),this.idTokenSubscription=new je(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(g,m){var S=this;return m&&(this._popupRedirectResolver=Ee(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var G,se;if(!S._deleted&&(S.persistenceManager=yield Ue.create(S,g),!S._deleted)){if(null===(G=S._popupRedirectResolver)||void 0===G?void 0:G._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch(ot){}yield S.initializeCurrentUser(m),S.lastNotifiedUid=(null===(se=S.currentUser)||void 0===se?void 0:se.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m)}})()}initializeCurrentUser(g){var m=this;return(0,c.Z)(function*(){var S;let G=yield m.assertedPersistence.getCurrentUser();if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const se=null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId,ot=null==G?void 0:G._redirectEventId,Ft=yield m.tryRedirectSignIn(g);(!se||se===ot)&&(null==Ft?void 0:Ft.user)&&(G=Ft.user)}return G?G._redirectEventId?(Ne(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===G._redirectEventId?m.directlySetCurrentUser(G):m.reloadAndSetCurrentUserOrClear(G)):m.reloadAndSetCurrentUserOrClear(G):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var m=this;return(0,c.Z)(function*(){let S=null;try{S=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(G){yield m._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,c.Z)(function*(){try{yield Yn(g)}catch(S){if("auth/network-request-failed"!==S.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function yt(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,c.Z)(function*(){const S=g?(0,w.m9)(g):null;return S&&Ne(S.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(S&&S._clone(m))})()}_updateCurrentUser(g){var m=this;return(0,c.Z)(function*(){if(!m._deleted)return g&&Ne(m.tenantId===g.tenantId,m,"tenant-id-mismatch"),m.queue((0,c.Z)(function*(){yield m.directlySetCurrentUser(g),m.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(Ee(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new w.LL("auth","Firebase",g())}onAuthStateChanged(g,m,S){return this.registerStateListener(this.authStateSubscription,g,m,S)}onIdTokenChanged(g,m,S){return this.registerStateListener(this.idTokenSubscription,g,m,S)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var S=this;return(0,c.Z)(function*(){const G=yield S.getOrInitRedirectPersistenceManager(m);return null===g?G.removeCurrentUser():G.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const S=g&&Ee(g)||m._popupRedirectResolver;Ne(S,m,"argument-error"),m.redirectPersistenceManager=yield Ue.create(m,[Ee(S._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,c.Z)(function*(){var S,G;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(S=m._currentUser)||void 0===S?void 0:S._redirectEventId)===g?m._currentUser:(null===(G=m.redirectUser)||void 0===G?void 0:G._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,c.Z)(function*(){if(g===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,S,G){if(this._deleted)return()=>{};const se="function"==typeof m?m:m.next.bind(m),ot=this._isInitialized?Promise.resolve():this._initializationPromise;return Ne(ot,this,"internal-error"),ot.then(()=>se(this.currentUser)),"function"==typeof m?g.addObserver(m,S,G):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Yr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var m;const S={"X-Client-Version":g.clientVersion};g.app.options.appId&&(S["X-Firebase-gmpid"]=g.app.options.appId);const G=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return G&&(S["X-Firebase-Client"]=G),S})()}}function wr(D){return(0,w.m9)(D)}class je{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,w.ne)(m=>this.observer=m)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Le(D,g,m){const S=wr(D);Ne(S._canInitEmulator,S,"emulator-config-failed"),Ne(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const G=!!(null==m?void 0:m.disableWarnings),se=rt(g),{host:ot,port:Ft}=function Zt(D){const g=rt(D),m=/(\/\/)?([^?#/]+)/.exec(D.substr(g.length));if(!m)return{host:"",port:null};const S=m[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(S);if(G){const se=G[1];return{host:se,port:Nn(S.substr(se.length+1))}}{const[se,ot]=S.split(":");return{host:se,port:Nn(ot)}}}(g);S.config.emulator={url:`${se}//${ot}${null===Ft?"":`:${Ft}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:ot,port:Ft,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function Rn(){function D(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function rt(D){const g=D.indexOf(":");return g<0?"":D.substr(0,g+1)}function Nn(D){if(!D)return null;const g=Number(D);return isNaN(g)?null:g}class Hn{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Nt("not implemented")}_getIdTokenResponse(g){return Nt("not implemented")}_linkToIdToken(g,m){return Nt("not implemented")}_getReauthenticationResolver(g){return Nt("not implemented")}}function br(D,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,c.Z)(function*(D,g){return ze(D,"POST","/v1/accounts:resetPassword",Ae(D,g))})).apply(this,arguments)}function kr(D,g){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(D,g){return ze(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Pn(D,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.Z)(function*(D,g){return ze(D,"POST","/v1/accounts:update",Ae(D,g))})).apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(D,g){return dn(D,"POST","/v1/accounts:signInWithPassword",Ae(D,g))})).apply(this,arguments)}function jr(D,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(D,g){return ze(D,"POST","/v1/accounts:sendOobCode",Ae(D,g))})).apply(this,arguments)}function Mr(D,g){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,c.Z)(function*(D,g){return jr(D,g)})).apply(this,arguments)}function Re(D,g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,c.Z)(function*(D,g){return jr(D,g)})).apply(this,arguments)}function Ct(D,g){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(D,g){return jr(D,g)})).apply(this,arguments)}function sn(D,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(D,g){return jr(D,g)})).apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(D,g){return dn(D,"POST","/v1/accounts:signInWithEmailLink",Ae(D,g))})).apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(D,g){return dn(D,"POST","/v1/accounts:signInWithEmailLink",Ae(D,g))})).apply(this,arguments)}class $r extends Hn{constructor(g,m,S,G=null){super("password",S),this._email=g,this._password=m,this._tenantId=G}static _fromEmailAndPassword(g,m){return new $r(g,m,"password")}static _fromEmailAndCode(g,m,S=null){return new $r(g,m,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function Mi(D,g){return ti.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ir(D,g){return qn.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:mt(g,"internal-error")}})()}_linkToIdToken(g,m){var S=this;return(0,c.Z)(function*(){switch(S.signInMethod){case"password":return kr(g,{idToken:m,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function Qr(D,g){return Wr.apply(this,arguments)}(g,{idToken:m,email:S._email,oobCode:S._password});default:mt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function fi(D,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(D,g){return dn(D,"POST","/v1/accounts:signInWithIdp",Ae(D,g))})).apply(this,arguments)}class li extends Hn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new li(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):mt("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:G}=m,se=(0,we._T)(m,["providerId","signInMethod"]);if(!S||!G)return null;const ot=new li(S,G);return ot.idToken=se.idToken||void 0,ot.accessToken=se.accessToken||void 0,ot.secret=se.secret,ot.nonce=se.nonce,ot.pendingToken=se.pendingToken||null,ot}_getIdTokenResponse(g){return fi(g,this.buildRequest())}_linkToIdToken(g,m){const S=this.buildRequest();return S.idToken=m,fi(g,S)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,fi(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,w.xO)(m)}return g}}function Oi(D,g){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(D,g){return ze(D,"POST","/v1/accounts:sendVerificationCode",Ae(D,g))})).apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(D,g){return dn(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,g))})).apply(this,arguments)}function Cs(){return(Cs=(0,c.Z)(function*(D,g){const m=yield dn(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,g));if(m.temporaryProof)throw an(D,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const fo={USER_NOT_FOUND:"user-not-found"};function es(){return(es=(0,c.Z)(function*(D,g){return dn(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,Object.assign(Object.assign({},g),{operation:"REAUTH"})),fo)})).apply(this,arguments)}class bi extends Hn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new bi({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new bi({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function ks(D,g){return gs.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function ho(D,g){return Cs.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Fs(D,g){return es.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:S,verificationCode:G}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:S,code:G}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:S,phoneNumber:G,temporaryProof:se}=g;return S||m||G||se?new bi({verificationId:m,verificationCode:S,phoneNumber:G,temporaryProof:se}):null}}class ms{constructor(g){var m,S,G,se,ot,Ft;const fn=(0,w.zd)((0,w.pd)(g)),pn=null!==(m=fn.apiKey)&&void 0!==m?m:null,ur=null!==(S=fn.oobCode)&&void 0!==S?S:null,fr=function ts(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=fn.mode)&&void 0!==G?G:null);Ne(pn&&ur&&fr,"argument-error"),this.apiKey=pn,this.operation=fr,this.code=ur,this.continueUrl=null!==(se=fn.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(ot=fn.languageCode)&&void 0!==ot?ot:null,this.tenantId=null!==(Ft=fn.tenantId)&&void 0!==Ft?Ft:null}static parseLink(g){const m=function Ls(D){const g=(0,w.zd)((0,w.pd)(D)).link,m=g?(0,w.zd)((0,w.pd)(g)).deep_link_id:null,S=(0,w.zd)((0,w.pd)(D)).deep_link_id;return(S?(0,w.zd)((0,w.pd)(S)).link:null)||S||m||g||D}(g);try{return new ms(m)}catch(S){return null}}}let ci=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(m,S){return $r._fromEmailAndPassword(m,S)}static credentialWithLink(m,S){const G=ms.parseLink(S);return Ne(G,"argument-error"),$r._fromEmailAndCode(m,G.code,G.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Ii{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Wi extends Ii{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class As extends Wi{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return Ne("providerId"in m&&"signInMethod"in m,"argument-error"),li._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ne(g.idToken||g.accessToken,"argument-error"),li._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return As.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return As.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:S,oauthTokenSecret:G,pendingToken:se,nonce:ot,providerId:Ft}=g;if(!S&&!G&&!m&&!se||!Ft)return null;try{return new As(Ft)._credential({idToken:m,accessToken:S,nonce:ot,pendingToken:se})}catch(fn){return null}}}let xi=(()=>{class D extends Wi{constructor(){super("facebook.com")}static credential(m){return li._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch(S){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),Ti=(()=>{class D extends Wi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,S){return li._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:S})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:S,oauthAccessToken:G}=m;if(!S&&!G)return null;try{return D.credential(S,G)}catch(se){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Vr=(()=>{class D extends Wi{constructor(){super("github.com")}static credential(m){return li._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch(S){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class gi extends Hn{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return fi(g,this.buildRequest())}_linkToIdToken(g,m){const S=this.buildRequest();return S.idToken=m,fi(g,S)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,fi(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:G,pendingToken:se}=m;return S&&G&&se&&S===G?new gi(S,se):null}static _create(g,m){return new gi(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class rs extends Ii{constructor(g){Ne(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return rs.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return rs.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=gi.fromJSON(g);return Ne(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:S}=g;if(!m||!S)return null;try{return gi._create(S,m)}catch(G){return null}}}let mr=(()=>{class D extends Wi{constructor(){super("twitter.com")}static credential(m,S){return li._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:S})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:S,oauthTokenSecret:G}=m;if(!S||!G)return null;try{return D.credential(S,G)}catch(se){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function _s(D,g){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,c.Z)(function*(D,g){return dn(D,"POST","/v1/accounts:signUp",Ae(D,g))})).apply(this,arguments)}class Hr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,S,G=!1){return(0,c.Z)(function*(){const se=yield lt._fromIdTokenResponse(g,S,G),ot=Gr(S);return new Hr({user:se,providerId:ot,_tokenResponse:S,operationType:m})})()}static _forOperation(g,m,S){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(S,!0);const G=Gr(S);return new Hr({user:g,providerId:G,_tokenResponse:S,operationType:m})})()}}function Gr(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function is(D){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(D){var g;const m=wr(D);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Hr({user:m.currentUser,providerId:null,operationType:"signIn"});const S=yield _s(m,{returnSecureToken:!0}),G=yield Hr._fromIdTokenResponse(m,"signIn",S,!0);return yield m._updateCurrentUser(G.user),G})).apply(this,arguments)}class Ss extends w.ZR{constructor(g,m,S,G){var se;super(m.code,m.message),this.operationType=S,this.user=G,Object.setPrototypeOf(this,Ss.prototype),this.customData={appName:g.name,tenantId:null!==(se=g.tenantId)&&void 0!==se?se:void 0,_serverResponse:m.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(g,m,S,G){return new Ss(g,m,S,G)}}function Us(D,g,m,S){return("reauthenticate"===g?m._getReauthenticationResolver(D):m._getIdTokenResponse(D)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Ss._fromErrorAndOperation(D,se,g,S):se})}function Bs(D){return new Set(D.map(({providerId:g})=>g).filter(g=>!!g))}function ss(D,g){return yr.apply(this,arguments)}function yr(){return(yr=(0,c.Z)(function*(D,g){const m=(0,w.m9)(D);yield P(!0,m,g);const{providerUserInfo:S}=yield rn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),G=Bs(S||[]);return m.providerData=m.providerData.filter(se=>G.has(se.providerId)),G.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Bi(D,g){return Or.apply(this,arguments)}function Or(){return(Or=(0,c.Z)(function*(D,g,m=!1){const S=yield kt(D,g._linkToIdToken(D.auth,yield D.getIdToken()),m);return Hr._forOperation(D,"link",S)})).apply(this,arguments)}function P(D,g,m){return Z.apply(this,arguments)}function Z(){return(Z=(0,c.Z)(function*(D,g,m){yield Yn(g);const G=!1===D?"provider-already-linked":"no-such-provider";Ne(Bs(g.providerData).has(m)===D,g.auth,G)})).apply(this,arguments)}function F(D,g){return te.apply(this,arguments)}function te(){return(te=(0,c.Z)(function*(D,g,m=!1){const{auth:S}=D,G="reauthenticate";try{const se=yield kt(D,Us(S,G,g,D),m);Ne(se.idToken,S,"internal-error");const ot=mn(se.idToken);Ne(ot,S,"internal-error");const{sub:Ft}=ot;return Ne(D.uid===Ft,S,"user-mismatch"),Hr._forOperation(D,G,se)}catch(se){throw"auth/user-not-found"===(null==se?void 0:se.code)&&mt(S,"user-mismatch"),se}})).apply(this,arguments)}function ve(D,g){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(D,g,m=!1){const S="signIn",G=yield Us(D,S,g),se=yield Hr._fromIdTokenResponse(D,S,G);return m||(yield D._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Mt(D,g){return on.apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(D,g){return ve(wr(D),g)})).apply(this,arguments)}function V(D,g){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(function*(D,g){const m=(0,w.m9)(D);return yield P(!1,m,g.providerId),Bi(m,g)})).apply(this,arguments)}function y(D,g){return N.apply(this,arguments)}function N(){return(N=(0,c.Z)(function*(D,g){return F((0,w.m9)(D),g)})).apply(this,arguments)}function ae(D,g){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,c.Z)(function*(D,g){return dn(D,"POST","/v1/accounts:signInWithCustomToken",Ae(D,g))})).apply(this,arguments)}function bt(D,g){return St.apply(this,arguments)}function St(){return(St=(0,c.Z)(function*(D,g){const m=wr(D),S=yield ae(m,{token:g,returnSecureToken:!0}),G=yield Hr._fromIdTokenResponse(m,"signIn",S);return yield m._updateCurrentUser(G.user),G})).apply(this,arguments)}class or{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Tr._fromServerResponse(g,m):mt(g,"internal-error")}}class Tr extends or{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Tr(m)}}function ar(D,g,m){var S;Ne((null===(S=m.url)||void 0===S?void 0:S.length)>0,D,"invalid-continue-uri"),Ne(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ne(m.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(Ne(m.android.packageName.length>0,D,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function ir(D,g,m){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(D,g,m){const S=(0,w.m9)(D),G={requestType:"PASSWORD_RESET",email:g};m&&ar(S,G,m),yield Re(S,G)})).apply(this,arguments)}function ji(D,g,m){return os.apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(D,g,m){yield br((0,w.m9)(D),{oobCode:g,newPassword:m})})).apply(this,arguments)}function At(D,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(D,g){yield Pn((0,w.m9)(D),{oobCode:g})})).apply(this,arguments)}function js(D,g){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,c.Z)(function*(D,g){const m=(0,w.m9)(D),S=yield br(m,{oobCode:g}),G=S.requestType;switch(Ne(G,m,"internal-error"),G){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ne(S.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ne(S.mfaInfo,m,"internal-error");default:Ne(S.email,m,"internal-error")}let se=null;return S.mfaInfo&&(se=or._fromServerResponse(wr(m),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:se},operation:G}})).apply(this,arguments)}function $s(D,g){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(D,g){const{data:m}=yield js((0,w.m9)(D),g);return m.email})).apply(this,arguments)}function Zs(D,g,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(D,g,m){const S=wr(D),G=yield _s(S,{returnSecureToken:!0,email:g,password:m}),se=yield Hr._fromIdTokenResponse(S,"signIn",G);return yield S._updateCurrentUser(se.user),se})).apply(this,arguments)}function Lo(D,g,m){return Mt((0,w.m9)(D),ci.credential(g,m))}function uu(D,g,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(D,g,m){const S=(0,w.m9)(D),G={requestType:"EMAIL_SIGNIN",email:g};Ne(m.handleCodeInApp,S,"argument-error"),m&&ar(S,G,m),yield Ct(S,G)})).apply(this,arguments)}function $a(D,g){const m=ms.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Qo(D,g,m){return ii.apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(D,g,m){const S=(0,w.m9)(D),G=ci.credentialWithLink(g,m||me());return Ne(G._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),Mt(S,G)})).apply(this,arguments)}function di(D,g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(D,g){return ze(D,"POST","/v1/accounts:createAuthUri",Ae(D,g))})).apply(this,arguments)}function Mo(D,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(D,g){const S={identifier:g,continueUri:pt()?me():"http://localhost"},{signinMethods:G}=yield di((0,w.m9)(D),S);return G||[]})).apply(this,arguments)}function Oo(D,g){return xo.apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(D,g){const m=(0,w.m9)(D),G={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};g&&ar(m.auth,G,g);const{email:se}=yield Mr(m.auth,G);se!==D.email&&(yield D.reload())})).apply(this,arguments)}function lu(D,g,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(D,g,m){const S=(0,w.m9)(D),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:g};m&&ar(S.auth,se,m);const{email:ot}=yield sn(S.auth,se);ot!==D.email&&(yield D.reload())})).apply(this,arguments)}function Ia(D,g){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(D,g){return ze(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Uo(D,g){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,c.Z)(function*(D,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const S=(0,w.m9)(D),se={idToken:yield S.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},ot=yield kt(S,Ia(S.auth,se));S.displayName=ot.displayName||null,S.photoURL=ot.photoUrl||null;const Ft=S.providerData.find(({providerId:fn})=>"password"===fn);Ft&&(Ft.displayName=S.displayName,Ft.photoURL=S.photoURL),yield S._updateTokensIfNecessary(ot)})).apply(this,arguments)}function Ms(D,g){return Gs((0,w.m9)(D),g,null)}function vs(D,g){return Gs((0,w.m9)(D),null,g)}function Gs(D,g,m){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(D,g,m){const{auth:S}=D,se={idToken:yield D.getIdToken(),returnSecureToken:!0};g&&(se.email=g),m&&(se.password=m);const ot=yield kt(D,kr(S,se));yield D._updateTokensIfNecessary(ot,!0)})).apply(this,arguments)}class Ys{constructor(g,m,S={}){this.isNewUser=g,this.providerId=m,this.profile=S}}class Bo extends Ys{constructor(g,m,S,G){super(g,m,S),this.username=G}}class Qs extends Ys{constructor(g,m){super(g,"facebook.com",m)}}class ku extends Bo{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class ta extends Ys{constructor(g,m){super(g,"google.com",m)}}class si extends Bo{constructor(g,m,S){super(g,"twitter.com",m,S)}}function Js(D){const{user:g,_tokenResponse:m}=D;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ea(D){var g,m;if(!D)return null;const{providerId:S}=D,G=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},se=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!S&&(null==D?void 0:D.idToken)){const ot=null===(m=null===(g=mn(D.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(ot)return new Ys(se,"anonymous"!==ot&&"custom"!==ot?ot:null)}if(!S)return null;switch(S){case"facebook.com":return new Qs(se,G);case"github.com":return new ku(se,G);case"google.com":return new ta(se,G);case"twitter.com":return new si(se,G,D.screenName||null);case"custom":case"anonymous":return new Ys(se,null);default:return new Ys(se,S,G)}}(m)}class Es{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new Es("enroll",g)}static _fromMfaPendingCredential(g){return new Es("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,S;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Es._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(S=g.multiFactorSession)||void 0===S?void 0:S.idToken)return Es._fromIdtoken(g.multiFactorSession.idToken)}return null}}class jo{constructor(g,m,S){this.session=g,this.hints=m,this.signInResolver=S}static _fromError(g,m){const S=wr(g),G=m.customData._serverResponse,se=(G.mfaInfo||[]).map(Ft=>or._fromServerResponse(S,Ft));Ne(G.mfaPendingCredential,S,"internal-error");const ot=Es._fromMfaPendingCredential(G.mfaPendingCredential);return new jo(ot,se,function(){var Ft=(0,c.Z)(function*(fn){const pn=yield fn._process(S,ot);delete G.mfaInfo,delete G.mfaPendingCredential;const ur=Object.assign(Object.assign({},G),{idToken:pn.idToken,refreshToken:pn.refreshToken});switch(m.operationType){case"signIn":const fr=yield Hr._fromIdTokenResponse(S,m.operationType,ur);return yield S._updateCurrentUser(fr.user),fr;case"reauthenticate":return Ne(m.user,S,"internal-error"),Hr._forOperation(m.user,m.operationType,ur);default:mt(S,"internal-error")}});return function(fn){return Ft.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,c.Z)(function*(){return m.signInResolver(g)})()}}function yi(D,g){var m;const S=(0,w.m9)(D),G=g;return Ne(g.customData.operationType,S,"argument-error"),Ne(null===(m=G.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,S,"argument-error"),jo._fromError(S,G)}function Fu(D,g){return ze(D,"POST","/v2/accounts/mfaEnrollment:start",Ae(D,g))}class Xs{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(S=>or._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new Xs(g)}getSession(){var g=this;return(0,c.Z)(function*(){return Es._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var S=this;return(0,c.Z)(function*(){const G=g,se=yield S.getSession(),ot=yield kt(S.user,G._process(S.user.auth,se,m));return yield S.user._updateTokensIfNecessary(ot),S.user.reload()})()}unenroll(g){var m=this;return(0,c.Z)(function*(){const S="string"==typeof g?g:g.uid,G=yield m.user.getIdToken(),se=yield kt(m.user,function xs(D,g){return ze(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Ae(D,g))}(m.user.auth,{idToken:G,mfaEnrollmentId:S}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ot})=>ot!==S),yield m.user._updateTokensIfNecessary(se);try{yield m.user.reload()}catch(ot){if("auth/user-token-expired"!==ot.code)throw ot}})()}}const zs=new WeakMap;function Lu(D){const g=(0,w.m9)(D);return zs.has(g)||zs.set(g,Xs._fromUser(g)),zs.get(g)}const go="__sak";class oi{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(go,"1"),this.storage.removeItem(go),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const jt=(()=>{class D extends oi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,S)=>this.onStorageEvent(m,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mo(){const D=(0,w.z$)();return B(D)||Gt(D)}()&&function Ar(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=cr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const S of Object.keys(this.listeners)){const G=this.storage.getItem(S),se=this.localCache[S];G!==se&&m(S,se,G)}}onStorageEvent(m,S=!1){if(!m.key)return void this.forAllChangedKeys((Ft,fn,pn)=>{this.notifyListeners(Ft,pn)});const G=m.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ft=this.storage.getItem(G);if(m.newValue!==Ft)null!==m.newValue?this.storage.setItem(G,m.newValue):this.storage.removeItem(G);else if(this.localCache[G]===m.newValue&&!S)return}const se=()=>{const Ft=this.storage.getItem(G);!S&&this.localCache[G]===Ft||this.notifyListeners(G,Ft)},ot=this.storage.getItem(G);!function Dn(){return(0,w.w1)()&&10===document.documentMode}()||ot===m.newValue||m.newValue===m.oldValue?se():setTimeout(se,10)}notifyListeners(m,S){this.localCache[m]=S;const G=this.listeners[m];if(G)for(const se of Array.from(G))se(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,S,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:S,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(S)}_removeListener(m,S){this.listeners[m]&&(this.listeners[m].delete(S),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,S){var G=()=>super._set,se=this;return(0,c.Z)(function*(){yield G().call(se,m,S),se.localCache[m]=JSON.stringify(S)})()}_get(m){var S=()=>super._get,G=this;return(0,c.Z)(function*(){const se=yield S().call(G,m);return G.localCache[m]=JSON.stringify(se),se})()}_remove(m){var S=()=>super._remove,G=this;return(0,c.Z)(function*(){yield S().call(G,m),delete G.localCache[m]})()}}return D.type="LOCAL",D})(),eo=(()=>{class D extends oi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,S){}_removeListener(m,S){}}return D.type="SESSION",D})();let yn=(()=>{class D{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const S=this.receivers.find(se=>se.isListeningto(m));if(S)return S;const G=new D(m);return this.receivers.push(G),G}isListeningto(m){return this.eventTarget===m}handleEvent(m){var S=this;return(0,c.Z)(function*(){const G=m,{eventId:se,eventType:ot,data:Ft}=G.data,fn=S.handlersMap[ot];if(!(null==fn?void 0:fn.size))return;G.ports[0].postMessage({status:"ack",eventId:se,eventType:ot});const pn=Array.from(fn).map(function(){var fr=(0,c.Z)(function*(Dr){return Dr(G.origin,Ft)});return function(Dr){return fr.apply(this,arguments)}}()),ur=yield function ia(D){return Promise.all(D.map(function(){var g=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(S){return{fulfilled:!1,reason:S}}});return function(m){return g.apply(this,arguments)}}()))}(pn);G.ports[0].postMessage({status:"done",eventId:se,eventType:ot,response:ur})})()}_subscribe(m,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(S)}_unsubscribe(m,S){this.handlersMap[m]&&S&&this.handlersMap[m].delete(S),(!S||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Un(D="",g=10){let m="";for(let S=0;S<g;S++)m+=Math.floor(10*Math.random());return D+m}class sa{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,S=50){var G=this;return(0,c.Z)(function*(){const se="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let ot,Ft;return new Promise((fn,pn)=>{const ur=Un("",20);se.port1.start();const fr=setTimeout(()=>{pn(new Error("unsupported_event"))},S);Ft={messageChannel:se,onMessage(Dr){const ko=Dr;if(ko.data.eventId===ur)switch(ko.data.status){case"ack":clearTimeout(fr),ot=setTimeout(()=>{pn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ot),fn(ko.data.response);break;default:clearTimeout(fr),clearTimeout(ot),pn(new Error("invalid_response"))}}},G.handlers.add(Ft),se.port1.addEventListener("message",Ft.onMessage),G.target.postMessage({eventType:g,eventId:ur,data:m},[se.port2])}).finally(()=>{Ft&&G.removeMessageHandler(Ft)})})()}}function $t(){return window}function Ot(){return void 0!==$t().WorkerGlobalScope&&"function"==typeof $t().importScripts}function oa(){return(oa=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const Uu="firebaseLocalStorageDb",Ws="firebaseLocalStorage",Ga="fbase_key";class aa{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function M(D,g){return D.transaction([Ws],g?"readwrite":"readonly").objectStore(Ws)}function b(){const D=indexedDB.open(Uu,1);return new Promise((g,m)=>{D.addEventListener("error",()=>{m(D.error)}),D.addEventListener("upgradeneeded",()=>{const S=D.result;try{S.createObjectStore(Ws,{keyPath:Ga})}catch(G){m(G)}}),D.addEventListener("success",(0,c.Z)(function*(){const S=D.result;S.objectStoreNames.contains(Ws)?g(S):(S.close(),yield function I(){const D=indexedDB.deleteDatabase(Uu);return new aa(D).toPromise()}(),g(yield b()))}))})}function R(D,g,m){return U.apply(this,arguments)}function U(){return(U=(0,c.Z)(function*(D,g,m){const S=M(D,!0).put({[Ga]:g,value:m});return new aa(S).toPromise()})).apply(this,arguments)}function ye(){return(ye=(0,c.Z)(function*(D,g){const m=M(D,!1).get(g),S=yield new aa(m).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Se(D,g){const m=M(D,!0).delete(g);return new aa(m).toPromise()}const An=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield b()),m.db})()}_withRetries(m){var S=this;return(0,c.Z)(function*(){let G=0;for(;;)try{const se=yield S._openDb();return yield m(se)}catch(se){if(G++>3)throw se;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Ot()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=yn._getInstance(function Da(){return Ot()?self:null}()),m.receiver._subscribe("keyChanged",function(){var S=(0,c.Z)(function*(G,se){return{keyProcessed:(yield m._poll()).includes(se.key)}});return function(G,se){return S.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var S=(0,c.Z)(function*(G,se){return["keyChanged"]});return function(G,se){return S.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var S,G;if(m.activeServiceWorker=yield function Xr(){return oa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new sa(m.activeServiceWorker);const se=yield m.sender._send("ping",{},800);!se||(null===(S=se[0])||void 0===S?void 0:S.fulfilled)&&(null===(G=se[0])||void 0===G?void 0:G.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var S=this;return(0,c.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function Vu(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:m},S.serviceWorkerReceiverAvailable?800:50)}catch(G){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield b();return yield R(m,go,"1"),yield Se(m,go),!0}catch(m){}return!1})()}_withPendingWrite(m){var S=this;return(0,c.Z)(function*(){S.pendingWrites++;try{yield m()}finally{S.pendingWrites--}})()}_set(m,S){var G=this;return(0,c.Z)(function*(){return G._withPendingWrite((0,c.Z)(function*(){return yield G._withRetries(se=>R(se,m,S)),G.localCache[m]=S,G.notifyServiceWorker(m)}))})()}_get(m){var S=this;return(0,c.Z)(function*(){const G=yield S._withRetries(se=>function Y(D,g){return ye.apply(this,arguments)}(se,m));return S.localCache[m]=G,G})()}_remove(m){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(G=>Se(G,m)),delete S.localCache[m],S.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const S=yield m._withRetries(ot=>{const Ft=M(ot,!1).getAll();return new aa(Ft).toPromise()});if(!S)return[];if(0!==m.pendingWrites)return[];const G=[],se=new Set;for(const{fbase_key:ot,value:Ft}of S)se.add(ot),JSON.stringify(m.localCache[ot])!==JSON.stringify(Ft)&&(m.notifyListeners(ot,Ft),G.push(ot));for(const ot of Object.keys(m.localCache))m.localCache[ot]&&!se.has(ot)&&(m.notifyListeners(ot,null),G.push(ot));return G})()}notifyListeners(m,S){this.localCache[m]=S;const G=this.listeners[m];if(G)for(const se of Array.from(G))se(S)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(S)}_removeListener(m,S){this.listeners[m]&&(this.listeners[m].delete(S),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function _r(D,g){return ze(D,"POST","/v2/accounts/mfaSignIn:start",Ae(D,g))}function xr(){return(xr=(0,c.Z)(function*(D){return(yield ze(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ks(D){return new Promise((g,m)=>{const S=document.createElement("script");S.setAttribute("src",D),S.onload=g,S.onerror=G=>{const se=We("internal-error");se.customData=G,m(se)},S.type="text/javascript",S.charset="UTF-8",function Ri(){var D,g;return null!==(g=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==g?g:document}().appendChild(S)})}function Ur(D){return`__${D}${Math.floor(1e6*Math.random())}`}const zr=1e12;class Di{constructor(g){this.auth=g,this.counter=zr,this._widgets=new Map}render(g,m){const S=this.counter;return this._widgets.set(S,new No(g,this.auth.name,m||{})),this.counter++,S}reset(g){var m;const S=g||zr;null===(m=this._widgets.get(S))||void 0===m||m.delete(),this._widgets.delete(S)}getResponse(g){var m;return(null===(m=this._widgets.get(g||zr))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,c.Z)(function*(){var S;return null===(S=m._widgets.get(g||zr))||void 0===S||S.execute(),""})()}}class No{constructor(g,m,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const G="string"==typeof g?document.getElementById(g):g;Ne(G,"argument-error",{appName:m}),this.container=G,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function du(D){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<D;S++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $o=Ur("rcb"),hi=new Ht(3e4,6e4);class ua{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!$t().grecaptcha}load(g,m=""){return Ne(function Bu(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve($t().grecaptcha):new Promise((S,G)=>{const se=$t().setTimeout(()=>{G(We(g,"network-request-failed"))},hi.get());$t()[$o]=()=>{$t().clearTimeout(se),delete $t()[$o];const Ft=$t().grecaptcha;if(!Ft)return void G(We(g,"internal-error"));const fn=Ft.render;Ft.render=(pn,ur)=>{const fr=fn(pn,ur);return this.counter++,fr},this.hostLanguage=m,S(Ft)},Ks(`https://www.google.com/recaptcha/api.js??${(0,w.xO)({onload:$o,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(se),G(We(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!$t().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bc{load(g){return(0,c.Z)(function*(){return new Di(g)})()}clearedOneInstance(){}}const tn="recaptcha",jc={theme:"light",type:"image"};class dc{constructor(g,m=Object.assign({},jc),S){this.parameters=m,this.type=tn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wr(S),this.isInvisible="invisible"===this.parameters.size,Ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const G="string"==typeof g?document.getElementById(g):g;Ne(G,this.auth,"argument-error"),this.container=G,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bc:new ua,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(m)||new Promise(se=>{const ot=Ft=>{!Ft||(g.tokenChangeListeners.delete(ot),se(Ft))};g.tokenChangeListeners.add(ot),g.isInvisible&&S.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ne(!this.parameters.sitekey,this.auth,"argument-error"),Ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(S=>S(m)),"function"==typeof g)g(m);else if("string"==typeof g){const S=$t()[g];"function"==typeof S&&S(m)}}}assertNotDestroyed(){Ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const S=document.createElement("div");m.appendChild(S),m=S}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){Ne(pt()&&!Ot(),g.auth,"internal-error"),yield function no(){let D=null;return new Promise(g=>{"complete"!==document.readyState?(D=()=>g(),window.addEventListener("load",D)):g()}).catch(g=>{throw D&&window.removeEventListener("load",D),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function to(D){return xr.apply(this,arguments)}(g.auth);Ne(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ro{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=bi._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Kr(D,g,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,c.Z)(function*(D,g,m){const S=wr(D),G=yield ls(S,g,(0,w.m9)(m));return new ro(G,se=>Mt(S,se))})).apply(this,arguments)}function Zi(D,g,m){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(D,g,m){const S=(0,w.m9)(D);yield P(!1,S,"phone");const G=yield ls(S.auth,g,(0,w.m9)(m));return new ro(G,se=>V(S,se))})).apply(this,arguments)}function Ml(D,g,m){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,c.Z)(function*(D,g,m){const S=(0,w.m9)(D),G=yield ls(S.auth,g,(0,w.m9)(m));return new ro(G,se=>y(S,se))})).apply(this,arguments)}function ls(D,g,m){return la.apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(D,g,m){var S;const G=yield m.verify();try{let se;if(Ne("string"==typeof G,D,"argument-error"),Ne(m.type===tn,D,"argument-error"),se="string"==typeof g?{phoneNumber:g}:g,"session"in se){const ot=se.session;if("phoneNumber"in se)return Ne("enroll"===ot.type,D,"internal-error"),(yield Fu(D,{idToken:ot.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:G}})).phoneSessionInfo.sessionInfo;{Ne("signin"===ot.type,D,"internal-error");const Ft=(null===(S=se.multiFactorHint)||void 0===S?void 0:S.uid)||se.multiFactorUid;return Ne(Ft,D,"missing-multi-factor-info"),(yield _r(D,{mfaPendingCredential:ot.credential,mfaEnrollmentId:Ft,phoneSignInInfo:{recaptchaToken:G}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ot}=yield Oi(D,{phoneNumber:se.phoneNumber,recaptchaToken:G});return ot}}finally{m._reset()}})).apply(this,arguments)}function za(D,g){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,c.Z)(function*(D,g){yield Bi((0,w.m9)(D),g)})).apply(this,arguments)}let Wa=(()=>{class D{constructor(m){this.providerId=D.PROVIDER_ID,this.auth=wr(m)}verifyPhoneNumber(m,S){return ls(this.auth,m,(0,w.m9)(S))}static credential(m,S){return bi._fromVerification(m,S)}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:S,temporaryProof:G}=m;return S&&G?bi._fromTokenResponse(S,G):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function wo(D,g){return g?Ee(g):(Ne(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Ka extends Hn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return fi(g,this._buildIdpRequest())}_linkToIdToken(g,m){return fi(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return fi(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Bd(D){return ve(D.auth,new Ka(D),D.bypassAuthState)}function jd(D){const{auth:g,user:m}=D;return Ne(m,g,"internal-error"),F(m,new Ka(D),D.bypassAuthState)}function ju(D){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,c.Z)(function*(D){const{auth:g,user:m}=D;return Ne(m,g,"internal-error"),Bi(m,new Ka(D),D.bypassAuthState)})).apply(this,arguments)}class Pi{constructor(g,m,S,G,se=!1){this.auth=g,this.resolver=S,this.user=G,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,c.Z)(function*(S,G){g.pendingPromise={resolve:S,reject:G};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(se){g.reject(se)}});return function(S,G){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,c.Z)(function*(){const{urlResponse:S,sessionId:G,postBody:se,tenantId:ot,error:Ft,type:fn}=g;if(Ft)return void m.reject(Ft);const pn={auth:m.auth,requestUri:S,sessionId:G,tenantId:ot||void 0,postBody:se||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(fn)(pn))}catch(ur){m.reject(ur)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Bd;case"linkViaPopup":case"linkViaRedirect":return ju;case"reauthViaPopup":case"reauthViaRedirect":return jd;default:mt(this.auth,"internal-error")}}resolve(g){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ca=new Ht(2e3,1e4);function ei(D,g,m){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(D,g,m){const S=wr(D);st(D,g,Ii);const G=wo(S,m);return new Sa(S,"signInViaPopup",g,G).executeNotNull()})).apply(this,arguments)}function Ol(D,g,m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(D,g,m){const S=(0,w.m9)(D);st(S.auth,g,Ii);const G=wo(S.auth,m);return new Sa(S.auth,"reauthViaPopup",g,G,S).executeNotNull()})).apply(this,arguments)}function qa(D,g,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(D,g,m){const S=(0,w.m9)(D);st(S.auth,g,Ii);const G=wo(S.auth,m);return new Sa(S.auth,"linkViaPopup",g,G,S).executeNotNull()})).apply(this,arguments)}let Sa=(()=>{class D extends Pi{constructor(m,S,G,se,ot){super(m,S,se,ot),this.provider=G,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const S=yield m.execute();return Ne(S,m.auth,"internal-error"),S})()}onExecution(){var m=this;return(0,c.Z)(function*(){le(1===m.filter.length,"Popup operations only handle one event");const S=Un();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],S),m.authWindow.associatedEvent=S,m.resolver._originValidation(m.auth).catch(G=>{m.reject(G)}),m.resolver._isIframeWebStorageSupported(m.auth,G=>{G||m.reject(We(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(We(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const m=()=>{var S,G;this.pollId=(null===(G=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===G?void 0:G.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(We(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ca.get())};m()}}return D.currentPopupAction=null,D})();const Ns=new Map;class Hu extends Pi{constructor(g,m,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,c.Z)(function*(){let S=Ns.get(m.auth._key());if(!S){try{const se=(yield function $d(D,g){return Go.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;S=()=>Promise.resolve(se)}catch(G){S=()=>Promise.reject(G)}Ns.set(m.auth._key(),S)}return m.bypassAuthState||Ns.set(m.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,S=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(S,g);if("unknown"!==g.type){if(g.eventId){const G=yield S.auth._redirectUserForId(g.eventId);if(G)return S.user=G,m().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Go(){return(Go=(0,c.Z)(function*(D,g){const m=hu(g),S=Qa(D);if(!(yield S._isAvailable()))return!1;const G="true"===(yield S._get(m));return yield S._remove(m),G})).apply(this,arguments)}function bo(D,g){return Za.apply(this,arguments)}function Za(){return(Za=(0,c.Z)(function*(D,g){return Qa(D)._set(hu(g),"true")})).apply(this,arguments)}function Ya(){Ns.clear()}function Qa(D){return Ee(D._redirectPersistence)}function hu(D){return de("pendingRedirect",D.config.apiKey,D.name)}function xl(D,g,m){return function hc(D,g,m){return ni.apply(this,arguments)}(D,g,m)}function ni(){return(ni=(0,c.Z)(function*(D,g,m){const S=wr(D);st(D,g,Ii);const G=wo(S,m);return yield bo(G,S),G._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function $c(D,g,m){return function fc(D,g,m){return ki.apply(this,arguments)}(D,g,m)}function ki(){return(ki=(0,c.Z)(function*(D,g,m){const S=(0,w.m9)(D);st(S.auth,g,Ii);const G=wo(S.auth,m);yield bo(G,S.auth);const se=yield Ma(S);return G._openRedirect(S.auth,g,"reauthViaRedirect",se)})).apply(this,arguments)}function Nl(D,g,m){return function Hc(D,g,m){return fu.apply(this,arguments)}(D,g,m)}function fu(){return(fu=(0,c.Z)(function*(D,g,m){const S=(0,w.m9)(D);st(S.auth,g,Ii);const G=wo(S.auth,m);yield P(!1,S,g.providerId),yield bo(G,S.auth);const se=yield Ma(S);return G._openRedirect(S.auth,g,"linkViaRedirect",se)})).apply(this,arguments)}function pu(D,g){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,c.Z)(function*(D,g){return yield wr(D)._initializationPromise,Io(D,g,!1)})).apply(this,arguments)}function Io(D,g){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(D,g,m=!1){const S=wr(D),G=wo(S,g),ot=yield new Hu(S,G,m).execute();return ot&&!m&&(delete ot.user._redirectEventId,yield S._persistUserIfCurrent(ot.user),yield S._setRedirectUser(null,g)),ot})).apply(this,arguments)}function Ma(D){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(D){const g=Un(`${D.uid}:::`);return D._redirectEventId=g,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),g})).apply(this,arguments)}class ws{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(m=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ja(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return da(D);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var S;if(g.error&&!da(g)){const G=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";m.onError(We(this.auth,G))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const S=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pl(g))}saveEventToCache(g){this.cachedEventUids.add(Pl(g)),this.lastProcessedEventTime=Date.now()}}function Pl(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(g=>g).join("-")}function da({type:D,error:g}){return"unknown"===D&&"auth/no-auth-event"===(null==g?void 0:g.code)}function ha(D){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(function*(D,g={}){return ze(D,"GET","/v1/projects",g)})).apply(this,arguments)}const kl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zu=/^https?/;function Fi(){return(Fi=(0,c.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:g}=yield ha(D);for(const m of g)try{if(pc(m))return}catch(S){}mt(D,"unauthorized-domain")})).apply(this,arguments)}function pc(D){const g=me(),{protocol:m,hostname:S}=new URL(g);if(D.startsWith("chrome-extension://")){const ot=new URL(D);return""===ot.hostname&&""===S?"chrome-extension:"===m&&D.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&ot.hostname===S}if(!zu.test(m))return!1;if(kl.test(D))return S===D;const G=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(S)}const Wu=new Ht(3e4,6e4);function Fl(){const D=$t().___jsl;if(null==D?void 0:D.H)for(const g of Object.keys(D.H))if(D.H[g].r=D.H[g].r||[],D.H[g].L=D.H[g].L||[],D.H[g].r=[...D.H[g].L],D.CP)for(let m=0;m<D.CP.length;m++)D.CP[m]=null}let gu=null;function Gc(D){return gu=gu||function Ku(D){return new Promise((g,m)=>{var S,G,se;function ot(){Fl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Fl(),m(We(D,"network-request-failed"))},timeout:Wu.get()})}if(null===(G=null===(S=$t().gapi)||void 0===S?void 0:S.iframes)||void 0===G?void 0:G.Iframe)g(gapi.iframes.getContext());else{if(!(null===(se=$t().gapi)||void 0===se?void 0:se.load)){const Ft=Ur("iframefcb");return $t()[Ft]=()=>{gapi.load?ot():m(We(D,"network-request-failed"))},Ks(`https://apis.google.com/js/api.js?onload=${Ft}`).catch(fn=>m(fn))}ot()}}).catch(g=>{throw gu=null,g})}(D),gu}const zc=new Ht(5e3,15e3),mu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yu(D){const g=D.config;Ne(g.authDomain,D,"auth-domain-config-required");const m=g.emulator?Kt(g,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,S={apiKey:g.apiKey,appName:D.name,v:z.SDK_VERSION},G=zo.get(D.config.apiHost);G&&(S.eid=G);const se=D._getFrameworks();return se.length&&(S.fw=se.join(",")),`${m}?${(0,w.xO)(S).slice(1)}`}function Zu(){return Zu=(0,c.Z)(function*(D){const g=yield Gc(D),m=$t().gapi;return Ne(m,D,"internal-error"),g.open({where:document.body,url:yu(D),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mu,dontclear:!0},S=>new Promise(function(){var G=(0,c.Z)(function*(se,ot){yield S.restyle({setHideOnLeave:!1});const Ft=We(D,"network-request-failed"),fn=$t().setTimeout(()=>{ot(Ft)},zc.get());function pn(){$t().clearTimeout(fn),se(S)}S.ping(pn).then(pn,()=>{ot(Ft)})});return function(se,ot){return G.apply(this,arguments)}}()))}),Zu.apply(this,arguments)}const _u={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wo{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function gc(D,g,m,S,G,se){Ne(D.config.authDomain,D,"auth-domain-config-required"),Ne(D.config.apiKey,D,"invalid-api-key");const ot={apiKey:D.config.apiKey,appName:D.name,authType:m,redirectUrl:S,v:z.SDK_VERSION,eventId:G};if(g instanceof Ii){g.setDefaultLanguage(D.languageCode),ot.providerId=g.providerId||"",(0,w.xb)(g.getCustomParameters())||(ot.customParameters=JSON.stringify(g.getCustomParameters()));for(const[fn,pn]of Object.entries(se||{}))ot[fn]=pn}if(g instanceof Wi){const fn=g.getScopes().filter(pn=>""!==pn);fn.length>0&&(ot.scopes=fn.join(","))}D.tenantId&&(ot.tid=D.tenantId);const Ft=ot;for(const fn of Object.keys(Ft))void 0===Ft[fn]&&delete Ft[fn];return`${function ma({config:D}){return D.emulator?Kt(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,w.xO)(Ft).slice(1)}`}const qr="webStorageSupport",Ju=class Qu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eo,this._completeRedirectFn=Io}_openPopup(g,m,S,G){var se=this;return(0,c.Z)(function*(){var ot;le(null===(ot=se.eventManagers[g._key()])||void 0===ot?void 0:ot.manager,"_initialize() not called before _openPopup()");const Ft=gc(g,m,S,me(),G);return function vu(D,g,m,S=500,G=600){const se=Math.max((window.screen.availHeight-G)/2,0).toString(),ot=Math.max((window.screen.availWidth-S)/2,0).toString();let Ft="";const fn=Object.assign(Object.assign({},_u),{width:S.toString(),height:G.toString(),top:se,left:ot}),pn=(0,w.z$)().toLowerCase();m&&(Ft=X(pn)?"_blank":m),re(pn)&&(g=g||"http://localhost",fn.scrollbars="yes");const ur=Object.entries(fn).reduce((Dr,[ko,Fo])=>`${Dr}${ko}=${Fo},`,"");if(function xn(D=(0,w.z$)()){var g;return Gt(D)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(pn)&&"_self"!==Ft)return function Wc(D,g){const m=document.createElement("a");m.href=D,m.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(S)}(g||"",Ft),new Wo(null);const fr=window.open(g||"",Ft,ur);Ne(fr,D,"popup-blocked");try{fr.focus()}catch(Dr){}return new Wo(fr)}(g,Ft,Un())})()}_openRedirect(g,m,S,G){var se=this;return(0,c.Z)(function*(){return yield se._originValidation(g),function ht(D){$t().location.href=D}(gc(g,m,S,me(),G)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:G,promise:se}=this.eventManagers[m];return G?Promise.resolve(G):(le(se,"If manager is not set, promise should be"),se)}const S=this.initAndGetManager(g);return this.eventManagers[m]={promise:S},S.catch(()=>{delete this.eventManagers[m]}),S}initAndGetManager(g){var m=this;return(0,c.Z)(function*(){const S=yield function Gd(D){return Zu.apply(this,arguments)}(g),G=new ws(g);return S.register("authEvent",se=>(Ne(null==se?void 0:se.authEvent,g,"invalid-auth-event"),{status:G.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:G},m.iframes[g._key()]=S,G})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(qr,{type:qr},G=>{var se;const ot=null===(se=null==G?void 0:G[0])||void 0===se?void 0:se[qr];void 0!==ot&&m(!!ot),mt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function so(D){return Fi.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return cr()||B()||Gt()}};class Xu extends class zd{constructor(g){this.factorId=g}_process(g,m,S){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,S);case"signin":return this._finalizeSignIn(g,m.credential);default:return Nt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Xu(g)}_finalizeEnroll(g,m,S){return function ra(D,g){return ze(D,"POST","/v2/accounts/mfaEnrollment:finalize",Ae(D,g))}(g,{idToken:m,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function vn(D,g){return ze(D,"POST","/v2/accounts/mfaSignIn:finalize",Ae(D,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qc=(()=>{class D{constructor(){}static assertion(m){return Xu._fromCredential(m)}}return D.FACTOR_ID="phone",D})();var mc="@firebase/auth",Vl="0.19.12";class el{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(S=>{var G;g((null===(G=S)||void 0===G?void 0:G.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yc(D=(0,z.getApp)()){const g=(0,z._getProvider)(D,"auth");return g.isInitialized()?g.getImmediate():function Oe(D,g){const m=(0,z._getProvider)(D,"auth");if(m.isInitialized()){const G=m.getImmediate(),se=m.getOptions();if((0,w.vZ)(se,null!=g?g:{}))return G;mt(G,"already-initialized")}return m.initialize({options:g})}(D,{popupRedirectResolver:Ju,persistence:[An,jt,eo]})}!function Zc(D){(0,z._registerComponent)(new Ce.wA("auth",(g,{options:m})=>{const S=g.getProvider("app").getImmediate(),G=g.getProvider("heartbeat"),{apiKey:se,authDomain:ot}=S.options;return((Ft,fn)=>{Ne(se&&!se.includes(":"),"invalid-api-key",{appName:Ft.name}),Ne(!(null==ot?void 0:ot.includes(":")),"argument-error",{appName:Ft.name});const pn={apiKey:se,authDomain:ot,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yr(D)},ur=new hr(Ft,fn,pn);return function He(D,g){const m=(null==g?void 0:g.persistence)||[],S=(Array.isArray(m)?m:[m]).map(Ee);(null==g?void 0:g.errorMap)&&D._updateErrorMap(g.errorMap),D._initializeWithPersistence(S,null==g?void 0:g.popupRedirectResolver)}(ur,m),ur})(S,G)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,S)=>{g.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new Ce.wA("auth-internal",g=>{const m=wr(g.getProvider("auth").getImmediate());return new el(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)(mc,Vl,function eu(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,z.registerVersion)(mc,Vl,"esm2017")}("Browser")},5525:(Qt,et,L)=>{L.d(et,{u7:()=>ba,Jj:()=>xu,IX:()=>Qg,my:()=>Ji,xU:()=>bl,Lz:()=>uc,WA:()=>Ot,F8:()=>Nc,$q:()=>Fc,W:()=>Il,EK:()=>Se,PU:()=>Va,l7:()=>Ho,Ky:()=>tn,Xb:()=>xr,Cf:()=>Br,K9:()=>sa,Me:()=>Ks,yq:()=>eo,Wi:()=>Kg,ET:()=>mm,Ab:()=>Em,vr:()=>Gh,Fc:()=>tm,hJ:()=>Ey,B$:()=>Yg,at:()=>vy,oe:()=>Hy,AK:()=>vm,TF:()=>rm,JU:()=>wy,ST:()=>Dy,fH:()=>Cy,Ix:()=>nm,Wu:()=>Ly,Lx:()=>fm,qY:()=>ds,GL:()=>lc,QT:()=>Ua,kl:()=>gm,Xk:()=>Uy,PL:()=>By,UQ:()=>jy,zN:()=>$y,ad:()=>Jg,nP:()=>wm,b9:()=>ky,vh:()=>dm,Pb:()=>Q_,L$:()=>lp,cf:()=>Gy,sc:()=>ym,Xo:()=>Py,IO:()=>Ny,iE:()=>ac,Eo:()=>by,i3:()=>_m,Bt:()=>Dp,pl:()=>Tp,Ub:()=>cu,qK:()=>xy,TQ:()=>Fy,e0:()=>Vc,r7:()=>Fd,Mx:()=>Ay,ar:()=>cm});var oe,c=L(5861),w=L(9681),z=L(4859),we=L(1877),Te=L(2090),Ce="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},De={},Me=Me||{},ie=Ce||self;function fe(){}function Fe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function it(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var wt="closure_uid_"+(1e9*Math.random()>>>0),Tt=0;function Pe(i,e,n){return i.call.apply(i.bind,arguments)}function Ye(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function at(i,e,n){return(at=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pe:Ye).apply(null,arguments)}function mt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function We(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,u,p){for(var v=Array(arguments.length-2),O=2;O<arguments.length;O++)v[O-2]=arguments[O];return e.prototype[u].apply(o,v)}}function xe(){this.s=this.s,this.o=this.o}var vt={};xe.prototype.s=!1,xe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function tt(i){return Object.prototype.hasOwnProperty.call(i,wt)&&i[wt]||(i[wt]=++Tt)}(this);delete vt[i]}},xe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ne=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},Nt=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,u="string"==typeof i?i.split(""):i;for(let p=0;p<o;p++)p in u&&e.call(n,u[p],p,i)};function _e(i){return Array.prototype.concat.apply([],arguments)}function Ee(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Oe(i){return/^[\s\xa0]*$/.test(i)}var xt,He=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function me(i,e){return-1!=i.indexOf(e)}function pt(i,e){return i<e?-1:i>e?1:0}e:{var un=ie.navigator;if(un){var yt=un.userAgent;if(yt){xt=yt;break e}}xt=""}function Ht(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Kt(i){const e={};for(const n in i)e[n]=i[n];return e}var nn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let p=0;p<nn.length;p++)n=nn[p],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function dt(i){return dt[" "](i),i}dt[" "]=fe;var Sn,i,ze=me(xt,"Opera"),It=me(xt,"Trident")||me(xt,"MSIE"),en=me(xt,"Edge"),En=en||It,dn=me(xt,"Gecko")&&!(me(xt.toLowerCase(),"webkit")&&!me(xt,"Edge"))&&!(me(xt,"Trident")||me(xt,"MSIE"))&&!me(xt,"Edge"),rr=me(xt.toLowerCase(),"webkit")&&!me(xt,"Edge");function sr(){var i=ie.document;return i?i.documentMode:void 0}e:{var an="",Jn=(i=xt,dn?/rv:([^\);]+)(\)|;)/.exec(i):en?/Edge\/([\d\.]+)/.exec(i):It?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):rr?/WebKit\/(\S+)/.exec(i):ze?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Jn&&(an=Jn?Jn[1]:""),It){var Xn=sr();if(null!=Xn&&Xn>parseFloat(an)){Sn=String(Xn);break e}}Sn=an}var rn={};var Sr=ie.document&&It&&(sr()||parseInt(Sn,10))||void 0,Cr=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ie.addEventListener("test",fe,e),ie.removeEventListener("test",fe,e)}catch(n){}return i}();function $n(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function zt(i,e){if($n.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(dn){e:{try{dt(e.nodeName);var u=!0;break e}catch(p){}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:vr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&zt.Z.h.call(this)}}$n.prototype.h=function(){this.defaultPrevented=!0},We(zt,$n);var vr={2:"touch",3:"pen",4:"mouse"};zt.prototype.h=function(){zt.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var mn="closure_listenable_"+(1e6*Math.random()|0),qt=0;function kt(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=u,this.key=++qt,this.ca=this.fa=!1}function Bn(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Er(i){this.src=i,this.g={},this.h=0}function pr(i,e){var n=e.type;if(n in i.g){var p,o=i.g[n],u=Ne(o,e);(p=0<=u)&&Array.prototype.splice.call(o,u,1),p&&(Bn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function _n(i,e,n,o){for(var u=0;u<i.length;++u){var p=i[u];if(!p.ca&&p.listener==e&&p.capture==!!n&&p.ia==o)return u}return-1}Er.prototype.add=function(i,e,n,o,u){var p=i.toString();(i=this.g[p])||(i=this.g[p]=[],this.h++);var v=_n(i,e,o,u);return-1<v?(e=i[v],n||(e.fa=!1)):((e=new kt(e,this.src,p,!!o,u)).fa=n,i.push(e)),e};var Yn="closure_lm_"+(1e6*Math.random()|0),Qn={};function jn(i,e,n,o,u){if(o&&o.once)return H(i,e,n,o,u);if(Array.isArray(e)){for(var p=0;p<e.length;p++)jn(i,e[p],n,o,u);return null}return n=ne(n),i&&i[mn]?i.N(e,n,it(o)?!!o.capture:!!o,u):In(i,e,n,!1,o,u)}function In(i,e,n,o,u,p){if(!e)throw Error("Invalid event type");var v=it(u)?!!u.capture:!!u,O=lt(i);if(O||(i[Yn]=O=new Er(i)),(n=O.add(e,n,o,v,p)).proxy)return n;if(o=function Xe(){var e=qe;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Cr||(u=v),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(ge(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function H(i,e,n,o,u){if(Array.isArray(e)){for(var p=0;p<e.length;p++)H(i,e[p],n,o,u);return null}return n=ne(n),i&&i[mn]?i.O(e,n,it(o)?!!o.capture:!!o,u):In(i,e,n,!0,o,u)}function Q(i,e,n,o,u){if(Array.isArray(e))for(var p=0;p<e.length;p++)Q(i,e[p],n,o,u);else o=it(o)?!!o.capture:!!o,n=ne(n),i&&i[mn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=_n(p=i.g[e],n,o,u))&&(Bn(p[n]),Array.prototype.splice.call(p,n,1),0==p.length&&(delete i.g[e],i.h--))):i&&(i=lt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=_n(e,n,o,u)),(n=-1<i?e[i]:null)&&$e(n))}function $e(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[mn])pr(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(ge(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=lt(e))?(pr(n,i),0==n.h&&(n.src=null,e[Yn]=null)):Bn(i)}}}function ge(i){return i in Qn?Qn[i]:Qn[i]="on"+i}function qe(i,e){if(i.ca)i=!0;else{e=new zt(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&$e(i),i=n.call(o,e)}return i}function lt(i){return(i=i[Yn])instanceof Er?i:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function ne(i){return"function"==typeof i?i:(i[ue]||(i[ue]=function(e){return i.handleEvent(e)}),i[ue])}function de(){xe.call(this),this.i=new Er(this),this.P=this,this.I=null}function Ue(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new $n(e,i);else if(e instanceof $n)e.target=e.target||i;else{var u=e;ct(e=new $n(o,i),u)}if(u=!0,n)for(var p=n.length-1;0<=p;p--){var v=e.g=n[p];u=ee(v,o,!0,e)&&u}if(u=ee(v=e.g=i,o,!0,e)&&u,u=ee(v,o,!1,e)&&u,n)for(p=0;p<n.length;p++)u=ee(v=e.g=n[p],o,!1,e)&&u}function ee(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,p=0;p<e.length;++p){var v=e[p];if(v&&!v.ca&&v.capture==n){var O=v.listener,$=v.ia||v.src;v.fa&&pr(i.i,v),u=!1!==O.call($,o)&&u}}return u&&!o.defaultPrevented}We(de,xe),de.prototype[mn]=!0,de.prototype.removeEventListener=function(i,e,n,o){Q(this,i,e,n,o)},de.prototype.M=function(){if(de.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Bn(n[o]);delete i.g[e],i.h--}}this.I=null},de.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},de.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var re=ie.JSON.stringify;function B(){var i=Dn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Gt,J=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ie,i=>i.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Qe(i){ie.setTimeout(()=>{throw i},0)}function Et(i,e){Gt||function wn(){var i=ie.Promise.resolve(void 0);Gt=function(){i.then(cr)}}(),xn||(Gt(),xn=!0),Dn.add(i,e)}var xn=!1,Dn=new class X{constructor(){this.h=this.g=null}add(e,n){const o=J.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function cr(){for(var i;i=B();){try{i.h.call(i.g)}catch(n){Qe(n)}var e=J;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}xn=!1}function Ar(i,e){de.call(this),this.h=i||1,this.g=e||ie,this.j=at(this.kb,this),this.l=Date.now()}function Yr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function hr(i,e,n){if("function"==typeof i)n&&(i=at(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=at(i.handleEvent,i)}return 2147483647<Number(e)?-1:ie.setTimeout(i,e||0)}function wr(i){i.g=hr(()=>{i.g=null,i.i&&(i.i=!1,wr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}We(Ar,de),(oe=Ar.prototype).da=!1,oe.S=null,oe.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ue(this,"tick"),this.da&&(Yr(this),this.start()))}},oe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},oe.M=function(){Ar.Z.M.call(this),Yr(this),delete this.g};class je extends xe{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wr(this)}M(){super.M(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Le(i){xe.call(this),this.h=i,this.g={}}We(Le,xe);var rt=[];function Zt(i,e,n,o){Array.isArray(n)||(n&&(rt[0]=n.toString()),n=rt);for(var u=0;u<n.length;u++){var p=jn(e,n[u],o||i.handleEvent,!1,i.h||i);if(!p)break;i.g[p.key]=p}}function Nn(i){Ht(i.g,function(e,n){this.g.hasOwnProperty(n)&&$e(e)},i),i.g={}}function Rn(){this.g=!0}function Gn(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ai(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var p=u[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var v=1;v<u.length;v++)u[v]=""}}}return re(n)}catch(O){return e}}(i,n)+(o?" "+o:"")})}Le.prototype.M=function(){Le.Z.M.call(this),Nn(this)},Le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rn.prototype.Aa=function(){this.g=!1},Rn.prototype.info=function(){};var Pn={},Si=null;function Mi(){return Si=Si||new de}function ti(i){$n.call(this,Pn.Ma,i)}function jr(i){const e=Mi();Ue(e,new ti(e,i))}function gr(i,e){$n.call(this,Pn.STAT_EVENT,i),this.stat=e}function Mr(i){const e=Mi();Ue(e,new gr(e,i))}function Ge(i,e){$n.call(this,Pn.Na,i),this.size=e}function Re(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){i()},e)}Pn.Ma="serverreachability",We(ti,$n),Pn.STAT_EVENT="statevent",We(gr,$n),Pn.Na="timingevent",We(Ge,$n);var Ke={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ct={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ut(){}function Kn(){}Ut.prototype.h=null;var Wr,Ir={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qn(){$n.call(this,"d")}function Qr(){$n.call(this,"c")}function $r(){}function fi(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new Le(this),this.P=So,this.W=new Ar(i=En?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}We(qn,$n),We(Qr,$n),We($r,Ut),$r.prototype.g=function(){return new XMLHttpRequest},$r.prototype.i=function(){return{}},Wr=new $r;var So=45e3,li={},Oi={};function Xi(i,e,n){i.K=1,i.v=_s(Vr(e)),i.s=n,i.U=!0,ks(i,null)}function ks(i,e){i.F=Date.now(),fo(i),i.A=Vr(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),F(n.h,"t",o),i.C=0,n=i.l.H,i.h=new pi,i.g=Ki(i.l,n?e:null,!i.s),0<i.O&&(i.L=new je(at(i.Ia,i,i.g),i.O)),Zt(i.V,i.g,"readystatechange",i.gb),e=i.H?Kt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),jr(1),function Hn(i,e,n,o,u,p){i.info(function(){if(i.g)if(p)for(var v="",O=p.split("&"),$=0;$<O.length;$++){var q=O[$].split("=");if(1<q.length){var be=q[0];q=q[1];var Be=be.split("_");v=2<=Be.length&&"type"==Be[1]?v+(be+"=")+q+"&":v+(be+"=redacted&")}}else v=null;else v=p;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+v})}(i.j,i.u,i.A,i.m,i.X,i.s)}function gs(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ho(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=Cs(i,n),u==Oi){4==e&&(i.o=4,Mr(14),o=!1),Gn(i.j,i.m,null,"[Incomplete Response]");break}if(u==li){i.o=4,Mr(15),Gn(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Gn(i.j,i.m,u,null),Ls(i,u)}gs(i)&&u!=Oi&&u!=li&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Mr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ys(e),e.L=!0,Mr(11))):(Gn(i.j,i.m,n,"[Invalid Chunked Response]"),ts(i),bi(i))}function Cs(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Oi:(n=Number(e.substring(n,o)),isNaN(n)?li:(o+=1)+n>e.length?Oi:(e=e.substr(o,n),i.C=o+n,e))}function fo(i){i.Y=Date.now()+i.P,Fs(i,i.P)}function Fs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Re(at(i.eb,i),e)}function es(i){i.B&&(ie.clearTimeout(i.B),i.B=null)}function bi(i){0==i.l.G||i.I||ku(i.l,i)}function ts(i){es(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Yr(i.W),Nn(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ls(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||y(n.i,i)))if(n.I=i.N,!i.J&&y(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch(q){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(n.u)n.ta=u[1],0<n.ta-n.U&&37500>u[2]&&n.N&&0==n.A&&!n.v&&(n.v=Re(at(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<i.F))break e;Qs(n),Hs(n)}ea(n),Mr(18)}if(1>=E(n.i)&&n.ka){try{n.ka()}catch(q){}n.ka=void 0}}else si(n,11)}else if((i.J||n.g==i)&&Qs(n),!Oe(e))for(u=n.Ca.g.parse(e),e=0;e<u.length;e++){let q=u[e];if(n.U=q[0],q=q[1],2==n.G)if("c"==q[0]){n.J=q[1],n.la=q[2];const be=q[3];null!=be&&(n.ma=be,n.h.info("VER="+n.ma));const Be=q[4];null!=Be&&(n.za=Be,n.h.info("SVER="+n.za));const ft=q[5];null!=ft&&"number"==typeof ft&&0<ft&&(n.K=o=1.5*ft,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const Lt=i.g;if(Lt){const Bt=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bt){var p=o.i;!p.g&&(me(Bt,"spdy")||me(Bt,"quic")||me(Bt,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(N(p,p.h),p.h=null))}if(o.D){const bn=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;bn&&(o.sa=bn,mr(o.F,o.D,bn))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var v=i;if((o=n).oa=Jr(o,o.H?o.la:null,o.W),v.J){ae(o.i,v);var O=v,$=o.K;$&&O.setTimeout($),O.B&&(es(O),fo(O)),o.g=v}else Xo(o);0<n.l.length&&Uo(n)}else"stop"!=q[0]&&"close"!=q[0]||si(n,7);else 3==n.G&&("stop"==q[0]||"close"==q[0]?"stop"==q[0]?si(n,7):lu(n):"noop"!=q[0]&&n.j&&n.j.wa(q),n.A=0)}jr(4)}catch(q){}}function po(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Fe(i)||"string"==typeof i)Nt(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(Fe(i)||"string"==typeof i){n=[];for(var o=i.length,u=0;u<o;u++)n.push(u)}else for(u in n=[],o=0,i)n[o++]=u;o=function ms(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Fe(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length;for(var p=0;p<u;p++)e.call(void 0,o[p],n&&n[p],i)}}function ci(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof ci)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function Ii(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];Wi(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var u={};for(n=e=0;e<i.g.length;)Wi(u,o=i.g[e])||(i.g[n++]=o,u[o]=1),e++;i.g.length=n}}function Wi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(oe=fi.prototype).setTimeout=function(i){this.P=i},oe.gb=function(i){i=i.target;const e=this.L;e&&3==di(i)?e.l():this.Ia(i)},oe.Ia=function(i){try{if(i==this.g)e:{const be=di(this.g);var e=this.g.Da();const Be=this.g.ba();if(!(3>be)&&(3!=be||En||this.g&&(this.h.h||this.g.ga()||Jo(this.g)))){this.I||4!=be||7==e||jr(8==e||0>=Be?3:2),es(this);var n=this.g.ba();this.N=n;t:if(gs(this)){var o=Jo(this.g);i="";var u=o.length,p=4==di(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ts(this),bi(this);var v="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:p&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==n,function br(i,e,n,o,u,p,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+p+" "+v})}(this.j,this.u,this.A,this.m,this.X,be,n),this.i){if(this.$&&!this.J){t:{if(this.g){var O,$=this.g;if((O=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oe(O)){var q=O;break t}}q=null}if(!(n=q)){this.i=!1,this.o=3,Mr(12),ts(this),bi(this);break e}Gn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ls(this,n)}this.U?(ho(this,be,v),En&&this.i&&3==be&&(Zt(this.V,this.W,"tick",this.fb),this.W.start())):(Gn(this.j,this.m,v,null),Ls(this,v)),4==be&&ts(this),this.i&&!this.I&&(4==be?ku(this.l,this):(this.i=!1,fo(this)))}else 400==n&&0<v.indexOf("Unknown SID")?(this.o=3,Mr(12)):(this.o=0,Mr(13)),ts(this),bi(this)}}}catch(be){}},oe.fb=function(){if(this.g){var i=di(this.g),e=this.g.ga();this.C<e.length&&(es(this),ho(this,i,e),this.i&&4!=i&&fo(this))}},oe.cancel=function(){this.I=!0,ts(this)},oe.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function kr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(jr(3),Mr(17)),ts(this),this.o=2,bi(this)):Fs(this,this.Y-i)},(oe=ci.prototype).R=function(){Ii(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},oe.T=function(){return Ii(this),this.g.concat()},oe.get=function(i,e){return Wi(this.h,i)?this.h[i]:e},oe.set=function(i,e){Wi(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},oe.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var u=n[o],p=this.get(u);i.call(e,p,u,this)}};var As=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ti(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Ti){this.g=void 0!==e?e:i.g,ns(this,i.j),this.s=i.s,gi(this,i.i),ys(this,i.m),this.l=i.l,e=i.h;var n=new Bi;n.i=e.i,e.g&&(n.g=new ci(e.g),n.h=e.h),rs(this,n),this.o=i.o}else i&&(n=String(i).match(As))?(this.g=!!e,ns(this,n[1]||"",!0),this.s=Gr(n[2]||""),gi(this,n[3]||"",!0),ys(this,n[4]),this.l=Gr(n[5]||"",!0),rs(this,n[6]||"",!0),this.o=Gr(n[7]||"")):(this.g=!!e,this.h=new Bi(null,this.g))}function Vr(i){return new Ti(i)}function ns(i,e,n){i.j=n?Gr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function gi(i,e,n){i.i=n?Gr(e,!0):e}function ys(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function rs(i,e,n){e instanceof Bi?(i.h=e,function ve(i,e){e&&!i.j&&(Or(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(P(this,o),F(this,u,n))},i)),i.j=e}(i.h,i.g)):(n||(e=is(e,ss)),i.h=new Bi(e,i.g))}function mr(i,e,n){i.h.set(e,n)}function _s(i){return mr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Gr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function is(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Vs),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Vs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ti.prototype.toString=function(){var i=[],e=this.j;e&&i.push(is(e,Ss,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(is(e,Ss,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(is(n,"/"==n.charAt(0)?Bs:Us,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",is(n,yr)),i.join("")};var Ss=/[#\/\?@]/g,Us=/[#\?:]/g,Bs=/[#\?]/g,ss=/[#\?@]/g,yr=/#/g;function Bi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Or(i){i.g||(i.g=new ci,i.h=0,i.i&&function xi(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var p=i[n].substring(0,o);u=i[n].substring(o+1)}else p=i[n];e(p,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function P(i,e){Or(i),e=te(i,e),Wi(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Wi((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Ii(i)))}function Z(i,e){return Or(i),e=te(i,e),Wi(i.g.h,e)}function F(i,e,n){P(i,e),0<n.length&&(i.i=null,i.g.set(te(i,e),Ee(n)),i.h+=n.length)}function te(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Mt(i){this.l=i||on,i=ie.PerformanceNavigationTiming?0<(i=ie.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ie.g&&ie.g.Ea&&ie.g.Ea()&&ie.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(oe=Bi.prototype).add=function(i,e){Or(this),this.i=null,i=te(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},oe.forEach=function(i,e){Or(this),this.g.forEach(function(n,o){Nt(n,function(u){i.call(e,u,o,this)},this)},this)},oe.T=function(){Or(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var u=i[o],p=0;p<u.length;p++)n.push(e[o]);return n},oe.R=function(i){Or(this);var e=[];if("string"==typeof i)Z(this,i)&&(e=_e(e,this.g.get(te(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=_e(e,i[n])}return e},oe.set=function(i,e){return Or(this),this.i=null,Z(this,i=te(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},oe.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],u=encodeURIComponent(String(o));o=this.R(o);for(var p=0;p<o.length;p++){var v=u;""!==o[p]&&(v+="="+encodeURIComponent(String(o[p]))),i.push(v)}}return this.i=i.join("&")};var on=10;function V(i){return!!i.h||!!i.g&&i.g.size>=i.j}function E(i){return i.h?1:i.g?i.g.size:0}function y(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function N(i,e){i.g?i.g.add(e):i.h=e}function ae(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ze(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return Ee(i.i)}function bt(){}function St(){this.g=new bt}function or(i,e,n){const o=n||"";try{po(i,function(u,p){let v=u;it(u)&&(v=re(u)),e.push(o+p+"="+encodeURIComponent(v))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ar(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(p){}}function ir(i){this.l=i.$b||null,this.j=i.ib||!1}function kn(i,e){de.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ji,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mt.prototype.cancel=function(){if(this.i=Ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},bt.prototype.stringify=function(i){return ie.JSON.stringify(i,void 0)},bt.prototype.parse=function(i){return ie.JSON.parse(i,void 0)},We(ir,Ut),ir.prototype.g=function(){return new kn(this.l,this.j)},ir.prototype.i=function(i){return function(){return i}}({}),We(kn,de);var ji=0;function os(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function At(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Zn(i)}function Zn(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(oe=kn.prototype).open=function(i,e){if(this.readyState!=ji)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Zn(this)},oe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ie).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,At(this)),this.readyState=ji},oe.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ie.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;os(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},oe.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?At(this):Zn(this),3==this.readyState&&os(this)}},oe.Ua=function(i){this.g&&(this.response=this.responseText=i,At(this))},oe.Ta=function(i){this.g&&(this.response=i,At(this))},oe.ha=function(){this.g&&At(this)},oe.setRequestHeader=function(i,e){this.v.append(i,e)},oe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},oe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(kn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var js=ie.JSON.parse;function Vn(i){de.call(this),this.headers=new ci,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$s,this.K=this.L=!1}We(Vn,de);var $s="",$i=/^https?$/i,Zs=["POST","PUT"];function Lo(i){return"content-type"==i.toLowerCase()}function uu(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Vo(i),Qo(i)}function Vo(i){i.D||(i.D=!0,Ue(i,"complete"),Ue(i,"error"))}function $a(i){if(i.h&&void 0!==Me&&(!i.C[1]||4!=di(i)||2!=i.ba()))if(i.v&&4==di(i))hr(i.Fa,0,i);else if(Ue(i,"readystatechange"),4==di(i)){i.h=!1;try{const O=i.ba();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===O){var u=String(i.H).match(As)[1]||null;if(!u&&ie.self&&ie.self.location){var p=ie.self.location.protocol;u=p.substr(0,p.length-1)}o=!$i.test(u?u.toLowerCase():"")}n=o}if(n)Ue(i,"complete"),Ue(i,"success");else{i.m=6;try{var v=2<di(i)?i.g.statusText:""}catch($){v=""}i.j=v+" ["+i.ba()+"]",Vo(i)}}finally{Qo(i)}}}function Qo(i,e){if(i.g){ii(i);const n=i.g,o=i.C[0]?fe:null;i.g=null,i.C=null,e||Ue(i,"ready");try{n.onreadystatechange=o}catch(u){}}}function ii(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ie.clearTimeout(i.A),i.A=null)}function di(i){return i.g?i.g.readyState:0}function Jo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case $s:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function mi(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function Mo(i){let e="";return Ht(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):mr(i,e,n))}function Oo(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function xo(i){this.za=0,this.l=[],this.h=new Rn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Oo("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Oo("baseRetryDelayMs",5e3,i),this.$a=Oo("retryDelaySeedMs",1e4,i),this.Ya=Oo("forwardChannelMaxRetries",2,i),this.ra=Oo("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Mt(i&&i.concurrentRequestLimit),this.Ca=new St,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function lu(i){if(Ia(i),3==i.G){var e=i.V++,n=Vr(i.F);mr(n,"SID",i.J),mr(n,"RID",e),mr(n,"TYPE","terminate"),vs(i,n),(e=new fi(i,i.h,e,void 0)).K=2,e.v=_s(Vr(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon&&(n=ie.navigator.sendBeacon(e.v.toString(),"")),!n&&ie.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ki(e.l,null),e.g.ea(e.v)),e.F=Date.now(),fo(e)}Js(i)}function Hs(i){i.g&&(Ys(i),i.g.cancel(),i.g=null)}function Ia(i){Hs(i),i.u&&(ie.clearTimeout(i.u),i.u=null),Qs(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ie.clearTimeout(i.m),i.m=null)}function as(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Uo(i)}function Uo(i){V(i.i)||i.m||(i.m=!0,Et(i.Ha,i),i.C=0)}function Ms(i,e){var n;n=e?e.m:i.V++;const o=Vr(i.F);mr(o,"SID",i.J),mr(o,"RID",n),mr(o,"AID",i.U),vs(i,o),i.o&&i.s&&mi(o,i.o,i.s),n=new fi(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Gs(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),N(i.i,n),Xi(n,o,e)}function vs(i,e){i.j&&po({},function(n,o){mr(e,o,n)})}function Gs(i,e,n){n=Math.min(i.l.length,n);var o=i.j?at(i.j.Oa,i.j,i):null;e:{var u=i.l;let p=-1;for(;;){const v=["count="+n];-1==p?0<n?(p=u[0].h,v.push("ofs="+p)):p=0:v.push("ofs="+p);let O=!0;for(let $=0;$<n;$++){let q=u[$].h;const be=u[$].g;if(q-=p,0>q)p=Math.max(0,u[$].h-100),O=!1;else try{or(be,v,"req"+q+"_")}catch(Be){o&&o(be)}}if(O){o=v.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function Xo(i){i.g||i.u||(i.Y=1,Et(i.Ga,i),i.A=0)}function ea(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Re(at(i.Ga,i),ta(i,i.A)),i.A++,0))}function Ys(i){null!=i.B&&(ie.clearTimeout(i.B),i.B=null)}function Bo(i){i.g=new fi(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Vr(i.oa);mr(e,"RID","rpc"),mr(e,"SID",i.J),mr(e,"CI",i.N?"0":"1"),mr(e,"AID",i.U),vs(i,e),mr(e,"TYPE","xmlhttp"),i.o&&i.s&&mi(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=_s(Vr(e)),n.s=null,n.U=!0,ks(n,i)}function Qs(i){null!=i.v&&(ie.clearTimeout(i.v),i.v=null)}function ku(i,e){var n=null;if(i.g==e){Qs(i),Ys(i),i.g=null;var o=2}else{if(!y(i.i,e))return;n=e.D,ae(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Ue(o=Mi(),new Ge(o,n,e,u)),Uo(i)}else Xo(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Ta(i,e){return!(E(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Re(at(i.Ha,i,e),ta(i,i.C)),i.C++,0)))}(i,e)||2==o&&ea(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:si(i,5);break;case 4:si(i,10);break;case 3:si(i,6);break;default:si(i,2)}}function ta(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function si(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=at(i.jb,i);n||(n=new Ti("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||ns(n,"https"),_s(n)),function Tr(i,e){const n=new Rn;if(ie.Image){const o=new Image;o.onload=mt(ar,n,o,"TestLoadImage: loaded",!0,e),o.onerror=mt(ar,n,o,"TestLoadImage: error",!1,e),o.onabort=mt(ar,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=mt(ar,n,o,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Mr(2);i.G=0,i.j&&i.j.va(e),Js(i),Ia(i)}function Js(i){i.G=0,i.I=-1,i.j&&((0!=Ze(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Ee(i.l),i.l.length=0),i.j.ua())}function Jr(i,e,n){let o=function Ni(i){return i instanceof Ti?Vr(i):new Ti(i,void 0)}(n);if(""!=o.i)e&&gi(o,e+"."+o.i),ys(o,o.m);else{const u=ie.location;o=function Hr(i,e,n,o){var u=new Ti(null,void 0);return i&&ns(u,i),e&&gi(u,e),n&&ys(u,n),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,n)}return i.aa&&Ht(i.aa,function(u,p){mr(o,p,u)}),n=i.sa,(e=i.D)&&n&&mr(o,e,n),mr(o,"VER",i.ma),vs(i,o),o}function Ki(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vn(n&&i.Ba&&!i.qa?new ir({ib:!0}):i.qa)).L=i.H,e}function Ha(){}function na(){if(It&&!(10<=Number(Sr)))throw Error("Environmental error: no available transport.")}function Os(i,e){de.call(this),this.g=new xo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Oe(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Oe(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new qi(this)}function Al(i){qn.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Sl(){Qr.call(this),this.status=1}function qi(i){this.g=i}(oe=Vn.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Wr.g(),this.C=function sn(i){return i.h||(i.h=i.i())}(this.u?this.u:Wr),this.g.onreadystatechange=at(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(p){return void uu(this,p)}i=n||"";const u=new ci(this.headers);o&&po(o,function(p,v){u.set(v,p)}),o=function le(i){e:{var e=Lo;const n=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<n;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),n=ie.FormData&&i instanceof ie.FormData,!(0<=Ne(Zs,e))||o||n||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(p,v){this.g.setRequestHeader(v,p)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ii(this),0<this.B&&((this.K=function Yo(i){return It&&function Ln(){return function Ae(i){var e=rn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=He(String(Sn)).split("."),n=He("9").split("."),o=Math.max(e.length,n.length);for(let v=0;0==i&&v<o;v++){var u=e[v]||"",p=n[v]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==u[0].length&&0==p[0].length)break;i=pt(0==u[1].length?0:parseInt(u[1],10),0==p[1].length?0:parseInt(p[1],10))||pt(0==u[2].length,0==p[2].length)||pt(u[2],p[2]),u=u[3],p=p[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.pa,this)):this.A=hr(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(p){uu(this,p)}},oe.pa=function(){void 0!==Me&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ue(this,"timeout"),this.abort(8))},oe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ue(this,"complete"),Ue(this,"abort"),Qo(this))},oe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qo(this,!0)),Vn.Z.M.call(this)},oe.Fa=function(){this.s||(this.F||this.v||this.l?$a(this):this.cb())},oe.cb=function(){$a(this)},oe.ba=function(){try{return 2<di(this)?this.g.status:-1}catch(i){return-1}},oe.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},oe.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),js(e)}},oe.Da=function(){return this.m},oe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(oe=xo.prototype).ma=8,oe.G=1,oe.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},oe.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new fi(this,this.h,i,void 0);let p=this.s;if(this.P&&(p?(p=Kt(p),ct(p,this.P)):p=this.P),null===this.o&&(u.H=p),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Gs(this,u,e),mr(n=Vr(this.F),"RID",i),mr(n,"CVER",22),this.D&&mr(n,"X-HTTP-Session-Id",this.D),vs(this,n),this.o&&p&&mi(n,this.o,p),N(this.i,u),this.Ra&&mr(n,"TYPE","init"),this.ja?(mr(n,"$req",e),mr(n,"SID","null"),u.$=!0,Xi(u,n,null)):Xi(u,n,e),this.G=2}}else 3==this.G&&(i?Ms(this,i):0==this.l.length||V(this.i)||Ms(this))},oe.Ga=function(){if(this.u=null,Bo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Re(at(this.bb,this),i)}},oe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mr(10),Hs(this),Bo(this))},oe.ab=function(){null!=this.v&&(this.v=null,Hs(this),ea(this),Mr(19))},oe.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Mr(2)):(this.h.info("Failed to ping google.com"),Mr(1))},(oe=Ha.prototype).xa=function(){},oe.wa=function(){},oe.va=function(){},oe.ua=function(){},oe.Oa=function(){},na.prototype.g=function(i,e){return new Os(i,e)},We(Os,de),Os.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Et(at(i.hb,i,e))),Mr(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=Jr(i,null,i.W),Uo(i)},Os.prototype.close=function(){lu(this.g)},Os.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,as(this.g,e)}else this.v?((e={}).__data__=re(i),as(this.g,e)):as(this.g,i)},Os.prototype.M=function(){this.g.j=null,delete this.j,lu(this.g),delete this.g,Os.Z.M.call(this)},We(Al,qn),We(Sl,Qr),We(qi,Ha),qi.prototype.xa=function(){Ue(this.g,"a")},qi.prototype.wa=function(i){Ue(this.g,new Al(i))},qi.prototype.va=function(i){Ue(this.g,new Sl(i))},qi.prototype.ua=function(){Ue(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,Os.prototype.send=Os.prototype.u,Os.prototype.open=Os.prototype.m,Os.prototype.close=Os.prototype.close,Ke.NO_ERROR=0,Ke.TIMEOUT=8,Ke.HTTP_ERROR=6,Ct.COMPLETE="complete",Kn.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",de.prototype.listen=de.prototype.N,Vn.prototype.listenOnce=Vn.prototype.O,Vn.prototype.getLastError=Vn.prototype.La,Vn.prototype.getLastErrorCode=Vn.prototype.Da,Vn.prototype.getStatus=Vn.prototype.ba,Vn.prototype.getResponseJson=Vn.prototype.Qa,Vn.prototype.getResponseText=Vn.prototype.ga,Vn.prototype.send=Vn.prototype.ea;var Es=De.createWebChannelTransport=function(){return new na},jo=De.getStatEventTarget=function(){return Mi()},yi=De.ErrorCode=Ke,Fu=De.EventType=Ct,ra=De.Event=Pn,xs=De.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Xs=De.FetchXmlHttpFactory=ir,zs=De.WebChannel=Kn,Lu=De.XhrIo=Vn;const go="@firebase/firestore";class oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oi.UNAUTHENTICATED=new oi(null),oi.GOOGLE_CREDENTIALS=new oi("google-credentials-uid"),oi.FIRST_PARTY=new oi("first-party-uid"),oi.MOCK_USER=new oi("mock-user");let mo="9.6.11";const yo=new we.Yd("@firebase/firestore");function _o(){return yo.logLevel}function cu(i){yo.setLogLevel(i)}function jt(i,...e){if(yo.logLevel<=we.in.DEBUG){const n=e.map(ia);yo.debug(`Firestore (${mo}): ${i}`,...n)}}function Fr(i,...e){if(yo.logLevel<=we.in.ERROR){const n=e.map(ia);yo.error(`Firestore (${mo}): ${i}`,...n)}}function eo(i,...e){if(yo.logLevel<=we.in.WARN){const n=e.map(ia);yo.warn(`Firestore (${mo}): ${i}`,...n)}}function ia(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(n){return i}}function yn(i="Unexpected state"){const e=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: `+i;throw Fr(e),new Error(e)}function Un(i,e){i||yn()}function sa(i,e){i||yn()}function $t(i,e){return i}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends Te.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class oa{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(oi.UNAUTHENTICATED))}shutdown(){}}class Da{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Uu{constructor(e){this.t=e,this.currentUser=oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const p=q=>this.i!==u?(u=this.i,n(q)):Promise.resolve();let v=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new Xr,e.enqueueRetryable(()=>p(this.currentUser))};const O=()=>{const q=v;e.enqueueRetryable((0,c.Z)(function*(){yield q.promise,yield p(o.currentUser)}))},$=q=>{jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(q=>$(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?$(q):(jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new Xr)}},0),O()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Un("string"==typeof o.accessToken),new oa(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Un(null===e||"string"==typeof e),new oi(e)}}class cc{constructor(e,n,o){this.type="FirstParty",this.user=oi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Ws{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new cc(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ga{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aa{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const o=p=>{null!=p.error&&jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const v=p.token!==this.p;return this.p=p.token,jt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?n(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const u=p=>{jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.g.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.g.getImmediate({optional:!0});p?u(p):jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Un("string"==typeof n.token),this.p=n.token,new Ga(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class I{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.I(o),this.T=o=>n.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function b(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}I.A=-1;class R{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=b(40);for(let p=0;p<u.length;++p)o.length<20&&u[p]<n&&(o+=e.charAt(u[p]%e.length))}return o}}function U(i,e){return i<e?-1:i>e?1:0}function Y(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}function ye(i){return i+"\0"}class Se{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ot(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ot(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ot(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ot(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Se(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?U(this.nanoseconds,e.nanoseconds):U(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Je(e)}static min(){return new Je(new Se(0,0))}static max(){return new Je(new Se(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function cn(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function zn(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function An(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class _r{constructor(e,n,o){void 0===n?n=0:n>e.length&&yn(),void 0===o?o=e.length-n:o>e.length-n&&yn(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===_r.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const p=e.get(u),v=n.get(u);if(p<v)return-1;if(p>v)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vn extends _r{construct(e,n,o){return new vn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ot(ht.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new vn(n)}static emptyPath(){return new vn([])}}const to=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends _r{construct(e,n,o){return new xr(e,n,o)}static isValidIdentifier(e){return to.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const p=()=>{if(0===o.length)throw new Ot(ht.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let v=!1;for(;u<e.length;){const O=e[u];if("\\"===O){if(u+1===e.length)throw new Ot(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[u+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new Ot(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=$,u+=2}else"`"===O?(v=!v,u++):"."!==O||v?(o+=O,u++):(p(),u++)}if(p(),v)throw new Ot(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(n)}static emptyPath(){return new xr([])}}class Ri{constructor(e){this.fields=e,e.sort(xr.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Y(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function Ks(){return"undefined"!=typeof atob}class Ur{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ur(n)}static fromUint8Array(e){const n=function(o){let u="";for(let p=0;p<o.length;++p)u+=String.fromCharCode(o[p]);return u}(e);return new Ur(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return U(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const us=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(i){if(Un(!!i),"string"==typeof i){let e=0;const n=us.exec(i);if(Un(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:zr(i.seconds),nanos:zr(i.nanos)}}function zr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Di(i){return"string"==typeof i?Ur.fromBase64String(i):Ur.fromUint8Array(i)}function No(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function du(i){const e=i.mapValue.fields.__previous_value__;return No(e)?du(e):e}function $o(i){const e=_i(i.mapValue.fields.__local_write_time__.timestampValue);return new Se(e.seconds,e.nanos)}class hi{constructor(e,n,o,u,p,v,O,$){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=p,this.forceLongPolling=v,this.autoDetectLongPolling=O,this.useFetchStreams=$}}class Ho{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ho("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ho&&e.projectId===this.projectId&&e.database===this.database}}function ua(i){return null==i}function Bu(i){return 0===i&&1/i==-1/0}function Bc(i){return"number"==typeof i&&Number.isInteger(i)&&!Bu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class tn{constructor(e){this.path=e}static fromPath(e){return new tn(vn.fromString(e))}static fromName(e){return new tn(vn.fromString(e).popFirst(5))}static empty(){return new tn(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return vn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new vn(e.slice()))}}const jc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},dc={nullValue:"NULL_VALUE"};function no(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?No(i)?4:Ka(i)?9:10:yn()}function ro(i,e){if(i===e)return!0;const n=no(i);if(n!==no(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $o(i).isEqual($o(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const p=_i(o.timestampValue),v=_i(u.timestampValue);return p.seconds===v.seconds&&p.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Di(i.bytesValue).isEqual(Di(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return zr(o.geoPointValue.latitude)===zr(u.geoPointValue.latitude)&&zr(o.geoPointValue.longitude)===zr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return zr(o.integerValue)===zr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const p=zr(o.doubleValue),v=zr(u.doubleValue);return p===v?Bu(p)===Bu(v):isNaN(p)&&isNaN(v)}return!1}(i,e);case 9:return Y(i.arrayValue.values||[],e.arrayValue.values||[],ro);case 10:return function(o,u){const p=o.mapValue.fields||{},v=u.mapValue.fields||{};if(cn(p)!==cn(v))return!1;for(const O in p)if(p.hasOwnProperty(O)&&(void 0===v[O]||!ro(p[O],v[O])))return!1;return!0}(i,e);default:return yn()}var u}function Kr(i,e){return void 0!==(i.values||[]).find(n=>ro(n,e))}function vo(i,e){if(i===e)return 0;const n=no(i),o=no(e);if(n!==o)return U(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return U(i.booleanValue,e.booleanValue);case 2:return function(u,p){const v=zr(u.integerValue||u.doubleValue),O=zr(p.integerValue||p.doubleValue);return v<O?-1:v>O?1:v===O?0:isNaN(v)?isNaN(O)?0:-1:1}(i,e);case 3:return Zi(i.timestampValue,e.timestampValue);case 4:return Zi($o(i),$o(e));case 5:return U(i.stringValue,e.stringValue);case 6:return function(u,p){const v=Di(u),O=Di(p);return v.compareTo(O)}(i.bytesValue,e.bytesValue);case 7:return function(u,p){const v=u.split("/"),O=p.split("/");for(let $=0;$<v.length&&$<O.length;$++){const q=U(v[$],O[$]);if(0!==q)return q}return U(v.length,O.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,p){const v=U(zr(u.latitude),zr(p.latitude));return 0!==v?v:U(zr(u.longitude),zr(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,p){const v=u.values||[],O=p.values||[];for(let $=0;$<v.length&&$<O.length;++$){const q=vo(v[$],O[$]);if(q)return q}return U(v.length,O.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,p){const v=u.fields||{},O=Object.keys(v),$=p.fields||{},q=Object.keys($);O.sort(),q.sort();for(let be=0;be<O.length&&be<q.length;++be){const Be=U(O[be],q[be]);if(0!==Be)return Be;const ft=vo(v[O[be]],$[q[be]]);if(0!==ft)return ft}return U(O.length,q.length)}(i.mapValue,e.mapValue);default:throw yn()}}function Zi(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return U(i,e);const n=_i(i),o=_i(e),u=U(n.seconds,o.seconds);return 0!==u?u:U(n.nanos,o.nanos)}function io(i){return Ml(i)}function Ml(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=_i(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Di(i.bytesValue).toBase64():"referenceValue"in i?tn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",p=!0;for(const v of o.values||[])p?p=!1:u+=",",u+=Ml(v);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let p="{",v=!0;for(const O of u)v?v=!1:p+=",",p+=`${O}:${Ml(o.fields[O])}`;return p+"}"}(i.mapValue):yn();var e}function Ci(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ls(i){return!!i&&"integerValue"in i}function la(i){return!!i&&"arrayValue"in i}function za(i){return!!i&&"nullValue"in i}function Eo(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Wa(i){return!!i&&"mapValue"in i}function wo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return zn(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=wo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Ka(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Bd(i){return"nullValue"in i?dc:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ci(Ho.empty(),tn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:yn()}function jd(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ci(Ho.empty(),tn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?jc:yn()}function ju(i,e){return void 0===i?e:void 0===e||vo(i,e)>0?i:e}function Yi(i,e){return void 0===i?e:void 0===e||vo(i,e)<0?i:e}class Pi{constructor(e){this.value=e}static empty(){return new Pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Wa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wo(n)}setAll(e){let n=xr.emptyPath(),o={},u=[];e.forEach((v,O)=>{if(!n.isImmediateParentOf(O)){const $=this.getFieldsMap(n);this.applyChanges($,o,u),o={},u=[],n=O.popLast()}v?o[O.lastSegment()]=wo(v):u.push(O.lastSegment())});const p=this.getFieldsMap(n);this.applyChanges(p,o,u)}delete(e){const n=this.field(e.popLast());Wa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ro(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Wa(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){zn(n,(u,p)=>e[u]=p);for(const u of o)delete e[u]}clone(){return new Pi(wo(this.value))}}function Ca(i){const e=[];return zn(i.fields,(n,o)=>{const u=new xr([n]);if(Wa(o)){const p=Ca(o.mapValue).fields;if(0===p.length)e.push(u);else for(const v of p)e.push(u.child(v))}else e.push(u)}),new Ri(e)}class ei{constructor(e,n,o,u,p,v){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=p,this.documentState=v}static newInvalidDocument(e){return new ei(e,0,Je.min(),Je.min(),Pi.empty(),0)}static newFoundDocument(e,n,o){return new ei(e,1,n,Je.min(),o,0)}static newNoDocument(e,n){return new ei(e,2,n,Je.min(),Pi.empty(),0)}static newUnknownDocument(e,n){return new ei(e,3,n,Je.min(),Pi.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Aa{constructor(e,n,o,u){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=u}}function Ol(i){return i.fields.find(e=>2===e.kind)}function Ro(i){return i.fields.filter(e=>2!==e.kind)}Aa.UNKNOWN_ID=-1;class qa{constructor(e,n){this.fieldPath=e,this.kind=n}}class ca{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new ca(0,Ns.min())}}function Sa(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Je.fromTimestamp(1e9===o?new Se(n+1,0):new Se(n,o));return new Ns(u,tn.empty(),e)}function $u(i){return new Ns(i.readTime,i.key,-1)}class Ns{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Ns(Je.min(),tn.empty(),-1)}static max(){return new Ns(Je.max(),tn.empty(),-1)}}function Hu(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=tn.comparator(i.documentKey,e.documentKey),0!==n?n:U(i.largestBatchId,e.largestBatchId))}class $d{constructor(e,n=null,o=[],u=[],p=null,v=null,O=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=p,this.startAt=v,this.endAt=O,this.P=null}}function Go(i,e=null,n=[],o=[],u=null,p=null,v=null){return new $d(i,e,n,o,u,p,v)}function bo(i){const e=$t(i);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+io(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),ua(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>io(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>io(o)).join(",")),e.P=n}return e.P}function Ya(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Ma(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!ro(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Gu(i.startAt,e.startAt)&&Gu(i.endAt,e.endAt)}function Qa(i){return tn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function hu(i,e){return i.filters.filter(n=>n instanceof ni&&n.field.isEqual(e))}function xl(i,e,n){let o,u=!0;for(const p of hu(i,e)){let v,O=!0;switch(p.op){case"<":case"<=":v=Bd(p.value);break;case"==":case"in":case">=":v=p.value;break;case">":v=p.value,O=!1;break;case"!=":case"not-in":v=dc}ju(o,v)===v&&(o=v,u=O)}if(null!==n)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const v=n.position[p];ju(o,v)===v&&(o=v,u=n.inclusive);break}return{value:o,inclusive:u}}function hc(i,e,n){let o,u=!0;for(const p of hu(i,e)){let v,O=!0;switch(p.op){case">=":case">":v=jd(p.value),O=!1;break;case"==":case"in":case"<=":v=p.value;break;case"<":v=p.value,O=!1;break;case"!=":case"not-in":v=jc}Yi(o,v)===v&&(o=v,u=O)}if(null!==n)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const v=n.position[p];Yi(o,v)===v&&(o=v,u=n.inclusive);break}return{value:o,inclusive:u}}class ni extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,o):new $c(e,n,o):"array-contains"===n?new Hc(e,o):"in"===n?new fu(e,o):"not-in"===n?new pu(e,o):"array-contains-any"===n?new Rl(e,o):new ni(e,n,o)}static V(e,n,o){return"in"===n?new fc(e,o):new ki(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(vo(n,this.value)):null!==n&&no(this.value)===no(n)&&this.v(vo(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class $c extends ni{constructor(e,n,o){super(e,n,o),this.key=tn.fromName(o.referenceValue)}matches(e){const n=tn.comparator(e.key,this.key);return this.v(n)}}class fc extends ni{constructor(e,n){super(e,"in",n),this.keys=Nl(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ki extends ni{constructor(e,n){super(e,"not-in",n),this.keys=Nl(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Nl(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>tn.fromName(o.referenceValue))}class Hc extends ni{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return la(n)&&Kr(n.arrayValue,this.value)}}class fu extends ni{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Kr(this.value.arrayValue,n)}}class pu extends ni{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Kr(this.value.arrayValue,n)}}class Rl extends ni{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!la(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Kr(this.value.arrayValue,o))}}class Io{constructor(e,n){this.position=e,this.inclusive=n}}class To{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ma(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Po(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const p=e[u],v=i.position[u];if(o=p.field.isKeyField()?tn.comparator(tn.fromName(v.referenceValue),n.key):vo(v,n.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function Gu(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ro(i.position[n],e.position[n]))return!1;return!0}class ws{constructor(e,n=null,o=[],u=[],p=null,v="F",O=null,$=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=p,this.limitType=v,this.startAt=O,this.endAt=$,this.D=null,this.C=null}}function Pl(i,e,n,o,u,p,v,O){return new ws(i,e,n,o,u,p,v,O)}function da(i){return new ws(i)}function Ja(i){return!ua(i.limit)&&"F"===i.limitType}function ha(i){return!ua(i.limit)&&"L"===i.limitType}function Xa(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function kl(i){for(const e of i.filters)if(e.S())return e.field;return null}function zu(i){return null!==i.collectionGroup}function so(i){const e=$t(i);if(null===e.D){e.D=[];const n=kl(e),o=Xa(e);if(null!==n&&null===o)n.isKeyField()||e.D.push(new To(n)),e.D.push(new To(xr.keyField(),"asc"));else{let u=!1;for(const p of e.explicitOrderBy)e.D.push(p),p.field.isKeyField()&&(u=!0);if(!u){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new To(xr.keyField(),p))}}}return e.D}function Fi(i){const e=$t(i);if(!e.C)if("F"===e.limitType)e.C=Go(e.path,e.collectionGroup,so(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const p of so(e))n.push(new To(p.field,"desc"===p.dir?"asc":"desc"));const o=e.endAt?new Io(e.endAt.position,!e.endAt.inclusive):null,u=e.startAt?new Io(e.startAt.position,!e.startAt.inclusive):null;e.C=Go(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.C}function pc(i,e,n){return new ws(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Wu(i,e){return Ya(Fi(i),Fi(e))&&i.limitType===e.limitType}function Fl(i){return`${bo(Fi(i))}|lt:${i.limitType}`}function Ku(i){return`Query(target=${function Za(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${io(o.value)}`;var o}).join(", ")}]`),ua(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>io(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>io(n)).join(",")),`Target(${e})`}(Fi(i))}; limitType=${i.limitType})`}function gu(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):tn.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,p,v){const O=Po(u,p,v);return u.inclusive?O<=0:O<0}(n.startAt,so(n),o)||n.endAt&&!function(u,p,v){const O=Po(u,p,v);return u.inclusive?O>=0:O>0}(n.endAt,so(n),o)));var n,o}function Gc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function zc(i){return(e,n)=>{let o=!1;for(const u of so(i)){const p=Hd(u,e,n);if(0!==p)return p;o=o||u.field.isKeyField()}return 0}}function Hd(i,e,n){const o=i.field.isKeyField()?tn.comparator(e.key,n.key):function(u,p,v){const O=p.data.field(u),$=v.data.field(u);return null!==O&&null!==$?vo(O,$):yn()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return yn()}}function qu(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bu(e)?"-0":e}}function mu(i){return{integerValue:""+i}}function zo(i,e){return Bc(e)?mu(e):qu(i,e)}class yu{constructor(){this._=void 0}}function Gd(i,e,n){return i instanceof fa?function(o,u){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(p.fields.__previous_value__=u),{mapValue:p}}(n,e):i instanceof pa?Ll(i,e):i instanceof ga?Wo(i,e):function(o,u){const p=_u(o,u),v=Wc(p)+Wc(o.k);return ls(p)&&ls(o.k)?mu(v):qu(o.M,v)}(i,e)}function Zu(i,e,n){return i instanceof pa?Ll(i,e):i instanceof ga?Wo(i,e):n}function _u(i,e){return i instanceof vu?ls(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class fa extends yu{}class pa extends yu{constructor(e){super(),this.elements=e}}function Ll(i,e){const n=Kc(e);for(const o of i.elements)n.some(u=>ro(u,o))||n.push(o);return{arrayValue:{values:n}}}class ga extends yu{constructor(e){super(),this.elements=e}}function Wo(i,e){let n=Kc(e);for(const o of i.elements)n=n.filter(u=>!ro(u,o));return{arrayValue:{values:n}}}class vu extends yu{constructor(e,n){super(),this.M=e,this.k=n}}function Wc(i){return zr(i.integerValue||i.doubleValue)}function Kc(i){return la(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Yu{constructor(e,n){this.field=e,this.transform=n}}class ma{constructor(e,n){this.version=e,this.transformResults=n}}class qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Ju{}function zd(i,e,n){i instanceof el?function(o,u,p){const v=o.value.clone(),O=Yc(o.fieldTransforms,u,p.transformResults);v.setAll(O),u.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(i,e,n):i instanceof eu?function(o,u,p){if(!Qu(o.precondition,u))return void u.convertToUnknownDocument(p.version);const v=Yc(o.fieldTransforms,u,p.transformResults),O=u.data;O.setAll(Zc(o)),O.setAll(v),u.convertToFoundDocument(p.version,O).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Xu(i,e,n){var u;i instanceof el?function(o,u,p){if(!Qu(o.precondition,u))return;const v=o.value.clone(),O=D(o.fieldTransforms,p,u);v.setAll(O),u.convertToFoundDocument(Vl(u),v).setHasLocalMutations()}(i,e,n):i instanceof eu?function(o,u,p){if(!Qu(o.precondition,u))return;const v=D(o.fieldTransforms,p,u),O=u.data;O.setAll(Zc(o)),O.setAll(v),u.convertToFoundDocument(Vl(u),O).setHasLocalMutations()}(i,e,n):Qu(i.precondition,u=e)&&u.convertToNoDocument(Je.min())}function qc(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),p=_u(o.transform,u||null);null!=p&&(null==n&&(n=Pi.empty()),n.set(o.field,p))}return n||null}function mc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Y(n,o,(u,p)=>function gc(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof pa&&o instanceof pa||n instanceof ga&&o instanceof ga?Y(n.elements,o.elements,ro):n instanceof vu&&o instanceof vu?ro(n.k,o.k):n instanceof fa&&o instanceof fa);var n,o}(u,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}function Vl(i){return i.isFoundDocument()?i.version:Je.min()}class el extends Ju{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}}class eu extends Ju{constructor(e,n,o,u,p=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=p,this.type=1}}function Zc(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Yc(i,e,n){const o=new Map;Un(i.length===n.length);for(let u=0;u<n.length;u++){const p=i[u],v=p.transform,O=e.data.field(p.field);o.set(p.field,Zu(v,O,n[u]))}return o}function D(i,e,n){const o=new Map;for(const u of i){const p=u.transform,v=n.data.field(u.field);o.set(u.field,Gd(p,v,e))}return o}class g extends Ju{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class m extends Ju{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class S{constructor(e){this.count=e}}var G,se;function ot(i){switch(i){default:return yn();case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0}}function Ft(i){if(void 0===i)return Fr("GRPC error has no .code"),ht.UNKNOWN;switch(i){case G.OK:return ht.OK;case G.CANCELLED:return ht.CANCELLED;case G.UNKNOWN:return ht.UNKNOWN;case G.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case G.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case G.INTERNAL:return ht.INTERNAL;case G.UNAVAILABLE:return ht.UNAVAILABLE;case G.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case G.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case G.NOT_FOUND:return ht.NOT_FOUND;case G.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case G.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case G.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case G.ABORTED:return ht.ABORTED;case G.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case G.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case G.DATA_LOSS:return ht.DATA_LOSS;default:return yn()}}(se=G||(G={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";class fn{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,p]of o)if(this.equalsFn(u,e))return p}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],e))return void(u[p]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){zn(this.inner,(n,o)=>{for(const[u,p]of o)e(u,p)})}isEmpty(){return An(this.inner)}size(){return this.innerSize}}class pn{constructor(e,n){this.comparator=e,this.root=n||fr.EMPTY}insert(e,n){return new pn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ur(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ur(this.root,e,this.comparator,!1)}getReverseIterator(){return new ur(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ur(this.root,e,this.comparator,!0)}}class ur{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=n?o(e.key,n):1,n&&u&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,n,o,u,p){this.key=e,this.value=n,this.color=null!=o?o:fr.RED,this.left=null!=u?u:fr.EMPTY,this.right=null!=p?p:fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,p){return new fr(null!=e?e:this.key,null!=n?n:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const p=o(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===p?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return fr.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yn();const e=this.left.check();if(e!==this.right.check())throw yn();return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1,fr.EMPTY=new class{constructor(){this.size=0}get key(){throw yn()}get value(){throw yn()}get color(){throw yn()}get left(){throw yn()}get right(){throw yn()}copy(i,e,n,o,u){return this}insert(i,e,n){return new fr(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dr{constructor(e){this.comparator=e,this.data=new pn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ko(this.data.getIterator())}getIteratorFrom(e){return new ko(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Dr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,p=o.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dr(this.comparator);return n.data=e,n}}class ko{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fo(i){return i.hasNext()?i.getNext():void 0}const Wd=new pn(tn.comparator);function oo(){return Wd}const yc=new pn(tn.comparator);function Ul(){return yc}function tu(){return new fn(i=>i.toString(),(i,e)=>i.isEqual(e))}const Qc=new pn(tn.comparator),Jc=new Dr(tn.comparator);function Nr(...i){let e=Jc;for(const n of i)e=e.add(n);return e}const tl=new Dr(U);function nl(){return tl}class ya{constructor(e,n,o,u,p){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,n)),new ya(Je.min(),o,nl(),oo(),Nr())}}class rl{constructor(e,n,o,u,p){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,n){return new rl(Ur.EMPTY_BYTE_STRING,n,Nr(),Nr(),Nr())}}class vi{constructor(e,n,o,u){this.O=e,this.removedTargetIds=n,this.key=o,this.F=u}}class Kd{constructor(e,n){this.targetId=e,this.$=n}}class Jh{constructor(e,n,o=Ur.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Xc{constructor(){this.B=0,this.L=tf(),this.U=Ur.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Nr(),n=Nr(),o=Nr();return this.L.forEach((u,p)=>{switch(p){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:yn()}}),new rl(this.U,this.q,e,n,o)}J(){this.K=!1,this.L=tf()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Xh{constructor(e){this.nt=e,this.st=new Map,this.it=oo(),this.rt=ef(),this.ot=new Dr(U)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const o=this.lt(n);switch(e.state){case 0:this.ft(n)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(n);break;case 3:this.ft(n)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),o.W(e.resumeToken));break;default:yn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((o,u)=>{this.ft(u)&&n(u)})}_t(e){const n=e.targetId,o=e.$.count,u=this.wt(n);if(u){const p=u.target;if(Qa(p))if(0===o){const v=new tn(p.path);this.ct(n,v,ei.newNoDocument(v,Je.min()))}else Un(1===o);else this.gt(n)!==o&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((p,v)=>{const O=this.wt(v);if(O){if(p.current&&Qa(O.target)){const $=new tn(O.target.path);null!==this.it.get($)||this.It(v,$)||this.ct(v,$,ei.newNoDocument($,e))}p.j&&(n.set(v,p.H()),p.J())}});let o=Nr();this.rt.forEach((p,v)=>{let O=!0;v.forEachWhile($=>{const q=this.wt($);return!q||2===q.purpose||(O=!1,!1)}),O&&(o=o.add(p))}),this.it.forEach((p,v)=>v.setReadTime(e));const u=new ya(e,n,this.ot,this.it,o);return this.it=oo(),this.rt=ef(),this.ot=new Dr(U),u}at(e,n){if(!this.ft(e))return;const o=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,o),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,o){if(!this.ft(e))return;const u=this.lt(e);this.It(e,n)?u.Y(n,1):u.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),o&&(this.it=this.it.insert(n,o))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new Xc,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Dr(U),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||jt("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Xc),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function ef(){return new pn(tn.comparator)}function tf(){return new pn(tn.comparator)}const Up={asc:"ASCENDING",desc:"DESCENDING"},nf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ed{constructor(e,n){this.databaseId=e,this.N=n}}function Bl(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rf(i,e){return i.N?e.toBase64():e.toUint8Array()}function _c(i,e){return Bl(i,e.toTimestamp())}function Rr(i){return Un(!!i),Je.fromTimestamp(function(e){const n=_i(e);return new Se(n.seconds,n.nanos)}(i))}function jl(i,e){return(n=i,new vn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function td(i){const e=vn.fromString(i);return Un(cf(e)),e}function il(i,e){return jl(i.databaseId,e.path)}function ai(i,e){const n=td(e);if(n.get(1)!==i.databaseId.projectId)throw new Ot(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ot(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new tn(sf(n))}function Eu(i,e){return jl(i.databaseId,e)}function vc(i){const e=td(i);return 4===e.length?vn.emptyPath():sf(e)}function Ec(i){return new vn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sf(i){return Un(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function qd(i,e,n){return{name:il(i,e),fields:n.value.mapValue.fields}}function of(i,e,n){const o=ai(i,e.name),u=Rr(e.updateTime),p=new Pi({mapValue:{fields:e.fields}}),v=ei.newFoundDocument(o,u,p);return n&&v.setHasCommittedMutations(),n?v.setHasCommittedMutations():v}function $l(i,e){let n;if(e instanceof el)n={update:qd(i,e.key,e.value)};else if(e instanceof g)n={delete:il(i,e.key)};else if(e instanceof eu)n={update:qd(i,e.key,e.data),updateMask:Kp(e.fieldMask)};else{if(!(e instanceof m))return yn();n={verify:il(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,p){const v=p.transform;if(v instanceof fa)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof pa)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof ga)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof vu)return{fieldPath:p.field.canonicalString(),increment:v.k};throw yn()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:_c(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:yn()),n;var u}function Zd(i,e){const n=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?qr.updateTime(Rr(u.updateTime)):void 0!==u.exists?qr.exists(u.exists):qr.none():qr.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(p,v){let O=null;"setToServerValue"in v?(Un("REQUEST_TIME"===v.setToServerValue),O=new fa):"appendMissingElements"in v?O=new pa(v.appendMissingElements.values||[]):"removeAllFromArray"in v?O=new ga(v.removeAllFromArray.values||[]):"increment"in v?O=new vu(p,v.increment):yn();const $=xr.fromServerFormat(v.fieldPath);return new Yu($,O)}(i,u)):[];var u;if(e.update){const u=ai(i,e.update.name),p=new Pi({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new Ri((e.updateMask.fieldPaths||[]).map(q=>xr.fromServerFormat(q)));return new eu(u,p,v,n,o)}return new el(u,p,n,o)}if(e.delete){const u=ai(i,e.delete);return new g(u,n)}if(e.verify){const u=ai(i,e.verify);return new m(u,n)}return yn()}function uf(i,e){return{documents:[Eu(i,e.path)]}}function nd(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Eu(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Eu(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function($){if(0===$.length)return;const q=$.map(be=>function(Be){if("=="===Be.op){if(Eo(Be.value))return{unaryFilter:{field:Hl(Be.field),op:"IS_NAN"}};if(za(Be.value))return{unaryFilter:{field:Hl(Be.field),op:"IS_NULL"}}}else if("!="===Be.op){if(Eo(Be.value))return{unaryFilter:{field:Hl(Be.field),op:"IS_NOT_NAN"}};if(za(Be.value))return{unaryFilter:{field:Hl(Be.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(Be.field),op:Gp(Be.op),value:Be.value}}}(be));return 1===q.length?q[0]:{compositeFilter:{op:"AND",filters:q}}}(e.filters);u&&(n.structuredQuery.where=u);const p=function($){if(0!==$.length)return $.map(q=>{return{field:Hl((be=q).field),direction:Yd(be.dir)};var be})}(e.orderBy);p&&(n.structuredQuery.orderBy=p);const v=(q=e.limit,i.N||ua(q)?q:{value:q});var q,O,$;return null!==v&&(n.structuredQuery.limit=v),e.startAt&&(n.structuredQuery.startAt={before:(O=e.startAt).inclusive,values:O.position}),e.endAt&&(n.structuredQuery.endAt={before:!($=e.endAt).inclusive,values:$.position}),n}function lf(i){let e=vc(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Un(1===o);const be=n.from[0];be.allDescendants?u=be.collectionId:e=e.child(be.collectionId)}let p=[];n.where&&(p=Hp(n.where));let v=[];n.orderBy&&(v=n.orderBy.map(be=>{return new To(Oa((Be=be).field),function(ft){switch(ft){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Be.direction));var Be}));let O=null;n.limit&&(O=function(be){let Be;return Be="object"==typeof be?be.value:be,ua(Be)?null:Be}(n.limit));let $=null;var be;n.startAt&&($=new Io((be=n.startAt).values||[],!!be.before));let q=null;return n.endAt&&(q=function(be){return new Io(be.values||[],!be.before)}(n.endAt)),Pl(e,u,v,p,O,"F",$,q)}function Hp(i){return i?void 0!==i.unaryFilter?[Wp(i)]:void 0!==i.fieldFilter?[zp(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Hp(e)).reduce((e,n)=>e.concat(n)):yn():[]}function Yd(i){return Up[i]}function Gp(i){return nf[i]}function Hl(i){return{fieldPath:i.canonicalString()}}function Oa(i){return xr.fromServerFormat(i.fieldPath)}function zp(i){return ni.create(Oa(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yn()}}(i.fieldFilter.op),i.fieldFilter.value)}function Wp(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Oa(i.unaryFilter.field);return ni.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Oa(i.unaryFilter.field);return ni.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Oa(i.unaryFilter.field);return ni.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Oa(i.unaryFilter.field);return ni.create(u,"!=",{nullValue:"NULL_VALUE"});default:return yn()}}function Kp(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function ao(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=hf(e)),e=df(i.get(n),e);return hf(e)}function df(i,e){let n=e;const o=i.length;for(let u=0;u<o;u++){const p=i.charAt(u);switch(p){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=p}}return n}function hf(i){return i+"\x01\x01"}function xa(i){const e=i.length;if(Un(e>=2),2===e)return Un("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),vn.emptyPath();const n=e-2,o=[];let u="";for(let p=0;p<e;){const v=i.indexOf("\x01",p);switch((v<0||v>n)&&yn(),i.charAt(v+1)){case"\x01":const O=i.substring(p,v);let $;0===u.length?$=O:(u+=O,$=u,u=""),o.push($);break;case"\x10":u+=i.substring(p,v),u+="\0";break;case"\x11":u+=i.substring(p,v+1);break;default:yn()}p=v+2}return new vn(o)}const ff=["userId","batchId"];function rd(i,e){return[i,ao(e)]}function Qd(i,e,n){return[i,ao(e),n]}const qp={},Zp=["prefixPath","collectionGroup","readTime","documentId"],Yp=["prefixPath","collectionGroup","documentId"],sl=["collectionGroup","readTime","prefixPath","documentId"],Na=["canonicalId","targetId"],Lm=["targetId","path"],Vm=["path","targetId"],pf=["collectionId","parent"],Um=["indexId","uid"],Ra=["uid","sequenceNumber"],Jd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xd=["indexId","uid","orderedDocumentKey"],Qp=["userId","collectionPath","documentId"],gf=["userId","collectionPath","largestBatchId"],wc=["userId","collectionGroup","largestBatchId"],eh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mf=[...eh,"documentOverlays"],id=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],th=[...id,"indexConfiguration","indexState","indexEntries"],nh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class _t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&yn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _t((o,u)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,u)},this.catchCallback=p=>{this.wrapFailure(n,p).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _t?n:_t.resolve(n)}catch(n){return _t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_t.reject(n)}static resolve(e){return new _t((n,o)=>{n(e)})}static reject(e){return new _t((n,o)=>{o(e)})}static waitFor(e){return new _t((n,o)=>{let u=0,p=0,v=!1;e.forEach(O=>{++u,O.next(()=>{++p,v&&p===u&&n()},$=>o($))}),v=!0,p===u&&n()})}static or(e){let n=_t.resolve(!1);for(const o of e)n=n.next(u=>u?_t.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,p)=>{o.push(n.call(this,u,p))}),this.waitFor(o)}}class Gl{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.At=new Xr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{n.error?this.At.reject(new ol(e,n.error)):this.At.resolve()},this.transaction.onerror=o=>{const u=d(o.target.error);this.At.reject(new ol(e,u))}}static open(e,n,o,u){try{return new Gl(n,e.transaction(u,o))}catch(p){throw new ol(n,p)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(jt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new eg(n)}}class Ko{constructor(e,n,o){this.name=e,this.version=n,this.bt=o,12.2===Ko.Vt((0,Te.z$)())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return jt("SimpleDb","Removing database:",e),wu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Te.hl)())return!1;if(Ko.St())return!0;const e=(0,Te.z$)(),n=Ko.Vt(e),o=0<n&&n<10,u=Ko.Dt(e),p=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,n){return e.store(n)}static Vt(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var n=this;return(0,c.Z)(function*(){return n.db||(jt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,u)=>{const p=indexedDB.open(n.name,n.version);p.onsuccess=v=>{o(v.target.result)},p.onblocked=()=>{u(new ol(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=v=>{const O=v.target.error;u("VersionError"===O.name?new Ot(ht.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===O.name?new Ot(ht.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+O):new ol(e,O))},p.onupgradeneeded=v=>{jt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',v.oldVersion),n.bt.kt(v.target.result,p.transaction,v.oldVersion,n.version).next(()=>{jt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Mt&&(n.db.onversionchange=o=>n.Mt(o)),n.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,u){var p=this;return(0,c.Z)(function*(){const v="readonly"===n;let O=0;for(;;){++O;try{p.db=yield p.Nt(e);const $=Gl.open(p.db,e,v?"readonly":"readwrite",o),q=u($).next(be=>($.Pt(),be)).catch(be=>($.abort(be),_t.reject(be))).toPromise();return q.catch(()=>{}),yield $.Rt,q}catch($){const q="FirebaseError"!==$.name&&O<3;if(jt("SimpleDb","Transaction failed with error:",$.message,"Retrying:",q),p.close(),!q)return Promise.reject($)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Xp{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return wu(this.Ft.delete())}}class ol extends Ot{constructor(e,n){super(ht.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function al(i){return"IndexedDbTransactionError"===i.name}class eg{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(jt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(jt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),wu(o)}add(e){return jt("SimpleDb","ADD",this.store.name,e,e),wu(this.store.add(e))}get(e){return wu(this.store.get(e)).next(n=>(void 0===n&&(n=null),jt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return jt("SimpleDb","DELETE",this.store.name,e),wu(this.store.delete(e))}count(){return jt("SimpleDb","COUNT",this.store.name),wu(this.store.count())}qt(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),p=[];return this.Kt(u,(v,O)=>{p.push(O)}).next(()=>p)}{const u=this.store.getAll(o.range);return new _t((p,v)=>{u.onerror=O=>{v(O.target.error)},u.onsuccess=O=>{p(O.target.result)}})}}Gt(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new _t((u,p)=>{o.onerror=v=>{p(v.target.error)},o.onsuccess=v=>{u(v.target.result)}})}Qt(e,n){jt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.jt=!1;const u=this.cursor(o);return this.Kt(u,(p,v,O)=>O.delete())}Wt(e,n){let o;n?o=e:(o={},n=e);const u=this.cursor(o);return this.Kt(u,n)}zt(e){const n=this.cursor({});return new _t((o,u)=>{n.onerror=p=>{const v=d(p.target.error);u(v)},n.onsuccess=p=>{const v=p.target.result;v?e(v.primaryKey,v.value).next(O=>{O?v.continue():o()}):o()}})}Kt(e,n){const o=[];return new _t((u,p)=>{e.onerror=v=>{p(v.target.error)},e.onsuccess=v=>{const O=v.target.result;if(!O)return void u();const $=new Xp(O),q=n(O.primaryKey,O.value,$);if(q instanceof _t){const be=q.catch(Be=>($.done(),_t.reject(Be)));o.push(be)}$.isDone?u():null===$.Lt?O.continue():O.continue($.Lt)}}).next(()=>_t.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function wu(i){return new _t((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=d(o.target.error);n(u)}})}let A=!1;function d(i){const e=Ko.Vt((0,Te.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new Ot("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return A||(A=!0,setTimeout(()=>{throw o},0)),o}}return i}class f extends Jp{constructor(e,n){super(),this.Ht=e,this.currentSequenceNumber=n}}function T(i,e){const n=$t(i);return Ko.xt(n.Ht,e)}class k{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(e.key)&&zd(p,e,o[u])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&Xu(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&Xu(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const o=e.get(n.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(Je.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Nr())}isEqual(e){return this.batchId===e.batchId&&Y(this.mutations,e.mutations,(n,o)=>mc(n,o))&&Y(this.baseMutations,e.baseMutations,(n,o)=>mc(n,o))}}class W{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Un(e.mutations.length===o.length);let u=Qc;const p=e.mutations;for(let v=0;v<p.length;v++)u=u.insert(p[v].key,o[v].version);return new W(e,n,o,u)}}class ce{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pe{constructor(e,n,o,u,p=Je.min(),v=Je.min(),O=Ur.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=O}withSequenceNumber(e){return new pe(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new pe(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new pe(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ke{constructor(e){this.Jt=e}}function Pt(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Jt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:il(u=i.Jt,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Bl(u,p.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:Wt(e.version)};else{if(!e.isUnknownDocument())return yn();o.unknownDocument={path:n.path.toArray(),version:Wt(e.version)}}var u,p;return o}function Jt(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Wt(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Rt(i){const e=new Se(i.seconds,i.nanoseconds);return Je.fromTimestamp(e)}function Yt(i,e){const n=(e.baseMutations||[]).map(p=>Zd(i.Jt,p));for(let p=0;p<e.mutations.length-1;++p){const v=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(v.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const o=e.mutations.map(p=>Zd(i.Jt,p)),u=Se.fromMillis(e.localWriteTimeMs);return new k(e.batchId,u,n,o)}function hn(i){const e=Rt(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Rt(i.lastLimboFreeSnapshotVersion):Je.min();let o;var u;return void 0!==i.query.documents?(Un(1===(u=i.query).documents.length),o=Fi(da(vc(u.documents[0])))):o=Fi(lf(i.query)),new pe(o,i.targetId,0,i.lastListenSequenceNumber,e,n,Ur.fromBase64String(i.resumeToken))}function Fn(i,e){const n=Wt(e.snapshotVersion),o=Wt(e.lastLimboFreeSnapshotVersion);let u;u=Qa(e.target)?uf(i.Jt,e.target):nd(i.Jt,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:bo(e.target),readTime:n,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function dr(i){const e=lf({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?pc(e,e.limit,"L"):e}function Zr(i,e){return new ce(e.largestBatchId,Zd(i.Jt,e.overlayMutation))}function Qi(i,e){const n=e.path.lastSegment();return[i,ao(e.path.popLast()),n]}class Li{getBundleMetadata(e,n){return nu(e).get(n).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Rt(u.createTime),version:u.version};var u})}saveBundleMetadata(e,n){return nu(e).put({bundleId:(o=n).id,createTime:Wt(Rr(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return uo(e).get(n).next(o=>{if(o)return{name:(u=o).name,query:dr(u.bundledQuery),readTime:Rt(u.readTime)};var u})}saveNamedQuery(e,n){return uo(e).put({name:(o=n).name,readTime:Wt(Rr(o.readTime)),bundledQuery:o.bundledQuery});var o}}function nu(i){return T(i,"bundles")}function uo(i){return T(i,"namedQueries")}class Hi{constructor(e,n){this.M=e,this.userId=n}static Yt(e,n){return new Hi(e,n.uid||"")}getOverlay(e,n){return lo(e).get(Qi(this.userId,n)).next(o=>o?Zr(this.M,o):null)}saveOverlays(e,n,o){const u=[];return o.forEach((p,v)=>{const O=new ce(n,v);u.push(this.Xt(e,O))}),_t.waitFor(u)}removeOverlaysForBatchId(e,n,o){const u=new Set;n.forEach(v=>u.add(ao(v.getCollectionPath())));const p=[];return u.forEach(v=>{const O=IDBKeyRange.bound([this.userId,v,o],[this.userId,v,o+1],!1,!0);p.push(lo(e).Qt("collectionPathOverlayIndex",O))}),_t.waitFor(p)}getOverlaysForCollection(e,n,o){const u=tu(),p=ao(n),v=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return lo(e).qt("collectionPathOverlayIndex",v).next(O=>{for(const $ of O){const q=Zr(this.M,$);u.set(q.getKey(),q)}return u})}getOverlaysForCollectionGroup(e,n,o,u){const p=tu();let v;const O=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return lo(e).Wt({index:"collectionGroupOverlayIndex",range:O},($,q,be)=>{const Be=Zr(this.M,q);p.size()<u||Be.largestBatchId===v?(p.set(Be.getKey(),Be),v=Be.largestBatchId):be.done()}).next(()=>p)}Xt(e,n){return lo(e).put(function(o,u,p){const[v,O,$]=Qi(u,p.mutation.key);return{userId:u,collectionPath:O,documentId:$,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:$l(o.Jt,p.mutation)}}(this.M,this.userId,n))}}function lo(i){return T(i,"documentOverlays")}class bs{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(zr(e.integerValue));else if("doubleValue"in e){const o=zr(e.doubleValue);isNaN(o)?this.ne(n,13):(this.ne(n,15),Bu(o)?n.se(0):n.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(n,20),"string"==typeof o?n.ie(o):(n.ie(`${o.seconds||""}`),n.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(Di(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(n,45),n.se(o.latitude||0),n.se(o.longitude||0)}else"mapValue"in e?Ka(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):yn()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const o=e.fields||{};this.ne(n,55);for(const u of Object.keys(o))this.re(u,n),this.te(o[u],n)}he(e,n){const o=e.values||[];this.ne(n,50);for(const u of o)this.te(u,n)}ae(e,n){this.ne(n,37),tn.fromName(e).path.forEach(o=>{this.ne(n,60),this.le(o,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}function _a(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function zl(i){const e=64-function(n){let o=0;for(let u=0;u<8;++u){const p=_a(255&n[u]);if(o+=p,8!==p)break}return o}(i);return Math.ceil(e/8)}bs.fe=new bs;class Pa{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this._e(o.value),o=n.next();this.we()}me(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.ge(o.value),o=n.next();this.ye()}pe(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(n<"\ud800"||"\udbff"<n)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const u=n.codePointAt(0);this._e(240|u>>>18),this._e(128|63&u>>>12),this._e(128|63&u>>>6),this._e(128|63&u)}}this.we()}Ie(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const u=n.codePointAt(0);this.ge(240|u>>>18),this.ge(128|63&u>>>12),this.ge(128|63&u>>>6),this.ge(128|63&u)}}this.ye()}Te(e){const n=this.Ee(e),o=zl(n);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=255&n[u]}Re(e){const n=this.Ee(e),o=zl(n);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=~(255&n[u])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const n=function(u){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,u,!1),new Uint8Array(p.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let u=1;u<n.length;++u)n[u]^=o?255:0;return n}_e(e){const n=255&e;0===n?(this.be(0),this.be(255)):255===n?(this.be(255),this.be(0)):this.be(n)}ge(e){const n=255&e;0===n?(this.ve(0),this.ve(255)):255===n?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class bu{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class sd{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class ul{constructor(){this.De=new Pa,this.Ce=new bu(this.De),this.xe=new sd(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class gn{constructor(e,n,o,u){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=u}ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new gn(this.indexId,this.documentKey,this.arrayValue,o)}}function Mn(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=er(i.arrayValue,e.arrayValue),0!==n?n:(n=er(i.directionalValue,e.directionalValue),0!==n?n:tn.comparator(i.documentKey,e.documentKey)))}function er(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class Pr{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const n of e.filters){const o=n;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const n=Ol(e);if(void 0!==n&&!this.Be(n))return!1;const o=Ro(e);let u=0,p=0;for(;u<o.length&&this.Be(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Fe){const v=o[u];if(!this.Le(this.Fe,v)||!this.Ue(this.Me[p++],v))return!1;++u}for(;u<o.length;++u){const v=o[u];if(p>=this.Me.length||!this.Ue(this.Me[p++],v))return!1}return!0}Be(e){for(const n of this.Oe)if(this.Le(n,e))return!0;return!1}Le(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class Is{constructor(){this.qe=new Do}addToCollectionParentIndex(e,n){return this.qe.add(n),_t.resolve()}getCollectionParents(e,n){return _t.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return _t.resolve()}deleteFieldIndex(e,n){return _t.resolve()}getDocumentsMatchingTarget(e,n){return _t.resolve(null)}getFieldIndex(e,n){return _t.resolve(null)}getFieldIndexes(e,n){return _t.resolve([])}getNextCollectionGroupToUpdate(e){return _t.resolve(null)}updateCollectionGroup(e,n,o){return _t.resolve()}updateIndexEntries(e,n){return _t.resolve()}}class Do{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Dr(vn.comparator),p=!u.has(o);return this.index[n]=u.add(o),p}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Dr(vn.comparator)).toArray()}}const cs=new Uint8Array(0);class ka{constructor(e,n){this.user=e,this.databaseId=n,this.Ke=new Do,this.Ge=new fn(o=>bo(o),(o,u)=>Ya(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ke.has(n)){const o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(()=>{this.Ke.add(n)});const p={collectionId:o,parent:ao(u)};return Ei(e).put(p)}return _t.resolve()}getCollectionParents(e,n){const o=[],u=IDBKeyRange.bound([n,""],[ye(n),""],!1,!0);return Ei(e).qt(u).next(p=>{for(const v of p){if(v.collectionId!==n)break;o.push(xa(v.parent))}return o})}addFieldIndex(e,n){const o=wi(e),u={indexId:(p=n).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(v=>[v.fieldPath.canonicalString(),v.kind])};var p;return delete u.indexId,o.add(u).next()}deleteFieldIndex(e,n){const o=wi(e),u=ru(e),p=Wl(e);return o.delete(n.indexId).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=Wl(e);let u=!0;const p=new Map;return _t.forEach(this.Qe(n),v=>this.getFieldIndex(e,v).next(O=>{u&&(u=!!O),p.set(v,O)})).next(()=>{if(u){let v=Nr();const O=[];return _t.forEach(p,($,q)=>{var be;jt("IndexedDbIndexManager",`Using index ${be=$,`id=${be.indexId}|cg=${be.collectionGroup}|f=${be.fields.map(Ui=>`${Ui.fieldPath}:${Ui.kind}`).join(",")}`} to execute ${bo(n)}`);const Be=function(Ui,co){const fs=Ol(co);if(void 0===fs)return null;for(const zi of hu(Ui,fs.fieldPath))switch(zi.op){case"array-contains-any":return zi.value.arrayValue.values||[];case"array-contains":return[zi.value]}return null}(q,$),ft=function(Ui,co){const fs=new Map;for(const zi of Ro(co))for(const Ao of hu(Ui,zi.fieldPath))switch(Ao.op){case"==":case"in":fs.set(zi.fieldPath.canonicalString(),Ao.value);break;case"not-in":case"!=":return fs.set(zi.fieldPath.canonicalString(),Ao.value),Array.from(fs.values())}return null}(q,$),Lt=function(Ui,co){const fs=[];let zi=!0;for(const Ao of Ro(co)){const Dl=0===Ao.kind?xl(Ui,Ao.fieldPath,Ui.startAt):hc(Ui,Ao.fieldPath,Ui.startAt);if(!Dl.value)return null;fs.push(Dl.value),zi&&(zi=Dl.inclusive)}return new Io(fs,zi)}(q,$),Bt=function(Ui,co){const fs=[];let zi=!0;for(const Ao of Ro(co)){const Dl=0===Ao.kind?hc(Ui,Ao.fieldPath,Ui.endAt):xl(Ui,Ao.fieldPath,Ui.endAt);if(!Dl.value)return null;fs.push(Dl.value),zi&&(zi=Dl.inclusive)}return new Io(fs,zi)}(q,$),bn=this.je($,q,Lt),lr=this.je($,q,Bt),Vi=this.We($,q,ft),hs=this.ze($.indexId,Be,bn,!!Lt&&Lt.inclusive,lr,!!Bt&&Bt.inclusive,Vi);return _t.forEach(hs,Ui=>o.Gt(Ui,n.limit).next(co=>{co.forEach(fs=>{const zi=tn.fromSegments(fs.documentKey);v.has(zi)||(v=v.add(zi),O.push(zi))})}))}).next(()=>O)}return _t.resolve(null)})}Qe(e){let n=this.Ge.get(e);return n||(n=[e],this.Ge.set(e,n),n)}ze(e,n,o,u,p,v,O){const $=(null!=n?n.length:1)*Math.max(null!=o?o.length:1,null!=p?p.length:1),q=$/(null!=n?n.length:1),be=[];for(let Be=0;Be<$;++Be){const ft=n?this.He(n[Be/q]):cs,Lt=o?this.Je(e,ft,o[Be%q],u):this.Ye(e),Bt=p?this.Xe(e,ft,p[Be%q],v):this.Ye(e+1);be.push(...this.createRange(Lt,Bt,O.map(bn=>this.Je(e,ft,bn,!0))))}return be}Je(e,n,o,u){const p=new gn(e,tn.empty(),n,o);return u?p:p.ke()}Xe(e,n,o,u){const p=new gn(e,tn.empty(),n,o);return u?p.ke():p}Ye(e){return new gn(e,tn.empty(),cs,cs)}getFieldIndex(e,n){const o=new Pr(n),u=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,u).next(p=>{const v=p.filter(O=>o.$e(O));return v.sort((O,$)=>$.fields.length-O.fields.length),v.length>0?v[0]:null})}Ze(e,n){const o=new ul;for(const u of Ro(e)){const p=n.data.field(u.fieldPath);if(null==p)return null;const v=o.Ne(u.kind);bs.fe.Zt(p,v)}return o.Se()}He(e){const n=new ul;return bs.fe.Zt(e,n.Ne(0)),n.Se()}tn(e,n){const o=new ul;return bs.fe.Zt(Ci(this.databaseId,n),o.Ne(function(u){const p=Ro(u);return 0===p.length?0:p[p.length-1].kind}(e))),o.Se()}We(e,n,o){if(null===o)return[];let u=[];u.push(new ul);let p=0;for(const v of Ro(e)){const O=o[p++];for(const $ of u)if(this.en(n,v.fieldPath)&&la(O))u=this.nn(u,v,O);else{const q=$.Ne(v.kind);bs.fe.Zt(O,q)}}return this.sn(u)}je(e,n,o){return null==o?null:this.We(e,n,o.position)}sn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Se();return n}nn(e,n,o){const u=[...e],p=[];for(const v of o.arrayValue.values||[])for(const O of u){const $=new ul;$.seed(O.Se()),bs.fe.Zt(v,$.Ne(n.kind)),p.push($)}return p}en(e,n){return!!e.filters.find(o=>o instanceof ni&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=wi(e),u=ru(e);return(n?o.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.qt()).next(p=>{const v=[];return _t.forEach(p,O=>u.get([O.indexId,this.uid]).next($=>{v.push(function(q,be){const Be=be?new ca(be.sequenceNumber,new Ns(Rt(be.readTime),new tn(xa(be.documentKey)),be.largestBatchId)):ca.empty(),ft=q.fields.map(([Lt,Bt])=>new qa(xr.fromServerFormat(Lt),Bt));return new Aa(q.indexId,q.collectionGroup,ft,Be)}(O,$))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,u)=>{const p=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:U(o.collectionGroup,u.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const u=wi(e),p=ru(e);return this.rn(e).next(v=>u.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(O=>_t.forEach(O,$=>{return p.put({indexId:$.indexId,uid:this.user.uid||"",sequenceNumber:v,readTime:Wt((ft=o).readTime),documentKey:ao(ft.documentKey.path),largestBatchId:ft.largestBatchId});var ft})))}updateIndexEntries(e,n){const o=new Map;return _t.forEach(n,(u,p)=>{const v=o.get(u.collectionGroup);return(v?_t.resolve(v):this.getFieldIndexes(e,u.collectionGroup)).next(O=>(o.set(u.collectionGroup,O),_t.forEach(O,$=>this.on(e,u,$).next(q=>{const be=this.un(p,$);return q.isEqual(be)?_t.resolve():this.an(e,p,$,q,be)}))))})}cn(e,n,o,u){return Wl(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.tn(o,n.key),documentKey:n.key.path.toArray()})}hn(e,n,o,u){return Wl(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.tn(o,n.key),n.key.path.toArray()])}on(e,n,o){const u=Wl(e);let p=new Dr(Mn);return u.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,n)])},(v,O)=>{p=p.add(new gn(o.indexId,n,O.arrayValue,O.directionalValue))}).next(()=>p)}un(e,n){let o=new Dr(Mn);const u=this.Ze(n,e);if(null==u)return o;const p=Ol(n);if(null!=p){const v=e.data.field(p.fieldPath);if(la(v))for(const O of v.arrayValue.values||[])o=o.add(new gn(n.indexId,e.key,this.He(O),u))}else o=o.add(new gn(n.indexId,e.key,cs,u));return o}an(e,n,o,u,p){jt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const v=[];return function(O,$,q,be,Be){const ft=O.getIterator(),Lt=$.getIterator();let Bt=Fo(ft),bn=Fo(Lt);for(;Bt||bn;){let lr=!1,Vi=!1;if(Bt&&bn){const hs=q(Bt,bn);hs<0?Vi=!0:hs>0&&(lr=!0)}else null!=Bt?Vi=!0:lr=!0;lr?(be(bn),bn=Fo(Lt)):Vi?(Be(Bt),Bt=Fo(ft)):(Bt=Fo(ft),bn=Fo(Lt))}}(u,p,Mn,O=>{v.push(this.cn(e,n,o,O))},O=>{v.push(this.hn(e,n,o,O))}),_t.waitFor(v)}rn(e){let n=1;return ru(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,p)=>{p.done(),n=u.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((v,O)=>Mn(v,O)).filter((v,O,$)=>!O||0!==Mn(v,$[O-1]));const u=[];u.push(e);for(const v of o){const O=Mn(v,e),$=Mn(v,n);if(0===O)u[0]=e.ke();else if(O>0&&$<0)u.push(v),u.push(v.ke());else if($>0)break}u.push(n);const p=[];for(let v=0;v<u.length;v+=2)p.push(IDBKeyRange.bound([u[v].indexId,this.uid,u[v].arrayValue,u[v].directionalValue,cs,[]],[u[v+1].indexId,this.uid,u[v+1].arrayValue,u[v+1].directionalValue,cs,[]]));return p}}function Ei(i){return T(i,"collectionParents")}function Wl(i){return T(i,"indexEntries")}function wi(i){return T(i,"indexConfiguration")}function ru(i){return T(i,"indexState")}const ll={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gi{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Gi(e,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bc(i,e,n){const o=i.store("mutations"),u=i.store("documentMutations"),p=[],v=IDBKeyRange.only(n.batchId);let O=0;const $=o.Wt({range:v},(be,Be,ft)=>(O++,ft.delete()));p.push($.next(()=>{Un(1===O)}));const q=[];for(const be of n.mutations){const Be=Qd(e,be.key.path,n.batchId);p.push(u.delete(Be)),q.push(be.key)}return _t.waitFor(p).next(()=>q)}function rh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw yn();e=i.noDocument}return JSON.stringify(e).length}Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(41943040,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);class yf{constructor(e,n,o,u){this.userId=e,this.M=n,this.indexManager=o,this.referenceDelegate=u,this.ln={}}static Yt(e,n,o,u){Un(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new yf(p,n,o,u)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cl(e).Wt({index:"userMutationsIndex",range:o},(u,p,v)=>{n=!1,v.done()}).next(()=>n)}addMutationBatch(e,n,o,u){const p=Ic(e),v=cl(e);return v.add({}).next(O=>{Un("number"==typeof O);const $=new k(O,n,o,u),q=function(ft,Lt,Bt){const bn=Bt.baseMutations.map(Vi=>$l(ft.Jt,Vi)),lr=Bt.mutations.map(Vi=>$l(ft.Jt,Vi));return{userId:Lt,batchId:Bt.batchId,localWriteTimeMs:Bt.localWriteTime.toMillis(),baseMutations:bn,mutations:lr}}(this.M,this.userId,$),be=[];let Be=new Dr((ft,Lt)=>U(ft.canonicalString(),Lt.canonicalString()));for(const ft of u){const Lt=Qd(this.userId,ft.key.path,O);Be=Be.add(ft.key.path.popLast()),be.push(v.put(q)),be.push(p.put(Lt,qp))}return Be.forEach(ft=>{be.push(this.indexManager.addToCollectionParentIndex(e,ft))}),e.addOnCommittedListener(()=>{this.ln[O]=$.keys()}),_t.waitFor(be).next(()=>$)})}lookupMutationBatch(e,n){return cl(e).get(n).next(o=>o?(Un(o.userId===this.userId),Yt(this.M,o)):null)}fn(e,n){return this.ln[n]?_t.resolve(this.ln[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const u=o.keys();return this.ln[n]=u,u}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return cl(e).Wt({index:"userMutationsIndex",range:u},(v,O,$)=>{O.userId===this.userId&&(Un(O.batchId>=o),p=Yt(this.M,O)),$.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return cl(e).Wt({index:"userMutationsIndex",range:n,reverse:!0},(u,p,v)=>{o=p.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cl(e).qt("userMutationsIndex",n).next(o=>o.map(u=>Yt(this.M,u)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=rd(this.userId,n.path),u=IDBKeyRange.lowerBound(o),p=[];return Ic(e).Wt({range:u},(v,O,$)=>{const[q,be,Be]=v,ft=xa(be);if(q===this.userId&&n.path.isEqual(ft))return cl(e).get(Be).next(Lt=>{if(!Lt)throw yn();Un(Lt.userId===this.userId),p.push(Yt(this.M,Lt))});$.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Dr(U);const u=[];return n.forEach(p=>{const v=rd(this.userId,p.path),O=IDBKeyRange.lowerBound(v),$=Ic(e).Wt({range:O},(q,be,Be)=>{const[ft,Lt,Bt]=q,bn=xa(Lt);ft===this.userId&&p.path.isEqual(bn)?o=o.add(Bt):Be.done()});u.push($)}),_t.waitFor(u).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1,p=rd(this.userId,o),v=IDBKeyRange.lowerBound(p);let O=new Dr(U);return Ic(e).Wt({range:v},($,q,be)=>{const[Be,ft,Lt]=$,Bt=xa(ft);Be===this.userId&&o.isPrefixOf(Bt)?Bt.length===u&&(O=O.add(Lt)):be.done()}).next(()=>this.dn(e,O))}dn(e,n){const o=[],u=[];return n.forEach(p=>{u.push(cl(e).get(p).next(v=>{if(null===v)throw yn();Un(v.userId===this.userId),o.push(Yt(this.M,v))}))}),_t.waitFor(u).next(()=>o)}removeMutationBatch(e,n){return bc(e.Ht,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this._n(n.batchId)}),_t.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return _t.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Ic(e).Wt({range:o},(p,v,O)=>{if(p[0]===this.userId){const $=xa(p[1]);u.push($)}else O.done()}).next(()=>{Un(0===u.length)})})}containsKey(e,n){return _f(e,this.userId,n)}wn(e){return tg(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _f(i,e,n){const o=rd(e,n.path),u=o[1],p=IDBKeyRange.lowerBound(o);let v=!1;return Ic(i).Wt({range:p,jt:!0},(O,$,q)=>{const[be,Be,ft]=O;be===e&&Be===u&&(v=!0),q.done()}).next(()=>v)}function cl(i){return T(i,"mutations")}function Ic(i){return T(i,"documentMutations")}function tg(i){return T(i,"mutationQueues")}class tr{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new tr(0)}static yn(){return new tr(-1)}}class ng{constructor(e,n){this.referenceDelegate=e,this.M=n}allocateTargetId(e){return this.pn(e).next(n=>{const o=new tr(n.highestTargetId);return n.highestTargetId=o.next(),this.In(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(n=>Je.fromTimestamp(new Se(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.pn(e).next(u=>(u.highestListenSequenceNumber=n,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),this.In(e,u)))}addTargetData(e,n){return this.Tn(e,n).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(n,o),this.In(e,o))))}updateTargetData(e,n){return this.Tn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Kl(e).delete(n.targetId)).next(()=>this.pn(e)).next(o=>(Un(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,n,o){let u=0;const p=[];return Kl(e).Wt((v,O)=>{const $=hn(O);$.sequenceNumber<=n&&null===o.get($.targetId)&&(u++,p.push(this.removeTargetData(e,$)))}).next(()=>_t.waitFor(p)).next(()=>u)}forEachTarget(e,n){return Kl(e).Wt((o,u)=>{const p=hn(u);n(p)})}pn(e){return vf(e).get("targetGlobalKey").next(n=>(Un(null!==n),n))}In(e,n){return vf(e).put("targetGlobalKey",n)}Tn(e,n){return Kl(e).put(Fn(this.M,n))}En(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=bo(n),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return Kl(e).Wt({range:u,index:"queryTargetsIndex"},(v,O,$)=>{const q=hn(O);Ya(n,q.target)&&(p=q,$.done())}).next(()=>p)}addMatchingKeys(e,n,o){const u=[],p=Fa(e);return n.forEach(v=>{const O=ao(v.path);u.push(p.put({targetId:o,path:O})),u.push(this.referenceDelegate.addReference(e,o,v))}),_t.waitFor(u)}removeMatchingKeys(e,n,o){const u=Fa(e);return _t.forEach(n,p=>{const v=ao(p.path);return _t.waitFor([u.delete([o,v]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,n){const o=Fa(e),u=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),u=Fa(e);let p=Nr();return u.Wt({range:o,jt:!0},(v,O,$)=>{const q=xa(v[1]),be=new tn(q);p=p.add(be)}).next(()=>p)}containsKey(e,n){const o=ao(n.path),u=IDBKeyRange.bound([o],[ye(o)],!1,!0);let p=0;return Fa(e).Wt({index:"documentTargetsIndex",jt:!0,range:u},([v,O],$,q)=>{0!==v&&(p++,q.done())}).next(()=>p>0)}Et(e,n){return Kl(e).get(n).next(o=>o?hn(o):null)}}function Kl(i){return T(i,"targets")}function vf(i){return T(i,"targetGlobal")}function Fa(i){return T(i,"targetDocuments")}function qs(i){return ih.apply(this,arguments)}function ih(){return ih=(0,c.Z)(function*(i){if(i.code!==ht.FAILED_PRECONDITION||i.message!==nh)throw i;jt("LocalStore","Unexpectedly lost primary lease")}),ih.apply(this,arguments)}function rg([i,e],[n,o]){const u=U(i,n);return 0===u?U(e,o):u}class Ef{constructor(e){this.An=e,this.buffer=new Dr(rg),this.Rn=0}Pn(){return++this.Rn}bn(e){const n=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();rg(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Iu{constructor(e,n){this.garbageCollector=e,this.asyncQueue=n,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var n=this;const o=this.Vn?3e5:6e4;jt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,c.Z)(function*(){n.vn=null,n.Vn=!0;try{yield e.collectGarbage(n.garbageCollector)}catch(u){al(u)?jt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield qs(u)}yield n.Sn(e)}))}}class wf{constructor(e,n){this.Dn=e,this.params=n}calculateTargetCount(e,n){return this.Dn.Cn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return _t.resolve(I.A);const o=new Ef(n);return this.Dn.forEachTarget(e,u=>o.bn(u.sequenceNumber)).next(()=>this.Dn.xn(e,u=>o.bn(u))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.Dn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.Dn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(jt("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(ll)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ll):this.Nn(e,n))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,n){let o,u,p,v,O,$,q;const be=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Be=>(Be>this.params.maximumSequenceNumbersToCollect?(jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Be}`),u=this.params.maximumSequenceNumbersToCollect):u=Be,v=Date.now(),this.nthSequenceNumber(e,u))).next(Be=>(o=Be,O=Date.now(),this.removeTargets(e,o,n))).next(Be=>(p=Be,$=Date.now(),this.removeOrphanedDocuments(e,o))).next(Be=>(q=Date.now(),_o()<=we.in.DEBUG&&jt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-be}ms\n\tDetermined least recently used ${u} in `+(O-v)+`ms\n\tRemoved ${p} targets in `+($-O)+`ms\n\tRemoved ${Be} documents in `+(q-$)+`ms\nTotal Duration: ${q-be}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:Be})))}}class ig{constructor(e,n){this.db=e,this.garbageCollector=new wf(this,n)}Cn(e){const n=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(u=>o+u))}kn(e){let n=0;return this.xn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}xn(e,n){return this.Mn(e,(o,u)=>n(u))}addReference(e,n,o){return Tc(e,o)}removeReference(e,n,o){return Tc(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Tc(e,n)}On(e,n){return function(o,u){let p=!1;return tg(o).zt(v=>_f(o,v,u).next(O=>(O&&(p=!0),_t.resolve(!O)))).next(()=>p)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.Mn(e,(v,O)=>{if(O<=n){const $=this.On(e,v).next(q=>{if(!q)return p++,o.getEntry(e,v).next(()=>(o.removeEntry(v,Je.min()),Fa(e).delete([0,ao(v.path)])))});u.push($)}}).next(()=>_t.waitFor(u)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Tc(e,n)}Mn(e,n){const o=Fa(e);let u,p=I.A;return o.Wt({index:"documentTargetsIndex"},([v,O],{path:$,sequenceNumber:q})=>{0===v?(p!==I.A&&n(new tn(xa(u)),p),p=q,u=$):p=I.A}).next(()=>{p!==I.A&&n(new tn(xa(u)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tc(i,e){return Fa(i).put((o=i.currentSequenceNumber,{targetId:0,path:ao(e.path),sequenceNumber:o}));var o}class Bm{constructor(){this.changes=new fn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?_t.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sg{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return iu(e).put(o)}removeEntry(e,n,o){return iu(e).delete(function(u,p){const v=u.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],Jt(p),v[v.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.Fn(e,o)))}getEntry(e,n){let o=ei.newInvalidDocument(n);return iu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(ql(n))},(u,p)=>{o=this.$n(n,p)}).next(()=>o)}Bn(e,n){let o={size:0,document:ei.newInvalidDocument(n)};return iu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(ql(n))},(u,p)=>{o={document:this.$n(n,p),size:rh(p)}}).next(()=>o)}getEntries(e,n){let o=oo();return this.Ln(e,n,(u,p)=>{const v=this.$n(u,p);o=o.insert(u,v)}).next(()=>o)}Un(e,n){let o=oo(),u=new pn(tn.comparator);return this.Ln(e,n,(p,v)=>{const O=this.$n(p,v);o=o.insert(p,O),u=u.insert(p,rh(v))}).next(()=>({documents:o,qn:u}))}Ln(e,n,o){if(n.isEmpty())return _t.resolve();let u=new Dr(oh);n.forEach($=>u=u.add($));const p=IDBKeyRange.bound(ql(u.first()),ql(u.last())),v=u.getIterator();let O=v.getNext();return iu(e).Wt({index:"documentKeyIndex",range:p},($,q,be)=>{const Be=tn.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;O&&oh(O,Be)<0;)o(O,null),O=v.getNext();O&&O.isEqual(Be)&&(o(O,q),O=v.hasNext()?v.getNext():null),O?be.Ut(ql(O)):be.done()}).next(()=>{for(;O;)o(O,null),O=v.hasNext()?v.getNext():null})}getAllFromCollection(e,n,o){const u=[n.popLast().toArray(),n.lastSegment(),Jt(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],p=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return iu(e).qt(IDBKeyRange.bound(u,p,!0)).next(v=>{let O=oo();for(const $ of v){const q=this.$n(tn.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);O=O.insert(q.key,q)}return O})}getAllFromCollectionGroup(e,n,o,u){let p=oo();const v=sh(n,o),O=sh(n,Ns.max());return iu(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,O,!0)},($,q,be)=>{const Be=this.$n(tn.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);p=p.insert(Be.key,Be),p.size===u&&be.done()}).next(()=>p)}newChangeBuffer(e){return new U_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return od(e).get("remoteDocumentGlobalKey").next(n=>(Un(!!n),n))}Fn(e,n){return od(e).put("remoteDocumentGlobalKey",n)}$n(e,n){if(n){const o=function ut(i,e){let n;if(e.document)n=of(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=tn.fromSegments(e.noDocument.path),u=Rt(e.noDocument.readTime);n=ei.newNoDocument(o,u),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return yn();{const o=tn.fromSegments(e.unknownDocument.path),u=Rt(e.unknownDocument.version);n=ei.newUnknownDocument(o,u)}}return e.readTime&&n.setReadTime(function(o){const u=new Se(o[0],o[1]);return Je.fromTimestamp(u)}(e.readTime)),n}(this.M,n);if(!o.isNoDocument()||!o.version.isEqual(Je.min()))return o}return ei.newInvalidDocument(e)}}class U_ extends Bm{constructor(e,n){super(),this.Kn=e,this.trackRemovals=n,this.Gn=new fn(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const n=[];let o=0,u=new Dr((p,v)=>U(p.canonicalString(),v.canonicalString()));return this.changes.forEach((p,v)=>{const O=this.Gn.get(p);if(n.push(this.Kn.removeEntry(e,p,O.readTime)),v.isValidDocument()){const $=Pt(this.Kn.M,v);u=u.add(p.path.popLast()),o+=rh($)-O.size,n.push(this.Kn.addEntry(e,p,$))}else if(o-=O.size,this.trackRemovals){const $=Pt(this.Kn.M,v.convertToNoDocument(Je.min()));n.push(this.Kn.addEntry(e,p,$))}}),u.forEach(p=>{n.push(this.Kn.indexManager.addToCollectionParentIndex(e,p))}),n.push(this.Kn.updateMetadata(e,o)),_t.waitFor(n)}getFromCache(e,n){return this.Kn.Bn(e,n).next(o=>(this.Gn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.Kn.Un(e,n).next(({documents:o,qn:u})=>(u.forEach((p,v)=>{this.Gn.set(p,{size:v,readTime:o.get(p).readTime})}),o))}}function od(i){return T(i,"remoteDocumentGlobal")}function iu(i){return T(i,"remoteDocumentsV14")}function ql(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function sh(i,e){const n=e.documentKey.path.toArray();return[i,Jt(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function oh(i,e){const n=i.path.toArray(),o=e.path.toArray();let u=0;for(let p=0;p<n.length-2&&p<o.length-2;++p)if(u=U(n[p],o[p]),u)return u;return u=U(n.length,o.length),u||(u=U(n[n.length-2],o[o.length-2]),u||U(n[n.length-1],o[o.length-1]))}class B_{constructor(e){this.M=e}kt(e,n,o,u){const p=new Gl("createOrUpgrade",n);var O;o<1&&u>=1&&(e.createObjectStore("owner"),(O=e).createObjectStore("mutationQueues",{keyPath:"userId"}),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ff,{unique:!0}),O.createObjectStore("documentMutations"),og(e),function(O){O.createObjectStore("remoteDocuments")}(e));let v=_t.resolve();return o<3&&u>=3&&(0!==o&&(function(O){O.deleteObjectStore("targetDocuments"),O.deleteObjectStore("targets"),O.deleteObjectStore("targetGlobal")}(e),og(e)),v=v.next(()=>function(O){const $=O.store("targetGlobal"),q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Je.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",q)}(p))),o<4&&u>=4&&(0!==o&&(v=v.next(()=>function(O,$){return $.store("mutations").qt().next(q=>{O.deleteObjectStore("mutations"),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ff,{unique:!0});const be=$.store("mutations"),Be=q.map(ft=>be.put(ft));return _t.waitFor(Be)})}(e,p))),v=v.next(()=>{!function(O){O.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(v=v.next(()=>this.Qn(p))),o<6&&u>=6&&(v=v.next(()=>(function(O){O.createObjectStore("remoteDocumentGlobal")}(e),this.jn(p)))),o<7&&u>=7&&(v=v.next(()=>this.Wn(p))),o<8&&u>=8&&(v=v.next(()=>this.zn(e,p))),o<9&&u>=9&&(v=v.next(()=>{!function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(v=v.next(()=>this.Hn(p))),o<11&&u>=11&&(v=v.next(()=>{(function(O){O.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(O){O.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(v=v.next(()=>{!function(O){const $=O.createObjectStore("documentOverlays",{keyPath:Qp});$.createIndex("collectionPathOverlayIndex",gf,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",wc,{unique:!1})}(e)})),o<13&&u>=13&&(v=v.next(()=>function(O){const $=O.createObjectStore("remoteDocumentsV14",{keyPath:Zp});$.createIndex("documentKeyIndex",Yp),$.createIndex("collectionGroupIndex",sl)}(e)).next(()=>this.Jn(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(v=v.next(()=>{!function(O){O.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),O.createObjectStore("indexState",{keyPath:Um}).createIndex("sequenceNumberIndex",Ra,{unique:!1}),O.createObjectStore("indexEntries",{keyPath:Jd}).createIndex("documentKeyIndex",Xd,{unique:!1})}(e)})),v}jn(e){let n=0;return e.store("remoteDocuments").Wt((o,u)=>{n+=rh(u)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.qt().next(u=>_t.forEach(u,p=>{const v=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",v).next(O=>_t.forEach(O,$=>{Un($.userId===p.userId);const q=Yt(this.M,$);return bc(e,p.userId,q).next(()=>{})}))}))}Wn(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return o.Wt((v,O)=>{const $=new vn(v),q=[0,ao($)];p.push(n.get(q).next(be=>be?_t.resolve():n.put({targetId:0,path:ao($),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>_t.waitFor(p))})}zn(e,n){e.createObjectStore("collectionParents",{keyPath:pf});const o=n.store("collectionParents"),u=new Do,p=v=>{if(u.add(v)){const O=v.lastSegment(),$=v.popLast();return o.put({collectionId:O,parent:ao($)})}};return n.store("remoteDocuments").Wt({jt:!0},(v,O)=>{const $=new vn(v);return p($.popLast())}).next(()=>n.store("documentMutations").Wt({jt:!0},([v,O,$],q)=>{const be=xa(O);return p(be.popLast())}))}Hn(e){const n=e.store("targets");return n.Wt((o,u)=>{const p=hn(u),v=Fn(this.M,p);return n.put(v)})}Jn(e,n){const o=n.store("remoteDocuments"),u=[];return o.Wt((p,v)=>{const O=n.store("remoteDocumentsV14"),$=(q=v,q.document?new tn(vn.fromString(q.document.name).popFirst(5)):q.noDocument?tn.fromSegments(q.noDocument.path):q.unknownDocument?tn.fromSegments(q.unknownDocument.path):yn()).path.toArray();var q;const be={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};u.push(O.put(be))}).next(()=>_t.waitFor(u))}}function og(i){i.createObjectStore("targetDocuments",{keyPath:Lm}).createIndex("documentTargetsIndex",Vm,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Na,{unique:!0}),i.createObjectStore("targetGlobal")}const bf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class If{constructor(e,n,o,u,p,v,O,$,q,be,Be=13){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Yn=p,this.window=v,this.document=O,this.Xn=q,this.Zn=be,this.ts=Be,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=ft=>Promise.resolve(),!If.vt())throw new Ot(ht.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ig(this,u),this.hs=n+"main",this.M=new ke($),this.ls=new Ko(this.hs,this.ts,new B_(this.M)),this.fs=new ng(this.referenceDelegate,this.M),this.ds=new sg(this.M),this._s=new Li,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===be&&Fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ot(ht.FAILED_PRECONDITION,bf);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new I(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var n=this;return this.cs=function(){var o=(0,c.Z)(function*(u){if(n.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var n=(0,c.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,c.Z)(function*(){n.started&&(yield n.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ud(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(n=>{n||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(n=>this.isPrimary&&!n?this.Rs(e).next(()=>!1):!!n&&this.Ps(e).next(()=>!0))).catch(e=>{if(al(e))return jt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return jt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return ad(e).get("owner").next(n=>_t.resolve(this.bs(n)))}Vs(e){return ud(e).delete(this.clientId)}vs(){var e=this;return(0,c.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=T(o,"clientMetadata");return u.qt().next(p=>{const v=e.Ds(p,18e5),O=p.filter($=>-1===v.indexOf($));return _t.forEach(O,$=>u.delete($.clientId)).next(()=>O)})}).catch(()=>[]);if(e.ws)for(const o of n)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?_t.resolve(!0):ad(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)){if(this.bs(n)&&this.networkEnabled)return!0;if(!this.bs(n)){if(!n.allowTabSynchronization)throw new Ot(ht.FAILED_PRECONDITION,bf);return!1}}return!(!this.networkEnabled||!this.inForeground)||ud(e).qt().next(o=>void 0===this.Ds(o,5e3).find(u=>{if(this.clientId!==u.clientId){const v=!this.inForeground&&u.inForeground,O=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||v&&O)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&jt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,c.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new f(n,I.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,n){return e.filter(o=>this.Ss(o.updateTimeMs,n)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>ud(e).qt().next(n=>this.Ds(n,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,n){return yf.Yt(e,this.M,n,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new ka(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Hi.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,n,o){jt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===n?"readonly":"readwrite",p=14===(v=this.ts)?th:13===v?id:12===v?mf:11===v?eh:void yn();var v;let O;return this.ls.runTransaction(e,u,p,$=>(O=new f($,this.es?this.es.next():I.A),"readwrite-primary"===n?this.Es(O).next(q=>!!q||this.As(O)).next(q=>{if(!q)throw Fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Ot(ht.FAILED_PRECONDITION,nh);return o(O)}).next(q=>this.Ps(O).next(()=>q)):this.$s(O).next(()=>o(O)))).then($=>(O.raiseOnCommittedEvent(),$))}$s(e){return ad(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)&&!this.bs(n)&&!(this.Zn||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ot(ht.FAILED_PRECONDITION,bf)})}Ps(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ad(e).put("owner",n)}static vt(){return Ko.vt()}Rs(e){const n=ad(e);return n.get("owner").next(o=>this.bs(o)?(jt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):_t.resolve())}Ss(e,n){const o=Date.now();return!(e<o-n||e>o&&(Fr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Te.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var n;try{const o=null!==(null===(n=this.ws)||void 0===n?void 0:n.getItem(this.Cs(e)));return jt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Fr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Fr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ad(i){return T(i,"owner")}function ud(i){return T(i,"clientMetadata")}function ag(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class jm{constructor(e,n,o){this.ds=e,this.Bs=n,this.indexManager=o}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(o=>this.Us(e,n,o))}Us(e,n,o){return this.ds.getEntry(e,n).next(u=>{for(const p of o)p.applyToLocalView(u);return u})}qs(e,n){e.forEach((o,u)=>{for(const p of n)p.applyToLocalView(u)})}Ks(e,n){return this.ds.getEntries(e,n).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>this.qs(n,o))}Qs(e,n,o){return tn.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.js(e,n.path):zu(n)?this.Ws(e,n,o):this.zs(e,n,o);var u}js(e,n){return this.Ls(e,new tn(n)).next(o=>{let u=Ul();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Ws(e,n,o){const u=n.collectionGroup;let p=Ul();return this.indexManager.getCollectionParents(e,u).next(v=>_t.forEach(v,O=>{const $=(q=n,be=O.child(u),new ws(be,null,q.explicitOrderBy.slice(),q.filters.slice(),q.limit,q.limitType,q.startAt,q.endAt));var q,be;return this.zs(e,$,o).next(q=>{q.forEach((be,Be)=>{p=p.insert(be,Be)})})}).next(()=>p))}zs(e,n,o){let u;return this.ds.getAllFromCollection(e,n.path,o).next(p=>(u=p,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(p=>{for(const v of p)for(const O of v.mutations){const $=O.key;let q=u.get($);null==q&&(q=ei.newInvalidDocument($),u=u.insert($,q)),Xu(O,q,v.localWriteTime),q.isFoundDocument()||(u=u.remove($))}}).next(()=>(u.forEach((p,v)=>{gu(n,v)||(u=u.remove(p))}),u))}}class ug{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Hs=o,this.Js=u}static Ys(e,n){let o=Nr(),u=Nr();for(const p of n.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new ug(e,n.fromCache,o,u)}}class Tf{Xs(e){this.Zs=e}Qs(e,n,o,u){return 0===(p=n).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||o.isEqual(Je.min())?this.ti(e,n):this.Zs.Ks(e,u).next(p=>{const v=this.ei(n,p);return(Ja(n)||ha(n))&&this.ni(n.limitType,v,u,o)?this.ti(e,n):(_o()<=we.in.DEBUG&&jt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ku(n)),this.Zs.Qs(e,n,Sa(o,-1)).next(O=>(v.forEach($=>{O=O.insert($.key,$)}),O)))});var p}ei(e,n){let o=new Dr(zc(e));return n.forEach((u,p)=>{gu(e,p)&&(o=o.add(p))}),o}ni(e,n,o,u){if(o.size!==n.size)return!0;const p="F"===e?n.last():n.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}ti(e,n){return _o()<=we.in.DEBUG&&jt("QueryEngine","Using full collection scan to execute query:",Ku(n)),this.Zs.Qs(e,n,Ns.min())}}class lg{constructor(e,n,o,u){this.persistence=e,this.si=n,this.M=u,this.ii=new pn(U),this.ri=new fn(p=>bo(p),Ya),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(o)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new jm(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ii))}}function cg(i,e,n,o){return new lg(i,e,n,o)}function ah(i,e){return dg.apply(this,arguments)}function dg(){return dg=(0,c.Z)(function*(i,e){const n=$t(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.Bs.getAllMutationBatches(o).next(p=>(u=p,n.ai(e),n.Bs.getAllMutationBatches(o))).next(p=>{const v=[],O=[];let $=Nr();for(const q of u){v.push(q.batchId);for(const be of q.mutations)$=$.add(be.key)}for(const q of p){O.push(q.batchId);for(const be of q.mutations)$=$.add(be.key)}return n.ci.Ks(o,$).next(q=>({hi:q,removedBatchIds:v,addedBatchIds:O}))})})}),dg.apply(this,arguments)}function j_(i,e){const n=$t(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),p=n.ui.newChangeBuffer({trackRemovals:!0});return function(v,O,$,q){const be=$.batch,Be=be.keys();let ft=_t.resolve();return Be.forEach(Lt=>{ft=ft.next(()=>q.getEntry(O,Lt)).next(Bt=>{const bn=$.docVersions.get(Lt);Un(null!==bn),Bt.version.compareTo(bn)<0&&(be.applyToRemoteDocument(Bt,$),Bt.isValidDocument()&&(Bt.setReadTime($.commitVersion),q.addEntry(Bt)))})}),ft.next(()=>v.Bs.removeMutationBatch(O,be))}(n,o,e,p).next(()=>p.apply(o)).next(()=>n.Bs.performConsistencyCheck(o)).next(()=>n.ci.Ks(o,u))})}function $m(i){const e=$t(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function $_(i,e){const n=$t(i),o=e.snapshotVersion;let u=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const v=n.ui.newChangeBuffer({trackRemovals:!0});u=n.ii;const O=[];e.targetChanges.forEach((q,be)=>{const Be=u.get(be);if(!Be)return;O.push(n.fs.removeMatchingKeys(p,q.removedDocuments,be).next(()=>n.fs.addMatchingKeys(p,q.addedDocuments,be)));let ft=Be.withSequenceNumber(p.currentSequenceNumber);var Lt,Bt,bn;e.targetMismatches.has(be)?ft=ft.withResumeToken(Ur.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):q.resumeToken.approximateByteSize()>0&&(ft=ft.withResumeToken(q.resumeToken,o)),u=u.insert(be,ft),Bt=ft,bn=q,(0===(Lt=Be).resumeToken.approximateByteSize()||Bt.snapshotVersion.toMicroseconds()-Lt.snapshotVersion.toMicroseconds()>=3e8||bn.addedDocuments.size+bn.modifiedDocuments.size+bn.removedDocuments.size>0)&&O.push(n.fs.updateTargetData(p,ft))});let $=oo();if(e.documentUpdates.forEach(q=>{e.resolvedLimboDocuments.has(q)&&O.push(n.persistence.referenceDelegate.updateLimboDocument(p,q))}),O.push(Hm(p,v,e.documentUpdates).next(q=>{$=q})),!o.isEqual(Je.min())){const q=n.fs.getLastRemoteSnapshotVersion(p).next(be=>n.fs.setTargetsMetadata(p,p.currentSequenceNumber,o));O.push(q)}return _t.waitFor(O).next(()=>v.apply(p)).next(()=>n.ci.Gs(p,$)).next(()=>$)}).then(p=>(n.ii=u,p))}function Hm(i,e,n){let o=Nr();return n.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let p=oo();return n.forEach((v,O)=>{const $=u.get(v);O.isNoDocument()&&O.version.isEqual(Je.min())?(e.removeEntry(v,O.readTime),p=p.insert(v,O)):!$.isValidDocument()||O.version.compareTo($.version)>0||0===O.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(O),p=p.insert(v,O)):jt("LocalStore","Ignoring outdated watch update for ",v,". Current version:",$.version," Watch version:",O.version)}),p})}function H_(i,e){const n=$t(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(o,e)))}function ld(i,e){const n=$t(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.fs.getTargetData(o,e).next(p=>p?(u=p,_t.resolve(u)):n.fs.allocateTargetId(o).next(v=>(u=new pe(e,v,0,o.currentSequenceNumber),n.fs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.ii.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ii=n.ii.insert(o.targetId,o),n.ri.set(e,o.targetId)),o})}function cd(i,e,n){return hg.apply(this,arguments)}function hg(){return hg=(0,c.Z)(function*(i,e,n){const o=$t(i),u=o.ii.get(e),p=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",p,v=>o.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!al(v))throw v;jt("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.ii=o.ii.remove(e),o.ri.delete(u.target)}),hg.apply(this,arguments)}function Df(i,e,n){const o=$t(i);let u=Je.min(),p=Nr();return o.persistence.runTransaction("Execute query","readonly",v=>function(O,$,q){const be=$t(O),Be=be.ri.get(q);return void 0!==Be?_t.resolve(be.ii.get(Be)):be.fs.getTargetData($,q)}(o,v,Fi(e)).next(O=>{if(O)return u=O.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(v,O.targetId).next($=>{p=$})}).next(()=>o.si.Qs(v,e,n?u:Je.min(),n?p:Nr())).next(O=>(fg(o,Gc(e),O),{documents:O,li:p})))}function Tu(i,e){const n=$t(i),o=$t(n.fs),u=n.ii.get(e);return u?Promise.resolve(u.target):n.persistence.runTransaction("Get target data","readonly",p=>o.Et(p,e).next(v=>v?v.target:null))}function uh(i,e){const n=$t(i),o=n.oi.get(e)||Je.min();return n.persistence.runTransaction("Get new document changes","readonly",u=>n.ui.getAllFromCollectionGroup(u,e,Sa(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(fg(n,e,u),u))}function fg(i,e,n){let o=Je.min();n.forEach((u,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),i.oi.set(e,o)}function dd(){return dd=(0,c.Z)(function*(i,e,n,o){const u=$t(i);let p=Nr(),v=oo();for(const q of n){const be=e.fi(q.metadata.name);q.document&&(p=p.add(be));const Be=e.di(q);Be.setReadTime(e._i(q.metadata.readTime)),v=v.insert(be,Be)}const O=u.ui.newChangeBuffer({trackRemovals:!0}),$=yield ld(u,(q=o,Fi(da(vn.fromString(`__bundle__/docs/${q}`)))));var q;return u.persistence.runTransaction("Apply bundle documents","readwrite",q=>Hm(q,O,v).next(be=>(O.apply(q),be)).next(be=>u.fs.removeMatchingKeysForTargetId(q,$.targetId).next(()=>u.fs.addMatchingKeys(q,p,$.targetId)).next(()=>u.ci.Gs(q,be)).next(()=>be)))}),dd.apply(this,arguments)}function gg(i,e){return hd.apply(this,arguments)}function hd(){return hd=(0,c.Z)(function*(i,e,n=Nr()){const o=yield ld(i,Fi(dr(e.bundledQuery))),u=$t(i);return u.persistence.runTransaction("Save named query","readwrite",p=>{const v=Rr(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return u._s.saveNamedQuery(p,e);const O=o.withResumeToken(Ur.EMPTY_BYTE_STRING,v);return u.ii=u.ii.insert(O.targetId,O),u.fs.updateTargetData(p,O).next(()=>u.fs.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>u.fs.addMatchingKeys(p,n,o.targetId)).next(()=>u._s.saveNamedQuery(p,e))})}),hd.apply(this,arguments)}class Gm{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,n){return _t.resolve(this.wi.get(n))}saveBundleMetadata(e,n){var o;return this.wi.set(n.id,{id:(o=n).id,version:o.version,createTime:Rr(o.createTime)}),_t.resolve()}getNamedQuery(e,n){return _t.resolve(this.mi.get(n))}saveNamedQuery(e,n){return this.mi.set(n.name,{name:(o=n).name,query:dr(o.bundledQuery),readTime:Rr(o.readTime)}),_t.resolve();var o}}class dl{constructor(){this.overlays=new pn(tn.comparator),this.gi=new Map}getOverlay(e,n){return _t.resolve(this.overlays.get(n))}saveOverlays(e,n,o){return o.forEach((u,p)=>{this.Xt(e,n,p)}),_t.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.gi.get(o);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.gi.delete(o)),_t.resolve()}getOverlaysForCollection(e,n,o){const u=tu(),p=n.length+1,v=new tn(n.child("")),O=this.overlays.getIteratorFrom(v);for(;O.hasNext();){const $=O.getNext().value,q=$.getKey();if(!n.isPrefixOf(q.path))break;q.path.length===p&&$.largestBatchId>o&&u.set($.getKey(),$)}return _t.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let p=new pn((q,be)=>q-be);const v=this.overlays.getIterator();for(;v.hasNext();){const q=v.getNext().value;if(q.getKey().getCollectionGroup()===n&&q.largestBatchId>o){let be=p.get(q.largestBatchId);null===be&&(be=tu(),p=p.insert(q.largestBatchId,be)),be.set(q.getKey(),q)}}const O=tu(),$=p.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((q,be)=>O.set(q,be)),!(O.size()>=u)););return _t.resolve(O)}Xt(e,n,o){if(null===o)return;const u=this.overlays.get(o.key);if(null!==u){const v=this.gi.get(u.largestBatchId).delete(o.key);this.gi.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new ce(n,o));let p=this.gi.get(n);void 0===p&&(p=Nr(),this.gi.set(n,p)),this.gi.set(n,p.add(o.key))}}class lh{constructor(){this.yi=new Dr(Rs.pi),this.Ii=new Dr(Rs.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,n){const o=new Rs(e,n);this.yi=this.yi.add(o),this.Ii=this.Ii.add(o)}Ei(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.Ai(new Rs(e,n))}Ri(e,n){e.forEach(o=>this.removeReference(o,n))}Pi(e){const n=new tn(new vn([])),o=new Rs(n,e),u=new Rs(n,e+1),p=[];return this.Ii.forEachInRange([o,u],v=>{this.Ai(v),p.push(v.key)}),p}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const n=new tn(new vn([])),o=new Rs(n,e),u=new Rs(n,e+1);let p=Nr();return this.Ii.forEachInRange([o,u],v=>{p=p.add(v.key)}),p}containsKey(e){const n=new Rs(e,0),o=this.yi.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Rs{constructor(e,n){this.key=e,this.vi=n}static pi(e,n){return tn.comparator(e.key,n.key)||U(e.vi,n.vi)}static Ti(e,n){return U(e.vi,n.vi)||tn.comparator(e.key,n.key)}}class Cf{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Dr(Rs.pi)}checkEmpty(e){return _t.resolve(0===this.Bs.length)}addMutationBatch(e,n,o,u){const p=this.Si;this.Si++;const v=new k(p,n,o,u);this.Bs.push(v);for(const O of u)this.Di=this.Di.add(new Rs(O.key,p)),this.indexManager.addToCollectionParentIndex(e,O.key.path.popLast());return _t.resolve(v)}lookupMutationBatch(e,n){return _t.resolve(this.Ci(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.xi(n+1),p=u<0?0:u;return _t.resolve(this.Bs.length>p?this.Bs[p]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return _t.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Rs(n,0),u=new Rs(n,Number.POSITIVE_INFINITY),p=[];return this.Di.forEachInRange([o,u],v=>{const O=this.Ci(v.vi);p.push(O)}),_t.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Dr(U);return n.forEach(u=>{const p=new Rs(u,0),v=new Rs(u,Number.POSITIVE_INFINITY);this.Di.forEachInRange([p,v],O=>{o=o.add(O.vi)})}),_t.resolve(this.Ni(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let p=o;tn.isDocumentKey(p)||(p=p.child(""));const v=new Rs(new tn(p),0);let O=new Dr(U);return this.Di.forEachWhile($=>{const q=$.key.path;return!!o.isPrefixOf(q)&&(q.length===u&&(O=O.add($.vi)),!0)},v),_t.resolve(this.Ni(O))}Ni(e){const n=[];return e.forEach(o=>{const u=this.Ci(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Un(0===this.ki(n.batchId,"removed")),this.Bs.shift();let o=this.Di;return _t.forEach(n.mutations,u=>{const p=new Rs(u.key,n.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Di=o})}_n(e){}containsKey(e,n){const o=new Rs(n,0),u=this.Di.firstAfterOrEqual(o);return _t.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return _t.resolve()}ki(e,n){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const n=this.xi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class zm{constructor(e){this.Mi=e,this.docs=new pn(tn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),p=u?u.size:0,v=this.Mi(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:v}),this.size+=v-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return _t.resolve(o?o.document.mutableCopy():ei.newInvalidDocument(n))}getEntries(e,n){let o=oo();return n.forEach(u=>{const p=this.docs.get(u);o=o.insert(u,p?p.document.mutableCopy():ei.newInvalidDocument(u))}),_t.resolve(o)}getAllFromCollection(e,n,o){let u=oo();const p=new tn(n.child("")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:O,value:{document:$}}=v.getNext();if(!n.isPrefixOf(O.path))break;O.path.length>n.length+1||Hu($u($),o)<=0||(u=u.insert($.key,$.mutableCopy()))}return _t.resolve(u)}getAllFromCollectionGroup(e,n,o,u){yn()}Oi(e,n){return _t.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new mg(this)}getSize(e){return _t.resolve(this.size)}}class mg extends Bm{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Kn.addEntry(e,u)):this.Kn.removeEntry(o)}),_t.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class Wm{constructor(e){this.persistence=e,this.Fi=new fn(n=>bo(n),Ya),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.$i=0,this.Bi=new lh,this.targetCount=0,this.Li=tr.gn()}forEachTarget(e,n){return this.Fi.forEach((o,u)=>n(u)),_t.resolve()}getLastRemoteSnapshotVersion(e){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _t.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.$i&&(this.$i=n),_t.resolve()}Tn(e){this.Fi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Li=new tr(n),this.highestTargetId=n),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,_t.resolve()}updateTargetData(e,n){return this.Tn(n),_t.resolve()}removeTargetData(e,n){return this.Fi.delete(n.target),this.Bi.Pi(n.targetId),this.targetCount-=1,_t.resolve()}removeTargets(e,n,o){let u=0;const p=[];return this.Fi.forEach((v,O)=>{O.sequenceNumber<=n&&null===o.get(O.targetId)&&(this.Fi.delete(v),p.push(this.removeMatchingKeysForTargetId(e,O.targetId)),u++)}),_t.waitFor(p).next(()=>u)}getTargetCount(e){return _t.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fi.get(n)||null;return _t.resolve(o)}addMatchingKeys(e,n,o){return this.Bi.Ei(n,o),_t.resolve()}removeMatchingKeys(e,n,o){this.Bi.Ri(n,o);const u=this.persistence.referenceDelegate,p=[];return u&&n.forEach(v=>{p.push(u.markPotentiallyOrphaned(e,v))}),_t.waitFor(p)}removeMatchingKeysForTargetId(e,n){return this.Bi.Pi(n),_t.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Bi.Vi(n);return _t.resolve(o)}containsKey(e,n){return _t.resolve(this.Bi.containsKey(n))}}class Km{constructor(e,n){this.Ui={},this.overlays={},this.es=new I(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Wm(this),this.indexManager=new Is,this.ds=new zm(o=>this.referenceDelegate.qi(o)),this.M=new ke(n),this._s=new Gm(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dl,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Ui[e.toKey()];return o||(o=new Cf(n,this.referenceDelegate),this.Ui[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,o){jt("MemoryPersistence","Starting transaction:",e);const u=new fd(this.es.next());return this.referenceDelegate.Ki(),o(u).next(p=>this.referenceDelegate.Gi(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Qi(e,n){return _t.or(Object.values(this.Ui).map(o=>()=>o.containsKey(e,n)))}}class fd extends Jp{constructor(e){super(),this.currentSequenceNumber=e}}class hl{constructor(e){this.persistence=e,this.ji=new lh,this.Wi=null}static zi(e){return new hl(e)}get Hi(){if(this.Wi)return this.Wi;throw yn()}addReference(e,n,o){return this.ji.addReference(o,n),this.Hi.delete(o.toString()),_t.resolve()}removeReference(e,n,o){return this.ji.removeReference(o,n),this.Hi.add(o.toString()),_t.resolve()}markPotentiallyOrphaned(e,n){return this.Hi.add(n.toString()),_t.resolve()}removeTarget(e,n){this.ji.Pi(n.targetId).forEach(u=>this.Hi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(p=>this.Hi.add(p.toString()))}).next(()=>o.removeTargetData(e,n))}Ki(){this.Wi=new Set}Gi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.Hi,o=>{const u=tn.fromPath(o);return this.Ji(e,u).next(p=>{p||n.removeEntry(u,Je.min())})}).next(()=>(this.Wi=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ji(e,n).next(o=>{o?this.Hi.delete(n.toString()):this.Hi.add(n.toString())})}qi(e){return 0}Ji(e,n){return _t.or([()=>_t.resolve(this.ji.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Qi(e,n)])}}function ch(i,e){return`firestore_clients_${i}_${e}`}function Zl(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Yl(i,e){return`firestore_targets_${i}_${e}`}class Du{constructor(e,n,o,u){this.user=e,this.batchId=n,this.state=o,this.error=u}static Yi(e,n,o){const u=JSON.parse(o);let p,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(p=new Ot(u.error.code,u.error.message))),v?new Du(e,n,u.state,p):(Fr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pd{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Yi(e,n){const o=JSON.parse(n);let u,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(u=new Ot(o.error.code,o.error.message))),p?new pd(e,o.state,u):(Fr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gd{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Yi(e,n){const o=JSON.parse(n);let u="object"==typeof o&&o.activeTargetIds instanceof Array,p=nl();for(let v=0;u&&v<o.activeTargetIds.length;++v)u=Bc(o.activeTargetIds[v]),p=p.add(o.activeTargetIds[v]);return u?new gd(e,p):(Fr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class dh{constructor(e,n){this.clientId=e,this.onlineState=n}static Yi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new dh(n.clientId,n.onlineState):(Fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class md{constructor(){this.activeTargetIds=nl()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yd{constructor(e,n,o,u,p){this.window=e,this.Yn=n,this.persistenceKey=o,this.er=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new pn(U),this.started=!1,this.rr=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ur=ch(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new md),this.cr=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(O){return`firestore_bundle_loaded_v2_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.Z)(function*(){const n=yield e.syncEngine.Fs();for(const u of n){if(u===e.er)continue;const p=e.getItem(ch(e.persistenceKey,u));if(p){const v=gd.Yi(u,p);v&&(e.ir=e.ir.insert(v.clientId,v))}}e.wr();const o=e.storage.getItem(e.dr);if(o){const u=e.mr(o);u&&e.gr(u)}for(const u of e.rr)e.sr(u);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let n=!1;return this.ir.forEach((o,u)=>{u.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,n,o){this.pr(e,n,o),this.Ir(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Yl(this.persistenceKey,e));if(o){const u=pd.Yi(e,o);u&&(n=u.state)}}return this.Tr.Zi(e),this.wr(),n}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Yl(this.persistenceKey,e))}updateQueryState(e,n,o){this.Er(e,n,o)}handleUserChange(e,n,o){n.forEach(u=>{this.Ir(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return jt("SharedClientState","READ",e,n),n}setItem(e,n){jt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){jt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(jt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ur)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,c.Z)(function*(){if(n.started){if(null!==o.key)if(n.cr.test(o.key)){if(null==o.newValue){const u=n.Pr(o.key);return n.br(u,null)}{const u=n.Vr(o.key,o.newValue);if(u)return n.br(u.clientId,u)}}else if(n.hr.test(o.key)){if(null!==o.newValue){const u=n.vr(o.key,o.newValue);if(u)return n.Sr(u)}}else if(n.lr.test(o.key)){if(null!==o.newValue){const u=n.Dr(o.key,o.newValue);if(u)return n.Cr(u)}}else if(o.key===n.dr){if(null!==o.newValue){const u=n.mr(o.newValue);if(u)return n.gr(u)}}else if(o.key===n.ar){const u=function(p){let v=I.A;if(null!=p)try{const O=JSON.parse(p);Un("number"==typeof O),v=O}catch(O){Fr("SharedClientState","Failed to read sequence number from WebStorage",O)}return v}(o.newValue);u!==I.A&&n.sequenceNumberHandler(u)}else if(o.key===n._r){const u=n.Nr(o.newValue);yield Promise.all(u.map(p=>n.syncEngine.kr(p)))}}else n.rr.push(o)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,n,o){const u=new Du(this.currentUser,e,n,o),p=Zl(this.persistenceKey,this.currentUser,e);this.setItem(p,u.Xi())}Ir(e){const n=Zl(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,n,o){const u=Yl(this.persistenceKey,e),p=new pd(e,n,o);this.setItem(u,p.Xi())}Rr(e){const n=JSON.stringify(Array.from(e));this.setItem(this._r,n)}Pr(e){const n=this.cr.exec(e);return n?n[1]:null}Vr(e,n){const o=this.Pr(e);return gd.Yi(o,n)}vr(e,n){const o=this.hr.exec(e),u=Number(o[1]);return Du.Yi(new oi(void 0!==o[2]?o[2]:null),u,n)}Dr(e,n){const o=this.lr.exec(e),u=Number(o[1]);return pd.Yi(u,n)}mr(e){return dh.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var n=this;return(0,c.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Mr(e.batchId,e.state,e.error);jt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,n){const o=n?this.ir.insert(e,n):this.ir.remove(e),u=this.yr(this.ir),p=this.yr(o),v=[],O=[];return p.forEach($=>{u.has($)||v.push($)}),u.forEach($=>{p.has($)||O.push($)}),this.syncEngine.Fr(v,O).then(()=>{this.ir=o})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let n=nl();return e.forEach((o,u)=>{n=n.unionWith(u.activeTargetIds)}),n}}class Af{constructor(){this.$r=new md,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,n,o){this.Br[e]=n}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new md,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hh{Lr(e){}shutdown(){}}class yg{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){jt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){jt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _g={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class G_{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class vg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,n,o,u,p){const v=this.uo(e,n);jt("RestConnection","Sending: ",v,o);const O={};return this.ao(O,u,p),this.co(e,v,O,o).then($=>(jt("RestConnection","Received: ",$),$),$=>{throw eo("RestConnection",`${e} failed with error: `,$,"url: ",v,"request:",o),$})}ho(e,n,o,u,p){return this.oo(e,n,o,u,p)}ao(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+mo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,p)=>e[p]=u),o&&o.headers.forEach((u,p)=>e[p]=u)}uo(e,n){return`${this.io}/v1/${n}:${_g[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,o,u){return new Promise((p,v)=>{const O=new Lu;O.listenOnce(Fu.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case yi.NO_ERROR:const q=O.getResponseJson();jt("Connection","XHR received:",JSON.stringify(q)),p(q);break;case yi.TIMEOUT:jt("Connection",'RPC "'+e+'" timed out'),v(new Ot(ht.DEADLINE_EXCEEDED,"Request time out"));break;case yi.HTTP_ERROR:const be=O.getStatus();if(jt("Connection",'RPC "'+e+'" failed with status:',be,"response text:",O.getResponseText()),be>0){const Be=O.getResponseJson().error;if(Be&&Be.status&&Be.message){const ft=function(Lt){const Bt=Lt.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(Bt)>=0?Bt:ht.UNKNOWN}(Be.status);v(new Ot(ft,Be.message))}else v(new Ot(ht.UNKNOWN,"Server responded with status "+O.getStatus()))}else v(new Ot(ht.UNAVAILABLE,"Connection failed."));break;default:yn()}}finally{jt("Connection",'RPC "'+e+'" completed.')}});const $=JSON.stringify(u);O.send(n,"POST",$,o,15)})}lo(e,n,o){const u=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Es(),v=jo(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(O.xmlHttpFactory=new Xs({})),this.ao(O.initMessageHeaders,n,o),(0,Te.uI)()||(0,Te.b$)()||(0,Te.d)()||(0,Te.w1)()||(0,Te.Mn)()||(0,Te.ru)()||(O.httpHeadersOverwriteParam="$httpHeaders");const $=u.join("");jt("Connection","Creating WebChannel: "+$,O);const q=p.createWebChannel($,O);let be=!1,Be=!1;const ft=new G_({Wr:Bt=>{Be?jt("Connection","Not sending because WebChannel is closed:",Bt):(be||(jt("Connection","Opening WebChannel transport."),q.open(),be=!0),jt("Connection","WebChannel sending:",Bt),q.send(Bt))},zr:()=>q.close()}),Lt=(Bt,bn,lr)=>{Bt.listen(bn,Vi=>{try{lr(Vi)}catch(hs){setTimeout(()=>{throw hs},0)}})};return Lt(q,zs.EventType.OPEN,()=>{Be||jt("Connection","WebChannel transport opened.")}),Lt(q,zs.EventType.CLOSE,()=>{Be||(Be=!0,jt("Connection","WebChannel transport closed"),ft.no())}),Lt(q,zs.EventType.ERROR,Bt=>{Be||(Be=!0,eo("Connection","WebChannel transport errored:",Bt),ft.no(new Ot(ht.UNAVAILABLE,"The operation could not be completed")))}),Lt(q,zs.EventType.MESSAGE,Bt=>{var bn;if(!Be){const lr=Bt.data[0];Un(!!lr);const Vi=lr,hs=Vi.error||(null===(bn=Vi[0])||void 0===bn?void 0:bn.error);if(hs){jt("Connection","WebChannel received error:",hs);const Ui=hs.status;let co=function(zi){const Ao=G[zi];if(void 0!==Ao)return Ft(Ao)}(Ui),fs=hs.message;void 0===co&&(co=ht.INTERNAL,fs="Unknown error status: "+Ui+" with message "+hs.message),Be=!0,ft.no(new Ot(co,fs)),q.close()}else jt("Connection","WebChannel received:",lr),ft.so(lr)}}),Lt(v,ra.STAT_EVENT,Bt=>{Bt.stat===xs.PROXY?jt("Connection","Detected buffering proxy"):Bt.stat===xs.NOPROXY&&jt("Connection","Detected no buffering proxy")}),setTimeout(()=>{ft.eo()},0),ft}}function Sf(){return"undefined"!=typeof window?window:null}function fh(){return"undefined"!=typeof document?document:null}function Dc(i){return new ed(i,!0)}class Mf{constructor(e,n,o=1e3,u=1.5,p=6e4){this.Yn=e,this.timerId=n,this.fo=o,this._o=u,this.wo=p,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const n=Math.floor(this.mo+this.Eo()),o=Math.max(0,Date.now()-this.po),u=Math.max(0,n-o);u>0&&jt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.mo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,u,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class Eg{constructor(e,n,o,u,p,v,O,$){this.Yn=e,this.Ro=o,this.Po=u,this.bo=p,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=O,this.listener=$,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Mf(e,n)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,c.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,c.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,n){var o=this;return(0,c.Z)(function*(){o.$o(),o.Bo(),o.Do.cancel(),o.Vo++,4!==e?o.Do.reset():n&&n.code===ht.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),o.Do.Io()):n&&n.code===ht.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Lo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Yr(n)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Vo===n&&this.qo(o,u)},o=>{e(()=>{const u=new Ot(ht.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ko(u)})})}qo(e,n){const o=this.Uo(this.Vo);this.stream=this.Go(e,n),this.stream.Hr(()=>{o(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(u=>{o(()=>this.Ko(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}No(){var e=this;this.state=5,this.Do.To((0,c.Z)(function*(){e.state=0,e.start()}))}Ko(e){return jt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Yn.enqueueAndForget(()=>this.Vo===e?n():(jt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qo extends Eg{constructor(e,n,o,u,p,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,v),this.M=p}Go(e,n){return this.bo.lo("Listen",e,n)}onMessage(e){this.Do.reset();const n=function Bp(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:yn(),u=e.targetChange.targetIds||[],p=function($,q){return $.N?(Un(void 0===q||"string"==typeof q),Ur.fromBase64String(q||"")):(Un(void 0===q||q instanceof Uint8Array),Ur.fromUint8Array(q||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,O=v&&function($){const q=void 0===$.code?ht.UNKNOWN:Ft($.code);return new Ot(q,$.message||"")}(v);n=new Jh(o,u,p,O||null)}else if("documentChange"in e){const o=e.documentChange,u=ai(i,o.document.name),p=Rr(o.document.updateTime),v=new Pi({mapValue:{fields:o.document.fields}}),O=ei.newFoundDocument(u,p,v);n=new vi(o.targetIds||[],o.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const o=e.documentDelete,u=ai(i,o.document),p=o.readTime?Rr(o.readTime):Je.min(),v=ei.newNoDocument(u,p);n=new vi([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,u=ai(i,o.document);n=new vi([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return yn();{const o=e.filter,p=new S(o.count||0);n=new Kd(o.targetId,p)}}var $;return n}(this.M,e),o=function(u){if(!("targetChange"in u))return Je.min();const p=u.targetChange;return p.targetIds&&p.targetIds.length?Je.min():p.readTime?Rr(p.readTime):Je.min()}(e);return this.listener.Qo(n,o)}jo(e){const n={};n.database=Ec(this.M),n.addTarget=function(u,p){let v;const O=p.target;return v=Qa(O)?{documents:uf(u,O)}:{query:nd(u,O)},v.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?v.resumeToken=rf(u,p.resumeToken):p.snapshotVersion.compareTo(Je.min())>0&&(v.readTime=Bl(u,p.snapshotVersion.toTimestamp())),v}(this.M,e);const o=function $p(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yn()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Fo(n)}Wo(e){const n={};n.database=Ec(this.M),n.removeTarget=e,this.Fo(n)}}class qm extends Eg{constructor(e,n,o,u,p,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,v),this.M=p,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,n){return this.bo.lo("Write",e,n)}onMessage(e){if(Un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const n=function jp(i,e){return i&&i.length>0?(Un(void 0!==e),i.map(n=>function(o,u){let p=Rr(o.updateTime?o.updateTime:u);return p.isEqual(Je.min())&&(p=Rr(u)),new ma(p,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Rr(e.commitTime);return this.listener.Yo(o,n)}return Un(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Ec(this.M),this.Fo(e)}Jo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>$l(this.M,o))};this.Fo(n)}}class Zm extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=o,this.M=u,this.tu=!1}eu(){if(this.tu)throw new Ot(ht.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,n,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.bo.oo(e,n,o,u,p)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ot(ht.UNKNOWN,u.toString())})}ho(e,n,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.bo.ho(e,n,o,u,p)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ot(ht.UNKNOWN,u.toString())})}terminate(){this.tu=!0}}class z_{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Fr(n),this.iu=!1):jt("OnlineStateTracker",n)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class W_{constructor(e,n,o,u,p){var v=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=p,this._u.Lr(O=>{o.enqueueAndForget((0,c.Z)(function*(){var $;Cu(v)&&(jt("RemoteStore","Restarting streams for network reachability change."),yield($=(0,c.Z)(function*(q){const be=$t(q);be.fu.add(4),yield Ac(be),be.wu.set("Unknown"),be.fu.delete(4),yield Cc(be)}),function(q){return $.apply(this,arguments)})(v))}))}),this.wu=new z_(o,u)}}function Cc(i){return wg.apply(this,arguments)}function wg(){return wg=(0,c.Z)(function*(i){if(Cu(i))for(const e of i.du)yield e(!0)}),wg.apply(this,arguments)}function Ac(i){return _d.apply(this,arguments)}function _d(){return _d=(0,c.Z)(function*(i){for(const e of i.du)yield e(!1)}),_d.apply(this,arguments)}function vd(i,e){const n=$t(i);n.lu.has(e.targetId)||(n.lu.set(e.targetId,e),xf(n)?ph(n):Jl(n).xo()&&Of(n,e))}function Ed(i,e){const n=$t(i),o=Jl(n);n.lu.delete(e),o.xo()&&bg(n,e),0===n.lu.size&&(o.xo()?o.Mo():Cu(n)&&n.wu.set("Unknown"))}function Of(i,e){i.mu.Z(e.targetId),Jl(i).jo(e)}function bg(i,e){i.mu.Z(e),Jl(i).Wo(e)}function ph(i){i.mu=new Xh({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.lu.get(e)||null}),Jl(i).start(),i.wu.ru()}function xf(i){return Cu(i)&&!Jl(i).Co()&&i.lu.size>0}function Cu(i){return 0===$t(i).fu.size}function Ig(i){i.mu=void 0}function Ym(i){return gh.apply(this,arguments)}function gh(){return gh=(0,c.Z)(function*(i){i.lu.forEach((e,n)=>{Of(i,e)})}),gh.apply(this,arguments)}function Tg(i,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,c.Z)(function*(i,e){Ig(i),xf(i)?(i.wu.au(e),ph(i)):i.wu.set("Unknown")}),Nf.apply(this,arguments)}function su(i,e,n){return wd.apply(this,arguments)}function wd(){return wd=(0,c.Z)(function*(i,e,n){if(i.wu.set("Online"),e instanceof Jh&&2===e.state&&e.cause)try{yield(o=(0,c.Z)(function*(u,p){const v=p.cause;for(const O of p.targetIds)u.lu.has(O)&&(yield u.remoteSyncer.rejectListen(O,v),u.lu.delete(O),u.mu.removeTarget(O))}),function(u,p){return o.apply(this,arguments)})(i,e)}catch(o){jt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield mh(i,o)}else if(e instanceof vi?i.mu.ut(e):e instanceof Kd?i.mu._t(e):i.mu.ht(e),!n.isEqual(Je.min()))try{const o=yield $m(i.localStore);n.compareTo(o)>=0&&(yield function(u,p){const v=u.mu.yt(p);return v.targetChanges.forEach((O,$)=>{if(O.resumeToken.approximateByteSize()>0){const q=u.lu.get($);q&&u.lu.set($,q.withResumeToken(O.resumeToken,p))}}),v.targetMismatches.forEach(O=>{const $=u.lu.get(O);if(!$)return;u.lu.set(O,$.withResumeToken(Ur.EMPTY_BYTE_STRING,$.snapshotVersion)),bg(u,O);const q=new pe($.target,O,1,$.sequenceNumber);Of(u,q)}),u.remoteSyncer.applyRemoteEvent(v)}(i,n))}catch(o){jt("RemoteStore","Failed to raise snapshot:",o),yield mh(i,o)}var o}),wd.apply(this,arguments)}function mh(i,e,n){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,c.Z)(function*(i,e,n){if(!al(e))throw e;i.fu.add(1),yield Ac(i),i.wu.set("Offline"),n||(n=()=>$m(i.localStore)),i.asyncQueue.enqueueRetryable((0,c.Z)(function*(){jt("RemoteStore","Retrying IndexedDB access"),yield n(),i.fu.delete(1),yield Cc(i)}))}),Rf.apply(this,arguments)}function Qm(i,e){return e().catch(n=>mh(i,n,e))}function Ql(i){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,c.Z)(function*(i){const e=$t(i),n=Au(e);let o=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Jm(e);)try{const u=yield H_(e.localStore,o);if(null===u){0===e.hu.length&&n.Mo();break}o=u.batchId,Xm(e,u)}catch(u){yield mh(e,u)}yh(e)&&Dg(e)}),Pf.apply(this,arguments)}function Jm(i){return Cu(i)&&i.hu.length<10}function Xm(i,e){i.hu.push(e);const n=Au(i);n.xo()&&n.Ho&&n.Jo(e.mutations)}function yh(i){return Cu(i)&&!Au(i).Co()&&i.hu.length>0}function Dg(i){Au(i).start()}function ey(i){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,c.Z)(function*(i){Au(i).Zo()}),Sc.apply(this,arguments)}function kf(i){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,c.Z)(function*(i){const e=Au(i);for(const n of i.hu)e.Jo(n.mutations)}),Ff.apply(this,arguments)}function Lf(i,e,n){return bd.apply(this,arguments)}function bd(){return bd=(0,c.Z)(function*(i,e,n){const o=i.hu.shift(),u=W.from(o,e,n);yield Qm(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Ql(i)}),bd.apply(this,arguments)}function Cg(i,e){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,c.Z)(function*(i,e){var n;e&&Au(i).Ho&&(yield(n=(0,c.Z)(function*(o,u){if(ot(p=u.code)&&p!==ht.ABORTED){const v=o.hu.shift();Au(o).ko(),yield Qm(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,u)),yield Ql(o)}var p}),function(o,u){return n.apply(this,arguments)})(i,e)),yh(i)&&Dg(i)}),Vf.apply(this,arguments)}function Ag(i,e){return Id.apply(this,arguments)}function Id(){return Id=(0,c.Z)(function*(i,e){const n=$t(i);n.asyncQueue.verifyOperationInProgress(),jt("RemoteStore","RemoteStore received new credentials");const o=Cu(n);n.fu.add(3),yield Ac(n),o&&n.wu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.fu.delete(3),yield Cc(n)}),Id.apply(this,arguments)}function Sg(i,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,c.Z)(function*(i,e){const n=$t(i);e?(n.fu.delete(2),yield Cc(n)):e||(n.fu.add(2),yield Ac(n),n.wu.set("Unknown"))}),Uf.apply(this,arguments)}function Jl(i){return i.gu||(i.gu=function(e,n,o){const u=$t(e);return u.eu(),new qo(n,u.bo,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Hr:Ym.bind(null,i),Yr:Tg.bind(null,i),Qo:su.bind(null,i)}),i.du.push(function(){var e=(0,c.Z)(function*(n){n?(i.gu.ko(),xf(i)?ph(i):i.wu.set("Unknown")):(yield i.gu.stop(),Ig(i))});return function(n){return e.apply(this,arguments)}}())),i.gu}function Au(i){return i.yu||(i.yu=function(e,n,o){const u=$t(e);return u.eu(),new qm(n,u.bo,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Hr:ey.bind(null,i),Yr:Cg.bind(null,i),Xo:kf.bind(null,i),Yo:Lf.bind(null,i)}),i.du.push(function(){var e=(0,c.Z)(function*(n){n?(i.yu.ko(),yield Ql(i)):(yield i.yu.stop(),i.hu.length>0&&(jt("RemoteStore",`Stopping write stream with ${i.hu.length} pending writes`),i.hu=[]))});return function(n){return e.apply(this,arguments)}}())),i.yu}class _h{constructor(e,n,o,u,p){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=p,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,n,o,u,p){const v=Date.now()+o,O=new _h(e,n,v,u,p);return O.start(o),O}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ot(ht.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xl(i,e){if(Fr("AsyncQueue",`${e}: ${i}`),al(i))return new Ot(ht.UNAVAILABLE,`${e}: ${i}`);throw i}class ec{constructor(e){this.comparator=e?(n,o)=>e(n,o)||tn.comparator(n.key,o.key):(n,o)=>tn.comparator(n.key,o.key),this.keyedMap=Ul(),this.sortedSet=new pn(this.comparator)}static emptySet(e){return new ec(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ec)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,p=o.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new ec;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class ou{constructor(){this.pu=new pn(tn.comparator)}track(e){const n=e.doc.key,o=this.pu.get(n);o?0!==e.type&&3===o.type?this.pu=this.pu.insert(n,e):3===e.type&&1!==o.type?this.pu=this.pu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.pu=this.pu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.pu=this.pu.remove(n):1===e.type&&2===o.type?this.pu=this.pu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):yn():this.pu=this.pu.insert(n,e)}Iu(){const e=[];return this.pu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Su{constructor(e,n,o,u,p,v,O,$){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=p,this.fromCache=v,this.syncStateChanged=O,this.excludesMetadataChanges=$}static fromInitialDocuments(e,n,o,u){const p=[];return n.forEach(v=>{p.push({type:0,doc:v})}),new Su(e,n,ec.emptySet(n),p,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class ty{constructor(){this.Tu=void 0,this.listeners=[]}}class ny{constructor(){this.queries=new fn(e=>Fl(e),Wu),this.onlineState="Unknown",this.Eu=new Set}}function Mg(i,e){return Td.apply(this,arguments)}function Td(){return Td=(0,c.Z)(function*(i,e){const n=$t(i),o=e.query;let u=!1,p=n.queries.get(o);if(p||(u=!0,p=new ty),u)try{p.Tu=yield n.onListen(o)}catch(v){const O=Xl(v,`Initialization of query '${Ku(e.query)}' failed`);return void e.onError(O)}n.queries.set(o,p),p.listeners.push(e),e.Au(n.onlineState),p.Tu&&e.Ru(p.Tu)&&Ad(n)}),Td.apply(this,arguments)}function vh(i,e){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,c.Z)(function*(i,e){const n=$t(i),o=e.query;let u=!1;const p=n.queries.get(o);if(p){const v=p.listeners.indexOf(e);v>=0&&(p.listeners.splice(v,1),u=0===p.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Dd.apply(this,arguments)}function Cd(i,e){const n=$t(i);let o=!1;for(const u of e){const v=n.queries.get(u.query);if(v){for(const O of v.listeners)O.Ru(u)&&(o=!0);v.Tu=u}}o&&Ad(n)}function ry(i,e,n){const o=$t(i),u=o.queries.get(e);if(u)for(const p of u.listeners)p.onError(n);o.queries.delete(e)}function Ad(i){i.Eu.forEach(e=>{e.next()})}class Eh{constructor(e,n,o){this.query=e,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}Ru(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Su(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),n=!0):this.Su(e,this.onlineState)&&(this.Du(e),n=!0),this.Vu=e,n}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let n=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),n=!0),n}Su(e,n){return!e.fromCache||!(this.options.Cu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=Su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class Og{constructor(e,n){this.payload=e,this.byteLength=n}xu(){return"metadata"in this.payload}}class Bf{constructor(e){this.M=e}fi(e){return ai(this.M,e)}di(e){return e.metadata.exists?of(this.M,e.document,!1):ei.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return Rr(e)}}class iy{constructor(e,n,o){this.Nu=e,this.localStore=n,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wh(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=vn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Mu(e){const n=new Map,o=new Bf(this.M);for(const u of e)if(u.metadata.queries){const p=o.fi(u.metadata.name);for(const v of u.metadata.queries){const O=(n.get(v)||Nr()).add(p);n.set(v,O)}}return n}complete(){var e=this;return(0,c.Z)(function*(){const n=yield function pg(i,e,n,o){return dd.apply(this,arguments)}(e.localStore,new Bf(e.M),e.documents,e.Nu.id),o=e.Mu(e.documents);for(const u of e.queries)yield gg(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:n}})()}}function wh(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class xg{constructor(e){this.key=e}}class Ng{constructor(e){this.key=e}}class jf{constructor(e,n){this.query=e,this.$u=n,this.Bu=null,this.current=!1,this.Lu=Nr(),this.mutatedKeys=Nr(),this.Uu=zc(e),this.qu=new ec(this.Uu)}get Ku(){return this.$u}Gu(e,n){const o=n?n.Qu:new ou,u=n?n.qu:this.qu;let p=n?n.mutatedKeys:this.mutatedKeys,v=u,O=!1;const $=Ja(this.query)&&u.size===this.query.limit?u.last():null,q=ha(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((be,Be)=>{const ft=u.get(be),Lt=gu(this.query,Be)?Be:null,Bt=!!ft&&this.mutatedKeys.has(ft.key),bn=!!Lt&&(Lt.hasLocalMutations||this.mutatedKeys.has(Lt.key)&&Lt.hasCommittedMutations);let lr=!1;ft&&Lt?ft.data.isEqual(Lt.data)?Bt!==bn&&(o.track({type:3,doc:Lt}),lr=!0):this.ju(ft,Lt)||(o.track({type:2,doc:Lt}),lr=!0,($&&this.Uu(Lt,$)>0||q&&this.Uu(Lt,q)<0)&&(O=!0)):!ft&&Lt?(o.track({type:0,doc:Lt}),lr=!0):ft&&!Lt&&(o.track({type:1,doc:ft}),lr=!0,($||q)&&(O=!0)),lr&&(Lt?(v=v.add(Lt),p=bn?p.add(be):p.delete(be)):(v=v.delete(be),p=p.delete(be)))}),Ja(this.query)||ha(this.query))for(;v.size>this.query.limit;){const be=Ja(this.query)?v.last():v.first();v=v.delete(be.key),p=p.delete(be.key),o.track({type:1,doc:be})}return{qu:v,Qu:o,ni:O,mutatedKeys:p}}ju(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const p=e.Qu.Iu();p.sort((q,be)=>function(Be,ft){const Lt=Bt=>{switch(Bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yn()}};return Lt(Be)-Lt(ft)}(q.type,be.type)||this.Uu(q.doc,be.doc)),this.Wu(o);const v=n?this.zu():[],O=0===this.Lu.size&&this.current?1:0,$=O!==this.Bu;return this.Bu=O,0!==p.length||$?{snapshot:new Su(this.query,e.qu,u,p,e.mutatedKeys,0===O,$,!1),Hu:v}:{Hu:v}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new ou,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(n=>this.$u=this.$u.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.$u=this.$u.delete(n)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Nr(),this.qu.forEach(o=>{this.Ju(o.key)&&(this.Lu=this.Lu.add(o.key))});const n=[];return e.forEach(o=>{this.Lu.has(o)||n.push(new Ng(o))}),this.Lu.forEach(o=>{e.has(o)||n.push(new xg(o))}),n}Yu(e){this.$u=e.li,this.Lu=Nr();const n=this.Gu(e.documents);return this.applyChanges(n,!0)}Xu(){return Su.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Mc{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Rg{constructor(e){this.key=e,this.Zu=!1}}class sy{constructor(e,n,o,u,p,v){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=v,this.ta={},this.ea=new fn(O=>Fl(O),Wu),this.na=new Map,this.sa=new Set,this.ia=new pn(tn.comparator),this.ra=new Map,this.oa=new lh,this.ua={},this.aa=new Map,this.ca=tr.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function oy(i,e){return fl.apply(this,arguments)}function fl(){return fl=(0,c.Z)(function*(i,e){const n=pl(i);let o,u;const p=n.ea.get(e);if(p)o=p.targetId,n.sharedClientState.addLocalQueryTarget(o),u=p.view.Xu();else{const v=yield ld(n.localStore,Fi(e));n.isPrimaryClient&&vd(n.remoteStore,v);const O=n.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,u=yield $f(n,e,o,"current"===O)}return u}),fl.apply(this,arguments)}function $f(i,e,n,o){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,c.Z)(function*(i,e,n,o){i.la=(be,Be,ft)=>{return(Lt=(0,c.Z)(function*(Bt,bn,lr,Vi){let hs=bn.view.Gu(lr);hs.ni&&(hs=yield Df(Bt.localStore,bn.query,!1).then(({documents:fs})=>bn.view.Gu(fs,hs)));const Ui=Vi&&Vi.targetChanges.get(bn.targetId),co=bn.view.applyChanges(hs,Bt.isPrimaryClient,Ui);return Od(Bt,bn.targetId,co.Hu),co.snapshot}),function(Bt,bn,lr,Vi){return Lt.apply(this,arguments)})(i,be,Be,ft);var Lt};const u=yield Df(i.localStore,e,!0),p=new jf(e,u.li),v=p.Gu(u.documents),O=rl.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),$=p.applyChanges(v,i.isPrimaryClient,O);Od(i,n,$.Hu);const q=new Mc(e,n,p);return i.ea.set(e,q),i.na.has(n)?i.na.get(n).push(e):i.na.set(n,[e]),$.snapshot}),Hf.apply(this,arguments)}function ay(i,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,c.Z)(function*(i,e){const n=$t(i),o=n.ea.get(e),u=n.na.get(o.targetId);if(u.length>1)return n.na.set(o.targetId,u.filter(p=>!Wu(p,e))),void n.ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield cd(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Ed(n.remoteStore,o.targetId),Md(n,o.targetId)}).catch(qs))):(Md(n,o.targetId),yield cd(n.localStore,o.targetId,!0))}),Gf.apply(this,arguments)}function Sd(){return Sd=(0,c.Z)(function*(i,e,n){const o=np(i);try{const u=yield function(p,v){const O=$t(p),$=Se.now(),q=v.reduce((Be,ft)=>Be.add(ft.key),Nr());let be;return O.persistence.runTransaction("Locally write mutations","readwrite",Be=>O.ci.Ks(Be,q).next(ft=>{be=ft;const Lt=[];for(const Bt of v){const bn=qc(Bt,be.get(Bt.key));null!=bn&&Lt.push(new eu(Bt.key,bn,Ca(bn.value.mapValue),qr.exists(!0)))}return O.Bs.addMutationBatch(Be,$,Lt,v)})).then(Be=>(Be.applyToLocalDocumentSet(be),{batchId:Be.batchId,changes:be}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(p,v,O){let $=p.ua[p.currentUser.toKey()];$||($=new pn(U)),$=$.insert(v,O),p.ua[p.currentUser.toKey()]=$}(o,u.batchId,n),yield au(o,u.changes),yield Ql(o.remoteStore)}catch(u){const p=Xl(u,"Failed to persist write");n.reject(p)}}),Sd.apply(this,arguments)}function zf(i,e){return bh.apply(this,arguments)}function bh(){return bh=(0,c.Z)(function*(i,e){const n=$t(i);try{const o=yield $_(n.localStore,e);e.targetChanges.forEach((u,p)=>{const v=n.ra.get(p);v&&(Un(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.Zu=!0:u.modifiedDocuments.size>0?Un(v.Zu):u.removedDocuments.size>0&&(Un(v.Zu),v.Zu=!1))}),yield au(n,o,e)}catch(o){yield qs(o)}}),bh.apply(this,arguments)}function Wf(i,e,n){const o=$t(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ea.forEach((p,v)=>{const O=v.view.Au(e);O.snapshot&&u.push(O.snapshot)}),function(p,v){const O=$t(p);O.onlineState=v;let $=!1;O.queries.forEach((q,be)=>{for(const Be of be.listeners)Be.Au(v)&&($=!0)}),$&&Ad(O)}(o.eventManager,e),u.length&&o.ta.Qo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Pg(i,e,n){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,c.Z)(function*(i,e,n){const o=$t(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.ra.get(e),p=u&&u.key;if(p){let v=new pn(tn.comparator);v=v.insert(p,ei.newNoDocument(p,Je.min()));const O=Nr().add(p),$=new ya(Je.min(),new Map,new Dr(U),v,O);yield zf(o,$),o.ia=o.ia.remove(p),o.ra.delete(e),Dh(o)}else yield cd(o.localStore,e,!1).then(()=>Md(o,e,n)).catch(qs)}),Kf.apply(this,arguments)}function uy(i,e){return qf.apply(this,arguments)}function qf(){return qf=(0,c.Z)(function*(i,e){const n=$t(i),o=e.batch.batchId;try{const u=yield j_(n.localStore,e);Yf(n,o,null),Zf(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield au(n,u)}catch(u){yield qs(u)}}),qf.apply(this,arguments)}function ly(i,e,n){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,c.Z)(function*(i,e,n){const o=$t(i);try{const u=yield function(p,v){const O=$t(p);return O.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let q;return O.Bs.lookupMutationBatch($,v).next(be=>(Un(null!==be),q=be.keys(),O.Bs.removeMutationBatch($,be))).next(()=>O.Bs.performConsistencyCheck($)).next(()=>O.ci.Ks($,q))})}(o.localStore,e);Yf(o,e,n),Zf(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield au(o,u)}catch(u){yield qs(u)}}),Ih.apply(this,arguments)}function Th(){return Th=(0,c.Z)(function*(i,e){const n=$t(i);Cu(n.remoteStore)||jt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(p){const v=$t(p);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",O=>v.Bs.getHighestUnacknowledgedBatchId(O))}(n.localStore);if(-1===o)return void e.resolve();const u=n.aa.get(o)||[];u.push(e),n.aa.set(o,u)}catch(o){const u=Xl(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Th.apply(this,arguments)}function Zf(i,e){(i.aa.get(e)||[]).forEach(n=>{n.resolve()}),i.aa.delete(e)}function Yf(i,e,n){const o=$t(i);let u=o.ua[o.currentUser.toKey()];if(u){const p=u.get(e);p&&(n?p.reject(n):p.resolve(),u=u.remove(e)),o.ua[o.currentUser.toKey()]=u}}function Md(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.na.get(e))i.ea.delete(o),n&&i.ta.fa(o,n);i.na.delete(e),i.isPrimaryClient&&i.oa.Pi(e).forEach(o=>{i.oa.containsKey(o)||cy(i,o)})}function cy(i,e){i.sa.delete(e.path.canonicalString());const n=i.ia.get(e);null!==n&&(Ed(i.remoteStore,n),i.ia=i.ia.remove(e),i.ra.delete(n),Dh(i))}function Od(i,e,n){for(const o of n)o instanceof xg?(i.oa.addReference(o.key,e),dy(i,o)):o instanceof Ng?(jt("SyncEngine","Document no longer in limbo: "+o.key),i.oa.removeReference(o.key,e),i.oa.containsKey(o.key)||cy(i,o.key)):yn()}function dy(i,e){const n=e.key,o=n.path.canonicalString();i.ia.get(n)||i.sa.has(o)||(jt("SyncEngine","New document in limbo: "+n),i.sa.add(o),Dh(i))}function Dh(i){for(;i.sa.size>0&&i.ia.size<i.maxConcurrentLimboResolutions;){const e=i.sa.values().next().value;i.sa.delete(e);const n=new tn(vn.fromString(e)),o=i.ca.next();i.ra.set(o,new Rg(n)),i.ia=i.ia.insert(n,o),vd(i.remoteStore,new pe(Fi(da(n.path)),o,2,I.A))}}function au(i,e,n){return kg.apply(this,arguments)}function kg(){return kg=(0,c.Z)(function*(i,e,n){const o=$t(i),u=[],p=[],v=[];var O;o.ea.isEmpty()||(o.ea.forEach((O,$)=>{v.push(o.la($,e,n).then(q=>{if(q){o.isPrimaryClient&&o.sharedClientState.updateQueryState($.targetId,q.fromCache?"not-current":"current"),u.push(q);const be=ug.Ys($.targetId,q);p.push(be)}}))}),yield Promise.all(v),o.ta.Qo(u),yield(O=(0,c.Z)(function*($,q){const be=$t($);try{yield be.persistence.runTransaction("notifyLocalViewChanges","readwrite",Be=>_t.forEach(q,ft=>_t.forEach(ft.Hs,Lt=>be.persistence.referenceDelegate.addReference(Be,ft.targetId,Lt)).next(()=>_t.forEach(ft.Js,Lt=>be.persistence.referenceDelegate.removeReference(Be,ft.targetId,Lt)))))}catch(Be){if(!al(Be))throw Be;jt("LocalStore","Failed to update sequence numbers: "+Be)}for(const Be of q){const ft=Be.targetId;if(!Be.fromCache){const Lt=be.ii.get(ft),bn=Lt.withLastLimboFreeSnapshotVersion(Lt.snapshotVersion);be.ii=be.ii.insert(ft,bn)}}}),function($,q){return O.apply(this,arguments)})(o.localStore,p))}),kg.apply(this,arguments)}function La(i,e){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,c.Z)(function*(i,e){const n=$t(i);if(!n.currentUser.isEqual(e)){jt("SyncEngine","User change. New user:",e.toKey());const o=yield ah(n.localStore,e);n.currentUser=e,(u=n).aa.forEach(v=>{v.forEach(O=>{O.reject(new Ot(ht.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.aa.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield au(n,o.hi)}var u}),Fg.apply(this,arguments)}function q_(i,e){const n=$t(i),o=n.ra.get(e);if(o&&o.Zu)return Nr().add(o.key);{let u=Nr();const p=n.na.get(e);if(!p)return u;for(const v of p){const O=n.ea.get(v);u=u.unionWith(O.view.Ku)}return u}}function Lg(i,e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,c.Z)(function*(i,e){const n=$t(i),o=yield Df(n.localStore,e.query,!0),u=e.view.Yu(o);return n.isPrimaryClient&&Od(n,e.targetId,u.Hu),u}),Ch.apply(this,arguments)}function Vg(i,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,c.Z)(function*(i,e){const n=$t(i);return uh(n.localStore,e).then(o=>au(n,o))}),Qf.apply(this,arguments)}function Z_(i,e,n,o){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,c.Z)(function*(i,e,n,o){const u=$t(i),p=yield function(v,O){const $=$t(v),q=$t($.Bs);return $.persistence.runTransaction("Lookup mutation documents","readonly",be=>q.fn(be,O).next(Be=>Be?$.ci.Ks(be,Be):_t.resolve(null)))}(u.localStore,e);var O;null!==p?("pending"===n?yield Ql(u.remoteStore):"acknowledged"===n||"rejected"===n?(Yf(u,e,o||null),Zf(u,e),O=e,$t($t(u.localStore).Bs)._n(O)):yn(),yield au(u,p)):jt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ah.apply(this,arguments)}function Xf(){return Xf=(0,c.Z)(function*(i,e){const n=$t(i);if(pl(n),np(n),!0===e&&!0!==n.ha){const o=n.sharedClientState.getAllActiveQueryTargets(),u=yield Sh(n,o.toArray());n.ha=!0,yield Sg(n.remoteStore,!0);for(const p of u)vd(n.remoteStore,p)}else if(!1===e&&!1!==n.ha){const o=[];let u=Promise.resolve();n.na.forEach((p,v)=>{n.sharedClientState.isLocalQueryTarget(v)?o.push(v):u=u.then(()=>(Md(n,v),cd(n.localStore,v,!0))),Ed(n.remoteStore,v)}),yield u,yield Sh(n,o),function(p){const v=$t(p);v.ra.forEach((O,$)=>{Ed(v.remoteStore,$)}),v.oa.bi(),v.ra=new Map,v.ia=new pn(tn.comparator)}(n),n.ha=!1,yield Sg(n.remoteStore,!1)}}),Xf.apply(this,arguments)}function Sh(i,e,n){return ep.apply(this,arguments)}function ep(){return ep=(0,c.Z)(function*(i,e,n){const o=$t(i),u=[],p=[];for(const v of e){let O;const $=o.na.get(v);if($&&0!==$.length){O=yield ld(o.localStore,Fi($[0]));for(const q of $){const be=o.ea.get(q),Be=yield Lg(o,be);Be.snapshot&&p.push(Be.snapshot)}}else{const q=yield Tu(o.localStore,v);O=yield ld(o.localStore,q),yield $f(o,Ug(q),v,!1)}u.push(O)}return o.ta.Qo(p),u}),ep.apply(this,arguments)}function Ug(i){return Pl(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function hy(i){const e=$t(i);return $t($t(e.localStore).persistence).Fs()}function fy(i,e,n,o){return tp.apply(this,arguments)}function tp(){return tp=(0,c.Z)(function*(i,e,n,o){const u=$t(i);if(u.ha)return void jt("SyncEngine","Ignoring unexpected query state notification.");const p=u.na.get(e);if(p&&p.length>0)switch(n){case"current":case"not-current":{const v=yield uh(u.localStore,Gc(p[0])),O=ya.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield au(u,v,O);break}case"rejected":yield cd(u.localStore,e,!0),Md(u,e,o);break;default:yn()}}),tp.apply(this,arguments)}function py(i,e,n){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,c.Z)(function*(i,e,n){const o=pl(i);if(o.ha){for(const u of e){if(o.na.has(u)){jt("SyncEngine","Adding an already active target "+u);continue}const p=yield Tu(o.localStore,u),v=yield ld(o.localStore,p);yield $f(o,Ug(p),v.targetId,!1),vd(o.remoteStore,v)}for(const u of n)o.na.has(u)&&(yield cd(o.localStore,u,!1).then(()=>{Ed(o.remoteStore,u),Md(o,u)}).catch(qs))}}),Oc.apply(this,arguments)}function pl(i){const e=$t(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=zf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pg.bind(null,e),e.ta.Qo=Cd.bind(null,e.eventManager),e.ta.fa=ry.bind(null,e.eventManager),e}function np(i){const e=$t(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ly.bind(null,e),e}class Bg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,c.Z)(function*(){n.M=Dc(e.databaseInfo.databaseId),n.sharedClientState=n._a(e),n.persistence=n.wa(e),yield n.persistence.start(),n.gcScheduler=n.ma(e),n.localStore=n.ga(e)})()}ma(e){return null}ga(e){return cg(this.persistence,new Tf,e.initialUser,this.M)}wa(e){return new Km(hl.zi,this.M)}_a(e){return new Af}terminate(){var e=this;return(0,c.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jg extends Bg{constructor(e,n,o){super(),this.ya=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield n().call(o,e),yield o.ya.initialize(o,e),yield np(o.ya.syncEngine),yield Ql(o.ya.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ga(e){return cg(this.persistence,new Tf,e.initialUser,this.M)}ma(e){return new Iu(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const n=ag(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Gi.withCacheSize(this.cacheSizeBytes):Gi.DEFAULT;return new If(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,Sf(),fh(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new Af}}class rp extends jg{constructor(e,n){super(e,n,!1),this.ya=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield n().call(o,e);const u=o.ya.syncEngine;o.sharedClientState instanceof yd&&(o.sharedClientState.syncEngine={Mr:Z_.bind(null,u),Or:fy.bind(null,u),Fr:py.bind(null,u),Fs:hy.bind(null,u),kr:Vg.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var p=(0,c.Z)(function*(v){yield function Jf(i,e){return Xf.apply(this,arguments)}(o.ya.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):v||o.gcScheduler.stop())});return function(v){return p.apply(this,arguments)}}())})()}_a(e){const n=Sf();if(!yd.vt(n))throw new Ot(ht.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=ag(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yd(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Ea{initialize(e,n){var o=this;return(0,c.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Wf(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=La.bind(null,o.syncEngine),yield Sg(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ny}createDatastore(e){const n=Dc(e.databaseInfo.databaseId),o=new vg(e.databaseInfo);return new Zm(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,p=O=>Wf(this.syncEngine,O,0),v=yg.vt()?new yg:new hh,new W_(n,o,u,p,v);var n,o,u,p,v}createSyncEngine(e,n){return function(o,u,p,v,O,$,q){const be=new sy(o,u,p,v,O,$);return q&&(be.ha=!0),be}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,c.Z)(function*(n){const o=$t(n);jt("RemoteStore","RemoteStore shutting down."),o.fu.add(5),yield Ac(o),o._u.shutdown(),o.wu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function xc(i,e=10240){let n=0;return{read:()=>(0,c.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,c.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ts{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class tc{constructor(e,n){this.Ta=e,this.M=n,this.metadata=new Xr,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(o=>{o&&o.xu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,c.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,c.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,c.Z)(function*(){const n=yield e.Ra();if(null===n)return null;const o=e.Ea.decode(n),u=Number(o);isNaN(u)&&e.Pa(`length string (${o}) is not valid number`);const p=yield e.ba(u);return new Og(JSON.parse(p),n.length+u)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,c.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const n=e.Va();n<0&&e.Pa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}ba(e){var n=this;return(0,c.Z)(function*(){for(;n.buffer.length<e;)(yield n.va())&&n.Pa("Reached the end of bundle when more is expected.");const o=n.Ea.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,c.Z)(function*(){const n=yield e.Ta.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Mh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,c.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Ot(ht.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,c.Z)(function*(p,v){const O=$t(p),$=Ec(O.M)+"/documents",q={documents:v.map(Lt=>il(O.M,Lt))},be=yield O.ho("BatchGetDocuments",$,q),Be=new Map;be.forEach(Lt=>{const Bt=function af(i,e){return"found"in e?function(n,o){Un(!!o.found);const u=ai(n,o.found.name),p=Rr(o.found.updateTime),v=new Pi({mapValue:{fields:o.found.fields}});return ei.newFoundDocument(u,p,v)}(i,e):"missing"in e?function(n,o){Un(!!o.missing),Un(!!o.readTime);const u=ai(n,o.missing),p=Rr(o.readTime);return ei.newNoDocument(u,p)}(i,e):yn()}(O.M,Lt);Be.set(Bt.key.toString(),Bt)});const ft=[];return v.forEach(Lt=>{const Bt=Be.get(Lt.toString());Un(!!Bt),ft.push(Bt)}),ft}),function(p,v){return u.apply(this,arguments)})(n.datastore,e);var u;return o.forEach(u=>n.recordVersion(u)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new g(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,u)=>{const p=tn.fromPath(u);e.mutations.push(new m(p,e.precondition(p)))}),yield(o=(0,c.Z)(function*(u,p){const v=$t(u),O=Ec(v.M)+"/documents",$={writes:p.map(q=>$l(v.M,q))};yield v.oo("Commit",O,$)}),function(u,p){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw yn();n=Je.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new Ot(ht.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?qr.updateTime(n):qr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Je.min()))throw new Ot(ht.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qr.updateTime(n)}return qr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wa{constructor(e,n,o,u){this.asyncQueue=e,this.datastore=n,this.updateFunction=o,this.deferred=u,this.Sa=5,this.Do=new Mf(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,c.Z)(function*(){const n=new Mh(e.datastore),o=e.Ca(n);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(u)}).catch(p=>{e.xa(p)}))}).catch(u=>{e.xa(u)})}))}Ca(e){try{const n=this.updateFunction(e);return!ua(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!ot(n)}return!1}}class ip{constructor(e,n,o,u){var p=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=oi.UNAUTHENTICATED,this.clientId=R.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,c.Z)(function*(O){jt("FirestoreClient","Received user=",O.uid),yield p.authCredentialListener(O),p.user=O});return function(O){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(jt("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,c.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ot(ht.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=Xl(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function nc(i,e){return gl.apply(this,arguments)}function gl(){return gl=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),jt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,c.Z)(function*(p){o.isEqual(p)||(yield ah(e.localStore,p),o=p)});return function(p){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),gl.apply(this,arguments)}function rc(i,e){return ml.apply(this,arguments)}function ml(){return ml=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield yl(i);jt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>Ag(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,p)=>Ag(e.remoteStore,p)),i.onlineComponents=e}),ml.apply(this,arguments)}function yl(i){return _l.apply(this,arguments)}function _l(){return _l=(0,c.Z)(function*(i){return i.offlineComponents||(jt("FirestoreClient","Using default OfflineComponentProvider"),yield nc(i,new Bg)),i.offlineComponents}),_l.apply(this,arguments)}function Mu(i){return vl.apply(this,arguments)}function vl(){return vl=(0,c.Z)(function*(i){return i.onlineComponents||(jt("FirestoreClient","Using default OnlineComponentProvider"),yield rc(i,new Ea)),i.onlineComponents}),vl.apply(this,arguments)}function ic(i){return yl(i).then(e=>e.persistence)}function Oh(i){return yl(i).then(e=>e.localStore)}function sp(i){return Mu(i).then(e=>e.remoteStore)}function xh(i){return Mu(i).then(e=>e.syncEngine)}function sc(i){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,c.Z)(function*(i){const e=yield Mu(i),n=e.eventManager;return n.onListen=oy.bind(null,e.syncEngine),n.onUnlisten=ay.bind(null,e.syncEngine),n}),Nh.apply(this,arguments)}function op(i,e,n={}){const o=new Xr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(u,p,v,O,$){const q=new Ts({next:Be=>{p.enqueueAndForget(()=>vh(u,be));const ft=Be.docs.has(v);!ft&&Be.fromCache?$.reject(new Ot(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):ft&&Be.fromCache&&O&&"server"===O.source?$.reject(new Ot(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(Be)},error:Be=>$.reject(Be)}),be=new Eh(da(v.path),q,{includeMetadataChanges:!0,Cu:!0});return Mg(u,be)}(yield sc(i),i.asyncQueue,e,n,o)})),o.promise}function ap(i,e,n={}){const o=new Xr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(u,p,v,O,$){const q=new Ts({next:Be=>{p.enqueueAndForget(()=>vh(u,be)),Be.fromCache&&"server"===O.source?$.reject(new Ot(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(Be)},error:Be=>$.reject(Be)}),be=new Eh(v,q,{includeMetadataChanges:!0,Cu:!0});return Mg(u,be)}(yield sc(i),i.asyncQueue,e,n,o)})),o.promise}const Wg=new Map;function Rh(i,e,n){if(!n)throw new Ot(ht.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Kg(i,e,n,o){if(!0===e&&!0===o)throw new Ot(ht.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function up(i){if(!tn.isDocumentKey(i))throw new Ot(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function qg(i){if(tn.isDocumentKey(i))throw new Ot(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ph(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":yn()}function Br(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ot(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ph(i);throw new Ot(ht.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Zg(i,e){if(e<=0)throw new Ot(ht.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class kh{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ot(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ot(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Kg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oc{constructor(e,n,o){this._authCredentials=n,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kh({}),this._settingsFrozen=!1,e instanceof Ho?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ot(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ho(u.options.projectId)}(e))}get app(){if(!this._app)throw new Ot(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ot(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kh(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Vu;switch(n.type){case"gapi":const o=n.client;return Un(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Ws(o,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Ot(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Wg.get(e);n&&(jt("ComponentProvider","Removing Datastore"),Wg.delete(e),n.terminate())}(this),Promise.resolve()}}function vy(i,e,n,o={}){var u;const p=(i=Br(i,oc))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&eo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let v,O;if("string"==typeof o.mockUserToken)v=o.mockUserToken,O=oi.MOCK_USER;else{v=(0,Te.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const $=o.mockUserToken.sub||o.mockUserToken.user_id;if(!$)throw new Ot(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new oi($)}i._authCredentials=new Da(new oa(v,O))}}class Ji{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ji(this.firestore,e,this._key)}}class Co{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class Ou extends Co{constructor(e,n,o){super(e,n,da(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ji(this.firestore,null,new tn(e))}withConverter(e){return new Ou(this.firestore,e,this._path)}}function Ey(i,e,...n){if(i=(0,Te.m9)(i),Rh("collection","path",e),i instanceof oc){const o=vn.fromString(e,...n);return qg(o),new Ou(i,null,o)}{if(!(i instanceof Ji||i instanceof Ou))throw new Ot(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(vn.fromString(e,...n));return qg(o),new Ou(i.firestore,null,o)}}function Yg(i,e){if(i=Br(i,oc),Rh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ot(ht.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Co(i,null,(n=e,new ws(vn.emptyPath(),n)));var n}function wy(i,e,...n){if(i=(0,Te.m9)(i),1===arguments.length&&(e=R.R()),Rh("doc","path",e),i instanceof oc){const o=vn.fromString(e,...n);return up(o),new Ji(i,null,new tn(o))}{if(!(i instanceof Ji||i instanceof Ou))throw new Ot(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(vn.fromString(e,...n));return up(o),new Ji(i.firestore,i instanceof Ou?i.converter:null,new tn(o))}}function by(i,e){return i=(0,Te.m9)(i),e=(0,Te.m9)(e),(i instanceof Ji||i instanceof Ou)&&(e instanceof Ji||e instanceof Ou)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function ac(i,e){return i=(0,Te.m9)(i),e=(0,Te.m9)(e),i instanceof Co&&e instanceof Co&&i.firestore===e.firestore&&Wu(i._query,e._query)&&i.converter===e.converter}class Iy{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Mf(this,"async_queue_retry"),this.qa=()=>{const n=fh();n&&jt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Do.Ao()};const e=fh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const n=fh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const n=new Xr;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,c.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(n){if(!al(n))throw n;jt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const n=this.ka.then(()=>(this.Ba=!0,e().catch(o=>{throw this.$a=o,this.Ba=!1,Fr("INTERNAL UNHANDLED ERROR: ",function(p){let v=p.message||"";return p.stack&&(v=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),v}(o)),o}).then(o=>(this.Ba=!1,o))));return this.ka=n,n}enqueueAfterDelay(e,n,o){this.Ka(),this.Ua.indexOf(e)>-1&&(n=0);const u=_h.createAndSchedule(this,e,n,o,p=>this.ja(p));return this.Fa.push(u),u}Ka(){this.$a&&yn()}verifyOperationInProgress(){}Wa(){var e=this;return(0,c.Z)(function*(){let n;do{n=e.ka,yield n}while(n!==e.ka)})()}za(e){for(const n of this.Fa)if(n.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Fa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const n=this.Fa.indexOf(e);this.Fa.splice(n,1)}}function Fh(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Ty{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Qg=-1;class ui extends oc{constructor(e,n,o){super(e,n,o),this.type="firestore",this._queue=new Iy,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Xg(this),this._firestoreClient.terminate()}}function Jg(i=(0,w.getApp)()){return(0,w._getProvider)(i,"firestore").getImmediate()}function ds(i){return i._firestoreClient||Xg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Xg(i){var e;const n=i._freezeSettings(),o=(p=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new hi(i._databaseId,p,i._persistenceKey,(O=n).host,O.ssl,O.experimentalForceLongPolling,O.experimentalAutoDetectLongPolling,O.useFetchStreams));var p,O;i._firestoreClient=new ip(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Dy(i,e){sm(i=Br(i,ui));const n=ds(i),o=i._freezeSettings(),u=new Ea;return em(n,u,new jg(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Cy(i){sm(i=Br(i,ui));const e=ds(i),n=i._freezeSettings(),o=new Ea;return em(e,o,new rp(o,n.cacheSizeBytes))}function em(i,e,n){const o=new Xr;return i.asyncQueue.enqueue((0,c.Z)(function*(){try{yield nc(i,n),yield rc(i,e),o.resolve()}catch(u){if(!("FirebaseError"===(p=u).name?p.code===ht.FAILED_PRECONDITION||p.code===ht.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var p})).then(()=>o.promise)}function tm(i){if(i._initialized&&!i._terminated)throw new Ot(ht.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{yield(n=(0,c.Z)(function*(o){if(!Ko.vt())return Promise.resolve();const u=o+"main";yield Ko.delete(u)}),function(o){return n.apply(this,arguments)})(ag(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function Ay(i){return function(e){const n=new Xr;return e.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function K_(i,e){return Th.apply(this,arguments)}(yield xh(e),n)})),n.promise}(ds(i=Br(i,ui)))}function nm(i){return function $g(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield ic(i),n=yield sp(i);return e.setNetworkEnabled(!0),function(o){const u=$t(o);return u.fu.delete(0),Cc(u)}(n)}))}(ds(i=Br(i,ui)))}function rm(i){return function Hg(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield ic(i),n=yield sp(i);return e.setNetworkEnabled(!1),(o=(0,c.Z)(function*(u){const p=$t(u);p.fu.add(0),yield Ac(p),p.wu.set("Offline")}),function(u){return o.apply(this,arguments)})(n);var o}))}(ds(i=Br(i,ui)))}function Q_(i,e){const n=ds(i=Br(i,ui)),o=new Ty;return function zg(i,e,n,o){const u=function(p,v){let O;return O="string"==typeof p?(new TextEncoder).encode(p):p,$=function($,q){if($ instanceof Uint8Array)return xc($,q);if($ instanceof ArrayBuffer)return xc(new Uint8Array($),q);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new tc($,v);var $}(n,Dc(e));i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){!function xd(i,e,n){const o=$t(i);var u;(u=(0,c.Z)(function*(p,v,O){try{const $=yield v.getMetadata();if(yield function(ft,Lt){const Bt=$t(ft),bn=Rr(Lt.createTime);return Bt.persistence.runTransaction("hasNewerBundle","readonly",lr=>Bt._s.getBundleMetadata(lr,Lt.id)).then(lr=>!!lr&&lr.createTime.compareTo(bn)>=0)}(p.localStore,$))return yield v.close(),O._completeWith({taskState:"Success",documentsLoaded:(ft=$).totalDocuments,bytesLoaded:ft.totalBytes,totalDocuments:ft.totalDocuments,totalBytes:ft.totalBytes}),Promise.resolve(new Set);O._updateProgress(wh($));const q=new iy($,p.localStore,v.M);let be=yield v.da();for(;be;){const ft=yield q.ku(be);ft&&O._updateProgress(ft),be=yield v.da()}const Be=yield q.complete();return yield au(p,Be.Fu,void 0),yield function(ft,Lt){const Bt=$t(ft);return Bt.persistence.runTransaction("Save bundle","readwrite",bn=>Bt._s.saveBundleMetadata(bn,Lt))}(p.localStore,$),O._completeWith(Be.progress),Promise.resolve(Be.Ou)}catch($){return eo("SyncEngine",`Loading bundle failed with ${$}`),O._failWith($),Promise.resolve(new Set)}var ft}),function(p,v,O){return u.apply(this,arguments)})(o,e,n).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield xh(i),u,o)}))}(n,i._databaseId,e,o),o}function lp(i,e){return function _y(i,e){return i.asyncQueue.enqueue((0,c.Z)(function*(){return function(n,o){const u=$t(n);return u.persistence.runTransaction("Get named query","readonly",p=>u._s.getNamedQuery(p,o))}(yield Oh(i),e)}))}(ds(i=Br(i,ui)),e).then(n=>n?new Co(i,null,n.query):null)}function sm(i){if(i._initialized||i._terminated)throw new Ot(ht.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ot(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xu(Ur.fromBase64String(e))}catch(n){throw new Ot(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xu(Ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Nu{constructor(e){this._methodName=e}}class Nc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ot(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ot(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return U(this._lat,e._lat)||U(this._long,e._long)}}const Sy=/^__.*__$/;class cp{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new eu(e,this.data,this.fieldMask,n,this.fieldTransforms):new el(e,this.data,n,this.fieldTransforms)}}class Vh{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new eu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dp(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yn()}}class hp{constructor(e,n,o,u,p,v){this.settings=e,this.databaseId=n,this.M=o,this.ignoreUndefinedProperties=u,void 0===p&&this.Ya(),this.fieldTransforms=p||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Za({path:o,ec:!1});return u.nc(e),u}sc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Za({path:o,ec:!1});return u.Ya(),u}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return Pc(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(dp(this.Xa)&&Sy.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class My{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=o||Dc(e)}ac(e,n,o,u=!1){return new hp({Xa:e,methodName:n,uc:o,path:xr.emptyPath(),ec:!1,oc:u},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Ru(i){const e=i._freezeSettings(),n=Dc(i._databaseId);return new My(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Rc(i,e,n,o,u,p={}){const v=i.ac(p.merge||p.mergeFields?2:0,e,n,u);_p("Data must be an object, but it was:",v,o);const O=Bh(o,v);let $,q;if(p.merge)$=new Ri(v.fieldMask),q=v.fieldTransforms;else if(p.mergeFields){const be=[];for(const Be of p.mergeFields){const ft=vp(e,Be,n);if(!v.contains(ft))throw new Ot(ht.INVALID_ARGUMENT,`Field '${ft}' is specified in your field mask but missing from your input data.`);Ep(be,ft)||be.push(ft)}$=new Ri(be),q=v.fieldTransforms.filter(Be=>$.covers(Be.field))}else $=null,q=v.fieldTransforms;return new cp(new Pi(O),$,q)}class Nd extends Nu{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nd}}function fp(i,e,n){return new hp({Xa:3,uc:e.settings.uc,methodName:i._methodName,ec:n},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Rd extends Nu{_toFieldTransform(e){return new Yu(e.path,new fa)}isEqual(e){return e instanceof Rd}}class om extends Nu{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=fp(this,e,!0),o=this.cc.map(p=>El(p,n)),u=new pa(o);return new Yu(e.path,u)}isEqual(e){return this===e}}class am extends Nu{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=fp(this,e,!0),o=this.cc.map(p=>El(p,n)),u=new ga(o);return new Yu(e.path,u)}isEqual(e){return this===e}}class pp extends Nu{constructor(e,n){super(e),this.hc=n}_toFieldTransform(e){const n=new vu(e.M,zo(e.M,this.hc));return new Yu(e.path,n)}isEqual(e){return this===e}}function Uh(i,e,n,o){const u=i.ac(1,e,n);_p("Data must be an object, but it was:",u,o);const p=[],v=Pi.empty();zn(o,($,q)=>{const be=Pd(e,$,n);q=(0,Te.m9)(q);const Be=u.sc(be);if(q instanceof Nd)p.push(be);else{const ft=El(q,Be);null!=ft&&(p.push(be),v.set(be,ft))}});const O=new Ri(p);return new Vh(v,O,u.fieldTransforms)}function gp(i,e,n,o,u,p){const v=i.ac(1,e,n),O=[vp(e,o,n)],$=[u];if(p.length%2!=0)throw new Ot(ht.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ft=0;ft<p.length;ft+=2)O.push(vp(e,p[ft])),$.push(p[ft+1]);const q=[],be=Pi.empty();for(let ft=O.length-1;ft>=0;--ft)if(!Ep(q,O[ft])){const Lt=O[ft];let Bt=$[ft];Bt=(0,Te.m9)(Bt);const bn=v.sc(Lt);if(Bt instanceof Nd)q.push(Lt);else{const lr=El(Bt,bn);null!=lr&&(q.push(Lt),be.set(Lt,lr))}}const Be=new Ri(q);return new Vh(be,Be,v.fieldTransforms)}function mp(i,e,n,o=!1){return El(n,i.ac(o?4:3,e))}function El(i,e){if(yp(i=(0,Te.m9)(i)))return _p("Unsupported field value:",e,i),Bh(i,e);if(i instanceof Nu)return function(n,o){if(!dp(o.Xa))throw o.rc(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.rc(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(n,o){const u=[];let p=0;for(const v of n){let O=El(v,o.ic(p));null==O&&(O={nullValue:"NULL_VALUE"}),u.push(O),p++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,Te.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return zo(o.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=Se.fromDate(n);return{timestampValue:Bl(o.M,u)}}if(n instanceof Se){const u=new Se(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Bl(o.M,u)}}if(n instanceof Nc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof xu)return{bytesValue:rf(o.M,n._byteString)};if(n instanceof Ji){const u=o.databaseId,p=n.firestore._databaseId;if(!p.isEqual(u))throw o.rc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:jl(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.rc(`Unsupported field value: ${Ph(n)}`)}(i,e)}function Bh(i,e){const n={};return An(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zn(i,(o,u)=>{const p=El(u,e.tc(o));null!=p&&(n[o]=p)}),{mapValue:{fields:n}}}function yp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Se||i instanceof Nc||i instanceof xu||i instanceof Ji||i instanceof Nu)}function _p(i,e,n){if(!yp(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Ph(n);throw e.rc("an object"===o?i+" a custom object":i+" "+o)}var o}function vp(i,e,n){if((e=(0,Te.m9)(e))instanceof uc)return e._internalPath;if("string"==typeof e)return Pd(i,e);throw Pc("Field path arguments must be of type string or ",i,!1,void 0,n)}const Oy=new RegExp("[~\\*/\\[\\]]");function Pd(i,e,n){if(e.search(Oy)>=0)throw Pc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new uc(...e.split("."))._internalPath}catch(o){throw Pc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Pc(i,e,n,o,u){const p=o&&!o.isEmpty(),v=void 0!==u;let O=`Function ${e}() called with invalid data`;n&&(O+=" (via `toFirestore()`)"),O+=". ";let $="";return(p||v)&&($+=" (found",p&&($+=` in field ${o}`),v&&($+=` in document ${u}`),$+=")"),new Ot(ht.INVALID_ARGUMENT,O+i+$)}function Ep(i,e){return i.some(n=>n.isEqual(e))}class kc{constructor(e,n,o,u,p){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new um(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class um extends kc{data(){return super.data()}}function kd(i,e){return"string"==typeof e?Pd(i,e):e instanceof uc?e._internalPath:e._delegate._internalPath}class wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bl extends kc{constructor(e,n,o,u,p,v){super(e,n,o,u,v),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(kd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Fc extends bl{data(e={}){return super.data(e)}}class Il{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new wl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Fc(this._firestore,this._userDataWriter,o.key,o,new wl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ot(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let p=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new Fc(o._firestore,o._userDataWriter,v.doc.key,v.doc,new wl(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:p++}))}{let p=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>u||3!==v.type).map(v=>{const O=new Fc(o._firestore,o._userDataWriter,v.doc.key,v.doc,new wl(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let $=-1,q=-1;return 0!==v.type&&($=p.indexOf(v.doc.key),p=p.delete(v.doc.key)),1!==v.type&&(p=p.add(v.doc),q=p.indexOf(v.doc.key)),{type:J_(v.type),doc:O,oldIndex:$,newIndex:q}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function J_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yn()}}function xy(i,e){return i instanceof bl&&e instanceof bl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Il&&e instanceof Il&&i._firestore===e._firestore&&ac(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function lm(i){if(ha(i)&&0===i.explicitOrderBy.length)throw new Ot(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lc{}function Ny(i,...e){for(const n of e)i=n._apply(i);return i}class Ds extends Lc{constructor(e,n,o){super(),this.lc=e,this.fc=n,this.dc=o,this.type="where"}_apply(e){const n=Ru(e.firestore),o=function(u,p,v,O,$,q,be){let Be;if($.isKeyField()){if("array-contains"===q||"array-contains-any"===q)throw new Ot(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${q}' queries on documentId().`);if("in"===q||"not-in"===q){jh(be,q);const Lt=[];for(const Bt of be)Lt.push(Vy(O,u,Bt));Be={arrayValue:{values:Lt}}}else Be=Vy(O,u,be)}else"in"!==q&&"not-in"!==q&&"array-contains-any"!==q||jh(be,q),Be=mp(v,"where",be,"in"===q||"not-in"===q);const ft=ni.create($,q,Be);return function(Lt,Bt){if(Bt.S()){const lr=kl(Lt);if(null!==lr&&!lr.isEqual(Bt.field))throw new Ot(ht.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${lr.toString()}' and '${Bt.field.toString()}'`);const Vi=Xa(Lt);null!==Vi&&$h(0,Bt.field,Vi)}const bn=function(lr,Vi){for(const hs of lr.filters)if(Vi.indexOf(hs.op)>=0)return hs.op;return null}(Lt,function(lr){switch(lr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Bt.op));if(null!==bn)throw new Ot(ht.INVALID_ARGUMENT,bn===Bt.op?`Invalid query. You cannot use more than one '${Bt.op.toString()}' filter.`:`Invalid query. You cannot use '${Bt.op.toString()}' filters with '${bn.toString()}' filters.`)}(u,ft),ft}(e._query,0,n,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Co(e.firestore,e.converter,function(u,p){const v=u.filters.concat([p]);return new ws(u.path,u.collectionGroup,u.explicitOrderBy.slice(),v,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}function cm(i,e,n){const o=e,u=kd("where",i);return new Ds(u,o,n)}class Ry extends Lc{constructor(e,n){super(),this.lc=e,this._c=n,this.type="orderBy"}_apply(e){const n=function(o,u,p){if(null!==o.startAt)throw new Ot(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ot(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new To(u,p);return function(O,$){if(null===Xa(O)){const q=kl(O);null!==q&&$h(0,q,$.field)}}(o,v),v}(e._query,this.lc,this._c);return new Co(e.firestore,e.converter,function(o,u){const p=o.explicitOrderBy.concat([u]);return new ws(o.path,o.collectionGroup,p,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Py(i,e="asc"){const n=e,o=kd("orderBy",i);return new Ry(o,n)}class wp extends Lc{constructor(e,n,o){super(),this.type=e,this.wc=n,this.mc=o}_apply(e){return new Co(e.firestore,e.converter,pc(e._query,this.wc,this.mc))}}function ky(i){return Zg("limit",i),new wp("limit",i,"F")}function dm(i){return Zg("limitToLast",i),new wp("limitToLast",i,"L")}class bp extends Lc{constructor(e,n,o){super(),this.type=e,this.gc=n,this.yc=o}_apply(e){const n=Ip(e,this.type,this.gc,this.yc);return new Co(e.firestore,e.converter,(u=n,new ws((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function Vc(...i){return new bp("startAt",i,!0)}function Fy(...i){return new bp("startAfter",i,!1)}class hm extends Lc{constructor(e,n,o){super(),this.type=e,this.gc=n,this.yc=o}_apply(e){const n=Ip(e,this.type,this.gc,this.yc);return new Co(e.firestore,e.converter,(u=n,new ws((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function fm(...i){return new hm("endBefore",i,!1)}function Ly(...i){return new hm("endAt",i,!0)}function Ip(i,e,n,o){if(n[0]=(0,Te.m9)(n[0]),n[0]instanceof kc)return function(u,p,v,O,$){if(!O)throw new Ot(ht.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const q=[];for(const be of so(u))if(be.field.isKeyField())q.push(Ci(p,O.key));else{const Be=O.data.field(be.field);if(No(Be))throw new Ot(ht.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+be.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Be){const ft=be.field.canonicalString();throw new Ot(ht.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ft}' (used as the orderBy) does not exist.`)}q.push(Be)}return new Io(q,$)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const u=Ru(i.firestore);return function(p,v,O,$,q,be){const Be=p.explicitOrderBy;if(q.length>Be.length)throw new Ot(ht.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ft=[];for(let Lt=0;Lt<q.length;Lt++){const Bt=q[Lt];if(Be[Lt].field.isKeyField()){if("string"!=typeof Bt)throw new Ot(ht.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof Bt}`);if(!zu(p)&&-1!==Bt.indexOf("/"))throw new Ot(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${Bt}' contains a slash.`);const bn=p.path.child(vn.fromString(Bt));if(!tn.isDocumentKey(bn))throw new Ot(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${bn}' is not because it contains an odd number of segments.`);const lr=new tn(bn);ft.push(Ci(v,lr))}else{const bn=mp(O,$,Bt);ft.push(bn)}}return new Io(ft,be)}(i._query,i.firestore._databaseId,u,e,n,o)}}function Vy(i,e,n){if("string"==typeof(n=(0,Te.m9)(n))){if(""===n)throw new Ot(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zu(e)&&-1!==n.indexOf("/"))throw new Ot(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(vn.fromString(n));if(!tn.isDocumentKey(o))throw new Ot(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ci(i,new tn(o))}if(n instanceof Ji)return Ci(i,n._key);throw new Ot(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ph(n)}.`)}function jh(i,e){if(!Array.isArray(i)||0===i.length)throw new Ot(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Ot(ht.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function $h(i,e,n){if(!n.isEqual(e))throw new Ot(ht.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class ba{convertValue(e,n="none"){switch(no(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw yn()}}convertObject(e,n){const o={};return zn(e.fields,(u,p)=>{o[u]=this.convertValue(p,n)}),o}convertGeoPoint(e){return new Nc(zr(e.latitude),zr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=du(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp($o(e));default:return null}}convertTimestamp(e){const n=_i(e);return new Se(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=vn.fromString(e);Un(cf(o));const u=new Ho(o.get(1),o.get(3)),p=new tn(o.popFirst(5));return u.isEqual(n)||Fr(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),p}}function Hh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class pm extends ba{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,n)}}class Va{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ru(e)}set(e,n,o){this._verifyNotCommitted();const u=Ps(e,this._firestore),p=Hh(u.converter,n,o),v=Rc(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,o);return this._mutations.push(v.toMutation(u._key,qr.none())),this}update(e,n,o,...u){this._verifyNotCommitted();const p=Ps(e,this._firestore);let v;return v="string"==typeof(n=(0,Te.m9)(n))||n instanceof uc?gp(this._dataReader,"WriteBatch.update",p._key,n,o,u):Uh(this._dataReader,"WriteBatch.update",p._key,n),this._mutations.push(v.toMutation(p._key,qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ps(e,this._firestore);return this._mutations=this._mutations.concat(new g(n._key,qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ot(ht.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ps(i,e){if((i=(0,Te.m9)(i)).firestore!==e)throw new Ot(ht.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Ua(i){i=Br(i,Ji);const e=Br(i.firestore,ui);return op(ds(e),i._key).then(n=>Uc(e,i,n))}class Tl extends ba{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,n)}}function gm(i){i=Br(i,Ji);const e=Br(i.firestore,ui),n=ds(e),o=new Tl(e);return function Gg(i,e){const n=new Xr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(u,p,v){try{const O=yield function($,q){const be=$t($);return be.persistence.runTransaction("read document","readonly",Be=>be.ci.Ls(Be,q))}(u,p);O.isFoundDocument()?v.resolve(O):O.isNoDocument()?v.resolve(null):v.reject(new Ot(ht.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(O){const $=Xl(O,`Failed to get document '${p} from cache`);v.reject($)}}),function(u,p,v){return o.apply(this,arguments)})(yield Oh(i),e,n);var o})),n.promise}(n,i._key).then(u=>new bl(e,o,i._key,u,new wl(null!==u&&u.hasLocalMutations,!0),i.converter))}function Uy(i){i=Br(i,Ji);const e=Br(i.firestore,ui);return op(ds(e),i._key,{source:"server"}).then(n=>Uc(e,i,n))}function By(i){i=Br(i,Co);const e=Br(i.firestore,ui),n=ds(e),o=new Tl(e);return lm(i._query),ap(n,i._query).then(u=>new Il(e,o,i,u))}function jy(i){i=Br(i,Co);const e=Br(i.firestore,ui),n=ds(e),o=new Tl(e);return function gy(i,e){const n=new Xr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(u,p,v){try{const O=yield Df(u,p,!0),$=new jf(p,O.li),q=$.Gu(O.documents),be=$.applyChanges(q,!1);v.resolve(be.snapshot)}catch(O){const $=Xl(O,`Failed to execute query '${p} against cache`);v.reject($)}}),function(u,p,v){return o.apply(this,arguments)})(yield Oh(i),e,n);var o})),n.promise}(n,i._query).then(u=>new Il(e,o,i,u))}function $y(i){i=Br(i,Co);const e=Br(i.firestore,ui),n=ds(e),o=new Tl(e);return ap(n,i._query,{source:"server"}).then(u=>new Il(e,o,i,u))}function Tp(i,e,n){i=Br(i,Ji);const o=Br(i.firestore,ui),u=Hh(i.converter,e,n);return lc(o,[Rc(Ru(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,qr.none())])}function Fd(i,e,n,...o){i=Br(i,Ji);const u=Br(i.firestore,ui),p=Ru(u);let v;return v="string"==typeof(e=(0,Te.m9)(e))||e instanceof uc?gp(p,"updateDoc",i._key,e,n,o):Uh(p,"updateDoc",i._key,e),lc(u,[v.toMutation(i._key,qr.exists(!0))])}function Hy(i){return lc(Br(i.firestore,ui),[new g(i._key,qr.none())])}function mm(i,e){const n=Br(i.firestore,ui),o=wy(i),u=Hh(i.converter,e);return lc(n,[Rc(Ru(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,qr.exists(!1))]).then(()=>o)}function Gy(i,...e){var n,o,u;i=(0,Te.m9)(i);let p={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||Fh(e[v])||(p=e[v],v++);const O={includeMetadataChanges:p.includeMetadataChanges};if(Fh(e[v])){const Be=e[v];e[v]=null===(n=Be.next)||void 0===n?void 0:n.bind(Be),e[v+1]=null===(o=Be.error)||void 0===o?void 0:o.bind(Be),e[v+2]=null===(u=Be.complete)||void 0===u?void 0:u.bind(Be)}let $,q,be;if(i instanceof Ji)q=Br(i.firestore,ui),be=da(i._key.path),$={next:Be=>{e[v]&&e[v](Uc(q,i,Be))},error:e[v+1],complete:e[v+2]};else{const Be=Br(i,Co);q=Br(Be.firestore,ui),be=Be._query;const ft=new Tl(q);$={next:Lt=>{e[v]&&e[v](new Il(q,ft,Be,Lt))},error:e[v+1],complete:e[v+2]},lm(i._query)}return function(Be,ft,Lt,Bt){const bn=new Ts(Bt),lr=new Eh(ft,bn,Lt);return Be.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return Mg(yield sc(Be),lr)})),()=>{bn.Ia(),Be.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return vh(yield sc(Be),lr)}))}}(ds(q),be,O,$)}function ym(i,e){return function my(i,e){const n=new Ts(e);return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield sc(i),u=n,$t(o).Eu.add(u),void u.next();var o,u})),()=>{n.Ia(),i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield sc(i),u=n,void $t(o).Eu.delete(u);var o,u}))}}(ds(i=Br(i,ui)),Fh(e)?e:{next:e})}function lc(i,e){return function(n,o){const u=new Xr;return n.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function va(i,e,n){return Sd.apply(this,arguments)}(yield xh(n),o,u)})),u.promise}(ds(i),e)}function Uc(i,e,n){const o=n.docs.get(e._key),u=new Tl(i);return new bl(i,u,e._key,o,new wl(n.hasPendingWrites,n.fromCache),e.converter)}class zy extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Ru(e)}get(e){const n=Ps(e,this._firestore),o=new pm(this._firestore);return this._transaction.lookup([n._key]).then(u=>{if(!u||1!==u.length)return yn();const p=u[0];if(p.isFoundDocument())return new kc(this._firestore,o,p.key,p,n.converter);if(p.isNoDocument())return new kc(this._firestore,o,n._key,null,n.converter);throw yn()})}set(e,n,o){const u=Ps(e,this._firestore),p=Hh(u.converter,n,o),v=Rc(this._dataReader,"Transaction.set",u._key,p,null!==u.converter,o);return this._transaction.set(u._key,v),this}update(e,n,o,...u){const p=Ps(e,this._firestore);let v;return v="string"==typeof(n=(0,Te.m9)(n))||n instanceof uc?gp(this._dataReader,"Transaction.update",p._key,n,o,u):Uh(this._dataReader,"Transaction.update",p._key,n),this._transaction.update(p._key,v),this}delete(e){const n=Ps(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ps(e,this._firestore),o=new Tl(this._firestore);return super.get(e).then(u=>new bl(this._firestore,o,n._key,u._document,new wl(!1,!1),n.converter))}}function _m(i,e){return function yy(i,e){const n=new Xr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){const o=yield(u=i,Mu(u).then(p=>p.datastore));var u;new wa(i.asyncQueue,o,e,n).run()})),n.promise}(ds(i=Br(i,ui)),n=>e(new zy(i,n)))}function vm(){return new Nd("deleteField")}function Dp(){return new Rd("serverTimestamp")}function Gh(...i){return new om("arrayUnion",i)}function Em(...i){return new am("arrayRemove",i)}function wm(i){return new pp("increment",i)}!function(i,e=!0){mo=w.SDK_VERSION,(0,w._registerComponent)(new z.wA("firestore",(n,{options:o})=>{const u=n.getProvider("app").getImmediate(),p=new ui(u,new Uu(n.getProvider("auth-internal")),new aa(n.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),p._setSettings(o),p},"PUBLIC")),(0,w.registerVersion)(go,"3.4.8",i),(0,w.registerVersion)(go,"3.4.8","esm2017")}()},2090:(Qt,et,L)=>{L.d(et,{$s:()=>_n,BH:()=>tt,G6:()=>Nt,L:()=>Me,LL:()=>pt,Lj:()=>qe,Mn:()=>vt,Sg:()=>wt,UG:()=>Ye,US:()=>De,X3:()=>ge,ZB:()=>Fe,ZR:()=>me,b$:()=>We,d:()=>xe,eu:()=>_e,hl:()=>le,jU:()=>at,m9:()=>jn,ne:()=>Xn,pd:()=>an,r3:()=>ze,ru:()=>mt,tV:()=>ie,uI:()=>Pe,vZ:()=>dn,w1:()=>st,xO:()=>sr,xb:()=>en,z$:()=>Tt,zI:()=>Ee,zd:()=>Sn});var c=L(5861);const Te=function(ue){const ne=[];let de=0;for(let Ue=0;Ue<ue.length;Ue++){let ee=ue.charCodeAt(Ue);ee<128?ne[de++]=ee:ee<2048?(ne[de++]=ee>>6|192,ne[de++]=63&ee|128):55296==(64512&ee)&&Ue+1<ue.length&&56320==(64512&ue.charCodeAt(Ue+1))?(ee=65536+((1023&ee)<<10)+(1023&ue.charCodeAt(++Ue)),ne[de++]=ee>>18|240,ne[de++]=ee>>12&63|128,ne[de++]=ee>>6&63|128,ne[de++]=63&ee|128):(ne[de++]=ee>>12|224,ne[de++]=ee>>6&63|128,ne[de++]=63&ee|128)}return ne},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,ne){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const de=ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ue=[];for(let ee=0;ee<ue.length;ee+=3){const re=ue[ee],B=ee+1<ue.length,X=B?ue[ee+1]:0,J=ee+2<ue.length,Ie=J?ue[ee+2]:0;let Gt=(15&X)<<2|Ie>>6,wn=63&Ie;J||(wn=64,B||(Gt=64)),Ue.push(de[re>>2],de[(3&re)<<4|X>>4],de[Gt],de[wn])}return Ue.join("")},encodeString(ue,ne){return this.HAS_NATIVE_SUPPORT&&!ne?btoa(ue):this.encodeByteArray(Te(ue),ne)},decodeString(ue,ne){return this.HAS_NATIVE_SUPPORT&&!ne?atob(ue):function(ue){const ne=[];let de=0,Ue=0;for(;de<ue.length;){const ee=ue[de++];if(ee<128)ne[Ue++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const re=ue[de++];ne[Ue++]=String.fromCharCode((31&ee)<<6|63&re)}else if(ee>239&&ee<365){const J=((7&ee)<<18|(63&ue[de++])<<12|(63&ue[de++])<<6|63&ue[de++])-65536;ne[Ue++]=String.fromCharCode(55296+(J>>10)),ne[Ue++]=String.fromCharCode(56320+(1023&J))}else{const re=ue[de++],B=ue[de++];ne[Ue++]=String.fromCharCode((15&ee)<<12|(63&re)<<6|63&B)}}return ne.join("")}(this.decodeStringToByteArray(ue,ne))},decodeStringToByteArray(ue,ne){this.init_();const de=ne?this.charToByteMapWebSafe_:this.charToByteMap_,Ue=[];for(let ee=0;ee<ue.length;){const re=de[ue.charAt(ee++)],X=ee<ue.length?de[ue.charAt(ee)]:0;++ee;const Ie=ee<ue.length?de[ue.charAt(ee)]:64;++ee;const Et=ee<ue.length?de[ue.charAt(ee)]:64;if(++ee,null==re||null==X||null==Ie||null==Et)throw Error();Ue.push(re<<2|X>>4),64!==Ie&&(Ue.push(X<<4&240|Ie>>2),64!==Et&&Ue.push(Ie<<6&192|Et))}return Ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}},Me=function(ue){return function(ue){const ne=Te(ue);return De.encodeByteArray(ne,!0)}(ue).replace(/\./g,"")},ie=function(ue){try{return De.decodeString(ue,!0)}catch(ne){console.error("base64Decode failed: ",ne)}return null};function Fe(ue,ne){if(!(ne instanceof Object))return ne;switch(ne.constructor){case Date:return new Date(ne.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return ne}for(const de in ne)!ne.hasOwnProperty(de)||!it(de)||(ue[de]=Fe(ue[de],ne[de]));return ue}function it(ue){return"__proto__"!==ue}class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ne,de)=>{this.resolve=ne,this.reject=de})}wrapCallback(ne){return(de,Ue)=>{de?this.reject(de):this.resolve(Ue),"function"==typeof ne&&(this.promise.catch(()=>{}),1===ne.length?ne(de):ne(de,Ue))}}}function wt(ue,ne){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ue=ne||"demo-project",ee=ue.iat||0,re=ue.sub||ue.user_id;if(!re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const B=Object.assign({iss:`https://securetoken.google.com/${Ue}`,aud:Ue,iat:ee,exp:ee+3600,auth_time:ee,sub:re,user_id:re,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(B)),""].join(".")}function Tt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function Ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ue){return!1}}function at(){return"object"==typeof self&&self.self===self}function mt(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function We(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xe(){return Tt().indexOf("Electron/")>=0}function st(){const ue=Tt();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function vt(){return Tt().indexOf("MSAppHost/")>=0}function Nt(){return!Ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function le(){return"object"==typeof indexedDB}function _e(){return new Promise((ue,ne)=>{try{let de=!0;const Ue="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(Ue);ee.onsuccess=()=>{ee.result.close(),de||self.indexedDB.deleteDatabase(Ue),ue(!0)},ee.onupgradeneeded=()=>{de=!1},ee.onerror=()=>{var re;ne((null===(re=ee.error)||void 0===re?void 0:re.message)||"")}}catch(de){ne(de)}})}function Ee(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class me extends Error{constructor(ne,de,Ue){super(de),this.code=ne,this.customData=Ue,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pt.prototype.create)}}class pt{constructor(ne,de,Ue){this.service=ne,this.serviceName=de,this.errors=Ue}create(ne,...de){const Ue=de[0]||{},ee=`${this.service}/${ne}`,re=this.errors[ne],B=re?function xt(ue,ne){return ue.replace(un,(de,Ue)=>{const ee=ne[Ue];return null!=ee?String(ee):`<${Ue}?>`})}(re,Ue):"Error";return new me(ee,`${this.serviceName}: ${B} (${ee}).`,Ue)}}const un=/\{\$([^}]+)}/g;function ze(ue,ne){return Object.prototype.hasOwnProperty.call(ue,ne)}function en(ue){for(const ne in ue)if(Object.prototype.hasOwnProperty.call(ue,ne))return!1;return!0}function dn(ue,ne){if(ue===ne)return!0;const de=Object.keys(ue),Ue=Object.keys(ne);for(const ee of de){if(!Ue.includes(ee))return!1;const re=ue[ee],B=ne[ee];if(rr(re)&&rr(B)){if(!dn(re,B))return!1}else if(re!==B)return!1}for(const ee of Ue)if(!de.includes(ee))return!1;return!0}function rr(ue){return null!==ue&&"object"==typeof ue}function sr(ue){const ne=[];for(const[de,Ue]of Object.entries(ue))Array.isArray(Ue)?Ue.forEach(ee=>{ne.push(encodeURIComponent(de)+"="+encodeURIComponent(ee))}):ne.push(encodeURIComponent(de)+"="+encodeURIComponent(Ue));return ne.length?"&"+ne.join("&"):""}function Sn(ue){const ne={};return ue.replace(/^\?/,"").split("&").forEach(Ue=>{if(Ue){const[ee,re]=Ue.split("=");ne[decodeURIComponent(ee)]=decodeURIComponent(re)}}),ne}function an(ue){const ne=ue.indexOf("?");if(!ne)return"";const de=ue.indexOf("#",ne);return ue.substring(ne,de>0?de:void 0)}function Xn(ue,ne){const de=new rn(ue,ne);return de.subscribe.bind(de)}class rn{constructor(ne,de){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=de,this.task.then(()=>{ne(this)}).catch(Ue=>{this.error(Ue)})}next(ne){this.forEachObserver(de=>{de.next(ne)})}error(ne){this.forEachObserver(de=>{de.error(ne)}),this.close(ne)}complete(){this.forEachObserver(ne=>{ne.complete()}),this.close()}subscribe(ne,de,Ue){let ee;if(void 0===ne&&void 0===de&&void 0===Ue)throw new Error("Missing Observer.");ee=function Tn(ue,ne){if("object"!=typeof ue||null===ue)return!1;for(const de of ne)if(de in ue&&"function"==typeof ue[de])return!0;return!1}(ne,["next","error","complete"])?ne:{next:ne,error:de,complete:Ue},void 0===ee.next&&(ee.next=On),void 0===ee.error&&(ee.error=On),void 0===ee.complete&&(ee.complete=On);const re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch(B){}}),this.observers.push(ee),re}unsubscribeOne(ne){void 0===this.observers||void 0===this.observers[ne]||(delete this.observers[ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ne){if(!this.finalized)for(let de=0;de<this.observers.length;de++)this.sendOne(de,ne)}sendOne(ne,de){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ne])try{de(this.observers[ne])}catch(Ue){"undefined"!=typeof console&&console.error&&console.error(Ue)}})}close(ne){this.finalized||(this.finalized=!0,void 0!==ne&&(this.finalError=ne),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}function _n(ue,ne=1e3,de=2){const Ue=ne*Math.pow(de,ue),ee=Math.round(.5*Ue*(Math.random()-.5)*2);return Math.min(144e5,Ue+ee)}function jn(ue){return ue&&ue._delegate?ue._delegate:ue}function In(ue,ne){return new Promise((de,Ue)=>{ue.onsuccess=ee=>{de(ee.target.result)},ue.onerror=ee=>{var re;Ue(`${ne}: ${null===(re=ee.target.error)||void 0===re?void 0:re.message}`)}})}class Xe{constructor(ne){this._db=ne,this.objectStoreNames=this._db.objectStoreNames}transaction(ne,de="readonly"){return new H(this._db.transaction.call(this._db,ne,de))}createObjectStore(ne,de){return new Q(this._db.createObjectStore(ne,de))}close(){this._db.close()}}class H{constructor(ne){this._transaction=ne,this.complete=new Promise((de,Ue)=>{this._transaction.oncomplete=function(){de()},this._transaction.onerror=()=>{Ue(this._transaction.error)},this._transaction.onabort=()=>{Ue(this._transaction.error)}})}objectStore(ne){return new Q(this._transaction.objectStore(ne))}}class Q{constructor(ne){this._store=ne}index(ne){return new $e(this._store.index(ne))}createIndex(ne,de,Ue){return new $e(this._store.createIndex(ne,de,Ue))}get(ne){return In(this._store.get(ne),"Error reading from IndexedDB")}put(ne,de){return In(this._store.put(ne,de),"Error writing to IndexedDB")}delete(ne){return In(this._store.delete(ne),"Error deleting from IndexedDB")}clear(){return In(this._store.clear(),"Error clearing IndexedDB object store")}}class $e{constructor(ne){this._index=ne}get(ne){return In(this._index.get(ne),"Error reading from IndexedDB")}}function ge(ue,ne,de){return new Promise((Ue,ee)=>{try{const re=indexedDB.open(ue,ne);re.onsuccess=B=>{Ue(new Xe(B.target.result))},re.onerror=B=>{var X;ee(`Error opening indexedDB: ${null===(X=B.target.error)||void 0===X?void 0:X.message}`)},re.onupgradeneeded=B=>{de(new Xe(re.result),B.oldVersion,B.newVersion,new H(re.transaction))}}catch(re){ee(`Error opening indexedDB: ${re.message}`)}})}function qe(ue){return lt.apply(this,arguments)}function lt(){return(lt=(0,c.Z)(function*(ue){return new Promise((ne,de)=>{try{const Ue=indexedDB.deleteDatabase(ue);Ue.onsuccess=()=>{ne()},Ue.onerror=ee=>{var re;de(`Error deleting indexedDB database "${ue}": ${null===(re=ee.target.error)||void 0===re?void 0:re.message}`)}}catch(Ue){de(`Error deleting indexedDB database "${ue}": ${Ue.message}`)}})})).apply(this,arguments)}},6893:(Qt,et,L)=>{L.d(et,{e:()=>Te});var c=L(5861),w=L(5e3),z=L(3385),we=L(3290);let Te=(()=>{class Ce{constructor(oe,Me){this.auth=oe,this.afs=Me,this.codigoError="",this.estaLogueado=!1}login(oe){var Me=this;return(0,c.Z)(function*(){try{return yield Me.auth.signInWithEmailAndPassword(oe.email,oe.password)}catch(ie){console.log("Error en login de AuthService",ie)}})()}register(oe){var Me=this;return(0,c.Z)(function*(){try{return yield Me.auth.createUserWithEmailAndPassword(oe.email,oe.password)}catch(ie){console.log("Error en register de AuthService",ie)}})()}logOut(){return this.auth.signOut()}isLoggedIn(){return this.auth.authState}}return Ce.\u0275fac=function(oe){return new(oe||Ce)(w.LFG(z.zQ),w.LFG(we.ST))},Ce.\u0275prov=w.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},1125:(Qt,et,L)=>{L.d(et,{w:()=>Te});var c=L(5861),w=L(4004),z=L(5e3),we=L(3290);let Te=(()=>{class Ce{constructor(oe){this.firestore=oe,this.player=[],this.itemsCollection=this.firestore.collection("chats")}getAllByOrder(oe,Me,ie){return this.itemsCollection=this.firestore.collection(oe,fe=>fe.orderBy(Me,ie)),this.itemsCollection.valueChanges().pipe((0,w.U)(fe=>{this.player=fe}))}alta(oe,Me){var ie=this;return(0,c.Z)(function*(){try{return yield ie.firestore.collection(Me).add(oe)}catch(fe){console.log("Error en alta jugadorService: ",fe)}})()}update(oe,Me,ie){var fe=this;return(0,c.Z)(function*(){try{return yield fe.firestore.collection(Me).doc(oe).set(ie)}catch(Fe){console.log("Error en update jugadorService: ",Fe)}})()}baja(oe,Me){var ie=this;return(0,c.Z)(function*(){try{return yield ie.firestore.collection(Me).doc(oe).delete()}catch(fe){console.log("Error en baja jugadorService: ",fe)}})()}getAll(oe){var Me=this;return(0,c.Z)(function*(){try{return yield Me.firestore.collection(oe).snapshotChanges()}catch(ie){console.log("Error en getAll jugadorService: ",ie)}})()}getById(oe,Me){return this.firestore.collection(Me).doc(oe).snapshotChanges()}}return Ce.\u0275fac=function(oe){return new(oe||Ce)(z.LFG(we.ST))},Ce.\u0275prov=z.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},7705:(Qt,et,L)=>{var c=L(2313),w=L(5e3),z=L(2382),we=L(6893),Te=L(1125),Ce=L(2290),De=L(5335),oe=L(9808);function Me(A,d){1&A&&(w.TgZ(0,"small",30),w._uU(1,"El nombre es requerido"),w.qZA())}function ie(A,d){1&A&&(w.TgZ(0,"small",31),w._uU(1,"El apellido es requerido"),w.qZA())}function fe(A,d){1&A&&(w.TgZ(0,"small",30),w._uU(1,"La edad minima es de 18 y la m\xe1xima de 99"),w.qZA())}function Fe(A,d){1&A&&(w.TgZ(0,"small",30),w._uU(1,"La edad es requerida"),w.qZA())}function it(A,d){1&A&&(w.TgZ(0,"small",32),w._uU(1,"El tel\xe9fono debe tener una extensi\xf3n de 10 n\xfameros"),w.qZA())}function tt(A,d){1&A&&(w.TgZ(0,"small",32),w._uU(1,"El tel\xe9fono es requerido"),w.qZA())}function wt(A,d){1&A&&(w.TgZ(0,"small",30),w._uU(1,"El g\xe9nero es requerido"),w.qZA())}function Tt(A,d){1&A&&(w.TgZ(0,"small",30),w._uU(1,"El g\xe9nero es requerido"),w.qZA())}function Pe(A,d){1&A&&(w.TgZ(0,"small",30),w._uU(1,"El comentario no puede tener menos de 100 y m\xe1s de 300 caracteres"),w.qZA())}function Ye(A,d){1&A&&(w.TgZ(0,"small",30),w._uU(1,"Es necesario dejar una opini\xf3n para avanzar"),w.qZA())}let at=(()=>{class A{constructor(f,T,k,W,ce){this.fb=f,this.authSrv=T,this.baseService=k,this.toastr=W,this.router=ce,this.id="",this.email="",this.jugadorEncuesta={},this.formulario=f.group({nombre:["",z.kI.required],apellido:["",z.kI.required],edad:["",[z.kI.required,z.kI.min(18),z.kI.max(99)]],telefono:["",[z.kI.required,this.validarDiezNumerosTel]],genero:["",z.kI.required],gusto:["",z.kI.required],opinion:["",[z.kI.required,this.validarLength]]})}ngOnInit(){this.obtenerDatosUserLog()}aceptar(){this.altaEncuesta(this.formulario.value)}validarLength(f){const k=f.value.length;return(k<=100||k>=300)&&{extension:!0}}validarDiezNumerosTel(f){return 10!=f.value.length&&{noDiezNumeros:!0}}obtenerDatosUserLog(){this.authSrv.isLoggedIn().subscribe(f=>{this.id=null==f?void 0:f.uid,this.email=null==f?void 0:f.email})}altaEncuesta(f){this.jugadorEncuesta={id:this.id,email:this.email,nombre:f.nombre,apellido:f.apellido,edad:f.edad,telefono:f.telefono,genero:f.genero,gusto:f.gusto,opinion:f.opinion},this.baseService.alta(this.jugadorEncuesta,"Encusta").then(()=>{this.toastr.success("La encuesta fue enviada con \xe9xito","Gracias por responder",{positionClass:"toast-bottom-right",timeOut:1e4}),f.value=""}).catch(T=>{this.toastr.error("Se produjo un error al enviar la encuesta","Error al envair",{positionClass:"toast-bottom-right",timeOut:1e4}),console.log(T)})}}return A.\u0275fac=function(f){return new(f||A)(w.Y36(z.qu),w.Y36(we.e),w.Y36(Te.w),w.Y36(Ce._W),w.Y36(De.F0))},A.\u0275cmp=w.Xpm({type:A,selectors:[["app-encuesta"]],decls:69,vars:12,consts:[[1,"container","container-encuesta","mt-3"],[1,"card",2,"width","60"],[1,"card-header","text-center","text-uppercase","text-white","bg-dark"],[1,"container","text-left","formularioDiv"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputNombre"],["type","text","formControlName","nombre","id","exampleInputNombre",1,"form-control"],["id","nombreHelp","class","form-text text-muted",4,"ngIf"],["for","exampleInputApellido"],["type","text","formControlName","apellido","id","exampleInputApellido",1,"form-control"],["id","apellidoHelp","class","form-text text-muted",4,"ngIf"],["for","exampleInputEdad"],["type","number","formControlName","edad","id","exampleInputEdad",1,"form-control"],["for","exampleInputTelefono"],["type","text","formControlName","telefono","id","exampleInputTelefono","placeholder","Ingrese n\xfamero (Cod. \xc1rea + Tel\xe9fono sin 15)",1,"form-control"],["id","telHelp","class","form-text text-muted",4,"ngIf"],[1,"row"],[1,"form-group","col-6"],["for","exampleGenero"],["id","exampleGenero","formControlName","genero",1,"form-control"],[1,"form-check","form-check-inline"],["type","radio","name","gusto","id","inlineRadio1","value","Si","formControlName","gusto",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","gusto","id","inlineRadio2","value","No","formControlName","gusto",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["for","exampleOpinion"],["id","exampleOpinion","rows","3","formControlName","opinion",1,"form-control"],[1,"container"],["type","submit",1,"btn","btn-outline-primary","btn-lg","btn-block","mb-2","mt-2",3,"disabled"],["id","nombreHelp",1,"form-text","text-muted"],["id","apellidoHelp",1,"form-text","text-muted"],["id","telHelp",1,"form-text","text-muted"]],template:function(f,T){if(1&f&&(w.TgZ(0,"div",0),w.TgZ(1,"div",1),w.TgZ(2,"div",2),w._uU(3," Encuesta "),w.qZA(),w.TgZ(4,"div",3),w.TgZ(5,"form",4),w.NdJ("ngSubmit",function(){return T.aceptar()}),w.TgZ(6,"div",5),w.TgZ(7,"label",6),w._uU(8,"Nombre"),w.qZA(),w._UZ(9,"input",7),w.YNc(10,Me,2,0,"small",8),w.qZA(),w.TgZ(11,"div",5),w.TgZ(12,"label",9),w._uU(13,"Apellido"),w.qZA(),w._UZ(14,"input",10),w.YNc(15,ie,2,0,"small",11),w.qZA(),w.TgZ(16,"div",5),w.TgZ(17,"label",12),w._uU(18,"Edad"),w.qZA(),w._UZ(19,"input",13),w.YNc(20,fe,2,0,"small",8),w.YNc(21,Fe,2,0,"small",8),w.qZA(),w.TgZ(22,"div",5),w.TgZ(23,"label",14),w._uU(24,"Tel\xe9fono"),w.qZA(),w._UZ(25,"input",15),w.YNc(26,it,2,0,"small",16),w._UZ(27,"br"),w.YNc(28,tt,2,0,"small",16),w.qZA(),w.TgZ(29,"div",17),w.TgZ(30,"div",18),w.TgZ(31,"label",19),w._uU(32,"G\xe9nero"),w.qZA(),w.TgZ(33,"select",20),w.TgZ(34,"option"),w._uU(35,"Masculino"),w.qZA(),w.TgZ(36,"option"),w._uU(37,"Femenino"),w.qZA(),w.TgZ(38,"option"),w._uU(39,"No binario"),w.qZA(),w.TgZ(40,"option"),w._uU(41,"Trans"),w.qZA(),w.TgZ(42,"option"),w._uU(43,"Otro"),w.qZA(),w.qZA(),w.YNc(44,wt,2,0,"small",8),w.qZA(),w.TgZ(45,"div",18),w.TgZ(46,"label",19),w._uU(47,"\xbfTe gust\xf3 la sala de juegos?"),w.qZA(),w._UZ(48,"br"),w.TgZ(49,"div",21),w._UZ(50,"input",22),w.TgZ(51,"label",23),w._uU(52,"Si"),w.qZA(),w.qZA(),w.TgZ(53,"div",21),w._UZ(54,"input",24),w.TgZ(55,"label",25),w._uU(56,"No"),w.qZA(),w.qZA(),w.YNc(57,Tt,2,0,"small",8),w.qZA(),w.qZA(),w.TgZ(58,"div",5),w.TgZ(59,"label",26),w._uU(60,"Danos tu opini\xf3n"),w.qZA(),w._UZ(61,"textarea",27),w.YNc(62,Pe,2,0,"small",8),w._UZ(63,"br"),w.YNc(64,Ye,2,0,"small",8),w.qZA(),w.TgZ(65,"div",28),w.TgZ(66,"div",17),w.TgZ(67,"button",29),w._uU(68,"ENVIAR"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&f){let k,W,ce,pe,ke,ut,Pt,Jt,Wt,Rt;w.xp6(5),w.Q6J("formGroup",T.formulario),w.xp6(5),w.Q6J("ngIf",(null==(k=T.formulario.get("nombre"))?null:k.hasError("required"))&&(null==(k=T.formulario.get("nombre"))?null:k.touched)),w.xp6(5),w.Q6J("ngIf",(null==(W=T.formulario.get("apellido"))?null:W.hasError("required"))&&(null==(W=T.formulario.get("apellido"))?null:W.touched)),w.xp6(5),w.Q6J("ngIf",(null==(ce=T.formulario.get("edad"))?null:ce.hasError("min"))||(null==(ce=T.formulario.get("edad"))?null:ce.hasError("max"))),w.xp6(1),w.Q6J("ngIf",(null==(pe=T.formulario.get("edad"))?null:pe.hasError("required"))&&(null==(pe=T.formulario.get("edad"))?null:pe.touched)),w.xp6(5),w.Q6J("ngIf",(null==(ke=T.formulario.get("telefono"))?null:ke.hasError("noDiezNumeros"))&&(null==(ke=T.formulario.get("telefono"))?null:ke.touched)),w.xp6(2),w.Q6J("ngIf",(null==(ut=T.formulario.get("telefono"))?null:ut.hasError("required"))&&(null==(ut=T.formulario.get("telefono"))?null:ut.touched)),w.xp6(16),w.Q6J("ngIf",(null==(Pt=T.formulario.get("genero"))?null:Pt.hasError("required"))&&(null==(Pt=T.formulario.get("genero"))?null:Pt.touched)),w.xp6(13),w.Q6J("ngIf",null==(Jt=T.formulario.get("gusto"))?null:Jt.hasError("required")),w.xp6(5),w.Q6J("ngIf",(null==(Wt=T.formulario.get("opinion"))?null:Wt.hasError("extension"))&&(null==(Wt=T.formulario.get("opinion"))?null:Wt.touched)),w.xp6(2),w.Q6J("ngIf",(null==(Rt=T.formulario.get("opinion"))?null:Rt.hasError("required"))&&(null==(Rt=T.formulario.get("opinion"))?null:Rt.touched)),w.xp6(3),w.Q6J("disabled",T.formulario.invalid)}},directives:[z._Y,z.JL,z.sg,z.Fj,z.JJ,z.u,oe.O5,z.wV,z.EJ,z.YN,z.Kr,z._],styles:["small[_ngcontent-%COMP%]{color:red!important}.container[_ngcontent-%COMP%]   .text-left[_ngcontent-%COMP%]{margin-top:5px}"]}),A})();const We=function(){return["/juegos/golpear-carpincho"]},st=[{path:"",component:(()=>{class A{constructor(f,T){this.authService=f,this.route=T,this.logueado=this.authService.isLoggedIn()}ngOnInit(){}redirigeAlJuego(f){this.route.navigate([`/juegos/${f}`])}}return A.\u0275fac=function(f){return new(f||A)(w.Y36(we.e),w.Y36(De.F0))},A.\u0275cmp=w.Xpm({type:A,selectors:[["app-home"]],decls:2,vars:0,template:function(f,T){1&f&&(w.TgZ(0,"p"),w._uU(1,"home works!"),w.qZA())},styles:["header[_ngcontent-%COMP%]{position:relative;background-color:#000;background-position:center;background-repeat:no-repeat;background-size:cover;height:100vh;min-height:25rem;width:100%;overflow:hidden;z-index:1}header[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;min-width:100%;min-height:100%;width:auto;height:auto;z-index:0;transform:translate(-50%) translateY(-50%)}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}header[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;background-color:#000;opacity:.5;z-index:1}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{height:95vh}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]{cursor:pointer;position:relative;display:block;max-width:30rem;border-radius:.5rem;overflow:hidden}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   .portfolio-item-caption[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transition:all .2s ease-in-out;opacity:0;background-color:#1abc9ce6}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   .portfolio-item-caption[_ngcontent-%COMP%]:hover{opacity:1}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   .portfolio-item-caption[_ngcontent-%COMP%]   .portfolio-item-caption-content[_ngcontent-%COMP%]{font-size:1.5rem}"]}),A})()},{path:"ingreso",loadChildren:()=>L.e(972).then(L.bind(L,6972)).then(A=>A.IngresoModule)},{path:"juegos",loadChildren:()=>L.e(983).then(L.bind(L,4983)).then(A=>A.JuegosModule)},{path:"encuesta",component:at},{path:"quien-soy",component:(()=>{class A{constructor(){}ngOnInit(){}}return A.\u0275fac=function(f){return new(f||A)},A.\u0275cmp=w.Xpm({type:A,selectors:[["app-quien-soy"]],decls:19,vars:2,consts:[["id","quiwn",1,"container-fluid","bg-1","text-center"],[1,"margin"],["src","./assets/imagenes/foto_ab.jpg","alt","Bird","width","350","height","350",1,"img-responsive","rounded-circle","img-thumbnail","margin","top",2,"display","inline"],["id","que",1,"container-fluid","bg-2","text-center"],[1,"col-md-12","align","justify-content-center"],[1,"row","no-gutters","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250"],[1,"col","p-4","d-flex","flex-column","position-static"],[1,"card-text","mb-auto"],[1,"btn","btn-default","btn-lg","btn-primary",3,"routerLink"],[1,"glyphicon","glyphicon-file"],[1,"col-auto","d-none","d-lg-block"],["src","../../../assets/imagenes/wackamole.jpg","alt","","width","250","height","250",1,"bd-placeholder-img"]],template:function(f,T){1&f&&(w.TgZ(0,"div",0),w.TgZ(1,"h3",1),w._uU(2,"Alejandro Begue"),w.qZA(),w._UZ(3,"img",2),w.TgZ(4,"h3"),w._uU(5,"Soy alumno de la UTN FRA"),w.qZA(),w.qZA(),w.TgZ(6,"div",3),w.TgZ(7,"h3",1),w._uU(8,"Descripci\xf3n del juego propio"),w.qZA(),w.TgZ(9,"div",4),w.TgZ(10,"div",5),w.TgZ(11,"div",6),w.TgZ(12,"p",7),w._uU(13,"Los habitantes de Nordelta est\xe1n muy preocupados por la invasi\xf3n de sus preciosas casas, y salen a defenderlas con garrotes de los infames roedores gigantes. Tu tendr\xe1s un minuto para protegerla y cada acierto sumar\xe1 un punto, pero ten cuidado, porque aprenden con los golpes y se vuelven m\xe1s r\xe1pidos."),w.qZA(),w.TgZ(14,"a",8),w._UZ(15,"span",9),w._uU(16," Ir al juego "),w.qZA(),w.qZA(),w.TgZ(17,"div",10),w._UZ(18,"img",11),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&f&&(w.xp6(14),w.Q6J("routerLink",w.DdM(1,We)))},directives:[De.yS],styles:[".imagenDeQuienSoy[_ngcontent-%COMP%]{width:100%}body[_ngcontent-%COMP%]{font:20px Montserrat,sans-serif;line-height:1.8;color:#f5f6f7}p[_ngcontent-%COMP%]{font-size:16px}.margin[_ngcontent-%COMP%]{margin-bottom:45px}.bg-1[_ngcontent-%COMP%]{background-color:#1abc9c;color:#fff}.bg-2[_ngcontent-%COMP%]{background-color:#474e5d;color:#fff}.bg-3[_ngcontent-%COMP%]{background-color:#fff;color:#555}.bg-4[_ngcontent-%COMP%]{background-color:#2f2f2f;color:#fff}.container-fluid[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:70px}.navbar[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px;border:0;border-radius:0;margin-bottom:0;font-size:12px;letter-spacing:5px}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1abc9c!important}.github[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:500px;width:100%}"]}),A})()}];let vt=(()=>{class A{}return A.\u0275fac=function(f){return new(f||A)},A.\u0275mod=w.oAB({type:A}),A.\u0275inj=w.cJS({imports:[[De.Bz.forRoot(st)],De.Bz]}),A})();var Ne=L(3290);const Nt=function(){return["/ingreso/login"]};function le(A,d){1&A&&(w.TgZ(0,"li",9),w.TgZ(1,"a",10),w._uU(2,"Login"),w.qZA(),w.qZA()),2&A&&(w.xp6(1),w.Q6J("routerLink",w.DdM(1,Nt)))}const _e=function(){return["/ingreso/registro"]};function Ee(A,d){1&A&&(w.TgZ(0,"li",9),w.TgZ(1,"a",11),w._uU(2,"Registro"),w.qZA(),w.qZA()),2&A&&(w.xp6(1),w.Q6J("routerLink",w.DdM(1,_e)))}const Oe=function(){return["/quien-soy"]};function He(A,d){1&A&&(w.TgZ(0,"li",9),w.TgZ(1,"a",11),w._uU(2,"\xbfQui\xe9n soy?"),w.qZA(),w.qZA()),2&A&&(w.xp6(1),w.Q6J("routerLink",w.DdM(1,Oe)))}function me(A,d){1&A&&(w.TgZ(0,"li",9),w.TgZ(1,"a",12),w._uU(2,"Juegos"),w.qZA(),w.qZA())}const pt=function(){return["/encuesta"]};function xt(A,d){1&A&&(w.TgZ(0,"li",9),w.TgZ(1,"a",13),w._uU(2,"Encuesta"),w.qZA(),w.qZA()),2&A&&(w.xp6(1),w.Q6J("routerLink",w.DdM(1,pt)))}const un=function(){return["/juegos/listado-puntajes"]};function yt(A,d){if(1&A&&(w.TgZ(0,"li",9),w.TgZ(1,"a",14),w._uU(2),w.qZA(),w.qZA()),2&A){const f=w.oxw();w.xp6(1),w.Q6J("routerLink",w.DdM(2,un)),w.xp6(1),w.Oqu(null==f.user?null:f.user.email)}}function Ht(A,d){if(1&A){const f=w.EpF();w.TgZ(0,"li",9),w.TgZ(1,"a",15),w.NdJ("click",function(){return w.CHM(f),w.oxw().onLogout()}),w._UZ(2,"i",16),w.qZA(),w.qZA()}}const Kt=function(){return[""]};let nn=(()=>{class A{constructor(f,T){this.authService=f,this.route=T,this.isLogged=!1}ngOnInit(){this.authService.isLoggedIn().subscribe(f=>{this.user=f,this.isLogged=!!this.user},f=>console.log(f))}onLogout(){this.authService.logOut().then(()=>{console.log("Se cerr\xf3 la sesi\xf3n."),this.authService.estaLogueado=!1,this.isLogged=!1}).catch(()=>console.log("Error en el logout."))}}return A.\u0275fac=function(f){return new(f||A)(w.Y36(we.e),w.Y36(De.F0))},A.\u0275cmp=w.Xpm({type:A,selectors:[["app-navbar"]],decls:16,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid","container-nav"],[1,"navbar-brand","text-uppercase","font-weight-bold",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end"],[1,"d-flex","justify-content-end"],[1,"navbar-nav","ml-auto","mt-2","mt-lg-0"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link","rounded",3,"routerLink"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],["href","#juegos","routerLinkActive","active",1,"nav-link","py-3","px-0","px-lg-3","rounded"],["role","button","routerLinkActive","active",1,"nav-link","py-3","px-0","px-lg-3","rounded",3,"routerLink"],["routerLinkActive","active",1,"nav-link","py-3","px-0","px-lg-3","rounded",3,"routerLink"],["role","button",1,"nav-link","py-3","px-0","px-lg-3","rounded",3,"click"],["aria-hidden","true",1,"fa","fa-sign-out","fa-lg"]],template:function(f,T){1&f&&(w.TgZ(0,"nav",0),w.TgZ(1,"div",1),w.TgZ(2,"a",2),w._uU(3,"SALA DE JUEGOS"),w.qZA(),w.TgZ(4,"button",3),w._UZ(5,"span",4),w.qZA(),w.TgZ(6,"div",5),w.TgZ(7,"div",6),w.TgZ(8,"ul",7),w.YNc(9,le,3,2,"li",8),w.YNc(10,Ee,3,2,"li",8),w.YNc(11,He,3,2,"li",8),w.YNc(12,me,3,0,"li",8),w.YNc(13,xt,3,2,"li",8),w.YNc(14,yt,3,3,"li",8),w.YNc(15,Ht,3,0,"li",8),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&f&&(w.xp6(2),w.Q6J("routerLink",w.DdM(8,Kt)),w.xp6(7),w.Q6J("ngIf",!T.isLogged),w.xp6(1),w.Q6J("ngIf",!T.isLogged),w.xp6(1),w.Q6J("ngIf",!T.isLogged),w.xp6(1),w.Q6J("ngIf",T.isLogged),w.xp6(1),w.Q6J("ngIf",T.isLogged),w.xp6(1),w.Q6J("ngIf",T.isLogged),w.xp6(1),w.Q6J("ngIf",T.isLogged))},directives:[De.yS,oe.O5,De.Od],styles:[".container-nav[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem}.nav-link.active[_ngcontent-%COMP%]{color:#1abc9c!important;font-weight:700}"]}),A})();function ct(A,d){if(1&A&&(w.TgZ(0,"li",1),w._uU(1),w.qZA()),2&A){const f=d.$implicit;w.xp6(1),w.hij(" ",f.name," ")}}let dt=(()=>{class A{constructor(f){this.title="tp-sala-de-juegos",this.items=f.collection("items").valueChanges()}}return A.\u0275fac=function(f){return new(f||A)(w.Y36(Ne.ST))},A.\u0275cmp=w.Xpm({type:A,selectors:[["app-root"]],decls:5,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],[1,"text"]],template:function(f,T){1&f&&(w._UZ(0,"app-navbar"),w.TgZ(1,"ul"),w.YNc(2,ct,2,1,"li",0),w.ALo(3,"async"),w.qZA(),w._UZ(4,"router-outlet")),2&f&&(w.xp6(2),w.Q6J("ngForOf",w.lcZ(3,1,T.items)))},directives:[nn,oe.sg,De.lC],pipes:[oe.Ov],styles:[""]}),A})();const Ae_firebase={projectId:"tp-sala-de-juegos-2022",appId:"1:502937991000:web:4d5c0baf7ea982e6c1172d",storageBucket:"tp-sala-de-juegos-2022.appspot.com",apiKey:"AIzaSyD5Clbt4IOoVT_hKB_p1eUPr1NL412RhJ4",authDomain:"tp-sala-de-juegos-2022.firebaseapp.com",messagingSenderId:"502937991000"};var ze=L(9646),It=L(8306),en=L(4351),En=L(9300),dn=L(4004);class rr{}class sr{}class Sn{constructor(d){this.normalizedNames=new Map,this.lazyUpdate=null,d?this.lazyInit="string"==typeof d?()=>{this.headers=new Map,d.split("\n").forEach(f=>{const T=f.indexOf(":");if(T>0){const k=f.slice(0,T),W=k.toLowerCase(),ce=f.slice(T+1).trim();this.maybeSetNormalizedName(k,W),this.headers.has(W)?this.headers.get(W).push(ce):this.headers.set(W,[ce])}})}:()=>{this.headers=new Map,Object.keys(d).forEach(f=>{let T=d[f];const k=f.toLowerCase();"string"==typeof T&&(T=[T]),T.length>0&&(this.headers.set(k,T),this.maybeSetNormalizedName(f,k))})}:this.headers=new Map}has(d){return this.init(),this.headers.has(d.toLowerCase())}get(d){this.init();const f=this.headers.get(d.toLowerCase());return f&&f.length>0?f[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(d){return this.init(),this.headers.get(d.toLowerCase())||null}append(d,f){return this.clone({name:d,value:f,op:"a"})}set(d,f){return this.clone({name:d,value:f,op:"s"})}delete(d,f){return this.clone({name:d,value:f,op:"d"})}maybeSetNormalizedName(d,f){this.normalizedNames.has(f)||this.normalizedNames.set(f,d)}init(){this.lazyInit&&(this.lazyInit instanceof Sn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(d=>this.applyUpdate(d)),this.lazyUpdate=null))}copyFrom(d){d.init(),Array.from(d.headers.keys()).forEach(f=>{this.headers.set(f,d.headers.get(f)),this.normalizedNames.set(f,d.normalizedNames.get(f))})}clone(d){const f=new Sn;return f.lazyInit=this.lazyInit&&this.lazyInit instanceof Sn?this.lazyInit:this,f.lazyUpdate=(this.lazyUpdate||[]).concat([d]),f}applyUpdate(d){const f=d.name.toLowerCase();switch(d.op){case"a":case"s":let T=d.value;if("string"==typeof T&&(T=[T]),0===T.length)return;this.maybeSetNormalizedName(d.name,f);const k=("a"===d.op?this.headers.get(f):void 0)||[];k.push(...T),this.headers.set(f,k);break;case"d":const W=d.value;if(W){let ce=this.headers.get(f);if(!ce)return;ce=ce.filter(pe=>-1===W.indexOf(pe)),0===ce.length?(this.headers.delete(f),this.normalizedNames.delete(f)):this.headers.set(f,ce)}else this.headers.delete(f),this.normalizedNames.delete(f)}}forEach(d){this.init(),Array.from(this.normalizedNames.keys()).forEach(f=>d(this.normalizedNames.get(f),this.headers.get(f)))}}class an{encodeKey(d){return Ln(d)}encodeValue(d){return Ln(d)}decodeKey(d){return decodeURIComponent(d)}decodeValue(d){return decodeURIComponent(d)}}const Xn=/%(\d[a-f0-9])/gi,rn={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Ln(A){return encodeURIComponent(A).replace(Xn,(d,f)=>{var T;return null!==(T=rn[f])&&void 0!==T?T:d})}function Tn(A){return`${A}`}class On{constructor(d={}){if(this.updates=null,this.cloneFrom=null,this.encoder=d.encoder||new an,d.fromString){if(d.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Jn(A,d){const f=new Map;return A.length>0&&A.replace(/^\?/,"").split("&").forEach(k=>{const W=k.indexOf("="),[ce,pe]=-1==W?[d.decodeKey(k),""]:[d.decodeKey(k.slice(0,W)),d.decodeValue(k.slice(W+1))],ke=f.get(ce)||[];ke.push(pe),f.set(ce,ke)}),f}(d.fromString,this.encoder)}else d.fromObject?(this.map=new Map,Object.keys(d.fromObject).forEach(f=>{const T=d.fromObject[f];this.map.set(f,Array.isArray(T)?T:[T])})):this.map=null}has(d){return this.init(),this.map.has(d)}get(d){this.init();const f=this.map.get(d);return f?f[0]:null}getAll(d){return this.init(),this.map.get(d)||null}keys(){return this.init(),Array.from(this.map.keys())}append(d,f){return this.clone({param:d,value:f,op:"a"})}appendAll(d){const f=[];return Object.keys(d).forEach(T=>{const k=d[T];Array.isArray(k)?k.forEach(W=>{f.push({param:T,value:W,op:"a"})}):f.push({param:T,value:k,op:"a"})}),this.clone(f)}set(d,f){return this.clone({param:d,value:f,op:"s"})}delete(d,f){return this.clone({param:d,value:f,op:"d"})}toString(){return this.init(),this.keys().map(d=>{const f=this.encoder.encodeKey(d);return this.map.get(d).map(T=>f+"="+this.encoder.encodeValue(T)).join("&")}).filter(d=>""!==d).join("&")}clone(d){const f=new On({encoder:this.encoder});return f.cloneFrom=this.cloneFrom||this,f.updates=(this.updates||[]).concat(d),f}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(d=>this.map.set(d,this.cloneFrom.map.get(d))),this.updates.forEach(d=>{switch(d.op){case"a":case"s":const f=("a"===d.op?this.map.get(d.param):void 0)||[];f.push(Tn(d.value)),this.map.set(d.param,f);break;case"d":if(void 0===d.value){this.map.delete(d.param);break}{let T=this.map.get(d.param)||[];const k=T.indexOf(Tn(d.value));-1!==k&&T.splice(k,1),T.length>0?this.map.set(d.param,T):this.map.delete(d.param)}}}),this.cloneFrom=this.updates=null)}}class Cr{constructor(){this.map=new Map}set(d,f){return this.map.set(d,f),this}get(d){return this.map.has(d)||this.map.set(d,d.defaultValue()),this.map.get(d)}delete(d){return this.map.delete(d),this}keys(){return this.map.keys()}}function zt(A){return"undefined"!=typeof ArrayBuffer&&A instanceof ArrayBuffer}function vr(A){return"undefined"!=typeof Blob&&A instanceof Blob}function mn(A){return"undefined"!=typeof FormData&&A instanceof FormData}class kt{constructor(d,f,T,k){let W;if(this.url=f,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=d.toUpperCase(),function $n(A){switch(A){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||k?(this.body=void 0!==T?T:null,W=k):W=T,W&&(this.reportProgress=!!W.reportProgress,this.withCredentials=!!W.withCredentials,W.responseType&&(this.responseType=W.responseType),W.headers&&(this.headers=W.headers),W.context&&(this.context=W.context),W.params&&(this.params=W.params)),this.headers||(this.headers=new Sn),this.context||(this.context=new Cr),this.params){const ce=this.params.toString();if(0===ce.length)this.urlWithParams=f;else{const pe=f.indexOf("?");this.urlWithParams=f+(-1===pe?"?":pe<f.length-1?"&":"")+ce}}else this.params=new On,this.urlWithParams=f}serializeBody(){return null===this.body?null:zt(this.body)||vr(this.body)||mn(this.body)||function qt(A){return"undefined"!=typeof URLSearchParams&&A instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof On?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mn(this.body)?null:vr(this.body)?this.body.type||null:zt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof On?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(d={}){var f;const T=d.method||this.method,k=d.url||this.url,W=d.responseType||this.responseType,ce=void 0!==d.body?d.body:this.body,pe=void 0!==d.withCredentials?d.withCredentials:this.withCredentials,ke=void 0!==d.reportProgress?d.reportProgress:this.reportProgress;let ut=d.headers||this.headers,Pt=d.params||this.params;const Jt=null!==(f=d.context)&&void 0!==f?f:this.context;return void 0!==d.setHeaders&&(ut=Object.keys(d.setHeaders).reduce((Wt,Rt)=>Wt.set(Rt,d.setHeaders[Rt]),ut)),d.setParams&&(Pt=Object.keys(d.setParams).reduce((Wt,Rt)=>Wt.set(Rt,d.setParams[Rt]),Pt)),new kt(T,k,ce,{params:Pt,headers:ut,context:Jt,reportProgress:ke,responseType:W,withCredentials:pe})}}var Bn=(()=>((Bn=Bn||{})[Bn.Sent=0]="Sent",Bn[Bn.UploadProgress=1]="UploadProgress",Bn[Bn.ResponseHeader=2]="ResponseHeader",Bn[Bn.DownloadProgress=3]="DownloadProgress",Bn[Bn.Response=4]="Response",Bn[Bn.User=5]="User",Bn))();class Er{constructor(d,f=200,T="OK"){this.headers=d.headers||new Sn,this.status=void 0!==d.status?d.status:f,this.statusText=d.statusText||T,this.url=d.url||null,this.ok=this.status>=200&&this.status<300}}class pr extends Er{constructor(d={}){super(d),this.type=Bn.ResponseHeader}clone(d={}){return new pr({headers:d.headers||this.headers,status:void 0!==d.status?d.status:this.status,statusText:d.statusText||this.statusText,url:d.url||this.url||void 0})}}class _n extends Er{constructor(d={}){super(d),this.type=Bn.Response,this.body=void 0!==d.body?d.body:null}clone(d={}){return new _n({body:void 0!==d.body?d.body:this.body,headers:d.headers||this.headers,status:void 0!==d.status?d.status:this.status,statusText:d.statusText||this.statusText,url:d.url||this.url||void 0})}}class Yn extends Er{constructor(d){super(d,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${d.url||"(unknown url)"}`:`Http failure response for ${d.url||"(unknown url)"}: ${d.status} ${d.statusText}`,this.error=d.error||null}}function Qn(A,d){return{body:d,headers:A.headers,context:A.context,observe:A.observe,params:A.params,reportProgress:A.reportProgress,responseType:A.responseType,withCredentials:A.withCredentials}}let jn=(()=>{class A{constructor(f){this.handler=f}request(f,T,k={}){let W;if(f instanceof kt)W=f;else{let ke,ut;ke=k.headers instanceof Sn?k.headers:new Sn(k.headers),k.params&&(ut=k.params instanceof On?k.params:new On({fromObject:k.params})),W=new kt(f,T,void 0!==k.body?k.body:null,{headers:ke,context:k.context,params:ut,reportProgress:k.reportProgress,responseType:k.responseType||"json",withCredentials:k.withCredentials})}const ce=(0,ze.of)(W).pipe((0,en.b)(ke=>this.handler.handle(ke)));if(f instanceof kt||"events"===k.observe)return ce;const pe=ce.pipe((0,En.h)(ke=>ke instanceof _n));switch(k.observe||"body"){case"body":switch(W.responseType){case"arraybuffer":return pe.pipe((0,dn.U)(ke=>{if(null!==ke.body&&!(ke.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ke.body}));case"blob":return pe.pipe((0,dn.U)(ke=>{if(null!==ke.body&&!(ke.body instanceof Blob))throw new Error("Response is not a Blob.");return ke.body}));case"text":return pe.pipe((0,dn.U)(ke=>{if(null!==ke.body&&"string"!=typeof ke.body)throw new Error("Response is not a string.");return ke.body}));default:return pe.pipe((0,dn.U)(ke=>ke.body))}case"response":return pe;default:throw new Error(`Unreachable: unhandled observe type ${k.observe}}`)}}delete(f,T={}){return this.request("DELETE",f,T)}get(f,T={}){return this.request("GET",f,T)}head(f,T={}){return this.request("HEAD",f,T)}jsonp(f,T){return this.request("JSONP",f,{params:(new On).append(T,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(f,T={}){return this.request("OPTIONS",f,T)}patch(f,T,k={}){return this.request("PATCH",f,Qn(k,T))}post(f,T,k={}){return this.request("POST",f,Qn(k,T))}put(f,T,k={}){return this.request("PUT",f,Qn(k,T))}}return A.\u0275fac=function(f){return new(f||A)(w.LFG(rr))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})();class In{constructor(d,f){this.next=d,this.interceptor=f}handle(d){return this.interceptor.intercept(d,this.next)}}const Xe=new w.OlP("HTTP_INTERCEPTORS");let H=(()=>{class A{intercept(f,T){return T.handle(f)}}return A.\u0275fac=function(f){return new(f||A)},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})();const de=/^\)\]\}',?\n/;let ee=(()=>{class A{constructor(f){this.xhrFactory=f}handle(f){if("JSONP"===f.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new It.y(T=>{const k=this.xhrFactory.build();if(k.open(f.method,f.urlWithParams),f.withCredentials&&(k.withCredentials=!0),f.headers.forEach((Rt,Yt)=>k.setRequestHeader(Rt,Yt.join(","))),f.headers.has("Accept")||k.setRequestHeader("Accept","application/json, text/plain, */*"),!f.headers.has("Content-Type")){const Rt=f.detectContentTypeHeader();null!==Rt&&k.setRequestHeader("Content-Type",Rt)}if(f.responseType){const Rt=f.responseType.toLowerCase();k.responseType="json"!==Rt?Rt:"text"}const W=f.serializeBody();let ce=null;const pe=()=>{if(null!==ce)return ce;const Rt=1223===k.status?204:k.status,Yt=k.statusText||"OK",hn=new Sn(k.getAllResponseHeaders()),Fn=function Ue(A){return"responseURL"in A&&A.responseURL?A.responseURL:/^X-Request-URL:/m.test(A.getAllResponseHeaders())?A.getResponseHeader("X-Request-URL"):null}(k)||f.url;return ce=new pr({headers:hn,status:Rt,statusText:Yt,url:Fn}),ce},ke=()=>{let{headers:Rt,status:Yt,statusText:hn,url:Fn}=pe(),dr=null;204!==Yt&&(dr=void 0===k.response?k.responseText:k.response),0===Yt&&(Yt=dr?200:0);let Zr=Yt>=200&&Yt<300;if("json"===f.responseType&&"string"==typeof dr){const Qi=dr;dr=dr.replace(de,"");try{dr=""!==dr?JSON.parse(dr):null}catch(Li){dr=Qi,Zr&&(Zr=!1,dr={error:Li,text:dr})}}Zr?(T.next(new _n({body:dr,headers:Rt,status:Yt,statusText:hn,url:Fn||void 0})),T.complete()):T.error(new Yn({error:dr,headers:Rt,status:Yt,statusText:hn,url:Fn||void 0}))},ut=Rt=>{const{url:Yt}=pe(),hn=new Yn({error:Rt,status:k.status||0,statusText:k.statusText||"Unknown Error",url:Yt||void 0});T.error(hn)};let Pt=!1;const Jt=Rt=>{Pt||(T.next(pe()),Pt=!0);let Yt={type:Bn.DownloadProgress,loaded:Rt.loaded};Rt.lengthComputable&&(Yt.total=Rt.total),"text"===f.responseType&&!!k.responseText&&(Yt.partialText=k.responseText),T.next(Yt)},Wt=Rt=>{let Yt={type:Bn.UploadProgress,loaded:Rt.loaded};Rt.lengthComputable&&(Yt.total=Rt.total),T.next(Yt)};return k.addEventListener("load",ke),k.addEventListener("error",ut),k.addEventListener("timeout",ut),k.addEventListener("abort",ut),f.reportProgress&&(k.addEventListener("progress",Jt),null!==W&&k.upload&&k.upload.addEventListener("progress",Wt)),k.send(W),T.next({type:Bn.Sent}),()=>{k.removeEventListener("error",ut),k.removeEventListener("abort",ut),k.removeEventListener("load",ke),k.removeEventListener("timeout",ut),f.reportProgress&&(k.removeEventListener("progress",Jt),null!==W&&k.upload&&k.upload.removeEventListener("progress",Wt)),k.readyState!==k.DONE&&k.abort()}})}}return A.\u0275fac=function(f){return new(f||A)(w.LFG(oe.JF))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})();const re=new w.OlP("XSRF_COOKIE_NAME"),B=new w.OlP("XSRF_HEADER_NAME");class X{}let J=(()=>{class A{constructor(f,T,k){this.doc=f,this.platform=T,this.cookieName=k,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const f=this.doc.cookie||"";return f!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,oe.Mx)(f,this.cookieName),this.lastCookieString=f),this.lastToken}}return A.\u0275fac=function(f){return new(f||A)(w.LFG(oe.K0),w.LFG(w.Lbi),w.LFG(re))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})(),Ie=(()=>{class A{constructor(f,T){this.tokenService=f,this.headerName=T}intercept(f,T){const k=f.url.toLowerCase();if("GET"===f.method||"HEAD"===f.method||k.startsWith("http://")||k.startsWith("https://"))return T.handle(f);const W=this.tokenService.getToken();return null!==W&&!f.headers.has(this.headerName)&&(f=f.clone({headers:f.headers.set(this.headerName,W)})),T.handle(f)}}return A.\u0275fac=function(f){return new(f||A)(w.LFG(X),w.LFG(B))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})(),Qe=(()=>{class A{constructor(f,T){this.backend=f,this.injector=T,this.chain=null}handle(f){if(null===this.chain){const T=this.injector.get(Xe,[]);this.chain=T.reduceRight((k,W)=>new In(k,W),this.backend)}return this.chain.handle(f)}}return A.\u0275fac=function(f){return new(f||A)(w.LFG(sr),w.LFG(w.zs3))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})(),wn=(()=>{class A{static disable(){return{ngModule:A,providers:[{provide:Ie,useClass:H}]}}static withOptions(f={}){return{ngModule:A,providers:[f.cookieName?{provide:re,useValue:f.cookieName}:[],f.headerName?{provide:B,useValue:f.headerName}:[]]}}}return A.\u0275fac=function(f){return new(f||A)},A.\u0275mod=w.oAB({type:A}),A.\u0275inj=w.cJS({providers:[Ie,{provide:Xe,useExisting:Ie,multi:!0},{provide:X,useClass:J},{provide:re,useValue:"XSRF-TOKEN"},{provide:B,useValue:"X-XSRF-TOKEN"}]}),A})(),xn=(()=>{class A{}return A.\u0275fac=function(f){return new(f||A)},A.\u0275mod=w.oAB({type:A}),A.\u0275inj=w.cJS({providers:[jn,{provide:rr,useClass:Qe},ee,{provide:sr,useExisting:ee}],imports:[[wn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),A})();var Ar=L(2011),Yr=L(655),hr=L(515),wr=L(5363),je=L(3900),Le=L(3151),rt=L(880),Zt=L(7982),Nn=L(3385),Rn=L(127),Hn=L(8421),br=L(7579),Gn=L(4482),kr=L(5403);class Pn extends kr.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}var Si=L(5577),Mi=L(1884),ti=L(8675),jr=L(1520),gr=L(3692),Mr=L(5867);const gs="firebase_screen_id",Cs="outlet",es="screen_class",bi="screen_name";let po=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const ci={},Ii=A=>{const d=[A[es],A[Cs]].join("#");if(ci.hasOwnProperty(d))return ci[d];{const f=po++;return ci[d]=f,f}},_s=new w.OlP("angularfire2.analytics.analyticsCollectionEnabled"),Ni=new w.OlP("angularfire2.analytics.appVersion"),Hr=new w.OlP("angularfire2.analytics.appName"),Gr=new w.OlP("angularfire2.analytics.debugMode"),is=new w.OlP("angularfire2.analytics.config"),yr="dataLayer";let Or=(()=>{class A{constructor(f,T,k,W,ce,pe,ke,ut,Pt){if(this.analyticsInitialized=new Promise(()=>{}),(0,oe.NF)(ke)){window[yr]=window[yr]||[];const Wt=(...hn)=>"config"===hn[0]&&"firebase"===hn[2].origin&&(this.measurementId=hn[1],!0),Rt=hn=>{window.gtag=(...Fn)=>{hn&&hn(...Fn),"event"===Fn[0]&&Fn[2].send_to===this.measurementId&&(W&&(Fn[2].app_name=W),k&&(Fn[2].app_version=k)),ce&&"undefined"!=typeof console&&console.info(...Fn),function(...dr){window[yr].push(arguments)}(...Fn)}};window[yr].some(Wt)?(this.analyticsInitialized=Promise.resolve(),Rt()):this.analyticsInitialized=new Promise(hn=>{Rt((...Fn)=>{Wt(...Fn)&&hn()})}),pe&&this.updateConfig(pe),ce&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const Jt=(0,ze.of)(void 0).pipe((0,wr.Q)(Pt.outsideAngular),(0,je.w)(Zt.Gb),(0,je.w)(Wt=>Wt?ut.runOutsideAngular(()=>L.e(643).then(L.bind(L,8643))):hr.E),(0,dn.U)(()=>(0,Ar.cc)("analytics","AngularFireAnalytics",f.name,()=>{const Wt=f.analytics();return!1===T&&Wt.setAnalyticsCollectionEnabled(!1),Wt},[f,T,pe,ce])),(0,Le.d)({bufferSize:1,refCount:!1}));return(0,Ar.pX)(this,Jt,ut)}updateConfig(f){return(0,Yr.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},f),{update:!0}))})}}return A.\u0275fac=function(f){return new(f||A)(w.LFG(Ar.Ot),w.LFG(_s,8),w.LFG(Ni,8),w.LFG(Hr,8),w.LFG(Gr,8),w.LFG(is,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(rt.HU))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"any"}),A})(),P=(()=>{class A{constructor(f,T,k,W){if(this.disposables=[],Rn.Z.registerVersion("angularfire",rt.q4.full,"compat-user-tracking"),(0,oe.PM)(T))this.initialized=Promise.resolve();else{let ce;this.initialized=W.runOutsideAngular(()=>new Promise(pe=>ce=pe)),this.disposables=[k.authState.subscribe(pe=>{f.setUserId(null==pe?void 0:pe.uid),ce()}),k.credential.subscribe(pe=>{if(pe){const ke=pe.user.isAnonymous?"anonymous":pe.additionalUserInfo.providerId;pe.additionalUserInfo.isNewUser&&f.logEvent("sign_up",{method:ke}),f.logEvent("login",{method:ke})}})]}}ngOnDestroy(){this.disposables.forEach(f=>f.unsubscribe())}}return A.\u0275fac=function(f){return new(f||A)(w.LFG(Or),w.LFG(w.Lbi),w.LFG(Nn.zQ),w.LFG(w.R0b))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})(),F=(()=>{class A{constructor(f,T,k,W,ce,pe){if(Rn.Z.registerVersion("angularfire",rt.q4.full,"compat-screen-tracking"),!T||!f)return this;ce.runOutsideAngular(()=>{this.disposable=((A,d,f)=>A.events.pipe((0,En.h)(k=>k instanceof De.jw)).pipe((0,je.w)(k=>{var W;const pe=(null===(W=A.parseUrl(A.url.replace(/(?:\().+(?:\))/g,Rt=>Rt.replace("://",":///"))).root.children[k.snapshot.outlet])||void 0===W?void 0:W.toString())||"",ke=A.routerState.root.children.map(Rt=>Rt).find(Rt=>Rt.outlet===k.snapshot.outlet);if(!ke)return(0,ze.of)(null);let ut=ke;for(;ut.firstChild;)ut=ut.firstChild;const Pt=ut.pathFromRoot.map(Rt=>{var Yt;return null===(Yt=Rt.routeConfig)||void 0===Yt?void 0:Yt.path}).filter(Rt=>Rt).join("/")||"/",Jt={[bi]:Pt,page_path:`/${pe}`,firebase_event_origin:"auto",firebase_screen:Pt,[Cs]:k.snapshot.outlet};d&&(Jt.page_title=d.getTitle());let Wt=ke.component;if(Wt){if(Wt===De.fw){let Rt=k.snapshot;for(;Rt.firstChild;)Rt=Rt.firstChild;Wt=Rt.component}}else Wt=k.snapshot.component;if("string"==typeof Wt)return(0,ze.of)(Object.assign(Object.assign({},Jt),{[es]:Wt}));if(Wt){const Rt=f.resolveComponentFactory(Wt);return(0,ze.of)(Object.assign(Object.assign({},Jt),{[es]:Rt.selector}))}return(0,ze.of)(null)}),(0,En.h)(k=>!!k),(0,dn.U)(k=>Object.assign({firebase_screen_class:k[es],[gs]:Ii(k)},k)),function Ai(A,d,f,T){return(0,Gn.e)((k,W)=>{let ce;d&&"function"!=typeof d?({duration:f,element:ce,connector:T}=d):ce=d;const pe=new Map,ke=Wt=>{pe.forEach(Wt),Wt(W)},ut=Wt=>ke(Rt=>Rt.error(Wt)),Pt=new Pn(W,Wt=>{try{const Rt=A(Wt);let Yt=pe.get(Rt);if(!Yt){pe.set(Rt,Yt=T?T():new br.x);const hn=function Jt(Wt,Rt){const Yt=new It.y(hn=>{Pt.activeGroups++;const Fn=Rt.subscribe(hn);return()=>{Fn.unsubscribe(),0==--Pt.activeGroups&&Pt.teardownAttempted&&Pt.unsubscribe()}});return Yt.key=Wt,Yt}(Rt,Yt);if(W.next(hn),f){const Fn=new kr.Q(Yt,()=>{Yt.complete(),null==Fn||Fn.unsubscribe()},void 0,void 0,()=>pe.delete(Rt));Pt.add((0,Hn.Xf)(f(hn)).subscribe(Fn))}}Yt.next(ce?ce(Wt):Wt)}catch(Rt){ut(Rt)}},()=>ke(Wt=>Wt.complete()),ut,()=>pe.clear());k.subscribe(Pt)})}(k=>k[Cs]),(0,Si.z)(k=>k.pipe((0,Mi.x)((W,ce)=>JSON.stringify(W)===JSON.stringify(ce)),(0,ti.O)(void 0),(0,jr.G)(),(0,dn.U)(([W,ce])=>W?Object.assign({firebase_previous_class:W[es],firebase_previous_screen:W[bi],firebase_previous_id:W[gs]},ce):ce)))))(T,k,W).pipe((0,je.w)(ke=>(0,Yr.mG)(this,void 0,void 0,function*(){return pe&&(yield pe.initialized),yield f.logEvent("screen_view",ke)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return A.\u0275fac=function(f){return new(f||A)(w.LFG(Or),w.LFG(De.F0,8),w.LFG(c.Dx,8),w.LFG(w._Vd),w.LFG(w.R0b),w.LFG(P,8))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})(),te=(()=>{class A{constructor(f,T,k){Rn.Z.registerVersion("angularfire",rt.q4.full,"analytics-compat"),f.app.then(()=>{})}}return A.\u0275fac=function(f){return new(f||A)(w.LFG(Or),w.LFG(F,8),w.LFG(P,8))},A.\u0275mod=w.oAB({type:A}),A.\u0275inj=w.cJS({providers:[Or]}),A})();var ve=L(1777);function gt(){return"undefined"!=typeof window&&void 0!==window.document}function Mt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function on(A){switch(A.length){case 0:return new ve.ZN;case 1:return A[0];default:return new ve.ZE(A)}}function V(A,d,f,T,k={},W={}){const ce=[],pe=[];let ke=-1,ut=null;if(T.forEach(Pt=>{const Jt=Pt.offset,Wt=Jt==ke,Rt=Wt&&ut||{};Object.keys(Pt).forEach(Yt=>{let hn=Yt,Fn=Pt[Yt];if("offset"!==Yt)switch(hn=d.normalizePropertyName(hn,ce),Fn){case ve.k1:Fn=k[Yt];break;case ve.l3:Fn=W[Yt];break;default:Fn=d.normalizeStyleValue(Yt,hn,Fn,ce)}Rt[hn]=Fn}),Wt||pe.push(Rt),ut=Rt,ke=Jt}),ce.length){const Pt="\n - ";throw new Error(`Unable to animate due to the following errors:${Pt}${ce.join(Pt)}`)}return pe}function E(A,d,f,T){switch(d){case"start":A.onStart(()=>T(f&&y(f,"start",A)));break;case"done":A.onDone(()=>T(f&&y(f,"done",A)));break;case"destroy":A.onDestroy(()=>T(f&&y(f,"destroy",A)))}}function y(A,d,f){const T=f.totalTime,W=N(A.element,A.triggerName,A.fromState,A.toState,d||A.phaseName,null==T?A.totalTime:T,!!f.disabled),ce=A._data;return null!=ce&&(W._data=ce),W}function N(A,d,f,T,k="",W=0,ce){return{element:A,triggerName:d,fromState:f,toState:T,phaseName:k,totalTime:W,disabled:!!ce}}function ae(A,d,f){let T;return A instanceof Map?(T=A.get(d),T||A.set(d,T=f)):(T=A[d],T||(T=A[d]=f)),T}function Ze(A){const d=A.indexOf(":");return[A.substring(1,d),A.substr(d+1)]}let bt=(A,d)=>!1,St=(A,d)=>!1,or=(A,d,f)=>[];const Tr=Mt();(Tr||"undefined"!=typeof Element)&&(bt=gt()?(A,d)=>{for(;d&&d!==document.documentElement;){if(d===A)return!0;d=d.parentNode||d.host}return!1}:(A,d)=>A.contains(d),St=(()=>{if(Tr||Element.prototype.matches)return(A,d)=>A.matches(d);{const A=Element.prototype,d=A.matchesSelector||A.mozMatchesSelector||A.msMatchesSelector||A.oMatchesSelector||A.webkitMatchesSelector;return d?(f,T)=>d.apply(f,[T]):St}})(),or=(A,d,f)=>{let T=[];if(f){const k=A.querySelectorAll(d);for(let W=0;W<k.length;W++)T.push(k[W])}else{const k=A.querySelector(d);k&&T.push(k)}return T});let ir=null,kn=!1;function ji(A){ir||(ir=function os(){return"undefined"!=typeof document?document.body:null}()||{},kn=!!ir.style&&"WebkitAppearance"in ir.style);let d=!0;return ir.style&&!function ar(A){return"ebkit"==A.substring(1,6)}(A)&&(d=A in ir.style,!d&&kn&&(d="Webkit"+A.charAt(0).toUpperCase()+A.substr(1)in ir.style)),d}const At=St,Zn=bt,js=or;function Vn(A){const d={};return Object.keys(A).forEach(f=>{const T=f.replace(/([a-z])([A-Z])/g,"$1-$2");d[T]=A[f]}),d}let $s=(()=>{class A{validateStyleProperty(f){return ji(f)}matchesElement(f,T){return At(f,T)}containsElement(f,T){return Zn(f,T)}query(f,T,k){return js(f,T,k)}computeStyle(f,T,k){return k||""}animate(f,T,k,W,ce,pe=[],ke){return new ve.ZN(k,W)}}return A.\u0275fac=function(f){return new(f||A)},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})(),$i=(()=>{class A{}return A.NOOP=new $s,A})();const uu="ng-enter",Vo="ng-leave",ii="ng-trigger",di=".ng-trigger",Jo="ng-animating",Mo=".ng-animating";function mi(A){if("number"==typeof A)return A;const d=A.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:Oo(parseFloat(d[1]),d[2])}function Oo(A,d){return"s"===d?1e3*A:A}function xo(A,d,f){return A.hasOwnProperty("duration")?A:function lu(A,d,f){let k,W=0,ce="";if("string"==typeof A){const pe=A.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===pe)return d.push(`The provided timing value "${A}" is invalid.`),{duration:0,delay:0,easing:""};k=Oo(parseFloat(pe[1]),pe[2]);const ke=pe[3];null!=ke&&(W=Oo(parseFloat(ke),pe[4]));const ut=pe[5];ut&&(ce=ut)}else k=A;if(!f){let pe=!1,ke=d.length;k<0&&(d.push("Duration values below 0 are not allowed for this animation step."),pe=!0),W<0&&(d.push("Delay values below 0 are not allowed for this animation step."),pe=!0),pe&&d.splice(ke,0,`The provided timing value "${A}" is invalid.`)}return{duration:k,delay:W,easing:ce}}(A,d,f)}function Hs(A,d={}){return Object.keys(A).forEach(f=>{d[f]=A[f]}),d}function as(A,d,f={}){if(d)for(let T in A)f[T]=A[T];else Hs(A,f);return f}function Uo(A,d,f){return f?d+":"+f+";":""}function Ta(A){let d="";for(let f=0;f<A.style.length;f++){const T=A.style.item(f);d+=Uo(0,T,A.style.getPropertyValue(T))}for(const f in A.style)A.style.hasOwnProperty(f)&&!f.startsWith("_")&&(d+=Uo(0,si(f),A.style[f]));A.setAttribute("style",d)}function Ms(A,d,f){A.style&&(Object.keys(d).forEach(T=>{const k=ta(T);f&&!f.hasOwnProperty(T)&&(f[T]=A.style[k]),A.style[k]=d[T]}),Mt()&&Ta(A))}function vs(A,d){A.style&&(Object.keys(d).forEach(f=>{const T=ta(f);A.style[T]=""}),Mt()&&Ta(A))}function Gs(A){return Array.isArray(A)?1==A.length?A[0]:(0,ve.vP)(A):A}const ea=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ys(A){let d=[];if("string"==typeof A){let f;for(;f=ea.exec(A);)d.push(f[1]);ea.lastIndex=0}return d}function Bo(A,d,f){const T=A.toString(),k=T.replace(ea,(W,ce)=>{let pe=d[ce];return d.hasOwnProperty(ce)||(f.push(`Please provide a value for the animation param ${ce}`),pe=""),pe.toString()});return k==T?A:k}function Qs(A){const d=[];let f=A.next();for(;!f.done;)d.push(f.value),f=A.next();return d}const ku=/-+([a-z0-9])/g;function ta(A){return A.replace(ku,(...d)=>d[1].toUpperCase())}function si(A){return A.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Js(A,d){return 0===A||0===d}function Jr(A,d,f){const T=Object.keys(f);if(T.length&&d.length){let W=d[0],ce=[];if(T.forEach(pe=>{W.hasOwnProperty(pe)||ce.push(pe),W[pe]=f[pe]}),ce.length)for(var k=1;k<d.length;k++){let pe=d[k];ce.forEach(function(ke){pe[ke]=Ha(A,ke)})}}return d}function Ki(A,d,f){switch(d.type){case 7:return A.visitTrigger(d,f);case 0:return A.visitState(d,f);case 1:return A.visitTransition(d,f);case 2:return A.visitSequence(d,f);case 3:return A.visitGroup(d,f);case 4:return A.visitAnimate(d,f);case 5:return A.visitKeyframes(d,f);case 6:return A.visitStyle(d,f);case 8:return A.visitReference(d,f);case 9:return A.visitAnimateChild(d,f);case 10:return A.visitAnimateRef(d,f);case 11:return A.visitQuery(d,f);case 12:return A.visitStagger(d,f);default:throw new Error(`Unable to resolve animation metadata node #${d.type}`)}}function Ha(A,d){return window.getComputedStyle(A)[d]}function Os(A,d){const f=[];return"string"==typeof A?A.split(/\s*,\s*/).forEach(T=>function Al(A,d,f){if(":"==A[0]){const ke=function Sl(A,d){switch(A){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(f,T)=>parseFloat(T)>parseFloat(f);case":decrement":return(f,T)=>parseFloat(T)<parseFloat(f);default:return d.push(`The transition alias value "${A}" is not supported`),"* => *"}}(A,f);if("function"==typeof ke)return void d.push(ke);A=ke}const T=A.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==T||T.length<4)return f.push(`The provided transition expression "${A}" is not supported`),d;const k=T[1],W=T[2],ce=T[3];d.push(jo(k,ce));"<"==W[0]&&!("*"==k&&"*"==ce)&&d.push(jo(ce,k))}(T,f,d)):f.push(A),f}const qi=new Set(["true","1"]),Es=new Set(["false","0"]);function jo(A,d){const f=qi.has(A)||Es.has(A),T=qi.has(d)||Es.has(d);return(k,W)=>{let ce="*"==A||A==k,pe="*"==d||d==W;return!ce&&f&&"boolean"==typeof k&&(ce=k?qi.has(A):Es.has(A)),!pe&&T&&"boolean"==typeof W&&(pe=W?qi.has(d):Es.has(d)),ce&&pe}}const Fu=new RegExp("s*:selfs*,?","g");function ra(A,d,f){return new Xs(A).build(d,f)}class Xs{constructor(d){this._driver=d}build(d,f){const T=new go(f);return this._resetContextStyleTimingState(T),Ki(this,Gs(d),T)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles={},d.collectedStyles[""]={},d.currentTime=0}visitTrigger(d,f){let T=f.queryCount=0,k=f.depCount=0;const W=[],ce=[];return"@"==d.name.charAt(0)&&f.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),d.definitions.forEach(pe=>{if(this._resetContextStyleTimingState(f),0==pe.type){const ke=pe,ut=ke.name;ut.toString().split(/\s*,\s*/).forEach(Pt=>{ke.name=Pt,W.push(this.visitState(ke,f))}),ke.name=ut}else if(1==pe.type){const ke=this.visitTransition(pe,f);T+=ke.queryCount,k+=ke.depCount,ce.push(ke)}else f.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:d.name,states:W,transitions:ce,queryCount:T,depCount:k,options:null}}visitState(d,f){const T=this.visitStyle(d.styles,f),k=d.options&&d.options.params||null;if(T.containsDynamicStyles){const W=new Set,ce=k||{};if(T.styles.forEach(pe=>{if(mo(pe)){const ke=pe;Object.keys(ke).forEach(ut=>{Ys(ke[ut]).forEach(Pt=>{ce.hasOwnProperty(Pt)||W.add(Pt)})})}}),W.size){const pe=Qs(W.values());f.errors.push(`state("${d.name}", ...) must define default values for all the following style substitutions: ${pe.join(", ")}`)}}return{type:0,name:d.name,style:T,options:k?{params:k}:null}}visitTransition(d,f){f.queryCount=0,f.depCount=0;const T=Ki(this,Gs(d.animation),f);return{type:1,matchers:Os(d.expr,f.errors),animation:T,queryCount:f.queryCount,depCount:f.depCount,options:_o(d.options)}}visitSequence(d,f){return{type:2,steps:d.steps.map(T=>Ki(this,T,f)),options:_o(d.options)}}visitGroup(d,f){const T=f.currentTime;let k=0;const W=d.steps.map(ce=>{f.currentTime=T;const pe=Ki(this,ce,f);return k=Math.max(k,f.currentTime),pe});return f.currentTime=k,{type:3,steps:W,options:_o(d.options)}}visitAnimate(d,f){const T=function yo(A,d){let f=null;if(A.hasOwnProperty("duration"))f=A;else if("number"==typeof A)return cu(xo(A,d).duration,0,"");const T=A;if(T.split(/\s+/).some(W=>"{"==W.charAt(0)&&"{"==W.charAt(1))){const W=cu(0,0,"");return W.dynamic=!0,W.strValue=T,W}return f=f||xo(T,d),cu(f.duration,f.delay,f.easing)}(d.timings,f.errors);f.currentAnimateTimings=T;let k,W=d.styles?d.styles:(0,ve.oB)({});if(5==W.type)k=this.visitKeyframes(W,f);else{let ce=d.styles,pe=!1;if(!ce){pe=!0;const ut={};T.easing&&(ut.easing=T.easing),ce=(0,ve.oB)(ut)}f.currentTime+=T.duration+T.delay;const ke=this.visitStyle(ce,f);ke.isEmptyStep=pe,k=ke}return f.currentAnimateTimings=null,{type:4,timings:T,style:k,options:null}}visitStyle(d,f){const T=this._makeStyleAst(d,f);return this._validateStyleAst(T,f),T}_makeStyleAst(d,f){const T=[];Array.isArray(d.styles)?d.styles.forEach(ce=>{"string"==typeof ce?ce==ve.l3?T.push(ce):f.errors.push(`The provided style string value ${ce} is not allowed.`):T.push(ce)}):T.push(d.styles);let k=!1,W=null;return T.forEach(ce=>{if(mo(ce)){const pe=ce,ke=pe.easing;if(ke&&(W=ke,delete pe.easing),!k)for(let ut in pe)if(pe[ut].toString().indexOf("{{")>=0){k=!0;break}}}),{type:6,styles:T,easing:W,offset:d.offset,containsDynamicStyles:k,options:null}}_validateStyleAst(d,f){const T=f.currentAnimateTimings;let k=f.currentTime,W=f.currentTime;T&&W>0&&(W-=T.duration+T.delay),d.styles.forEach(ce=>{"string"!=typeof ce&&Object.keys(ce).forEach(pe=>{if(!this._driver.validateStyleProperty(pe))return void f.errors.push(`The provided animation property "${pe}" is not a supported CSS property for animations`);const ke=f.collectedStyles[f.currentQuerySelector],ut=ke[pe];let Pt=!0;ut&&(W!=k&&W>=ut.startTime&&k<=ut.endTime&&(f.errors.push(`The CSS property "${pe}" that exists between the times of "${ut.startTime}ms" and "${ut.endTime}ms" is also being animated in a parallel animation between the times of "${W}ms" and "${k}ms"`),Pt=!1),W=ut.startTime),Pt&&(ke[pe]={startTime:W,endTime:k}),f.options&&function Xo(A,d,f){const T=d.params||{},k=Ys(A);k.length&&k.forEach(W=>{T.hasOwnProperty(W)||f.push(`Unable to resolve the local animation param ${W} in the given list of values`)})}(ce[pe],f.options,f.errors)})})}visitKeyframes(d,f){const T={type:5,styles:[],options:null};if(!f.currentAnimateTimings)return f.errors.push("keyframes() must be placed inside of a call to animate()"),T;let W=0;const ce=[];let pe=!1,ke=!1,ut=0;const Pt=d.steps.map(dr=>{const Zr=this._makeStyleAst(dr,f);let Qi=null!=Zr.offset?Zr.offset:function oi(A){if("string"==typeof A)return null;let d=null;if(Array.isArray(A))A.forEach(f=>{if(mo(f)&&f.hasOwnProperty("offset")){const T=f;d=parseFloat(T.offset),delete T.offset}});else if(mo(A)&&A.hasOwnProperty("offset")){const f=A;d=parseFloat(f.offset),delete f.offset}return d}(Zr.styles),Li=0;return null!=Qi&&(W++,Li=Zr.offset=Qi),ke=ke||Li<0||Li>1,pe=pe||Li<ut,ut=Li,ce.push(Li),Zr});ke&&f.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),pe&&f.errors.push("Please ensure that all keyframe offsets are in order");const Jt=d.steps.length;let Wt=0;W>0&&W<Jt?f.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==W&&(Wt=1/(Jt-1));const Rt=Jt-1,Yt=f.currentTime,hn=f.currentAnimateTimings,Fn=hn.duration;return Pt.forEach((dr,Zr)=>{const Qi=Wt>0?Zr==Rt?1:Wt*Zr:ce[Zr],Li=Qi*Fn;f.currentTime=Yt+hn.delay+Li,hn.duration=Li,this._validateStyleAst(dr,f),dr.offset=Qi,T.styles.push(dr)}),T}visitReference(d,f){return{type:8,animation:Ki(this,Gs(d.animation),f),options:_o(d.options)}}visitAnimateChild(d,f){return f.depCount++,{type:9,options:_o(d.options)}}visitAnimateRef(d,f){return{type:10,animation:this.visitReference(d.animation,f),options:_o(d.options)}}visitQuery(d,f){const T=f.currentQuerySelector,k=d.options||{};f.queryCount++,f.currentQuery=d;const[W,ce]=function zs(A){const d=!!A.split(/\s*,\s*/).find(f=>":self"==f);return d&&(A=A.replace(Fu,"")),A=A.replace(/@\*/g,di).replace(/@\w+/g,f=>di+"-"+f.substr(1)).replace(/:animating/g,Mo),[A,d]}(d.selector);f.currentQuerySelector=T.length?T+" "+W:W,ae(f.collectedStyles,f.currentQuerySelector,{});const pe=Ki(this,Gs(d.animation),f);return f.currentQuery=null,f.currentQuerySelector=T,{type:11,selector:W,limit:k.limit||0,optional:!!k.optional,includeSelf:ce,animation:pe,originalSelector:d.selector,options:_o(d.options)}}visitStagger(d,f){f.currentQuery||f.errors.push("stagger() can only be used inside of query()");const T="full"===d.timings?{duration:0,delay:0,easing:"full"}:xo(d.timings,f.errors,!0);return{type:12,animation:Ki(this,Gs(d.animation),f),timings:T,options:null}}}class go{constructor(d){this.errors=d,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function mo(A){return!Array.isArray(A)&&"object"==typeof A}function _o(A){return A?(A=Hs(A)).params&&(A.params=function Lu(A){return A?Hs(A):null}(A.params)):A={},A}function cu(A,d,f){return{duration:A,delay:d,easing:f}}function jt(A,d,f,T,k,W,ce=null,pe=!1){return{type:1,element:A,keyframes:d,preStyleProps:f,postStyleProps:T,duration:k,delay:W,totalTime:k+W,easing:ce,subTimeline:pe}}class Fr{constructor(){this._map=new Map}consume(d){let f=this._map.get(d);return f?this._map.delete(d):f=[],f}append(d,f){let T=this._map.get(d);T||this._map.set(d,T=[]),T.push(...f)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const yn=new RegExp(":enter","g"),sa=new RegExp(":leave","g");function $t(A,d,f,T,k,W={},ce={},pe,ke,ut=[]){return(new ht).buildKeyframes(A,d,f,T,k,W,ce,pe,ke,ut)}class ht{buildKeyframes(d,f,T,k,W,ce,pe,ke,ut,Pt=[]){ut=ut||new Fr;const Jt=new Xr(d,f,ut,k,W,Pt,[]);Jt.options=ke,Jt.currentTimeline.setStyles([ce],null,Jt.errors,ke),Ki(this,T,Jt);const Wt=Jt.timelines.filter(Rt=>Rt.containsAnimation());if(Wt.length&&Object.keys(pe).length){const Rt=Wt[Wt.length-1];Rt.allowOnlyTimelineStyles()||Rt.setStyles([pe],null,Jt.errors,ke)}return Wt.length?Wt.map(Rt=>Rt.buildKeyframes()):[jt(f,[],[],[],0,0,"",!1)]}visitTrigger(d,f){}visitState(d,f){}visitTransition(d,f){}visitAnimateChild(d,f){const T=f.subInstructions.consume(f.element);if(T){const k=f.createSubContext(d.options),W=f.currentTimeline.currentTime,ce=this._visitSubInstructions(T,k,k.options);W!=ce&&f.transformIntoNewTimeline(ce)}f.previousNode=d}visitAnimateRef(d,f){const T=f.createSubContext(d.options);T.transformIntoNewTimeline(),this.visitReference(d.animation,T),f.transformIntoNewTimeline(T.currentTimeline.currentTime),f.previousNode=d}_visitSubInstructions(d,f,T){let W=f.currentTimeline.currentTime;const ce=null!=T.duration?mi(T.duration):null,pe=null!=T.delay?mi(T.delay):null;return 0!==ce&&d.forEach(ke=>{const ut=f.appendInstructionToTimeline(ke,ce,pe);W=Math.max(W,ut.duration+ut.delay)}),W}visitReference(d,f){f.updateOptions(d.options,!0),Ki(this,d.animation,f),f.previousNode=d}visitSequence(d,f){const T=f.subContextCount;let k=f;const W=d.options;if(W&&(W.params||W.delay)&&(k=f.createSubContext(W),k.transformIntoNewTimeline(),null!=W.delay)){6==k.previousNode.type&&(k.currentTimeline.snapshotCurrentStyles(),k.previousNode=Ot);const ce=mi(W.delay);k.delayNextStep(ce)}d.steps.length&&(d.steps.forEach(ce=>Ki(this,ce,k)),k.currentTimeline.applyStylesToKeyframe(),k.subContextCount>T&&k.transformIntoNewTimeline()),f.previousNode=d}visitGroup(d,f){const T=[];let k=f.currentTimeline.currentTime;const W=d.options&&d.options.delay?mi(d.options.delay):0;d.steps.forEach(ce=>{const pe=f.createSubContext(d.options);W&&pe.delayNextStep(W),Ki(this,ce,pe),k=Math.max(k,pe.currentTimeline.currentTime),T.push(pe.currentTimeline)}),T.forEach(ce=>f.currentTimeline.mergeTimelineCollectedStyles(ce)),f.transformIntoNewTimeline(k),f.previousNode=d}_visitTiming(d,f){if(d.dynamic){const T=d.strValue;return xo(f.params?Bo(T,f.params,f.errors):T,f.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,f){const T=f.currentAnimateTimings=this._visitTiming(d.timings,f),k=f.currentTimeline;T.delay&&(f.incrementTime(T.delay),k.snapshotCurrentStyles());const W=d.style;5==W.type?this.visitKeyframes(W,f):(f.incrementTime(T.duration),this.visitStyle(W,f),k.applyStylesToKeyframe()),f.currentAnimateTimings=null,f.previousNode=d}visitStyle(d,f){const T=f.currentTimeline,k=f.currentAnimateTimings;!k&&T.getCurrentStyleProperties().length&&T.forwardFrame();const W=k&&k.easing||d.easing;d.isEmptyStep?T.applyEmptyStep(W):T.setStyles(d.styles,W,f.errors,f.options),f.previousNode=d}visitKeyframes(d,f){const T=f.currentAnimateTimings,k=f.currentTimeline.duration,W=T.duration,pe=f.createSubContext().currentTimeline;pe.easing=T.easing,d.styles.forEach(ke=>{pe.forwardTime((ke.offset||0)*W),pe.setStyles(ke.styles,ke.easing,f.errors,f.options),pe.applyStylesToKeyframe()}),f.currentTimeline.mergeTimelineCollectedStyles(pe),f.transformIntoNewTimeline(k+W),f.previousNode=d}visitQuery(d,f){const T=f.currentTimeline.currentTime,k=d.options||{},W=k.delay?mi(k.delay):0;W&&(6===f.previousNode.type||0==T&&f.currentTimeline.getCurrentStyleProperties().length)&&(f.currentTimeline.snapshotCurrentStyles(),f.previousNode=Ot);let ce=T;const pe=f.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!k.optional,f.errors);f.currentQueryTotal=pe.length;let ke=null;pe.forEach((ut,Pt)=>{f.currentQueryIndex=Pt;const Jt=f.createSubContext(d.options,ut);W&&Jt.delayNextStep(W),ut===f.element&&(ke=Jt.currentTimeline),Ki(this,d.animation,Jt),Jt.currentTimeline.applyStylesToKeyframe(),ce=Math.max(ce,Jt.currentTimeline.currentTime)}),f.currentQueryIndex=0,f.currentQueryTotal=0,f.transformIntoNewTimeline(ce),ke&&(f.currentTimeline.mergeTimelineCollectedStyles(ke),f.currentTimeline.snapshotCurrentStyles()),f.previousNode=d}visitStagger(d,f){const T=f.parentContext,k=f.currentTimeline,W=d.timings,ce=Math.abs(W.duration),pe=ce*(f.currentQueryTotal-1);let ke=ce*f.currentQueryIndex;switch(W.duration<0?"reverse":W.easing){case"reverse":ke=pe-ke;break;case"full":ke=T.currentStaggerTime}const Pt=f.currentTimeline;ke&&Pt.delayNextStep(ke);const Jt=Pt.currentTime;Ki(this,d.animation,f),f.previousNode=d,T.currentStaggerTime=k.currentTime-Jt+(k.startTime-T.currentTimeline.startTime)}}const Ot={};class Xr{constructor(d,f,T,k,W,ce,pe,ke){this._driver=d,this.element=f,this.subInstructions=T,this._enterClassName=k,this._leaveClassName=W,this.errors=ce,this.timelines=pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ot,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ke||new oa(this._driver,f,0),pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,f){if(!d)return;const T=d;let k=this.options;null!=T.duration&&(k.duration=mi(T.duration)),null!=T.delay&&(k.delay=mi(T.delay));const W=T.params;if(W){let ce=k.params;ce||(ce=this.options.params={}),Object.keys(W).forEach(pe=>{(!f||!ce.hasOwnProperty(pe))&&(ce[pe]=Bo(W[pe],ce,this.errors))})}}_copyOptions(){const d={};if(this.options){const f=this.options.params;if(f){const T=d.params={};Object.keys(f).forEach(k=>{T[k]=f[k]})}}return d}createSubContext(d=null,f,T){const k=f||this.element,W=new Xr(this._driver,k,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(k,T||0));return W.previousNode=this.previousNode,W.currentAnimateTimings=this.currentAnimateTimings,W.options=this._copyOptions(),W.updateOptions(d),W.currentQueryIndex=this.currentQueryIndex,W.currentQueryTotal=this.currentQueryTotal,W.parentContext=this,this.subContextCount++,W}transformIntoNewTimeline(d){return this.previousNode=Ot,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,f,T){const k={duration:null!=f?f:d.duration,delay:this.currentTimeline.currentTime+(null!=T?T:0)+d.delay,easing:""},W=new Vu(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,k,d.stretchStartingKeyframe);return this.timelines.push(W),k}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,f,T,k,W,ce){let pe=[];if(k&&pe.push(this.element),d.length>0){d=(d=d.replace(yn,"."+this._enterClassName)).replace(sa,"."+this._leaveClassName);let ut=this._driver.query(this.element,d,1!=T);0!==T&&(ut=T<0?ut.slice(ut.length+T,ut.length):ut.slice(0,T)),pe.push(...ut)}return!W&&0==pe.length&&ce.push(`\`query("${f}")\` returned zero elements. (Use \`query("${f}", { optional: true })\` if you wish to allow this.)`),pe}}class oa{constructor(d,f,T,k){this._driver=d,this.element=f,this.startTime=T,this._elementTimelineStylesLookup=k,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(f),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(f,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const f=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||f?(this.forwardTime(this.currentTime+d),f&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,f){return this.applyStylesToKeyframe(),new oa(this._driver,d,f||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,f){this._localTimelineStyles[d]=f,this._globalTimelineStyles[d]=f,this._styleSummary[d]={time:this.currentTime,value:f}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&(this._previousKeyframe.easing=d),Object.keys(this._globalTimelineStyles).forEach(f=>{this._backFill[f]=this._globalTimelineStyles[f]||ve.l3,this._currentKeyframe[f]=ve.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,f,T,k){f&&(this._previousKeyframe.easing=f);const W=k&&k.params||{},ce=function Uu(A,d){const f={};let T;return A.forEach(k=>{"*"===k?(T=T||Object.keys(d),T.forEach(W=>{f[W]=ve.l3})):as(k,!1,f)}),f}(d,this._globalTimelineStyles);Object.keys(ce).forEach(pe=>{const ke=Bo(ce[pe],W,T);this._pendingStyles[pe]=ke,this._localTimelineStyles.hasOwnProperty(pe)||(this._backFill[pe]=this._globalTimelineStyles.hasOwnProperty(pe)?this._globalTimelineStyles[pe]:ve.l3),this._updateStyle(pe,ke)})}applyStylesToKeyframe(){const d=this._pendingStyles,f=Object.keys(d);0!=f.length&&(this._pendingStyles={},f.forEach(T=>{this._currentKeyframe[T]=d[T]}),Object.keys(this._localTimelineStyles).forEach(T=>{this._currentKeyframe.hasOwnProperty(T)||(this._currentKeyframe[T]=this._localTimelineStyles[T])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(d=>{const f=this._localTimelineStyles[d];this._pendingStyles[d]=f,this._updateStyle(d,f)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let f in this._currentKeyframe)d.push(f);return d}mergeTimelineCollectedStyles(d){Object.keys(d._styleSummary).forEach(f=>{const T=this._styleSummary[f],k=d._styleSummary[f];(!T||k.time>T.time)&&this._updateStyle(f,k.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,f=new Set,T=1===this._keyframes.size&&0===this.duration;let k=[];this._keyframes.forEach((pe,ke)=>{const ut=as(pe,!0);Object.keys(ut).forEach(Pt=>{const Jt=ut[Pt];Jt==ve.k1?d.add(Pt):Jt==ve.l3&&f.add(Pt)}),T||(ut.offset=ke/this.duration),k.push(ut)});const W=d.size?Qs(d.values()):[],ce=f.size?Qs(f.values()):[];if(T){const pe=k[0],ke=Hs(pe);pe.offset=0,ke.offset=1,k=[pe,ke]}return jt(this.element,k,W,ce,this.duration,this.startTime,this.easing,!1)}}class Vu extends oa{constructor(d,f,T,k,W,ce,pe=!1){super(d,f,ce.delay),this.keyframes=T,this.preStyleProps=k,this.postStyleProps=W,this._stretchStartingKeyframe=pe,this.timings={duration:ce.duration,delay:ce.delay,easing:ce.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:f,duration:T,easing:k}=this.timings;if(this._stretchStartingKeyframe&&f){const W=[],ce=T+f,pe=f/ce,ke=as(d[0],!1);ke.offset=0,W.push(ke);const ut=as(d[0],!1);ut.offset=Da(pe),W.push(ut);const Pt=d.length-1;for(let Jt=1;Jt<=Pt;Jt++){let Wt=as(d[Jt],!1);Wt.offset=Da((f+Wt.offset*T)/ce),W.push(Wt)}T=ce,f=0,k="",d=W}return jt(this.element,d,this.preStyleProps,this.postStyleProps,T,f,k,!0)}}function Da(A,d=3){const f=Math.pow(10,d-1);return Math.round(A*f)/f}class Ws{}class aa extends Ws{normalizePropertyName(d,f){return ta(d)}normalizeStyleValue(d,f,T,k){let W="";const ce=T.toString().trim();if(M[f]&&0!==T&&"0"!==T)if("number"==typeof T)W="px";else{const pe=T.match(/^[+-]?[\d\.]+([a-z]*)$/);pe&&0==pe[1].length&&k.push(`Please provide a CSS unit value for ${d}:${T}`)}return ce+W}}const M=(()=>function I(A){const d={};return A.forEach(f=>d[f]=!0),d}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function b(A,d,f,T,k,W,ce,pe,ke,ut,Pt,Jt,Wt){return{type:0,element:A,triggerName:d,isRemovalTransition:k,fromState:f,fromStyles:W,toState:T,toStyles:ce,timelines:pe,queriedElements:ke,preStyleProps:ut,postStyleProps:Pt,totalTime:Jt,errors:Wt}}const R={};class U{constructor(d,f,T){this._triggerName=d,this.ast=f,this._stateStyles=T}match(d,f,T,k){return function Y(A,d,f,T,k){return A.some(W=>W(d,f,T,k))}(this.ast.matchers,d,f,T,k)}buildStyles(d,f,T){const k=this._stateStyles["*"],W=this._stateStyles[d],ce=k?k.buildStyles(f,T):{};return W?W.buildStyles(f,T):ce}build(d,f,T,k,W,ce,pe,ke,ut,Pt){const Jt=[],Wt=this.ast.options&&this.ast.options.params||R,Yt=this.buildStyles(T,pe&&pe.params||R,Jt),hn=ke&&ke.params||R,Fn=this.buildStyles(k,hn,Jt),dr=new Set,Zr=new Map,Qi=new Map,Li="void"===k,nu={params:Object.assign(Object.assign({},Wt),hn)},uo=Pt?[]:$t(d,f,this.ast.animation,W,ce,Yt,Fn,nu,ut,Jt);let Hi=0;if(uo.forEach(bs=>{Hi=Math.max(bs.duration+bs.delay,Hi)}),Jt.length)return b(f,this._triggerName,T,k,Li,Yt,Fn,[],[],Zr,Qi,Hi,Jt);uo.forEach(bs=>{const _a=bs.element,zl=ae(Zr,_a,{});bs.preStyleProps.forEach(bu=>zl[bu]=!0);const Pa=ae(Qi,_a,{});bs.postStyleProps.forEach(bu=>Pa[bu]=!0),_a!==f&&dr.add(_a)});const lo=Qs(dr.values());return b(f,this._triggerName,T,k,Li,Yt,Fn,uo,lo,Zr,Qi,Hi)}}class ye{constructor(d,f,T){this.styles=d,this.defaultParams=f,this.normalizer=T}buildStyles(d,f){const T={},k=Hs(this.defaultParams);return Object.keys(d).forEach(W=>{const ce=d[W];null!=ce&&(k[W]=ce)}),this.styles.styles.forEach(W=>{if("string"!=typeof W){const ce=W;Object.keys(ce).forEach(pe=>{let ke=ce[pe];ke.length>1&&(ke=Bo(ke,k,f));const ut=this.normalizer.normalizePropertyName(pe,f);ke=this.normalizer.normalizeStyleValue(pe,ut,ke,f),T[ut]=ke})}}),T}}class Je{constructor(d,f,T){this.name=d,this.ast=f,this._normalizer=T,this.transitionFactories=[],this.states={},f.states.forEach(k=>{this.states[k.name]=new ye(k.style,k.options&&k.options.params||{},T)}),zn(this.states,"true","1"),zn(this.states,"false","0"),f.transitions.forEach(k=>{this.transitionFactories.push(new U(d,k,this.states))}),this.fallbackTransition=function cn(A,d,f){return new U(A,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ce,pe)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,f,T,k){return this.transitionFactories.find(ce=>ce.match(d,f,T,k))||null}matchStyles(d,f,T){return this.fallbackTransition.buildStyles(d,f,T)}}function zn(A,d,f){A.hasOwnProperty(d)?A.hasOwnProperty(f)||(A[f]=A[d]):A.hasOwnProperty(f)&&(A[d]=A[f])}const An=new Fr;class _r{constructor(d,f,T){this.bodyNode=d,this._driver=f,this._normalizer=T,this._animations={},this._playersById={},this.players=[]}register(d,f){const T=[],k=ra(this._driver,f,T);if(T.length)throw new Error(`Unable to build the animation due to the following errors: ${T.join("\n")}`);this._animations[d]=k}_buildPlayer(d,f,T){const k=d.element,W=V(0,this._normalizer,0,d.keyframes,f,T);return this._driver.animate(k,W,d.duration,d.delay,d.easing,[],!0)}create(d,f,T={}){const k=[],W=this._animations[d];let ce;const pe=new Map;if(W?(ce=$t(this._driver,f,W,uu,Vo,{},{},T,An,k),ce.forEach(Pt=>{const Jt=ae(pe,Pt.element,{});Pt.postStyleProps.forEach(Wt=>Jt[Wt]=null)})):(k.push("The requested animation doesn't exist or has already been destroyed"),ce=[]),k.length)throw new Error(`Unable to create the animation due to the following errors: ${k.join("\n")}`);pe.forEach((Pt,Jt)=>{Object.keys(Pt).forEach(Wt=>{Pt[Wt]=this._driver.computeStyle(Jt,Wt,ve.l3)})});const ut=on(ce.map(Pt=>{const Jt=pe.get(Pt.element);return this._buildPlayer(Pt,{},Jt)}));return this._playersById[d]=ut,ut.onDestroy(()=>this.destroy(d)),this.players.push(ut),ut}destroy(d){const f=this._getPlayer(d);f.destroy(),delete this._playersById[d];const T=this.players.indexOf(f);T>=0&&this.players.splice(T,1)}_getPlayer(d){const f=this._playersById[d];if(!f)throw new Error(`Unable to find the timeline player referenced by ${d}`);return f}listen(d,f,T,k){const W=N(f,"","","");return E(this._getPlayer(d),T,W,k),()=>{}}command(d,f,T,k){if("register"==T)return void this.register(d,k[0]);if("create"==T)return void this.create(d,f,k[0]||{});const W=this._getPlayer(d);switch(T){case"play":W.play();break;case"pause":W.pause();break;case"reset":W.reset();break;case"restart":W.restart();break;case"finish":W.finish();break;case"init":W.init();break;case"setPosition":W.setPosition(parseFloat(k[0]));break;case"destroy":this.destroy(d)}}}const vn="ng-animate-queued",xr="ng-animate-disabled",Ri=".ng-animate-disabled",us=[],_i={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Di="__ng_removed";class No{constructor(d,f=""){this.namespaceId=f;const T=d&&d.hasOwnProperty("value");if(this.value=function Bc(A){return null!=A?A:null}(T?d.value:d),T){const W=Hs(d);delete W.value,this.options=W}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(d){const f=d.params;if(f){const T=this.options.params;Object.keys(f).forEach(k=>{null==T[k]&&(T[k]=f[k])})}}}const du="void",$o=new No(du);class hi{constructor(d,f,T){this.id=d,this.hostElement=f,this._engine=T,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+d,Zi(f,this._hostClassName)}listen(d,f,T,k){if(!this._triggers.hasOwnProperty(f))throw new Error(`Unable to listen on the animation trigger event "${T}" because the animation trigger "${f}" doesn't exist!`);if(null==T||0==T.length)throw new Error(`Unable to listen on the animation trigger "${f}" because the provided event is undefined!`);if(!function jc(A){return"start"==A||"done"==A}(T))throw new Error(`The provided animation trigger event "${T}" for the animation trigger "${f}" is not supported!`);const W=ae(this._elementListeners,d,[]),ce={name:f,phase:T,callback:k};W.push(ce);const pe=ae(this._engine.statesByElement,d,{});return pe.hasOwnProperty(f)||(Zi(d,ii),Zi(d,ii+"-"+f),pe[f]=$o),()=>{this._engine.afterFlush(()=>{const ke=W.indexOf(ce);ke>=0&&W.splice(ke,1),this._triggers[f]||delete pe[f]})}}register(d,f){return!this._triggers[d]&&(this._triggers[d]=f,!0)}_getTrigger(d){const f=this._triggers[d];if(!f)throw new Error(`The provided animation trigger "${d}" has not been registered!`);return f}trigger(d,f,T,k=!0){const W=this._getTrigger(f),ce=new ua(this.id,f,d);let pe=this._engine.statesByElement.get(d);pe||(Zi(d,ii),Zi(d,ii+"-"+f),this._engine.statesByElement.set(d,pe={}));let ke=pe[f];const ut=new No(T,this.id);if(!(T&&T.hasOwnProperty("value"))&&ke&&ut.absorbOptions(ke.options),pe[f]=ut,ke||(ke=$o),ut.value!==du&&ke.value===ut.value){if(!function la(A,d){const f=Object.keys(A),T=Object.keys(d);if(f.length!=T.length)return!1;for(let k=0;k<f.length;k++){const W=f[k];if(!d.hasOwnProperty(W)||A[W]!==d[W])return!1}return!0}(ke.params,ut.params)){const hn=[],Fn=W.matchStyles(ke.value,ke.params,hn),dr=W.matchStyles(ut.value,ut.params,hn);hn.length?this._engine.reportError(hn):this._engine.afterFlush(()=>{vs(d,Fn),Ms(d,dr)})}return}const Wt=ae(this._engine.playersByElement,d,[]);Wt.forEach(hn=>{hn.namespaceId==this.id&&hn.triggerName==f&&hn.queued&&hn.destroy()});let Rt=W.matchTransition(ke.value,ut.value,d,ut.params),Yt=!1;if(!Rt){if(!k)return;Rt=W.fallbackTransition,Yt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:f,transition:Rt,fromState:ke,toState:ut,player:ce,isFallbackTransition:Yt}),Yt||(Zi(d,vn),ce.onStart(()=>{io(d,vn)})),ce.onDone(()=>{let hn=this.players.indexOf(ce);hn>=0&&this.players.splice(hn,1);const Fn=this._engine.playersByElement.get(d);if(Fn){let dr=Fn.indexOf(ce);dr>=0&&Fn.splice(dr,1)}}),this.players.push(ce),Wt.push(ce),ce}deregister(d){delete this._triggers[d],this._engine.statesByElement.forEach((f,T)=>{delete f[d]}),this._elementListeners.forEach((f,T)=>{this._elementListeners.set(T,f.filter(k=>k.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const f=this._engine.playersByElement.get(d);f&&(f.forEach(T=>T.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,f){const T=this._engine.driver.query(d,di,!0);T.forEach(k=>{if(k[Di])return;const W=this._engine.fetchNamespacesByElement(k);W.size?W.forEach(ce=>ce.triggerLeaveAnimation(k,f,!1,!0)):this.clearElementCache(k)}),this._engine.afterFlushAnimationsDone(()=>T.forEach(k=>this.clearElementCache(k)))}triggerLeaveAnimation(d,f,T,k){const W=this._engine.statesByElement.get(d);if(W){const ce=[];if(Object.keys(W).forEach(pe=>{if(this._triggers[pe]){const ke=this.trigger(d,pe,du,k);ke&&ce.push(ke)}}),ce.length)return this._engine.markElementAsRemoved(this.id,d,!0,f),T&&on(ce).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const f=this._elementListeners.get(d),T=this._engine.statesByElement.get(d);if(f&&T){const k=new Set;f.forEach(W=>{const ce=W.name;if(k.has(ce))return;k.add(ce);const ke=this._triggers[ce].fallbackTransition,ut=T[ce]||$o,Pt=new No(du),Jt=new ua(this.id,ce,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:ce,transition:ke,fromState:ut,toState:Pt,player:Jt,isFallbackTransition:!0})})}}removeNode(d,f){const T=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,f),this.triggerLeaveAnimation(d,f,!0))return;let k=!1;if(T.totalAnimations){const W=T.players.length?T.playersByQueriedElement.get(d):[];if(W&&W.length)k=!0;else{let ce=d;for(;ce=ce.parentNode;)if(T.statesByElement.get(ce)){k=!0;break}}}if(this.prepareLeaveAnimationListeners(d),k)T.markElementAsRemoved(this.id,d,!1,f);else{const W=d[Di];(!W||W===_i)&&(T.afterFlush(()=>this.clearElementCache(d)),T.destroyInnerAnimations(d),T._onRemovalComplete(d,f))}}insertNode(d,f){Zi(d,this._hostClassName)}drainQueuedTransitions(d){const f=[];return this._queue.forEach(T=>{const k=T.player;if(k.destroyed)return;const W=T.element,ce=this._elementListeners.get(W);ce&&ce.forEach(pe=>{if(pe.name==T.triggerName){const ke=N(W,T.triggerName,T.fromState.value,T.toState.value);ke._data=d,E(T.player,pe.phase,ke,pe.callback)}}),k.markedForDestroy?this._engine.afterFlush(()=>{k.destroy()}):f.push(T)}),this._queue=[],f.sort((T,k)=>{const W=T.transition.ast.depCount,ce=k.transition.ast.depCount;return 0==W||0==ce?W-ce:this._engine.driver.containsElement(T.element,k.element)?1:-1})}destroy(d){this.players.forEach(f=>f.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}elementContainsData(d){let f=!1;return this._elementListeners.has(d)&&(f=!0),f=!!this._queue.find(T=>T.element===d)||f,f}}class Ho{constructor(d,f,T){this.bodyNode=d,this.driver=f,this._normalizer=T,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(k,W)=>{}}_onRemovalComplete(d,f){this.onRemovalComplete(d,f)}get queuedPlayers(){const d=[];return this._namespaceList.forEach(f=>{f.players.forEach(T=>{T.queued&&d.push(T)})}),d}createNamespace(d,f){const T=new hi(d,f,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,f)?this._balanceNamespaceList(T,f):(this.newHostElements.set(f,T),this.collectEnterElement(f)),this._namespaceLookup[d]=T}_balanceNamespaceList(d,f){const T=this._namespaceList.length-1;if(T>=0){let k=!1;for(let W=T;W>=0;W--)if(this.driver.containsElement(this._namespaceList[W].hostElement,f)){this._namespaceList.splice(W+1,0,d),k=!0;break}k||this._namespaceList.splice(0,0,d)}else this._namespaceList.push(d);return this.namespacesByHostElement.set(f,d),d}register(d,f){let T=this._namespaceLookup[d];return T||(T=this.createNamespace(d,f)),T}registerTrigger(d,f,T){let k=this._namespaceLookup[d];k&&k.register(f,T)&&this.totalAnimations++}destroy(d,f){if(!d)return;const T=this._fetchNamespace(d);this.afterFlush(()=>{this.namespacesByHostElement.delete(T.hostElement),delete this._namespaceLookup[d];const k=this._namespaceList.indexOf(T);k>=0&&this._namespaceList.splice(k,1)}),this.afterFlushAnimationsDone(()=>T.destroy(f))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const f=new Set,T=this.statesByElement.get(d);if(T){const k=Object.keys(T);for(let W=0;W<k.length;W++){const ce=T[k[W]].namespaceId;if(ce){const pe=this._fetchNamespace(ce);pe&&f.add(pe)}}}return f}trigger(d,f,T,k){if(tn(f)){const W=this._fetchNamespace(d);if(W)return W.trigger(f,T,k),!0}return!1}insertNode(d,f,T,k){if(!tn(f))return;const W=f[Di];if(W&&W.setForRemoval){W.setForRemoval=!1,W.setForMove=!0;const ce=this.collectedLeaveElements.indexOf(f);ce>=0&&this.collectedLeaveElements.splice(ce,1)}if(d){const ce=this._fetchNamespace(d);ce&&ce.insertNode(f,T)}k&&this.collectEnterElement(f)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,f){f?this.disabledNodes.has(d)||(this.disabledNodes.add(d),Zi(d,xr)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),io(d,xr))}removeNode(d,f,T,k){if(tn(f)){const W=d?this._fetchNamespace(d):null;if(W?W.removeNode(f,k):this.markElementAsRemoved(d,f,!1,k),T){const ce=this.namespacesByHostElement.get(f);ce&&ce.id!==d&&ce.removeNode(f,k)}}else this._onRemovalComplete(f,k)}markElementAsRemoved(d,f,T,k){this.collectedLeaveElements.push(f),f[Di]={namespaceId:d,setForRemoval:k,hasAnimation:T,removedBeforeQueried:!1}}listen(d,f,T,k,W){return tn(f)?this._fetchNamespace(d).listen(f,T,k,W):()=>{}}_buildInstruction(d,f,T,k,W){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,T,k,d.fromState.options,d.toState.options,f,W)}destroyInnerAnimations(d){let f=this.driver.query(d,di,!0);f.forEach(T=>this.destroyActiveAnimationsForElement(T)),0!=this.playersByQueriedElement.size&&(f=this.driver.query(d,Mo,!0),f.forEach(T=>this.finishActiveQueriedAnimationOnElement(T)))}destroyActiveAnimationsForElement(d){const f=this.playersByElement.get(d);f&&f.forEach(T=>{T.queued?T.markedForDestroy=!0:T.destroy()})}finishActiveQueriedAnimationOnElement(d){const f=this.playersByQueriedElement.get(d);f&&f.forEach(T=>T.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return on(this.players).onDone(()=>d());d()})}processLeaveNode(d){const f=d[Di];if(f&&f.setForRemoval){if(d[Di]=_i,f.namespaceId){this.destroyInnerAnimations(d);const T=this._fetchNamespace(f.namespaceId);T&&T.clearElementCache(d)}this._onRemovalComplete(d,f.setForRemoval)}this.driver.matchesElement(d,Ri)&&this.markElementAsDisabled(d,!1),this.driver.query(d,Ri,!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(d=-1){let f=[];if(this.newHostElements.size&&(this.newHostElements.forEach((T,k)=>this._balanceNamespaceList(T,k)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let T=0;T<this.collectedEnterElements.length;T++)Zi(this.collectedEnterElements[T],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const T=[];try{f=this._flushAnimations(T,d)}finally{for(let k=0;k<T.length;k++)T[k]()}}else for(let T=0;T<this.collectedLeaveElements.length;T++)this.processLeaveNode(this.collectedLeaveElements[T]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(T=>T()),this._flushFns=[],this._whenQuietFns.length){const T=this._whenQuietFns;this._whenQuietFns=[],f.length?on(f).onDone(()=>{T.forEach(k=>k())}):T.forEach(k=>k())}}reportError(d){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${d.join("\n")}`)}_flushAnimations(d,f){const T=new Fr,k=[],W=new Map,ce=[],pe=new Map,ke=new Map,ut=new Map,Pt=new Set;this.disabledNodes.forEach(gn=>{Pt.add(gn);const Mn=this.driver.query(gn,".ng-animate-queued",!0);for(let er=0;er<Mn.length;er++)Pt.add(Mn[er])});const Jt=this.bodyNode,Wt=Array.from(this.statesByElement.keys()),Rt=ro(Wt,this.collectedEnterElements),Yt=new Map;let hn=0;Rt.forEach((gn,Mn)=>{const er=uu+hn++;Yt.set(Mn,er),gn.forEach(Pr=>Zi(Pr,er))});const Fn=[],dr=new Set,Zr=new Set;for(let gn=0;gn<this.collectedLeaveElements.length;gn++){const Mn=this.collectedLeaveElements[gn],er=Mn[Di];er&&er.setForRemoval&&(Fn.push(Mn),dr.add(Mn),er.hasAnimation?this.driver.query(Mn,".ng-star-inserted",!0).forEach(Pr=>dr.add(Pr)):Zr.add(Mn))}const Qi=new Map,Li=ro(Wt,Array.from(dr));Li.forEach((gn,Mn)=>{const er=Vo+hn++;Qi.set(Mn,er),gn.forEach(Pr=>Zi(Pr,er))}),d.push(()=>{Rt.forEach((gn,Mn)=>{const er=Yt.get(Mn);gn.forEach(Pr=>io(Pr,er))}),Li.forEach((gn,Mn)=>{const er=Qi.get(Mn);gn.forEach(Pr=>io(Pr,er))}),Fn.forEach(gn=>{this.processLeaveNode(gn)})});const nu=[],uo=[];for(let gn=this._namespaceList.length-1;gn>=0;gn--)this._namespaceList[gn].drainQueuedTransitions(f).forEach(er=>{const Pr=er.player,Is=er.element;if(nu.push(Pr),this.collectedEnterElements.length){const wi=Is[Di];if(wi&&wi.setForMove)return void Pr.destroy()}const Do=!Jt||!this.driver.containsElement(Jt,Is),cs=Qi.get(Is),ka=Yt.get(Is),Ei=this._buildInstruction(er,T,ka,cs,Do);if(Ei.errors&&Ei.errors.length)uo.push(Ei);else{if(Do)return Pr.onStart(()=>vs(Is,Ei.fromStyles)),Pr.onDestroy(()=>Ms(Is,Ei.toStyles)),void k.push(Pr);if(er.isFallbackTransition)return Pr.onStart(()=>vs(Is,Ei.fromStyles)),Pr.onDestroy(()=>Ms(Is,Ei.toStyles)),void k.push(Pr);Ei.timelines.forEach(wi=>wi.stretchStartingKeyframe=!0),T.append(Is,Ei.timelines),ce.push({instruction:Ei,player:Pr,element:Is}),Ei.queriedElements.forEach(wi=>ae(pe,wi,[]).push(Pr)),Ei.preStyleProps.forEach((wi,ru)=>{const ll=Object.keys(wi);if(ll.length){let Gi=ke.get(ru);Gi||ke.set(ru,Gi=new Set),ll.forEach(bc=>Gi.add(bc))}}),Ei.postStyleProps.forEach((wi,ru)=>{const ll=Object.keys(wi);let Gi=ut.get(ru);Gi||ut.set(ru,Gi=new Set),ll.forEach(bc=>Gi.add(bc))})}});if(uo.length){const gn=[];uo.forEach(Mn=>{gn.push(`@${Mn.triggerName} has failed due to:\n`),Mn.errors.forEach(er=>gn.push(`- ${er}\n`))}),nu.forEach(Mn=>Mn.destroy()),this.reportError(gn)}const Hi=new Map,lo=new Map;ce.forEach(gn=>{const Mn=gn.element;T.has(Mn)&&(lo.set(Mn,Mn),this._beforeAnimationBuild(gn.player.namespaceId,gn.instruction,Hi))}),k.forEach(gn=>{const Mn=gn.element;this._getPreviousPlayers(Mn,!1,gn.namespaceId,gn.triggerName,null).forEach(Pr=>{ae(Hi,Mn,[]).push(Pr),Pr.destroy()})});const bs=Fn.filter(gn=>za(gn,ke,ut)),_a=new Map;no(_a,this.driver,Zr,ut,ve.l3).forEach(gn=>{za(gn,ke,ut)&&bs.push(gn)});const Pa=new Map;Rt.forEach((gn,Mn)=>{no(Pa,this.driver,new Set(gn),ke,ve.k1)}),bs.forEach(gn=>{const Mn=_a.get(gn),er=Pa.get(gn);_a.set(gn,Object.assign(Object.assign({},Mn),er))});const bu=[],sd=[],ul={};ce.forEach(gn=>{const{element:Mn,player:er,instruction:Pr}=gn;if(T.has(Mn)){if(Pt.has(Mn))return er.onDestroy(()=>Ms(Mn,Pr.toStyles)),er.disabled=!0,er.overrideTotalTime(Pr.totalTime),void k.push(er);let Is=ul;if(lo.size>1){let cs=Mn;const ka=[];for(;cs=cs.parentNode;){const Ei=lo.get(cs);if(Ei){Is=Ei;break}ka.push(cs)}ka.forEach(Ei=>lo.set(Ei,Is))}const Do=this._buildAnimation(er.namespaceId,Pr,Hi,W,Pa,_a);if(er.setRealPlayer(Do),Is===ul)bu.push(er);else{const cs=this.playersByElement.get(Is);cs&&cs.length&&(er.parentPlayer=on(cs)),k.push(er)}}else vs(Mn,Pr.fromStyles),er.onDestroy(()=>Ms(Mn,Pr.toStyles)),sd.push(er),Pt.has(Mn)&&k.push(er)}),sd.forEach(gn=>{const Mn=W.get(gn.element);if(Mn&&Mn.length){const er=on(Mn);gn.setRealPlayer(er)}}),k.forEach(gn=>{gn.parentPlayer?gn.syncPlayerEvents(gn.parentPlayer):gn.destroy()});for(let gn=0;gn<Fn.length;gn++){const Mn=Fn[gn],er=Mn[Di];if(io(Mn,Vo),er&&er.hasAnimation)continue;let Pr=[];if(pe.size){let Do=pe.get(Mn);Do&&Do.length&&Pr.push(...Do);let cs=this.driver.query(Mn,Mo,!0);for(let ka=0;ka<cs.length;ka++){let Ei=pe.get(cs[ka]);Ei&&Ei.length&&Pr.push(...Ei)}}const Is=Pr.filter(Do=>!Do.destroyed);Is.length?Ml(this,Mn,Is):this.processLeaveNode(Mn)}return Fn.length=0,bu.forEach(gn=>{this.players.push(gn),gn.onDone(()=>{gn.destroy();const Mn=this.players.indexOf(gn);this.players.splice(Mn,1)}),gn.play()}),bu}elementContainsData(d,f){let T=!1;const k=f[Di];return k&&k.setForRemoval&&(T=!0),this.playersByElement.has(f)&&(T=!0),this.playersByQueriedElement.has(f)&&(T=!0),this.statesByElement.has(f)&&(T=!0),this._fetchNamespace(d).elementContainsData(f)||T}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,f,T,k,W){let ce=[];if(f){const pe=this.playersByQueriedElement.get(d);pe&&(ce=pe)}else{const pe=this.playersByElement.get(d);if(pe){const ke=!W||W==du;pe.forEach(ut=>{ut.queued||!ke&&ut.triggerName!=k||ce.push(ut)})}}return(T||k)&&(ce=ce.filter(pe=>!(T&&T!=pe.namespaceId||k&&k!=pe.triggerName))),ce}_beforeAnimationBuild(d,f,T){const W=f.element,ce=f.isRemovalTransition?void 0:d,pe=f.isRemovalTransition?void 0:f.triggerName;for(const ke of f.timelines){const ut=ke.element,Pt=ut!==W,Jt=ae(T,ut,[]);this._getPreviousPlayers(ut,Pt,ce,pe,f.toState).forEach(Rt=>{const Yt=Rt.getRealPlayer();Yt.beforeDestroy&&Yt.beforeDestroy(),Rt.destroy(),Jt.push(Rt)})}vs(W,f.fromStyles)}_buildAnimation(d,f,T,k,W,ce){const pe=f.triggerName,ke=f.element,ut=[],Pt=new Set,Jt=new Set,Wt=f.timelines.map(Yt=>{const hn=Yt.element;Pt.add(hn);const Fn=hn[Di];if(Fn&&Fn.removedBeforeQueried)return new ve.ZN(Yt.duration,Yt.delay);const dr=hn!==ke,Zr=function Ci(A){const d=[];return ls(A,d),d}((T.get(hn)||us).map(Hi=>Hi.getRealPlayer())).filter(Hi=>!!Hi.element&&Hi.element===hn),Qi=W.get(hn),Li=ce.get(hn),nu=V(0,this._normalizer,0,Yt.keyframes,Qi,Li),uo=this._buildPlayer(Yt,nu,Zr);if(Yt.subTimeline&&k&&Jt.add(hn),dr){const Hi=new ua(d,pe,hn);Hi.setRealPlayer(uo),ut.push(Hi)}return uo});ut.forEach(Yt=>{ae(this.playersByQueriedElement,Yt.element,[]).push(Yt),Yt.onDone(()=>function Bu(A,d,f){let T;if(A instanceof Map){if(T=A.get(d),T){if(T.length){const k=T.indexOf(f);T.splice(k,1)}0==T.length&&A.delete(d)}}else if(T=A[d],T){if(T.length){const k=T.indexOf(f);T.splice(k,1)}0==T.length&&delete A[d]}return T}(this.playersByQueriedElement,Yt.element,Yt))}),Pt.forEach(Yt=>Zi(Yt,Jo));const Rt=on(Wt);return Rt.onDestroy(()=>{Pt.forEach(Yt=>io(Yt,Jo)),Ms(ke,f.toStyles)}),Jt.forEach(Yt=>{ae(k,Yt,[]).push(Rt)}),Rt}_buildPlayer(d,f,T){return f.length>0?this.driver.animate(d.element,f,d.duration,d.delay,d.easing,T):new ve.ZN(d.duration,d.delay)}}class ua{constructor(d,f,T){this.namespaceId=d,this.triggerName=f,this.element=T,this._player=new ve.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(d){this._containsRealPlayer||(this._player=d,Object.keys(this._queuedCallbacks).forEach(f=>{this._queuedCallbacks[f].forEach(T=>E(d,f,void 0,T))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const f=this._player;f.triggerCallback&&d.onStart(()=>f.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,f){ae(this._queuedCallbacks,d,[]).push(f)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const f=this._player;f.triggerCallback&&f.triggerCallback(d)}}function tn(A){return A&&1===A.nodeType}function dc(A,d){const f=A.style.display;return A.style.display=null!=d?d:"none",f}function no(A,d,f,T,k){const W=[];f.forEach(ke=>W.push(dc(ke)));const ce=[];T.forEach((ke,ut)=>{const Pt={};ke.forEach(Jt=>{const Wt=Pt[Jt]=d.computeStyle(ut,Jt,k);(!Wt||0==Wt.length)&&(ut[Di]=zr,ce.push(ut))}),A.set(ut,Pt)});let pe=0;return f.forEach(ke=>dc(ke,W[pe++])),ce}function ro(A,d){const f=new Map;if(A.forEach(pe=>f.set(pe,[])),0==d.length)return f;const k=new Set(d),W=new Map;function ce(pe){if(!pe)return 1;let ke=W.get(pe);if(ke)return ke;const ut=pe.parentNode;return ke=f.has(ut)?ut:k.has(ut)?1:ce(ut),W.set(pe,ke),ke}return d.forEach(pe=>{const ke=ce(pe);1!==ke&&f.get(ke).push(pe)}),f}const Kr="$$classes";function Zi(A,d){if(A.classList)A.classList.add(d);else{let f=A[Kr];f||(f=A[Kr]={}),f[d]=!0}}function io(A,d){if(A.classList)A.classList.remove(d);else{let f=A[Kr];f&&delete f[d]}}function Ml(A,d,f){on(f).onDone(()=>A.processLeaveNode(d))}function ls(A,d){for(let f=0;f<A.length;f++){const T=A[f];T instanceof ve.ZE?ls(T.players,d):d.push(T)}}function za(A,d,f){const T=f.get(A);if(!T)return!1;let k=d.get(A);return k?T.forEach(W=>k.add(W)):d.set(A,T),f.delete(A),!0}class Eo{constructor(d,f,T){this.bodyNode=d,this._driver=f,this._normalizer=T,this._triggerCache={},this.onRemovalComplete=(k,W)=>{},this._transitionEngine=new Ho(d,f,T),this._timelineEngine=new _r(d,f,T),this._transitionEngine.onRemovalComplete=(k,W)=>this.onRemovalComplete(k,W)}registerTrigger(d,f,T,k,W){const ce=d+"-"+k;let pe=this._triggerCache[ce];if(!pe){const ke=[],ut=ra(this._driver,W,ke);if(ke.length)throw new Error(`The animation trigger "${k}" has failed to build due to the following errors:\n - ${ke.join("\n - ")}`);pe=function Se(A,d,f){return new Je(A,d,f)}(k,ut,this._normalizer),this._triggerCache[ce]=pe}this._transitionEngine.registerTrigger(f,k,pe)}register(d,f){this._transitionEngine.register(d,f)}destroy(d,f){this._transitionEngine.destroy(d,f)}onInsert(d,f,T,k){this._transitionEngine.insertNode(d,f,T,k)}onRemove(d,f,T,k){this._transitionEngine.removeNode(d,f,k||!1,T)}disableAnimations(d,f){this._transitionEngine.markElementAsDisabled(d,f)}process(d,f,T,k){if("@"==T.charAt(0)){const[W,ce]=Ze(T);this._timelineEngine.command(W,f,ce,k)}else this._transitionEngine.trigger(d,f,T,k)}listen(d,f,T,k,W){if("@"==T.charAt(0)){const[ce,pe]=Ze(T);return this._timelineEngine.listen(ce,f,pe,W)}return this._transitionEngine.listen(d,f,T,k,W)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Wa(A,d){let f=null,T=null;return Array.isArray(d)&&d.length?(f=Ka(d[0]),d.length>1&&(T=Ka(d[d.length-1]))):d&&(f=Ka(d)),f||T?new wo(A,f,T):null}let wo=(()=>{class A{constructor(f,T,k){this._element=f,this._startStyles=T,this._endStyles=k,this._state=0;let W=A.initialStylesByElement.get(f);W||A.initialStylesByElement.set(f,W={}),this._initialStyles=W}start(){this._state<1&&(this._startStyles&&Ms(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ms(this._element,this._initialStyles),this._endStyles&&(Ms(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(A.initialStylesByElement.delete(this._element),this._startStyles&&(vs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vs(this._element,this._endStyles),this._endStyles=null),Ms(this._element,this._initialStyles),this._state=3)}}return A.initialStylesByElement=new WeakMap,A})();function Ka(A){let d=null;const f=Object.keys(A);for(let T=0;T<f.length;T++){const k=f[T];Bd(k)&&(d=d||{},d[k]=A[k])}return d}function Bd(A){return"display"===A||"position"===A}const ju="animation",Yi="animationend";class Ca{constructor(d,f,T,k,W,ce,pe){this._element=d,this._name=f,this._duration=T,this._delay=k,this._easing=W,this._fillMode=ce,this._onDoneFn=pe,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=ke=>this._handleCallback(ke)}apply(){(function Aa(A,d){const f=$u(A,"").trim();let T=0;f.length&&(T=function Ns(A,d){let f=0;for(let T=0;T<A.length;T++)A.charAt(T)===d&&f++;return f}(f,",")+1,d=`${f}, ${d}`),Sa(A,"",d)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ca(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ei(this._element,this._name,"paused")}resume(){ei(this._element,this._name,"running")}setPosition(d){const f=Ro(this._element,this._name);this._position=d*this._duration,Sa(this._element,"Delay",`-${this._position}ms`,f)}getPosition(){return this._position}_handleCallback(d){const f=d._ngTestManualTimestamp||Date.now(),T=1e3*parseFloat(d.elapsedTime.toFixed(3));d.animationName==this._name&&Math.max(f-this._startTime,0)>=this._delay&&T>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ca(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function Ol(A,d){const T=$u(A,"").split(","),k=qa(T,d);k>=0&&(T.splice(k,1),Sa(A,"",T.join(",")))}(this._element,this._name))}}function ei(A,d,f){Sa(A,"PlayState",f,Ro(A,d))}function Ro(A,d){const f=$u(A,"");return f.indexOf(",")>0?qa(f.split(","),d):qa([f],d)}function qa(A,d){for(let f=0;f<A.length;f++)if(A[f].indexOf(d)>=0)return f;return-1}function ca(A,d,f){f?A.removeEventListener(Yi,d):A.addEventListener(Yi,d)}function Sa(A,d,f,T){const k=ju+d;if(null!=T){const W=A.style[k];if(W.length){const ce=W.split(",");ce[T]=f,f=ce.join(",")}}A.style[k]=f}function $u(A,d){return A.style[ju+d]||""}class Go{constructor(d,f,T,k,W,ce,pe,ke){this.element=d,this.keyframes=f,this.animationName=T,this._duration=k,this._delay=W,this._finalStyles=pe,this._specialStyles=ke,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=ce||"linear",this.totalTime=k+W,this._buildStyler()}onStart(d){this._onStartFns.push(d)}onDone(d){this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(d=>d()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(d=>d()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(d){this._styler.setPosition(d)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Ca(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(d){const f="start"==d?this._onStartFns:this._onDoneFns;f.forEach(T=>T()),f.length=0}beforeDestroy(){this.init();const d={};if(this.hasStarted()){const f=this._state>=3;Object.keys(this._finalStyles).forEach(T=>{"offset"!=T&&(d[T]=f?this._finalStyles[T]:Ha(this.element,T))})}this.currentSnapshot=d}}class bo extends ve.ZN{constructor(d,f){super(),this.element=d,this._startingStyles={},this.__initialized=!1,this._styles=Vn(f)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(d=>{this._startingStyles[d]=this.element.style[d]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(d=>this.element.style.setProperty(d,this._styles[d])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(d=>{const f=this._startingStyles[d];f?this.element.style.setProperty(d,f):this.element.style.removeProperty(d)}),this._startingStyles=null,super.destroy())}}class Qa{constructor(){this._count=0}validateStyleProperty(d){return ji(d)}matchesElement(d,f){return At(d,f)}containsElement(d,f){return Zn(d,f)}query(d,f,T){return js(d,f,T)}computeStyle(d,f,T){return window.getComputedStyle(d)[f]}buildKeyframeElement(d,f,T){T=T.map(pe=>Vn(pe));let k=`@keyframes ${f} {\n`,W="";T.forEach(pe=>{W=" ";const ke=parseFloat(pe.offset);k+=`${W}${100*ke}% {\n`,W+=" ",Object.keys(pe).forEach(ut=>{const Pt=pe[ut];switch(ut){case"offset":return;case"easing":return void(Pt&&(k+=`${W}animation-timing-function: ${Pt};\n`));default:return void(k+=`${W}${ut}: ${Pt};\n`)}}),k+=`${W}}\n`}),k+="}\n";const ce=document.createElement("style");return ce.textContent=k,ce}animate(d,f,T,k,W,ce=[],pe){const ke=ce.filter(Fn=>Fn instanceof Go),ut={};Js(T,k)&&ke.forEach(Fn=>{let dr=Fn.currentSnapshot;Object.keys(dr).forEach(Zr=>ut[Zr]=dr[Zr])});const Pt=function xl(A){let d={};return A&&(Array.isArray(A)?A:[A]).forEach(T=>{Object.keys(T).forEach(k=>{"offset"==k||"easing"==k||(d[k]=T[k])})}),d}(f=Jr(d,f,ut));if(0==T)return new bo(d,Pt);const Jt="gen_css_kf_"+this._count++,Wt=this.buildKeyframeElement(d,Jt,f);(function hu(A){var d;const f=null===(d=A.getRootNode)||void 0===d?void 0:d.call(A);return"undefined"!=typeof ShadowRoot&&f instanceof ShadowRoot?f:document.head})(d).appendChild(Wt);const Yt=Wa(d,f),hn=new Go(d,f,Jt,T,k,W,Pt,Yt);return hn.onDestroy(()=>function hc(A){A.parentNode.removeChild(A)}(Wt)),hn}}class fc{constructor(d,f,T,k){this.element=d,this.keyframes=f,this.options=T,this._specialStyles=k,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=T.duration,this._delay=T.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(d,f,T){return d.animate(f,T)}onStart(d){this._onStartFns.push(d)}onDone(d){this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(f=>{"offset"!=f&&(d[f]=this._finished?this._finalKeyframe[f]:Ha(this.element,f))}),this.currentSnapshot=d}triggerCallback(d){const f="start"==d?this._onStartFns:this._onDoneFns;f.forEach(T=>T()),f.length=0}}class ki{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Hc().toString()),this._cssKeyframesDriver=new Qa}validateStyleProperty(d){return ji(d)}matchesElement(d,f){return At(d,f)}containsElement(d,f){return Zn(d,f)}query(d,f,T){return js(d,f,T)}computeStyle(d,f,T){return window.getComputedStyle(d)[f]}overrideWebAnimationsSupport(d){this._isNativeImpl=d}animate(d,f,T,k,W,ce=[],pe){if(!pe&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(d,f,T,k,W,ce);const Pt={duration:T,delay:k,fill:0==k?"both":"forwards"};W&&(Pt.easing=W);const Jt={},Wt=ce.filter(Yt=>Yt instanceof fc);Js(T,k)&&Wt.forEach(Yt=>{let hn=Yt.currentSnapshot;Object.keys(hn).forEach(Fn=>Jt[Fn]=hn[Fn])});const Rt=Wa(d,f=Jr(d,f=f.map(Yt=>as(Yt,!1)),Jt));return new fc(d,f,Pt,Rt)}}function Hc(){return gt()&&Element.prototype.animate||{}}let fu=(()=>{class A extends ve._j{constructor(f,T){super(),this._nextAnimationId=0,this._renderer=f.createRenderer(T.body,{id:"0",encapsulation:w.ifc.None,styles:[],data:{animation:[]}})}build(f){const T=this._nextAnimationId.toString();this._nextAnimationId++;const k=Array.isArray(f)?(0,ve.vP)(f):f;return Io(this._renderer,null,T,"register",[k]),new pu(T,this._renderer)}}return A.\u0275fac=function(f){return new(f||A)(w.LFG(w.FYo),w.LFG(oe.K0))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})();class pu extends ve.LC{constructor(d,f){super(),this._id=d,this._renderer=f}create(d,f){return new Rl(this._id,d,f||{},this._renderer)}}class Rl{constructor(d,f,T,k){this.id=d,this.element=f,this._renderer=k,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",T)}_listen(d,f){return this._renderer.listen(this.element,`@@${this.id}:${d}`,f)}_command(d,...f){return Io(this._renderer,this.element,this.id,d,f)}onDone(d){this._listen("done",d)}onStart(d){this._listen("start",d)}onDestroy(d){this._listen("destroy",d)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(d){this._command("setPosition",d)}getPosition(){var d,f;return null!==(f=null===(d=this._renderer.engine.players[+this.id])||void 0===d?void 0:d.getPosition())&&void 0!==f?f:0}}function Io(A,d,f,T,k){return A.setProperty(d,`@@${f}:${T}`,k)}const Ma="@.disabled";let Po=(()=>{class A{constructor(f,T,k){this.delegate=f,this.engine=T,this._zone=k,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),T.onRemovalComplete=(W,ce)=>{const pe=null==ce?void 0:ce.parentNode(W);pe&&ce.removeChild(pe,W)}}createRenderer(f,T){const W=this.delegate.createRenderer(f,T);if(!(f&&T&&T.data&&T.data.animation)){let Pt=this._rendererCache.get(W);return Pt||(Pt=new Gu("",W,this.engine),this._rendererCache.set(W,Pt)),Pt}const ce=T.id,pe=T.id+"-"+this._currentId;this._currentId++,this.engine.register(pe,f);const ke=Pt=>{Array.isArray(Pt)?Pt.forEach(ke):this.engine.registerTrigger(ce,pe,f,Pt.name,Pt)};return T.data.animation.forEach(ke),new ws(this,pe,W,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(f,T,k){f>=0&&f<this._microtaskId?this._zone.run(()=>T(k)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(W=>{const[ce,pe]=W;ce(pe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([T,k]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return A.\u0275fac=function(f){return new(f||A)(w.LFG(w.FYo),w.LFG(Eo),w.LFG(w.R0b))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})();class Gu{constructor(d,f,T){this.namespaceId=d,this.delegate=f,this.engine=T,this.destroyNode=this.delegate.destroyNode?k=>f.destroyNode(k):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(d,f){return this.delegate.createElement(d,f)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,f){this.delegate.appendChild(d,f),this.engine.onInsert(this.namespaceId,f,d,!1)}insertBefore(d,f,T,k=!0){this.delegate.insertBefore(d,f,T),this.engine.onInsert(this.namespaceId,f,d,k)}removeChild(d,f,T){this.engine.onRemove(this.namespaceId,f,this.delegate,T)}selectRootElement(d,f){return this.delegate.selectRootElement(d,f)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,f,T,k){this.delegate.setAttribute(d,f,T,k)}removeAttribute(d,f,T){this.delegate.removeAttribute(d,f,T)}addClass(d,f){this.delegate.addClass(d,f)}removeClass(d,f){this.delegate.removeClass(d,f)}setStyle(d,f,T,k){this.delegate.setStyle(d,f,T,k)}removeStyle(d,f,T){this.delegate.removeStyle(d,f,T)}setProperty(d,f,T){"@"==f.charAt(0)&&f==Ma?this.disableAnimations(d,!!T):this.delegate.setProperty(d,f,T)}setValue(d,f){this.delegate.setValue(d,f)}listen(d,f,T){return this.delegate.listen(d,f,T)}disableAnimations(d,f){this.engine.disableAnimations(d,f)}}class ws extends Gu{constructor(d,f,T,k){super(f,T,k),this.factory=d,this.namespaceId=f}setProperty(d,f,T){"@"==f.charAt(0)?"."==f.charAt(1)&&f==Ma?this.disableAnimations(d,T=void 0===T||!!T):this.engine.process(this.namespaceId,d,f.substr(1),T):this.delegate.setProperty(d,f,T)}listen(d,f,T){if("@"==f.charAt(0)){const k=function Pl(A){switch(A){case"body":return document.body;case"document":return document;case"window":return window;default:return A}}(d);let W=f.substr(1),ce="";return"@"!=W.charAt(0)&&([W,ce]=function da(A){const d=A.indexOf(".");return[A.substring(0,d),A.substr(d+1)]}(W)),this.engine.listen(this.namespaceId,k,W,ce,pe=>{this.factory.scheduleListenerCallback(pe._data||-1,T,pe)})}return this.delegate.listen(d,f,T)}}let Ja=(()=>{class A extends Eo{constructor(f,T,k){super(f.body,T,k)}ngOnDestroy(){this.flush()}}return A.\u0275fac=function(f){return new(f||A)(w.LFG(oe.K0),w.LFG($i),w.LFG(Ws))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})();const zu=new w.OlP("AnimationModuleType"),so=[{provide:ve._j,useClass:fu},{provide:Ws,useFactory:function Xa(){return new aa}},{provide:Eo,useClass:Ja},{provide:w.FYo,useFactory:function kl(A,d,f){return new Po(A,d,f)},deps:[c.se,Eo,w.R0b]}],Fi=[{provide:$i,useFactory:function ha(){return function Nl(){return"function"==typeof Hc()}()?new ki:new Qa}},{provide:zu,useValue:"BrowserAnimations"},...so],pc=[{provide:$i,useClass:$s},{provide:zu,useValue:"NoopAnimations"},...so];let Wu=(()=>{class A{static withConfig(f){return{ngModule:A,providers:f.disableAnimations?pc:Fi}}}return A.\u0275fac=function(f){return new(f||A)},A.\u0275mod=w.oAB({type:A}),A.\u0275inj=w.cJS({providers:Fi,imports:[c.b2]}),A})();var Ku=L(7128),gu=L(573);L(2090),L(9681),L(1877),L(4859);class zo{constructor(d){return d}}class yu{constructor(){return(0,rt.vb)("auth")}}const Zu=new w.OlP("angularfire2.auth-instances");function fa(A){return(d,f)=>{const T=d.runOutsideAngular(()=>A(f));return new zo(T)}}const pa={provide:yu,deps:[[new w.FiY,Zu]]},Ll={provide:zo,useFactory:function _u(A,d){const f=(0,rt.JM)("auth",A,d);return f&&new zo(f)},deps:[[new w.FiY,Zu],gr.Ot]};let ga=(()=>{class A{constructor(){(0,Mr.KN)("angularfire",rt.q4.full,"auth")}}return A.\u0275fac=function(f){return new(f||A)},A.\u0275mod=w.oAB({type:A}),A.\u0275inj=w.cJS({providers:[Ll,pa]}),A})();function Wo(A,...d){return{ngModule:ga,providers:[{provide:Zu,useFactory:fa(A),multi:!0,deps:[w.R0b,w.zs3,rt.HU,gr.z6,[new w.FiY,Ku.nm],...d]}]}}const qc=(0,rt.u3)(gu.n,!0);var nf=L(5525);class ed{constructor(d){return d}}const Bl="firestore",Rr=new w.OlP("angularfire2.firestore-instances");function td(A){return(d,f)=>{const T=d.runOutsideAngular(()=>A(f));return new ed(T)}}const il={provide:class rf{constructor(){return(0,rt.vb)(Bl)}},deps:[[new w.FiY,Rr]]},ai={provide:ed,useFactory:function jl(A,d){const f=(0,rt.JM)(Bl,A,d);return f&&new ed(f)},deps:[[new w.FiY,Rr],gr.Ot]};let Eu=(()=>{class A{constructor(){(0,Mr.KN)("angularfire",rt.q4.full,"fst")}}return A.\u0275fac=function(f){return new(f||A)},A.\u0275mod=w.oAB({type:A}),A.\u0275inj=w.cJS({providers:[ai,il]}),A})();function vc(A,...d){return{ngModule:Eu,providers:[{provide:Rr,useFactory:td(A),multi:!0,deps:[w.R0b,w.zs3,rt.HU,gr.z6,[new w.FiY,yu],[new w.FiY,Ku.nm],...d]}]}}const sl=(0,rt.u3)(nf.ad,!0);let wu=(()=>{class A{}return A.\u0275fac=function(f){return new(f||A)},A.\u0275mod=w.oAB({type:A,bootstrap:[dt]}),A.\u0275inj=w.cJS({providers:[],imports:[[c.b2,vt,Ar.hO.initializeApp(Ae_firebase),Nn.ww,Ne.yb,te,z.UX,Ce.Rh.forRoot(),Wu,z.u5,xn,(0,gr.hX)(()=>(0,gr.ZF)(Ae_firebase)),Wo(()=>qc()),vc(()=>sl())]]}),A})();(0,w.G48)(),c.q6().bootstrapModule(wu).catch(A=>console.error(A))},7982:(Qt,et,L)=>{L.d(et,{Gb:()=>c.Gb});var c=L(579)},5867:(Qt,et,L)=>{L.d(et,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=L(9681);(0,c.registerVersion)("firebase","9.7.0","app")},127:(Qt,et,L)=>{L.d(et,{Z:()=>c.Z});var c=L(3942);c.Z.registerVersion("firebase","9.7.0","app-compat")},5881:(Qt,et,L)=>{L.r(et);var c=L(5861),w=L(3942),z=L(573),we=L(2090),De=(L(9681),L(1877),L(4859));function oe(){return window}function fe(){return(fe=(0,c.Z)(function*(ee,re,B){var X;const{BuildInfo:J}=oe();(0,z.ap)(re.sessionId,"AuthEvent did not contain a session ID");const Ie=yield Ye(re.sessionId),Qe={};return(0,z.aq)()?Qe.ibi=J.packageName:(0,z.ar)()?Qe.apn=J.packageName:(0,z.as)(ee,"operation-not-supported-in-this-environment"),J.displayName&&(Qe.appDisplayName=J.displayName),Qe.sessionId=Ie,(0,z.at)(ee,B,re.type,void 0,null!==(X=re.eventId)&&void 0!==X?X:void 0,Qe)})).apply(this,arguments)}function it(){return(it=(0,c.Z)(function*(ee){const{BuildInfo:re}=oe(),B={};(0,z.aq)()?B.iosBundleId=re.packageName:(0,z.ar)()?B.androidPackageName=re.packageName:(0,z.as)(ee,"operation-not-supported-in-this-environment"),yield(0,z.au)(ee,B)})).apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(ee,re,B){const{cordova:X}=oe();let J=()=>{};try{yield new Promise((Ie,Qe)=>{let Et=null;function Gt(){var Dn;Ie();const cr=null===(Dn=X.plugins.browsertab)||void 0===Dn?void 0:Dn.close;"function"==typeof cr&&cr(),"function"==typeof(null==B?void 0:B.close)&&B.close()}function wn(){Et||(Et=window.setTimeout(()=>{Qe((0,z.av)(ee,"redirect-cancelled-by-user"))},2e3))}function xn(){"visible"===(null==document?void 0:document.visibilityState)&&wn()}re.addPassiveListener(Gt),document.addEventListener("resume",wn,!1),(0,z.ar)()&&document.addEventListener("visibilitychange",xn,!1),J=()=>{re.removePassiveListener(Gt),document.removeEventListener("resume",wn,!1),document.removeEventListener("visibilitychange",xn,!1),Et&&window.clearTimeout(Et)}})}finally{J()}})).apply(this,arguments)}function Ye(ee){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(ee){const re=mt(ee),B=yield crypto.subtle.digest("SHA-256",re);return Array.from(new Uint8Array(B)).map(J=>J.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function mt(ee){if((0,z.ap)(/[0-9a-zA-Z]+/.test(ee),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ee);const re=new ArrayBuffer(ee.length),B=new Uint8Array(re);for(let X=0;X<ee.length;X++)B[X]=ee.charCodeAt(X);return B}class xe extends z.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(re=>{this.resolveInialized=re})}addPassiveListener(re){this.passiveListeners.add(re)}removePassiveListener(re){this.passiveListeners.delete(re)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(re){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(re)),super.onEvent(re)}initialized(){var re=this;return(0,c.Z)(function*(){yield re.initPromise})()}}function Ne(ee){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(ee){const re=yield Ee()._get(Oe(ee));return re&&(yield Ee()._remove(Oe(ee))),re})).apply(this,arguments)}function _e(){const ee=[],re="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<20;B++){const X=Math.floor(Math.random()*re.length);ee.push(re.charAt(X))}return ee.join("")}function Ee(){return(0,z.ax)(z.b)}function Oe(ee){return(0,z.ay)("authEvent",ee.config.apiKey,ee.name)}function pt(ee){if(!(null==ee?void 0:ee.includes("?")))return{};const[re,...B]=ee.split("?");return(0,we.zd)(B.join("?"))}function Ht(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,z.av)("no-auth-event")}}function Ae(){var ee;return(null===(ee=null==self?void 0:self.location)||void 0===ee?void 0:ee.protocol)||null}function It(ee=(0,we.z$)()){return!("file:"!==Ae()&&"ionic:"!==Ae()||!ee.toLowerCase().match(/iphone|ipad|ipod|android/))}function sr(){try{const ee=self.localStorage,re=z.aG();if(ee)return ee.setItem(re,"1"),ee.removeItem(re),!function rr(ee=(0,we.z$)()){return function En(){return(0,we.w1)()&&11===(null==document?void 0:document.documentMode)}()||function dn(ee=(0,we.z$)()){return/Edge\/\d+/.test(ee)}(ee)}()||(0,we.hl)()}catch(ee){return Sn()&&(0,we.hl)()}return!1}function Sn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function an(){return(function ze(){return"http:"===Ae()||"https:"===Ae()}()||(0,we.ru)()||It())&&!function en(){return(0,we.b$)()||(0,we.UG)()}()&&sr()&&!Sn()}function Jn(){return It()&&"undefined"!=typeof document}function rn(){return(rn=(0,c.Z)(function*(){return!!Jn()&&new Promise(ee=>{const re=setTimeout(()=>{ee(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(re),ee(!0)})})})).apply(this,arguments)}const Tn={LOCAL:"local",NONE:"none",SESSION:"session"},On=z.aw,Sr="persistence";function $n(ee){return zt.apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(ee){yield ee._initializationPromise;const re=mn(),B=z.ay(Sr,ee.config.apiKey,ee.name);re&&re.setItem(B,ee._getPersistence())})).apply(this,arguments)}function mn(){var ee;try{return(null===(ee=function Ln(){return"undefined"!=typeof window?window:null}())||void 0===ee?void 0:ee.sessionStorage)||null}catch(re){return null}}const qt=z.aw;class kt{constructor(){this.browserResolver=z.ax(z.k),this.cordovaResolver=z.ax(class un{constructor(){this._redirectPersistence=z.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z.aA}_initialize(re){var B=this;return(0,c.Z)(function*(){const X=re._key();let J=B.eventManagers.get(X);return J||(J=new xe(re),B.eventManagers.set(X,J),B.attachCallbackListeners(re,J)),J})()}_openPopup(re){(0,z.as)(re,"operation-not-supported-in-this-environment")}_openRedirect(re,B,X,J){var Ie=this;return(0,c.Z)(function*(){!function Pe(ee){var re,B,X,J,Ie,Qe,Et,Gt,wn,xn;const Dn=oe();(0,z.aw)("function"==typeof(null===(re=null==Dn?void 0:Dn.universalLinks)||void 0===re?void 0:re.subscribe),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,z.aw)(void 0!==(null===(B=null==Dn?void 0:Dn.BuildInfo)||void 0===B?void 0:B.packageName),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,z.aw)("function"==typeof(null===(Ie=null===(J=null===(X=null==Dn?void 0:Dn.cordova)||void 0===X?void 0:X.plugins)||void 0===J?void 0:J.browsertab)||void 0===Ie?void 0:Ie.openUrl),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aw)("function"==typeof(null===(Gt=null===(Et=null===(Qe=null==Dn?void 0:Dn.cordova)||void 0===Qe?void 0:Qe.plugins)||void 0===Et?void 0:Et.browsertab)||void 0===Gt?void 0:Gt.isAvailable),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aw)("function"==typeof(null===(xn=null===(wn=null==Dn?void 0:Dn.cordova)||void 0===wn?void 0:wn.InAppBrowser)||void 0===xn?void 0:xn.open),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(re);const Qe=yield Ie._initialize(re);yield Qe.initialized(),Qe.resetRedirect(),(0,z.aB)(),yield Ie._originValidation(re);const Et=function st(ee,re,B=null){return{type:re,eventId:B,urlResponse:null,sessionId:_e(),postBody:null,tenantId:ee.tenantId,error:(0,z.av)(ee,"no-auth-event")}}(re,X,J);yield function vt(ee,re){return Ee()._set(Oe(ee),re)}(re,Et);const Gt=yield function ie(ee,re,B){return fe.apply(this,arguments)}(re,Et,B),wn=yield function tt(ee){const{cordova:re}=oe();return new Promise(B=>{re.plugins.browsertab.isAvailable(X=>{let J=null;X?re.plugins.browsertab.openUrl(ee):J=re.InAppBrowser.open(ee,(0,z.ao)()?"_blank":"_system","location=yes"),B(J)})})}(Gt);return function wt(ee,re,B){return Tt.apply(this,arguments)}(re,Qe,wn)})()}_isIframeWebStorageSupported(re,B){throw new Error("Method not implemented.")}_originValidation(re){const B=re._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function Fe(ee){return it.apply(this,arguments)}(re)),this.originValidationPromises[B]}attachCallbackListeners(re,B){const{universalLinks:X,handleOpenURL:J,BuildInfo:Ie}=oe(),Qe=setTimeout((0,c.Z)(function*(){yield Ne(re),B.onEvent(Ht())}),500),Et=function(){var xn=(0,c.Z)(function*(Dn){clearTimeout(Qe);const cr=yield Ne(re);let Ar=null;cr&&(null==Dn?void 0:Dn.url)&&(Ar=function le(ee,re){var B,X;const J=function me(ee){const re=pt(ee),B=re.link?decodeURIComponent(re.link):void 0,X=pt(B).link,J=re.deep_link_id?decodeURIComponent(re.deep_link_id):void 0;return pt(J).link||J||X||B||ee}(re);if(J.includes("/__/auth/callback")){const Ie=pt(J),Qe=Ie.firebaseError?function He(ee){try{return JSON.parse(ee)}catch(re){return null}}(decodeURIComponent(Ie.firebaseError)):null,Et=null===(X=null===(B=null==Qe?void 0:Qe.code)||void 0===B?void 0:B.split("auth/"))||void 0===X?void 0:X[1],Gt=Et?(0,z.av)(Et):null;return Gt?{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,sessionId:ee.sessionId,urlResponse:J,postBody:null}}return null}(cr,Dn.url)),B.onEvent(Ar||Ht())});return function(cr){return xn.apply(this,arguments)}}();void 0!==X&&"function"==typeof X.subscribe&&X.subscribe(null,Et);const Gt=J,wn=`${Ie.packageName.toLowerCase()}://`;oe().handleOpenURL=function(){var xn=(0,c.Z)(function*(Dn){if(Dn.toLowerCase().startsWith(wn)&&Et({url:Dn}),"function"==typeof Gt)try{Gt(Dn)}catch(cr){console.error(cr)}});return function(Dn){return xn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=z.a,this._completeRedirectFn=z.aA}_initialize(re){var B=this;return(0,c.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(re)})()}_openPopup(re,B,X,J){var Ie=this;return(0,c.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._openPopup(re,B,X,J)})()}_openRedirect(re,B,X,J){var Ie=this;return(0,c.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._openRedirect(re,B,X,J)})()}_isIframeWebStorageSupported(re,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(re,B)}_originValidation(re){return this.assertedUnderlyingResolver._originValidation(re)}get _shouldInitProactively(){return Jn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var re=this;return(0,c.Z)(function*(){if(re.underlyingResolver)return;const B=yield function Xn(){return rn.apply(this,arguments)}();re.underlyingResolver=B?re.cordovaResolver:re.browserResolver})()}}function Bn(ee){return ee.unwrap()}function pr(ee){return Yn(ee)}function Yn(ee){const{_tokenResponse:re}=ee instanceof we.ZR?ee.customData:ee;if(!re)return null;if(!(ee instanceof we.ZR)&&"temporaryProof"in re&&"phoneNumber"in re)return z.P.credentialFromResult(ee);const B=re.providerId;if(!B||B===z.o.PASSWORD)return null;let X;switch(B){case z.o.GOOGLE:X=z.N;break;case z.o.FACEBOOK:X=z.M;break;case z.o.GITHUB:X=z.Q;break;case z.o.TWITTER:X=z.V;break;default:const{oauthIdToken:J,oauthAccessToken:Ie,oauthTokenSecret:Qe,pendingToken:Et,nonce:Gt}=re;return Ie||Qe||J||Et?Et?B.startsWith("saml.")?z.aJ._create(B,Et):z.I._fromParams({providerId:B,signInMethod:B,pendingToken:Et,idToken:J,accessToken:Ie}):new z.T(B).credential({idToken:J,accessToken:Ie,rawNonce:Gt}):null}return ee instanceof we.ZR?X.credentialFromError(ee):X.credentialFromResult(ee)}function Qn(ee,re){return re.catch(B=>{throw B instanceof we.ZR&&function _n(ee,re){var B;const X=null===(B=re.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===re.code)re.resolver=new Xe(ee,z.am(ee,re));else if(X){const J=Yn(re),Ie=re;J&&(Ie.credential=J,Ie.tenantId=X.tenantId||void 0,Ie.email=X.email||void 0,Ie.phoneNumber=X.phoneNumber||void 0)}}(ee,B),B}).then(B=>{const J=B.user;return{operationType:B.operationType,credential:pr(B),additionalUserInfo:z.ak(B),user:H.getOrCreate(J)}})}function jn(ee,re){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(ee,re){const B=yield re;return{verificationId:B.verificationId,confirm:X=>Qn(ee,B.confirm(X))}})).apply(this,arguments)}class Xe{constructor(re,B){this.resolver=B,this.auth=function Er(ee){return ee.wrapped()}(re)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(re){return Qn(Bn(this.auth),this.resolver.resolveSignIn(re))}}class H{constructor(re){this._delegate=re,this.multiFactor=z.an(re)}static getOrCreate(re){return H.USER_MAP.has(re)||H.USER_MAP.set(re,new H(re)),H.USER_MAP.get(re)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(re){return this._delegate.getIdTokenResult(re)}getIdToken(re){return this._delegate.getIdToken(re)}linkAndRetrieveDataWithCredential(re){return this.linkWithCredential(re)}linkWithCredential(re){var B=this;return(0,c.Z)(function*(){return Qn(B.auth,z.Y(B._delegate,re))})()}linkWithPhoneNumber(re,B){var X=this;return(0,c.Z)(function*(){return jn(X.auth,z.l(X._delegate,re,B))})()}linkWithPopup(re){var B=this;return(0,c.Z)(function*(){return Qn(B.auth,z.d(B._delegate,re,kt))})()}linkWithRedirect(re){var B=this;return(0,c.Z)(function*(){return yield $n(z.aC(B.auth)),z.g(B._delegate,re,kt)})()}reauthenticateAndRetrieveDataWithCredential(re){return this.reauthenticateWithCredential(re)}reauthenticateWithCredential(re){var B=this;return(0,c.Z)(function*(){return Qn(B.auth,z.Z(B._delegate,re))})()}reauthenticateWithPhoneNumber(re,B){return jn(this.auth,z.r(this._delegate,re,B))}reauthenticateWithPopup(re){return Qn(this.auth,z.e(this._delegate,re,kt))}reauthenticateWithRedirect(re){var B=this;return(0,c.Z)(function*(){return yield $n(z.aC(B.auth)),z.h(B._delegate,re,kt)})()}sendEmailVerification(re){return z.aa(this._delegate,re)}unlink(re){var B=this;return(0,c.Z)(function*(){return yield z.aj(B._delegate,re),B})()}updateEmail(re){return z.af(this._delegate,re)}updatePassword(re){return z.ag(this._delegate,re)}updatePhoneNumber(re){return z.u(this._delegate,re)}updateProfile(re){return z.ae(this._delegate,re)}verifyBeforeUpdateEmail(re,B){return z.ab(this._delegate,re,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}H.USER_MAP=new WeakMap;const Q=z.aw;let $e=(()=>{class ee{constructor(B,X){if(this.app=B,X.isInitialized())return this._delegate=X.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:J}=B.options;Q(J,"invalid-api-key",{appName:B.name}),Q(J,"invalid-api-key",{appName:B.name});const Ie="undefined"!=typeof window?kt:void 0;this._delegate=X.initialize({options:{persistence:qe(J,B.name),popupRedirectResolver:Ie}}),this._delegate._updateErrorMap(z.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?H.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,X){z.E(this._delegate,B,X)}applyActionCode(B){return z.a1(this._delegate,B)}checkActionCode(B){return z.a2(this._delegate,B)}confirmPasswordReset(B,X){return z.a0(this._delegate,B,X)}createUserWithEmailAndPassword(B,X){var J=this;return(0,c.Z)(function*(){return Qn(J._delegate,z.a4(J._delegate,B,X))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return z.a9(this._delegate,B)}isSignInWithEmailLink(B){return z.a7(this._delegate,B)}getRedirectResult(){var B=this;return(0,c.Z)(function*(){Q(an(),B._delegate,"operation-not-supported-in-this-environment");const X=yield z.j(B._delegate,kt);return X?Qn(B._delegate,Promise.resolve(X)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function Kt(ee,re){(0,z.aC)(ee)._logFramework(re)}(this._delegate,B)}onAuthStateChanged(B,X,J){const{next:Ie,error:Qe,complete:Et}=ge(B,X,J);return this._delegate.onAuthStateChanged(Ie,Qe,Et)}onIdTokenChanged(B,X,J){const{next:Ie,error:Qe,complete:Et}=ge(B,X,J);return this._delegate.onIdTokenChanged(Ie,Qe,Et)}sendSignInLinkToEmail(B,X){return z.a6(this._delegate,B,X)}sendPasswordResetEmail(B,X){return z.$(this._delegate,B,X||void 0)}setPersistence(B){var X=this;return(0,c.Z)(function*(){let J;switch(function Cr(ee,re){On(Object.values(Tn).includes(re),ee,"invalid-persistence-type"),(0,we.b$)()?On(re!==Tn.SESSION,ee,"unsupported-persistence-type"):(0,we.UG)()?On(re===Tn.NONE,ee,"unsupported-persistence-type"):Sn()?On(re===Tn.NONE||re===Tn.LOCAL&&(0,we.hl)(),ee,"unsupported-persistence-type"):On(re===Tn.NONE||sr(),ee,"unsupported-persistence-type")}(X._delegate,B),B){case Tn.SESSION:J=z.a;break;case Tn.LOCAL:J=(yield z.ax(z.i)._isAvailable())?z.i:z.b;break;case Tn.NONE:J=z.K;break;default:return z.as("argument-error",{appName:X._delegate.name})}return X._delegate.setPersistence(J)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return Qn(this._delegate,z.W(this._delegate))}signInWithCredential(B){return Qn(this._delegate,z.X(this._delegate,B))}signInWithCustomToken(B){return Qn(this._delegate,z._(this._delegate,B))}signInWithEmailAndPassword(B,X){return Qn(this._delegate,z.a5(this._delegate,B,X))}signInWithEmailLink(B,X){return Qn(this._delegate,z.a8(this._delegate,B,X))}signInWithPhoneNumber(B,X){return jn(this._delegate,z.s(this._delegate,B,X))}signInWithPopup(B){var X=this;return(0,c.Z)(function*(){return Q(an(),X._delegate,"operation-not-supported-in-this-environment"),Qn(X._delegate,z.c(X._delegate,B,kt))})()}signInWithRedirect(B){var X=this;return(0,c.Z)(function*(){return Q(an(),X._delegate,"operation-not-supported-in-this-environment"),yield $n(X._delegate),z.f(X._delegate,B,kt)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return z.a3(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ee.Persistence=Tn,ee})();function ge(ee,re,B){let X=ee;"function"!=typeof ee&&({next:X,error:re,complete:B}=ee);const J=X;return{next:Qe=>J(Qe&&H.getOrCreate(Qe)),error:re,complete:B}}function qe(ee,re){const B=function vr(ee,re){const B=mn();if(!B)return[];const X=z.ay(Sr,ee,re);switch(B.getItem(X)){case Tn.NONE:return[z.K];case Tn.LOCAL:return[z.i,z.a];case Tn.SESSION:return[z.a];default:return[]}}(ee,re);if("undefined"!=typeof self&&!B.includes(z.i)&&B.push(z.i),"undefined"!=typeof window)for(const X of[z.b,z.a])B.includes(X)||B.push(X);return B.includes(z.K)||B.push(z.K),B}class lt{constructor(){this.providerId="phone",this._delegate=new z.P(Bn(w.Z.auth()))}static credential(re,B){return z.P.credential(re,B)}verifyPhoneNumber(re,B){return this._delegate.verifyPhoneNumber(re,B)}unwrap(){return this._delegate}}lt.PHONE_SIGN_IN_METHOD=z.P.PHONE_SIGN_IN_METHOD,lt.PROVIDER_ID=z.P.PROVIDER_ID;const ue=z.aw;class ne{constructor(re,B,X=w.Z.app()){var J;ue(null===(J=X.options)||void 0===J?void 0:J.apiKey,"invalid-api-key",{appName:X.name}),this._delegate=new z.R(re,B,X.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ue(ee){ee.INTERNAL.registerComponent(new De.wA("auth-compat",re=>{const B=re.getProvider("app-compat").getImmediate(),X=re.getProvider("auth");return new $e(B,X)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:z.A.EMAIL_SIGNIN,PASSWORD_RESET:z.A.PASSWORD_RESET,RECOVER_EMAIL:z.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:z.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:z.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:z.A.VERIFY_EMAIL}},EmailAuthProvider:z.L,FacebookAuthProvider:z.M,GithubAuthProvider:z.Q,GoogleAuthProvider:z.N,OAuthProvider:z.T,SAMLAuthProvider:z.U,PhoneAuthProvider:lt,PhoneMultiFactorGenerator:z.m,RecaptchaVerifier:ne,TwitterAuthProvider:z.V,Auth:$e,AuthCredential:z.G,Error:we.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ee.registerVersion("@firebase/auth-compat","0.2.12")}(w.Z)},8306:(Qt,et,L)=>{L.d(et,{y:()=>ie});var c=L(2961),w=L(727),z=L(8822),we=L(4671);var De=L(2416),oe=L(576),Me=L(2806);let ie=(()=>{class tt{constructor(Tt){Tt&&(this._subscribe=Tt)}lift(Tt){const Pe=new tt;return Pe.source=this,Pe.operator=Tt,Pe}subscribe(Tt,Pe,Ye){const at=function it(tt){return tt&&tt instanceof c.Lv||function Fe(tt){return tt&&(0,oe.m)(tt.next)&&(0,oe.m)(tt.error)&&(0,oe.m)(tt.complete)}(tt)&&(0,w.Nn)(tt)}(Tt)?Tt:new c.Hp(Tt,Pe,Ye);return(0,Me.x)(()=>{const{operator:mt,source:We}=this;at.add(mt?mt.call(at,We):We?this._subscribe(at):this._trySubscribe(at))}),at}_trySubscribe(Tt){try{return this._subscribe(Tt)}catch(Pe){Tt.error(Pe)}}forEach(Tt,Pe){return new(Pe=fe(Pe))((Ye,at)=>{let mt;mt=this.subscribe(We=>{try{Tt(We)}catch(xe){at(xe),null==mt||mt.unsubscribe()}},at,Ye)})}_subscribe(Tt){var Pe;return null===(Pe=this.source)||void 0===Pe?void 0:Pe.subscribe(Tt)}[z.L](){return this}pipe(...Tt){return function Ce(tt){return 0===tt.length?we.y:1===tt.length?tt[0]:function(Tt){return tt.reduce((Pe,Ye)=>Ye(Pe),Tt)}}(Tt)(this)}toPromise(Tt){return new(Tt=fe(Tt))((Pe,Ye)=>{let at;this.subscribe(mt=>at=mt,mt=>Ye(mt),()=>Pe(at))})}}return tt.create=wt=>new tt(wt),tt})();function fe(tt){var wt;return null!==(wt=null!=tt?tt:De.v.Promise)&&void 0!==wt?wt:Promise}},7579:(Qt,et,L)=>{L.d(et,{x:()=>De});var c=L(8306),w=L(727);const we=(0,L(3888).d)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=L(8737),Ce=L(2806);let De=(()=>{class Me extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const Fe=new oe(this,this);return Fe.operator=fe,Fe}_throwIfClosed(){if(this.closed)throw new we}next(fe){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Fe=this.observers.slice();for(const it of Fe)it.next(fe)}})}error(fe){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().error(fe)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:Fe,isStopped:it,observers:tt}=this;return Fe||it?w.Lc:(tt.push(fe),new w.w0(()=>(0,Te.P)(tt,fe)))}_checkFinalizedStatuses(fe){const{hasError:Fe,thrownError:it,isStopped:tt}=this;Fe?fe.error(it):tt&&fe.complete()}asObservable(){const fe=new c.y;return fe.source=this,fe}}return Me.create=(ie,fe)=>new oe(ie,fe),Me})();class oe extends De{constructor(ie,fe){super(),this.destination=ie,this.source=fe}next(ie){var fe,Fe;null===(Fe=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===Fe||Fe.call(fe,ie)}error(ie){var fe,Fe;null===(Fe=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===Fe||Fe.call(fe,ie)}complete(){var ie,fe;null===(fe=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===fe||fe.call(ie)}_subscribe(ie){var fe,Fe;return null!==(Fe=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(ie))&&void 0!==Fe?Fe:w.Lc}}},2961:(Qt,et,L)=>{L.d(et,{Hp:()=>it,Lv:()=>Fe});var c=L(576),w=L(727),z=L(2416),we=L(7849);function Te(){}const Ce=Me("C",void 0,void 0);function Me(Ye,at,mt){return{kind:Ye,value:at,error:mt}}var ie=L(3410),fe=L(2806);class Fe extends w.w0{constructor(at){super(),this.isStopped=!1,at?(this.destination=at,(0,w.Nn)(at)&&at.add(this)):this.destination=Pe}static create(at,mt,We){return new it(at,mt,We)}next(at){this.isStopped?Tt(function oe(Ye){return Me("N",Ye,void 0)}(at),this):this._next(at)}error(at){this.isStopped?Tt(function De(Ye){return Me("E",void 0,Ye)}(at),this):(this.isStopped=!0,this._error(at))}complete(){this.isStopped?Tt(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(at){this.destination.next(at)}_error(at){try{this.destination.error(at)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class it extends Fe{constructor(at,mt,We){let xe;if(super(),(0,c.m)(at))xe=at;else if(at){let st;({next:xe,error:mt,complete:We}=at),this&&z.v.useDeprecatedNextContext?(st=Object.create(at),st.unsubscribe=()=>this.unsubscribe()):st=at,xe=null==xe?void 0:xe.bind(st),mt=null==mt?void 0:mt.bind(st),We=null==We?void 0:We.bind(st)}this.destination={next:xe?tt(xe):Te,error:tt(null!=mt?mt:wt),complete:We?tt(We):Te}}}function tt(Ye,at){return(...mt)=>{try{Ye(...mt)}catch(We){z.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(We):(0,we.h)(We)}}}function wt(Ye){throw Ye}function Tt(Ye,at){const{onStoppedNotification:mt}=z.v;mt&&ie.z.setTimeout(()=>mt(Ye,at))}const Pe={closed:!0,next:Te,error:wt,complete:Te}},727:(Qt,et,L)=>{L.d(et,{Lc:()=>Ce,w0:()=>Te,Nn:()=>De});var c=L(576);const z=(0,L(3888).d)(Me=>function(fe){Me(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((Fe,it)=>`${it+1}) ${Fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var we=L(8737);class Te{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const tt of fe)tt.remove(this);else fe.remove(this);const{initialTeardown:Fe}=this;if((0,c.m)(Fe))try{Fe()}catch(tt){ie=tt instanceof z?tt.errors:[tt]}const{_teardowns:it}=this;if(it){this._teardowns=null;for(const tt of it)try{oe(tt)}catch(wt){ie=null!=ie?ie:[],wt instanceof z?ie=[...ie,...wt.errors]:ie.push(wt)}}if(ie)throw new z(ie)}}add(ie){var fe;if(ie&&ie!==this)if(this.closed)oe(ie);else{if(ie instanceof Te){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._teardowns=null!==(fe=this._teardowns)&&void 0!==fe?fe:[]).push(ie)}}_hasParent(ie){const{_parentage:fe}=this;return fe===ie||Array.isArray(fe)&&fe.includes(ie)}_addParent(ie){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(ie),fe):fe?[fe,ie]:ie}_removeParent(ie){const{_parentage:fe}=this;fe===ie?this._parentage=null:Array.isArray(fe)&&(0,we.P)(fe,ie)}remove(ie){const{_teardowns:fe}=this;fe&&(0,we.P)(fe,ie),ie instanceof Te&&ie._removeParent(this)}}Te.EMPTY=(()=>{const Me=new Te;return Me.closed=!0,Me})();const Ce=Te.EMPTY;function De(Me){return Me instanceof Te||Me&&"closed"in Me&&(0,c.m)(Me.remove)&&(0,c.m)(Me.add)&&(0,c.m)(Me.unsubscribe)}function oe(Me){(0,c.m)(Me)?Me():Me.unsubscribe()}},2416:(Qt,et,L)=>{L.d(et,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Qt,et,L)=>{L.d(et,{z:()=>Te});var c=L(8189),z=L(7669),we=L(8996);function Te(...Ce){return function w(){return(0,c.J)(1)}()((0,we.D)(Ce,(0,z.yG)(Ce)))}},515:(Qt,et,L)=>{L.d(et,{E:()=>w});const w=new(L(8306).y)(Te=>Te.complete())},8996:(Qt,et,L)=>{L.d(et,{D:()=>xe});var c=L(8421),w=L(5363),z=L(9468),Ce=L(8306),oe=L(2202),Me=L(576),ie=L(9672);function Fe(st,vt){if(!st)throw new Error("Iterable cannot be null");return new Ce.y(Ne=>{(0,ie.f)(Ne,vt,()=>{const Nt=st[Symbol.asyncIterator]();(0,ie.f)(Ne,vt,()=>{Nt.next().then(le=>{le.done?Ne.complete():Ne.next(le.value)})},0,!0)})})}var it=L(3670),tt=L(8239),wt=L(1144),Tt=L(6495),Pe=L(2206),Ye=L(4532),at=L(3260);function xe(st,vt){return vt?function We(st,vt){if(null!=st){if((0,it.c)(st))return function we(st,vt){return(0,c.Xf)(st).pipe((0,z.R)(vt),(0,w.Q)(vt))}(st,vt);if((0,wt.z)(st))return function De(st,vt){return new Ce.y(Ne=>{let Nt=0;return vt.schedule(function(){Nt===st.length?Ne.complete():(Ne.next(st[Nt++]),Ne.closed||this.schedule())})})}(st,vt);if((0,tt.t)(st))return function Te(st,vt){return(0,c.Xf)(st).pipe((0,z.R)(vt),(0,w.Q)(vt))}(st,vt);if((0,Pe.D)(st))return Fe(st,vt);if((0,Tt.T)(st))return function fe(st,vt){return new Ce.y(Ne=>{let Nt;return(0,ie.f)(Ne,vt,()=>{Nt=st[oe.h](),(0,ie.f)(Ne,vt,()=>{let le,_e;try{({value:le,done:_e}=Nt.next())}catch(Ee){return void Ne.error(Ee)}_e?Ne.complete():Ne.next(le)},0,!0)}),()=>(0,Me.m)(null==Nt?void 0:Nt.return)&&Nt.return()})}(st,vt);if((0,at.L)(st))return function mt(st,vt){return Fe((0,at.Q)(st),vt)}(st,vt)}throw(0,Ye.z)(st)}(st,vt):(0,c.Xf)(st)}},8421:(Qt,et,L)=>{L.d(et,{Xf:()=>it});var c=L(5987),w=L(1144),z=L(8239),we=L(8306),Te=L(3670),Ce=L(2206),De=L(4532),oe=L(6495),Me=L(3260),ie=L(576),fe=L(7849),Fe=L(8822);function it(We){if(We instanceof we.y)return We;if(null!=We){if((0,Te.c)(We))return function tt(We){return new we.y(xe=>{const st=We[Fe.L]();if((0,ie.m)(st.subscribe))return st.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,w.z)(We))return function wt(We){return new we.y(xe=>{for(let st=0;st<We.length&&!xe.closed;st++)xe.next(We[st]);xe.complete()})}(We);if((0,z.t)(We))return function Tt(We){return new we.y(xe=>{We.then(st=>{xe.closed||(xe.next(st),xe.complete())},st=>xe.error(st)).then(null,fe.h)})}(We);if((0,Ce.D)(We))return Ye(We);if((0,oe.T)(We))return function Pe(We){return new we.y(xe=>{for(const st of We)if(xe.next(st),xe.closed)return;xe.complete()})}(We);if((0,Me.L)(We))return function at(We){return Ye((0,Me.Q)(We))}(We)}throw(0,De.z)(We)}function Ye(We){return new we.y(xe=>{(function mt(We,xe){var st,vt,Ne,Nt;return(0,c.mG)(this,void 0,void 0,function*(){try{for(st=(0,c.KL)(We);!(vt=yield st.next()).done;)if(xe.next(vt.value),xe.closed)return}catch(le){Ne={error:le}}finally{try{vt&&!vt.done&&(Nt=st.return)&&(yield Nt.call(st))}finally{if(Ne)throw Ne.error}}xe.complete()})})(We,xe).catch(st=>xe.error(st))})}},6451:(Qt,et,L)=>{L.d(et,{T:()=>Ce});var c=L(8189),w=L(8421),z=L(515),we=L(7669),Te=L(8996);function Ce(...De){const oe=(0,we.yG)(De),Me=(0,we._6)(De,1/0),ie=De;return ie.length?1===ie.length?(0,w.Xf)(ie[0]):(0,c.J)(Me)((0,Te.D)(ie,oe)):z.E}},9646:(Qt,et,L)=>{L.d(et,{of:()=>z});var c=L(7669),w=L(8996);function z(...we){const Te=(0,c.yG)(we);return(0,w.D)(we,Te)}},5403:(Qt,et,L)=>{L.d(et,{Q:()=>w});var c=L(2961);class w extends c.Lv{constructor(we,Te,Ce,De,oe){super(we),this.onFinalize=oe,this._next=Te?function(Me){try{Te(Me)}catch(ie){we.error(ie)}}:super._next,this._error=De?function(Me){try{De(Me)}catch(ie){we.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(Me){we.error(Me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}},4351:(Qt,et,L)=>{L.d(et,{b:()=>z});var c=L(5577),w=L(576);function z(we,Te){return(0,w.m)(Te)?(0,c.z)(we,Te,1):(0,c.z)(we,1)}},6590:(Qt,et,L)=>{L.d(et,{d:()=>z});var c=L(4482),w=L(5403);function z(we){return(0,c.e)((Te,Ce)=>{let De=!1;Te.subscribe(new w.Q(Ce,oe=>{De=!0,Ce.next(oe)},()=>{De||Ce.next(we),Ce.complete()}))})}},1884:(Qt,et,L)=>{L.d(et,{x:()=>we});var c=L(4671),w=L(4482),z=L(5403);function we(Ce,De=c.y){return Ce=null!=Ce?Ce:Te,(0,w.e)((oe,Me)=>{let ie,fe=!0;oe.subscribe(new z.Q(Me,Fe=>{const it=De(Fe);(fe||!Ce(ie,it))&&(fe=!1,ie=it,Me.next(Fe))}))})}function Te(Ce,De){return Ce===De}},9300:(Qt,et,L)=>{L.d(et,{h:()=>z});var c=L(4482),w=L(5403);function z(we,Te){return(0,c.e)((Ce,De)=>{let oe=0;Ce.subscribe(new w.Q(De,Me=>we.call(Te,Me,oe++)&&De.next(Me)))})}},590:(Qt,et,L)=>{L.d(et,{P:()=>De});var c=L(6805),w=L(9300),z=L(5698),we=L(6590),Te=L(8068),Ce=L(4671);function De(oe,Me){const ie=arguments.length>=2;return fe=>fe.pipe(oe?(0,w.h)((Fe,it)=>oe(Fe,it,fe)):Ce.y,(0,z.q)(1),ie?(0,we.d)(Me):(0,Te.T)(()=>new c.K))}},4004:(Qt,et,L)=>{L.d(et,{U:()=>z});var c=L(4482),w=L(5403);function z(we,Te){return(0,c.e)((Ce,De)=>{let oe=0;Ce.subscribe(new w.Q(De,Me=>{De.next(we.call(Te,Me,oe++))}))})}},8189:(Qt,et,L)=>{L.d(et,{J:()=>z});var c=L(5577),w=L(4671);function z(we=1/0){return(0,c.z)(w.y,we)}},5577:(Qt,et,L)=>{L.d(et,{z:()=>oe});var c=L(4004),w=L(8421),z=L(4482),we=L(9672),Te=L(5403),De=L(576);function oe(Me,ie,fe=1/0){return(0,De.m)(ie)?oe((Fe,it)=>(0,c.U)((tt,wt)=>ie(Fe,tt,it,wt))((0,w.Xf)(Me(Fe,it))),fe):("number"==typeof ie&&(fe=ie),(0,z.e)((Fe,it)=>function Ce(Me,ie,fe,Fe,it,tt,wt,Tt){const Pe=[];let Ye=0,at=0,mt=!1;const We=()=>{mt&&!Pe.length&&!Ye&&ie.complete()},xe=vt=>Ye<Fe?st(vt):Pe.push(vt),st=vt=>{tt&&ie.next(vt),Ye++;let Ne=!1;(0,w.Xf)(fe(vt,at++)).subscribe(new Te.Q(ie,Nt=>{null==it||it(Nt),tt?xe(Nt):ie.next(Nt)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Ye--;Pe.length&&Ye<Fe;){const Nt=Pe.shift();wt?(0,we.f)(ie,wt,()=>st(Nt)):st(Nt)}We()}catch(Nt){ie.error(Nt)}}))};return Me.subscribe(new Te.Q(ie,xe,()=>{mt=!0,We()})),()=>{null==Tt||Tt()}}(Fe,it,Me,fe)))}},5363:(Qt,et,L)=>{L.d(et,{Q:()=>we});var c=L(9672),w=L(4482),z=L(5403);function we(Te,Ce=0){return(0,w.e)((De,oe)=>{De.subscribe(new z.Q(oe,Me=>(0,c.f)(oe,Te,()=>oe.next(Me),Ce),()=>(0,c.f)(oe,Te,()=>oe.complete(),Ce),Me=>(0,c.f)(oe,Te,()=>oe.error(Me),Ce)))})}},1520:(Qt,et,L)=>{L.d(et,{G:()=>z});var c=L(4482),w=L(5403);function z(){return(0,c.e)((we,Te)=>{let Ce,De=!1;we.subscribe(new w.Q(Te,oe=>{const Me=Ce;Ce=oe,De&&Te.next([Me,oe]),De=!0}))})}},5026:(Qt,et,L)=>{L.d(et,{R:()=>we});var c=L(4482),w=L(5403);function z(Te,Ce,De,oe,Me){return(ie,fe)=>{let Fe=De,it=Ce,tt=0;ie.subscribe(new w.Q(fe,wt=>{const Tt=tt++;it=Fe?Te(it,wt,Tt):(Fe=!0,wt),oe&&fe.next(it)},Me&&(()=>{Fe&&fe.next(it),fe.complete()})))}}function we(Te,Ce){return(0,c.e)(z(Te,Ce,arguments.length>=2,!0))}},3099:(Qt,et,L)=>{L.d(et,{B:()=>Ce});var c=L(8996),w=L(5698),z=L(7579),we=L(2961),Te=L(4482);function Ce(oe={}){const{connector:Me=(()=>new z.x),resetOnError:ie=!0,resetOnComplete:fe=!0,resetOnRefCountZero:Fe=!0}=oe;return it=>{let tt=null,wt=null,Tt=null,Pe=0,Ye=!1,at=!1;const mt=()=>{null==wt||wt.unsubscribe(),wt=null},We=()=>{mt(),tt=Tt=null,Ye=at=!1},xe=()=>{const st=tt;We(),null==st||st.unsubscribe()};return(0,Te.e)((st,vt)=>{Pe++,!at&&!Ye&&mt();const Ne=Tt=null!=Tt?Tt:Me();vt.add(()=>{Pe--,0===Pe&&!at&&!Ye&&(wt=De(xe,Fe))}),Ne.subscribe(vt),tt||(tt=new we.Hp({next:Nt=>Ne.next(Nt),error:Nt=>{at=!0,mt(),wt=De(We,ie,Nt),Ne.error(Nt)},complete:()=>{Ye=!0,mt(),wt=De(We,fe),Ne.complete()}}),(0,c.D)(st).subscribe(tt))})(it)}}function De(oe,Me,...ie){return!0===Me?(oe(),null):!1===Me?null:Me(...ie).pipe((0,w.q)(1)).subscribe(()=>oe())}},3151:(Qt,et,L)=>{L.d(et,{d:()=>Te});var c=L(7579),w=L(6063);class z extends c.x{constructor(De=1/0,oe=1/0,Me=w.l){super(),this._bufferSize=De,this._windowTime=oe,this._timestampProvider=Me,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=oe===1/0,this._bufferSize=Math.max(1,De),this._windowTime=Math.max(1,oe)}next(De){const{isStopped:oe,_buffer:Me,_infiniteTimeWindow:ie,_timestampProvider:fe,_windowTime:Fe}=this;oe||(Me.push(De),!ie&&Me.push(fe.now()+Fe)),this._trimBuffer(),super.next(De)}_subscribe(De){this._throwIfClosed(),this._trimBuffer();const oe=this._innerSubscribe(De),{_infiniteTimeWindow:Me,_buffer:ie}=this,fe=ie.slice();for(let Fe=0;Fe<fe.length&&!De.closed;Fe+=Me?1:2)De.next(fe[Fe]);return this._checkFinalizedStatuses(De),oe}_trimBuffer(){const{_bufferSize:De,_timestampProvider:oe,_buffer:Me,_infiniteTimeWindow:ie}=this,fe=(ie?1:2)*De;if(De<1/0&&fe<Me.length&&Me.splice(0,Me.length-fe),!ie){const Fe=oe.now();let it=0;for(let tt=1;tt<Me.length&&Me[tt]<=Fe;tt+=2)it=tt;it&&Me.splice(0,it+1)}}}var we=L(3099);function Te(Ce,De,oe){var Me,ie;let fe,Fe=!1;return Ce&&"object"==typeof Ce?(fe=null!==(Me=Ce.bufferSize)&&void 0!==Me?Me:1/0,De=null!==(ie=Ce.windowTime)&&void 0!==ie?ie:1/0,Fe=!!Ce.refCount,oe=Ce.scheduler):fe=null!=Ce?Ce:1/0,(0,we.B)({connector:()=>new z(fe,De,oe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Fe})}},8675:(Qt,et,L)=>{L.d(et,{O:()=>we});var c=L(7272),w=L(7669),z=L(4482);function we(...Te){const Ce=(0,w.yG)(Te);return(0,z.e)((De,oe)=>{(Ce?(0,c.z)(Te,De,Ce):(0,c.z)(Te,De)).subscribe(oe)})}},9468:(Qt,et,L)=>{L.d(et,{R:()=>w});var c=L(4482);function w(z,we=0){return(0,c.e)((Te,Ce)=>{Ce.add(z.schedule(()=>Te.subscribe(Ce),we))})}},3900:(Qt,et,L)=>{L.d(et,{w:()=>we});var c=L(8421),w=L(4482),z=L(5403);function we(Te,Ce){return(0,w.e)((De,oe)=>{let Me=null,ie=0,fe=!1;const Fe=()=>fe&&!Me&&oe.complete();De.subscribe(new z.Q(oe,it=>{null==Me||Me.unsubscribe();let tt=0;const wt=ie++;(0,c.Xf)(Te(it,wt)).subscribe(Me=new z.Q(oe,Tt=>oe.next(Ce?Ce(it,Tt,wt,tt++):Tt),()=>{Me=null,Fe()}))},()=>{fe=!0,Fe()}))})}},5698:(Qt,et,L)=>{L.d(et,{q:()=>we});var c=L(515),w=L(4482),z=L(5403);function we(Te){return Te<=0?()=>c.E:(0,w.e)((Ce,De)=>{let oe=0;Ce.subscribe(new z.Q(De,Me=>{++oe<=Te&&(De.next(Me),Te<=oe&&De.complete())}))})}},8505:(Qt,et,L)=>{L.d(et,{b:()=>Te});var c=L(576),w=L(4482),z=L(5403),we=L(4671);function Te(Ce,De,oe){const Me=(0,c.m)(Ce)||De||oe?{next:Ce,error:De,complete:oe}:Ce;return Me?(0,w.e)((ie,fe)=>{var Fe;null===(Fe=Me.subscribe)||void 0===Fe||Fe.call(Me);let it=!0;ie.subscribe(new z.Q(fe,tt=>{var wt;null===(wt=Me.next)||void 0===wt||wt.call(Me,tt),fe.next(tt)},()=>{var tt;it=!1,null===(tt=Me.complete)||void 0===tt||tt.call(Me),fe.complete()},tt=>{var wt;it=!1,null===(wt=Me.error)||void 0===wt||wt.call(Me,tt),fe.error(tt)},()=>{var tt,wt;it&&(null===(tt=Me.unsubscribe)||void 0===tt||tt.call(Me)),null===(wt=Me.finalize)||void 0===wt||wt.call(Me)}))}):we.y}},8068:(Qt,et,L)=>{L.d(et,{T:()=>we});var c=L(6805),w=L(4482),z=L(5403);function we(Ce=Te){return(0,w.e)((De,oe)=>{let Me=!1;De.subscribe(new z.Q(oe,ie=>{Me=!0,oe.next(ie)},()=>Me?oe.complete():oe.error(Ce())))})}function Te(){return new c.K}},4408:(Qt,et,L)=>{L.d(et,{o:()=>Te});var c=L(727);class w extends c.w0{constructor(De,oe){super()}schedule(De,oe=0){return this}}const z={setInterval(...Ce){const{delegate:De}=z;return((null==De?void 0:De.setInterval)||setInterval)(...Ce)},clearInterval(Ce){const{delegate:De}=z;return((null==De?void 0:De.clearInterval)||clearInterval)(Ce)},delegate:void 0};var we=L(8737);class Te extends w{constructor(De,oe){super(De,oe),this.scheduler=De,this.work=oe,this.pending=!1}schedule(De,oe=0){if(this.closed)return this;this.state=De;const Me=this.id,ie=this.scheduler;return null!=Me&&(this.id=this.recycleAsyncId(ie,Me,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(ie,this.id,oe),this}requestAsyncId(De,oe,Me=0){return z.setInterval(De.flush.bind(De,this),Me)}recycleAsyncId(De,oe,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return oe;z.clearInterval(oe)}execute(De,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(De,oe);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,oe){let ie,Me=!1;try{this.work(De)}catch(fe){Me=!0,ie=fe||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),ie}unsubscribe(){if(!this.closed){const{id:De,scheduler:oe}=this,{actions:Me}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.P)(Me,this),null!=De&&(this.id=this.recycleAsyncId(oe,De,null)),this.delay=null,super.unsubscribe()}}}},7565:(Qt,et,L)=>{L.d(et,{v:()=>z});var c=L(6063);class w{constructor(Te,Ce=w.now){this.schedulerActionCtor=Te,this.now=Ce}schedule(Te,Ce=0,De){return new this.schedulerActionCtor(this,Te).schedule(De,Ce)}}w.now=c.l.now;class z extends w{constructor(Te,Ce=w.now){super(Te,Ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Te){const{actions:Ce}=this;if(this._active)return void Ce.push(Te);let De;this._active=!0;do{if(De=Te.execute(Te.state,Te.delay))break}while(Te=Ce.shift());if(this._active=!1,De){for(;Te=Ce.shift();)Te.unsubscribe();throw De}}}},4986:(Qt,et,L)=>{L.d(et,{z:()=>z});var c=L(4408);const z=new(L(7565).v)(c.o)},6063:(Qt,et,L)=>{L.d(et,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Qt,et,L)=>{L.d(et,{z:()=>c});const c={setTimeout(...w){const{delegate:z}=c;return((null==z?void 0:z.setTimeout)||setTimeout)(...w)},clearTimeout(w){const{delegate:z}=c;return((null==z?void 0:z.clearTimeout)||clearTimeout)(w)},delegate:void 0}},2202:(Qt,et,L)=>{L.d(et,{h:()=>w});const w=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Qt,et,L)=>{L.d(et,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Qt,et,L)=>{L.d(et,{K:()=>w});const w=(0,L(3888).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Qt,et,L)=>{L.d(et,{_6:()=>Ce,jO:()=>we,yG:()=>Te});var c=L(576);function z(De){return De[De.length-1]}function we(De){return(0,c.m)(z(De))?De.pop():void 0}function Te(De){return function w(De){return De&&(0,c.m)(De.schedule)}(z(De))?De.pop():void 0}function Ce(De,oe){return"number"==typeof z(De)?De.pop():oe}},4742:(Qt,et,L)=>{L.d(et,{D:()=>Te});const{isArray:c}=Array,{getPrototypeOf:w,prototype:z,keys:we}=Object;function Te(De){if(1===De.length){const oe=De[0];if(c(oe))return{args:oe,keys:null};if(function Ce(De){return De&&"object"==typeof De&&w(De)===z}(oe)){const Me=we(oe);return{args:Me.map(ie=>oe[ie]),keys:Me}}}return{args:De,keys:null}}},8737:(Qt,et,L)=>{function c(w,z){if(w){const we=w.indexOf(z);0<=we&&w.splice(we,1)}}L.d(et,{P:()=>c})},3888:(Qt,et,L)=>{function c(w){const we=w(Te=>{Error.call(Te),Te.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}L.d(et,{d:()=>c})},1810:(Qt,et,L)=>{function c(w,z){return w.reduce((we,Te,Ce)=>(we[Te]=z[Ce],we),{})}L.d(et,{n:()=>c})},2806:(Qt,et,L)=>{L.d(et,{O:()=>we,x:()=>z});var c=L(2416);let w=null;function z(Te){if(c.v.useDeprecatedSynchronousErrorHandling){const Ce=!w;if(Ce&&(w={errorThrown:!1,error:null}),Te(),Ce){const{errorThrown:De,error:oe}=w;if(w=null,De)throw oe}}else Te()}function we(Te){c.v.useDeprecatedSynchronousErrorHandling&&w&&(w.errorThrown=!0,w.error=Te)}},9672:(Qt,et,L)=>{function c(w,z,we,Te=0,Ce=!1){const De=z.schedule(function(){we(),Ce?w.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(w.add(De),!Ce)return De}L.d(et,{f:()=>c})},4671:(Qt,et,L)=>{function c(w){return w}L.d(et,{y:()=>c})},1144:(Qt,et,L)=>{L.d(et,{z:()=>c});const c=w=>w&&"number"==typeof w.length&&"function"!=typeof w},2206:(Qt,et,L)=>{L.d(et,{D:()=>w});var c=L(576);function w(z){return Symbol.asyncIterator&&(0,c.m)(null==z?void 0:z[Symbol.asyncIterator])}},576:(Qt,et,L)=>{function c(w){return"function"==typeof w}L.d(et,{m:()=>c})},3670:(Qt,et,L)=>{L.d(et,{c:()=>z});var c=L(8822),w=L(576);function z(we){return(0,w.m)(we[c.L])}},6495:(Qt,et,L)=>{L.d(et,{T:()=>z});var c=L(2202),w=L(576);function z(we){return(0,w.m)(null==we?void 0:we[c.h])}},8239:(Qt,et,L)=>{L.d(et,{t:()=>w});var c=L(576);function w(z){return(0,c.m)(null==z?void 0:z.then)}},3260:(Qt,et,L)=>{L.d(et,{L:()=>we,Q:()=>z});var c=L(5987),w=L(576);function z(Te){return(0,c.FC)(this,arguments,function*(){const De=Te.getReader();try{for(;;){const{value:oe,done:Me}=yield(0,c.qq)(De.read());if(Me)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(oe)}}finally{De.releaseLock()}})}function we(Te){return(0,w.m)(null==Te?void 0:Te.getReader)}},4482:(Qt,et,L)=>{L.d(et,{A:()=>w,e:()=>z});var c=L(576);function w(we){return(0,c.m)(null==we?void 0:we.lift)}function z(we){return Te=>{if(w(Te))return Te.lift(function(Ce){try{return we(Ce,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Qt,et,L)=>{L.d(et,{Z:()=>we});var c=L(4004);const{isArray:w}=Array;function we(Te){return(0,c.U)(Ce=>function z(Te,Ce){return w(Ce)?Te(...Ce):Te(Ce)}(Te,Ce))}},7849:(Qt,et,L)=>{L.d(et,{h:()=>z});var c=L(2416),w=L(3410);function z(we){w.z.setTimeout(()=>{const{onUnhandledError:Te}=c.v;if(!Te)throw we;Te(we)})}},4532:(Qt,et,L)=>{function c(w){return new TypeError(`You provided ${null!==w&&"object"==typeof w?"an invalid object":`'${w}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(et,{z:()=>c})},5987:(Qt,et,L)=>{function oe(le,_e,Ee,Oe){return new(Ee||(Ee=Promise))(function(me,pt){function xt(Ht){try{yt(Oe.next(Ht))}catch(Kt){pt(Kt)}}function un(Ht){try{yt(Oe.throw(Ht))}catch(Kt){pt(Kt)}}function yt(Ht){Ht.done?me(Ht.value):function He(me){return me instanceof Ee?me:new Ee(function(pt){pt(me)})}(Ht.value).then(xt,un)}yt((Oe=Oe.apply(le,_e||[])).next())})}function Pe(le){return this instanceof Pe?(this.v=le,this):new Pe(le)}function Ye(le,_e,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Oe=Ee.apply(le,_e||[]),me=[];return He={},pt("next"),pt("throw"),pt("return"),He[Symbol.asyncIterator]=function(){return this},He;function pt(nn){Oe[nn]&&(He[nn]=function(ct){return new Promise(function(dt,Ae){me.push([nn,ct,dt,Ae])>1||xt(nn,ct)})})}function xt(nn,ct){try{!function un(nn){nn.value instanceof Pe?Promise.resolve(nn.value.v).then(yt,Ht):Kt(me[0][2],nn)}(Oe[nn](ct))}catch(dt){Kt(me[0][3],dt)}}function yt(nn){xt("next",nn)}function Ht(nn){xt("throw",nn)}function Kt(nn,ct){nn(ct),me.shift(),me.length&&xt(me[0][0],me[0][1])}}function mt(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,_e=le[Symbol.asyncIterator];return _e?_e.call(le):(le=function Fe(le){var _e="function"==typeof Symbol&&Symbol.iterator,Ee=_e&&le[_e],Oe=0;if(Ee)return Ee.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Oe>=le.length&&(le=void 0),{value:le&&le[Oe++],done:!le}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),Ee={},Oe("next"),Oe("throw"),Oe("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Oe(me){Ee[me]=le[me]&&function(pt){return new Promise(function(xt,un){!function He(me,pt,xt,un){Promise.resolve(un).then(function(yt){me({value:yt,done:xt})},pt)}(xt,un,(pt=le[me](pt)).done,pt.value)})}}}L.d(et,{FC:()=>Ye,KL:()=>mt,mG:()=>oe,qq:()=>Pe})},655:(Qt,et,L)=>{function we(le,_e){var Ee={};for(var Oe in le)Object.prototype.hasOwnProperty.call(le,Oe)&&_e.indexOf(Oe)<0&&(Ee[Oe]=le[Oe]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(Oe=Object.getOwnPropertySymbols(le);He<Oe.length;He++)_e.indexOf(Oe[He])<0&&Object.prototype.propertyIsEnumerable.call(le,Oe[He])&&(Ee[Oe[He]]=le[Oe[He]])}return Ee}function oe(le,_e,Ee,Oe){return new(Ee||(Ee=Promise))(function(me,pt){function xt(Ht){try{yt(Oe.next(Ht))}catch(Kt){pt(Kt)}}function un(Ht){try{yt(Oe.throw(Ht))}catch(Kt){pt(Kt)}}function yt(Ht){Ht.done?me(Ht.value):function He(me){return me instanceof Ee?me:new Ee(function(pt){pt(me)})}(Ht.value).then(xt,un)}yt((Oe=Oe.apply(le,_e||[])).next())})}L.d(et,{_T:()=>we,mG:()=>oe})},1777:(Qt,et,L)=>{L.d(et,{LC:()=>w,SB:()=>Me,X$:()=>we,ZE:()=>at,ZN:()=>Ye,_j:()=>c,eR:()=>fe,jt:()=>Te,k1:()=>mt,l3:()=>z,oB:()=>oe,vP:()=>De});class c{}class w{}const z="*";function we(We,xe){return{type:7,name:We,definitions:xe,options:{}}}function Te(We,xe=null){return{type:4,styles:xe,timings:We}}function De(We,xe=null){return{type:2,steps:We,options:xe}}function oe(We){return{type:6,styles:We,offset:null}}function Me(We,xe,st){return{type:0,name:We,styles:xe,options:st}}function fe(We,xe,st=null){return{type:1,expr:We,animation:xe,options:st}}function Pe(We){Promise.resolve(null).then(We)}class Ye{constructor(xe=0,st=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=xe+st}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(xe=>xe()),this._onDoneFns=[])}onStart(xe){this._onStartFns.push(xe)}onDone(xe){this._onDoneFns.push(xe)}onDestroy(xe){this._onDestroyFns.push(xe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Pe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(xe=>xe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(xe=>xe()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(xe){this._position=this.totalTime?xe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(xe){const st="start"==xe?this._onStartFns:this._onDoneFns;st.forEach(vt=>vt()),st.length=0}}class at{constructor(xe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=xe;let st=0,vt=0,Ne=0;const Nt=this.players.length;0==Nt?Pe(()=>this._onFinish()):this.players.forEach(le=>{le.onDone(()=>{++st==Nt&&this._onFinish()}),le.onDestroy(()=>{++vt==Nt&&this._onDestroy()}),le.onStart(()=>{++Ne==Nt&&this._onStart()})}),this.totalTime=this.players.reduce((le,_e)=>Math.max(le,_e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(xe=>xe()),this._onDoneFns=[])}init(){this.players.forEach(xe=>xe.init())}onStart(xe){this._onStartFns.push(xe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(xe=>xe()),this._onStartFns=[])}onDone(xe){this._onDoneFns.push(xe)}onDestroy(xe){this._onDestroyFns.push(xe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(xe=>xe.play())}pause(){this.players.forEach(xe=>xe.pause())}restart(){this.players.forEach(xe=>xe.restart())}finish(){this._onFinish(),this.players.forEach(xe=>xe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(xe=>xe.destroy()),this._onDestroyFns.forEach(xe=>xe()),this._onDestroyFns=[])}reset(){this.players.forEach(xe=>xe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(xe){const st=xe*this.totalTime;this.players.forEach(vt=>{const Ne=vt.totalTime?Math.min(1,st/vt.totalTime):1;vt.setPosition(Ne)})}getPosition(){const xe=this.players.reduce((st,vt)=>null===st||vt.totalTime>st.totalTime?vt:st,null);return null!=xe?xe.getPosition():0}beforeDestroy(){this.players.forEach(xe=>{xe.beforeDestroy&&xe.beforeDestroy()})}triggerCallback(xe){const st="start"==xe?this._onStartFns:this._onDoneFns;st.forEach(vt=>vt()),st.length=0}}const mt="!"},9808:(Qt,et,L)=>{L.d(et,{Do:()=>We,EM:()=>Us,HT:()=>Te,JF:()=>Or,K0:()=>De,Mx:()=>Pn,NF:()=>Hr,O5:()=>Ge,Ov:()=>ks,PM:()=>Gr,S$:()=>Pe,V_:()=>ie,Ye:()=>xe,b0:()=>mt,bD:()=>rs,ez:()=>ys,lw:()=>oe,mr:()=>at,q:()=>z,sg:()=>jr,w_:()=>Ce});var c=L(5e3);let w=null;function z(){return w}function Te(P){w||(w=P)}class Ce{}const De=new c.OlP("DocumentToken");let oe=(()=>{class P{historyGo(F){throw new Error("Not implemented")}}return P.\u0275fac=function(F){return new(F||P)},P.\u0275prov=c.Yz7({token:P,factory:function(){return function Me(){return(0,c.LFG)(fe)}()},providedIn:"platform"}),P})();const ie=new c.OlP("Location Initialized");let fe=(()=>{class P extends oe{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(F){const te=z().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",F,!1),()=>te.removeEventListener("popstate",F)}onHashChange(F){const te=z().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",F,!1),()=>te.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,te,ve){Fe()?this._history.pushState(F,te,ve):this.location.hash=ve}replaceState(F,te,ve){Fe()?this._history.replaceState(F,te,ve):this.location.hash=ve}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return P.\u0275fac=function(F){return new(F||P)(c.LFG(De))},P.\u0275prov=c.Yz7({token:P,factory:function(){return function it(){return new fe((0,c.LFG)(De))}()},providedIn:"platform"}),P})();function Fe(){return!!window.history.pushState}function tt(P,Z){if(0==P.length)return Z;if(0==Z.length)return P;let F=0;return P.endsWith("/")&&F++,Z.startsWith("/")&&F++,2==F?P+Z.substring(1):1==F?P+Z:P+"/"+Z}function wt(P){const Z=P.match(/#|\?|$/),F=Z&&Z.index||P.length;return P.slice(0,F-("/"===P[F-1]?1:0))+P.slice(F)}function Tt(P){return P&&"?"!==P[0]?"?"+P:P}let Pe=(()=>{class P{historyGo(F){throw new Error("Not implemented")}}return P.\u0275fac=function(F){return new(F||P)},P.\u0275prov=c.Yz7({token:P,factory:function(){return function Ye(P){const Z=(0,c.LFG)(De).location;return new mt((0,c.LFG)(oe),Z&&Z.origin||"")}()},providedIn:"root"}),P})();const at=new c.OlP("appBaseHref");let mt=(()=>{class P extends Pe{constructor(F,te){if(super(),this._platformLocation=F,this._removeListenerFns=[],null==te&&(te=this._platformLocation.getBaseHrefFromDOM()),null==te)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=te}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return tt(this._baseHref,F)}path(F=!1){const te=this._platformLocation.pathname+Tt(this._platformLocation.search),ve=this._platformLocation.hash;return ve&&F?`${te}${ve}`:te}pushState(F,te,ve,gt){const Mt=this.prepareExternalUrl(ve+Tt(gt));this._platformLocation.pushState(F,te,Mt)}replaceState(F,te,ve,gt){const Mt=this.prepareExternalUrl(ve+Tt(gt));this._platformLocation.replaceState(F,te,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var te,ve;null===(ve=(te=this._platformLocation).historyGo)||void 0===ve||ve.call(te,F)}}return P.\u0275fac=function(F){return new(F||P)(c.LFG(oe),c.LFG(at,8))},P.\u0275prov=c.Yz7({token:P,factory:P.\u0275fac}),P})(),We=(()=>{class P extends Pe{constructor(F,te){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(F){const te=tt(this._baseHref,F);return te.length>0?"#"+te:te}pushState(F,te,ve,gt){let Mt=this.prepareExternalUrl(ve+Tt(gt));0==Mt.length&&(Mt=this._platformLocation.pathname),this._platformLocation.pushState(F,te,Mt)}replaceState(F,te,ve,gt){let Mt=this.prepareExternalUrl(ve+Tt(gt));0==Mt.length&&(Mt=this._platformLocation.pathname),this._platformLocation.replaceState(F,te,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var te,ve;null===(ve=(te=this._platformLocation).historyGo)||void 0===ve||ve.call(te,F)}}return P.\u0275fac=function(F){return new(F||P)(c.LFG(oe),c.LFG(at,8))},P.\u0275prov=c.Yz7({token:P,factory:P.\u0275fac}),P})(),xe=(()=>{class P{constructor(F,te){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=F;const ve=this._platformStrategy.getBaseHref();this._platformLocation=te,this._baseHref=wt(Ne(ve)),this._platformStrategy.onPopState(gt=>{this._subject.emit({url:this.path(!0),pop:!0,state:gt.state,type:gt.type})})}path(F=!1){return this.normalize(this._platformStrategy.path(F))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(F,te=""){return this.path()==this.normalize(F+Tt(te))}normalize(F){return P.stripTrailingSlash(function vt(P,Z){return P&&Z.startsWith(P)?Z.substring(P.length):Z}(this._baseHref,Ne(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._platformStrategy.prepareExternalUrl(F)}go(F,te="",ve=null){this._platformStrategy.pushState(ve,"",F,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Tt(te)),ve)}replaceState(F,te="",ve=null){this._platformStrategy.replaceState(ve,"",F,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Tt(te)),ve)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(F=0){var te,ve;null===(ve=(te=this._platformStrategy).historyGo)||void 0===ve||ve.call(te,F)}onUrlChange(F){this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)}))}_notifyUrlChangeListeners(F="",te){this._urlChangeListeners.forEach(ve=>ve(F,te))}subscribe(F,te,ve){return this._subject.subscribe({next:F,error:te,complete:ve})}}return P.normalizeQueryParams=Tt,P.joinWithSlash=tt,P.stripTrailingSlash=wt,P.\u0275fac=function(F){return new(F||P)(c.LFG(Pe),c.LFG(oe))},P.\u0275prov=c.Yz7({token:P,factory:function(){return function st(){return new xe((0,c.LFG)(Pe),(0,c.LFG)(oe))}()},providedIn:"root"}),P})();function Ne(P){return P.replace(/\/index.html$/,"")}var _e=(()=>((_e=_e||{})[_e.Zero=0]="Zero",_e[_e.One=1]="One",_e[_e.Two=2]="Two",_e[_e.Few=3]="Few",_e[_e.Many=4]="Many",_e[_e.Other=5]="Other",_e))();const Sn=c.kL8;class br{}let kr=(()=>{class P extends br{constructor(F){super(),this.locale=F}getPluralCategory(F,te){switch(Sn(te||this.locale)(F)){case _e.Zero:return"zero";case _e.One:return"one";case _e.Two:return"two";case _e.Few:return"few";case _e.Many:return"many";default:return"other"}}}return P.\u0275fac=function(F){return new(F||P)(c.LFG(c.soG))},P.\u0275prov=c.Yz7({token:P,factory:P.\u0275fac}),P})();function Pn(P,Z){Z=encodeURIComponent(Z);for(const F of P.split(";")){const te=F.indexOf("="),[ve,gt]=-1==te?[F,""]:[F.slice(0,te),F.slice(te+1)];if(ve.trim()===Z)return decodeURIComponent(gt)}return null}class ti{constructor(Z,F,te,ve){this.$implicit=Z,this.ngForOf=F,this.index=te,this.count=ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jr=(()=>{class P{constructor(F,te,ve){this._viewContainer=F,this._template=te,this._differs=ve,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;if(!this._differ&&F)try{this._differ=this._differs.find(F).create(this.ngForTrackBy)}catch(te){throw new Error(`Cannot find a differ supporting object '${F}' of type '${function Mr(P){return P.name||typeof P}(F)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const te=[];F.forEachOperation((ve,gt,Mt)=>{if(null==ve.previousIndex){const on=this._viewContainer.createEmbeddedView(this._template,new ti(null,this._ngForOf,-1,-1),null===Mt?void 0:Mt),V=new gr(ve,on);te.push(V)}else if(null==Mt)this._viewContainer.remove(null===gt?void 0:gt);else if(null!==gt){const on=this._viewContainer.get(gt);this._viewContainer.move(on,Mt);const V=new gr(ve,on);te.push(V)}});for(let ve=0;ve<te.length;ve++)this._perViewChange(te[ve].view,te[ve].record);for(let ve=0,gt=this._viewContainer.length;ve<gt;ve++){const Mt=this._viewContainer.get(ve);Mt.context.index=ve,Mt.context.count=gt,Mt.context.ngForOf=this._ngForOf}F.forEachIdentityChange(ve=>{this._viewContainer.get(ve.currentIndex).context.$implicit=ve.item})}_perViewChange(F,te){F.context.$implicit=te.item}static ngTemplateContextGuard(F,te){return!0}}return P.\u0275fac=function(F){return new(F||P)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},P.\u0275dir=c.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),P})();class gr{constructor(Z,F){this.record=Z,this.view=F}}let Ge=(()=>{class P{constructor(F,te){this._viewContainer=F,this._context=new Re,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Ke("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Ke("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,te){return!0}}return P.\u0275fac=function(F){return new(F||P)(c.Y36(c.s_b),c.Y36(c.Rgc))},P.\u0275dir=c.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),P})();class Re{constructor(){this.$implicit=null,this.ngIf=null}}function Ke(P,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,c.AaK)(Z)}'.`)}class So{createSubscription(Z,F){return Z.subscribe({next:F,error:te=>{throw te}})}dispose(Z){Z.unsubscribe()}onDestroy(Z){Z.unsubscribe()}}class li{createSubscription(Z,F){return Z.then(F,te=>{throw te})}dispose(Z){}onDestroy(Z){}}const Oi=new li,Xi=new So;let ks=(()=>{class P{constructor(F){this._ref=F,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,te=>this._updateLatestValue(F,te))}_selectStrategy(F){if((0,c.QGY)(F))return Oi;if((0,c.F4k)(F))return Xi;throw function pi(P,Z){return Error(`InvalidPipeArgument: '${Z}' for pipe '${(0,c.AaK)(P)}'`)}(P,F)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,te){F===this._obj&&(this._latestValue=te,this._ref.markForCheck())}}return P.\u0275fac=function(F){return new(F||P)(c.Y36(c.sBO,16))},P.\u0275pipe=c.Yjl({name:"async",type:P,pure:!1}),P})(),ys=(()=>{class P{}return P.\u0275fac=function(F){return new(F||P)},P.\u0275mod=c.oAB({type:P}),P.\u0275inj=c.cJS({providers:[{provide:br,useClass:kr}]}),P})();const rs="browser";function Hr(P){return P===rs}function Gr(P){return"server"===P}let Us=(()=>{class P{}return P.\u0275prov=(0,c.Yz7)({token:P,providedIn:"root",factory:()=>new Bs((0,c.LFG)(De),window)}),P})();class Bs{constructor(Z,F){this.document=Z,this.window=F,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const F=function yr(P,Z){const F=P.getElementById(Z)||P.getElementsByName(Z)[0];if(F)return F;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const te=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let ve=te.currentNode;for(;ve;){const gt=ve.shadowRoot;if(gt){const Mt=gt.getElementById(Z)||gt.querySelector(`[name="${Z}"]`);if(Mt)return Mt}ve=te.nextNode()}}return null}(this.document,Z);F&&(this.scrollToElement(F),this.attemptFocus(F))}setHistoryScrollRestoration(Z){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=Z)}}scrollToElement(Z){const F=Z.getBoundingClientRect(),te=F.left+this.window.pageXOffset,ve=F.top+this.window.pageYOffset,gt=this.offset();this.window.scrollTo(te-gt[0],ve-gt[1])}attemptFocus(Z){return Z.focus(),this.document.activeElement===Z}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Z=ss(this.window.history)||ss(Object.getPrototypeOf(this.window.history));return!(!Z||!Z.writable&&!Z.set)}catch(Z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Z){return!1}}}function ss(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class Or{}},5e3:(Qt,et,L)=>{L.d(et,{$8M:()=>Ks,$Z:()=>xu,AFp:()=>C0,ALo:()=>Yv,AaK:()=>oe,BQk:()=>Rc,CHM:()=>js,CRH:()=>o0,CZH:()=>Qh,CqO:()=>am,DdM:()=>Gv,EJc:()=>x0,EiD:()=>nl,EpF:()=>fp,F4k:()=>om,FYo:()=>kv,FiY:()=>Po,G48:()=>Rb,GfV:()=>Fv,Gpc:()=>fe,JOm:()=>Ra,JVY:()=>Ju,L6k:()=>zd,LAX:()=>qc,LFG:()=>ki,LSH:()=>Xc,Lbi:()=>S0,NdJ:()=>pp,OlP:()=>hi,Oqu:()=>Dp,PXZ:()=>Cb,Q6J:()=>Nu,QGY:()=>Rd,Qsj:()=>aw,R0b:()=>Ba,RDi:()=>Us,Rgc:()=>Fp,SBq:()=>Np,Sil:()=>E_,Suo:()=>s0,TTD:()=>Vr,TgZ:()=>cp,Tol:()=>pm,Udp:()=>jh,VLi:()=>Ib,X6Q:()=>Nb,XFs:()=>rn,Xpm:()=>ue,Y36:()=>Lh,YKP:()=>Bv,YNc:()=>ap,Yjl:()=>Ie,Yz7:()=>Ae,ZZ4:()=>km,_Bn:()=>Nv,_UZ:()=>dp,_Vd:()=>xp,_c5:()=>Jb,_uU:()=>vm,aQg:()=>Fm,c2e:()=>O0,cJS:()=>It,cg1:()=>Zy,d8E:()=>qy,dDg:()=>P0,deG:()=>Ho,dqk:()=>_n,eBb:()=>Xu,eFA:()=>L0,ekj:()=>$h,g9A:()=>A0,h0i:()=>qh,hGG:()=>sI,hij:()=>Gh,iGM:()=>r0,ifc:()=>qt,ip1:()=>__,kL8:()=>sv,lG2:()=>J,lcZ:()=>Qv,mCW:()=>m,n5z:()=>xr,oAB:()=>re,oJD:()=>Kd,oxw:()=>yp,pB0:()=>mc,q3G:()=>vi,q4F:()=>Lv,qLn:()=>Oa,qOj:()=>Jf,qZA:()=>Vh,qzn:()=>qr,sBO:()=>Pb,sIi:()=>xd,s_b:()=>Mm,soG:()=>Rm,tBr:()=>Ma,tb:()=>M0,tp0:()=>ws,uIk:()=>ip,vHH:()=>wt,vpe:()=>Cl,wAp:()=>nr,xp6:()=>ng,yhl:()=>Qu,ynx:()=>Ru,z2F:()=>Vp,z3N:()=>ma,zSh:()=>Dd,zs3:()=>va});var c=L(7579),w=L(727),z=L(8306),we=L(6451),Te=L(3099);function Ce(t){for(let r in t)if(t[r]===Ce)return r;throw Error("Could not find renamed property on target object.")}function De(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function oe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(oe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Me(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ie=Ce({__forward_ref__:Ce});function fe(t){return t.__forward_ref__=fe,t.toString=function(){return oe(this())},t}function Fe(t){return it(t)?t():t}function it(t){return"function"==typeof t&&t.hasOwnProperty(ie)&&t.__forward_ref__===fe}class wt extends Error{constructor(r,s){super(function Pe(t,r){return`${t?`NG0${t}: `:""}${r}`}(r,s)),this.code=r}}function Ye(t){return"string"==typeof t?t:null==t?"":String(t)}function at(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ye(t)}function st(t,r){const s=r?` in ${r}`:"";throw new wt("201",`No provider for ${at(t)} found${s}`)}function Ht(t,r){null==t&&function Kt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Ae(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function It(t){return{providers:t.providers||[],imports:t.imports||[]}}function en(t){return En(t,Sn)||En(t,Jn)}function En(t,r){return t.hasOwnProperty(r)?t[r]:null}function sr(t){return t&&(t.hasOwnProperty(an)||t.hasOwnProperty(Xn))?t[an]:null}const Sn=Ce({\u0275prov:Ce}),an=Ce({\u0275inj:Ce}),Jn=Ce({ngInjectableDef:Ce}),Xn=Ce({ngInjectorDef:Ce});var rn=(()=>((rn=rn||{})[rn.Default=0]="Default",rn[rn.Host=1]="Host",rn[rn.Self=2]="Self",rn[rn.SkipSelf=4]="SkipSelf",rn[rn.Optional=8]="Optional",rn))();let Ln;function On(t){const r=Ln;return Ln=t,r}function Sr(t,r,s){const a=en(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&rn.Optional?null:void 0!==r?r:void st(oe(t),"Injector")}function $n(t){return{toString:t}.toString()}var zt=(()=>((zt=zt||{})[zt.OnPush=0]="OnPush",zt[zt.Default=1]="Default",zt))(),qt=(()=>{return(t=qt||(qt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",qt;var t})();const kt="undefined"!=typeof globalThis&&globalThis,Bn="undefined"!=typeof window&&window,Er="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_n=kt||"undefined"!=typeof global&&global||Bn||Er,jn={},In=[],Xe=Ce({\u0275cmp:Ce}),H=Ce({\u0275dir:Ce}),Q=Ce({\u0275pipe:Ce}),$e=Ce({\u0275mod:Ce}),ge=Ce({\u0275fac:Ce}),qe=Ce({__NG_ELEMENT_ID__:Ce});let lt=0;function ue(t){return $n(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===zt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||In,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||qt.Emulated,id:"c",styles:t.styles||In,_:null,setInput:null,schemas:t.schemas||null,tView:null},l=t.directives,h=t.features,_=t.pipes;return a.id+=lt++,a.inputs=X(t.inputs,s),a.outputs=X(t.outputs),h&&h.forEach(C=>C(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(de):null,a.pipeDefs=_?()=>("function"==typeof _?_():_).map(Ue):null,a})}function de(t){return Qe(t)||function Et(t){return t[H]||null}(t)}function Ue(t){return function Gt(t){return t[Q]||null}(t)}const ee={};function re(t){return $n(()=>{const r={type:t.type,bootstrap:t.bootstrap||In,declarations:t.declarations||In,imports:t.imports||In,exports:t.exports||In,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(ee[t.id]=t.type),r})}function X(t,r){if(null==t)return jn;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),s[l]=a,r&&(r[l]=h)}return s}const J=ue;function Ie(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Qe(t){return t[Xe]||null}function wn(t,r){const s=t[$e]||null;if(!s&&!0===r)throw new Error(`Type ${oe(t)} does not have '\u0275mod' property.`);return s}function sn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Kn(t){return Array.isArray(t)&&!0===t[1]}function Ir(t){return 0!=(8&t.flags)}function qn(t){return 2==(2&t.flags)}function Qr(t){return 1==(1&t.flags)}function Wr(t){return null!==t.template}function $r(t){return 0!=(512&t[2])}function xi(t,r){return t.hasOwnProperty(ge)?t[ge]:null}class Ti{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Vr(){return ns}function ns(t){return t.type.prototype.ngOnChanges&&(t.setInput=ys),gi}function gi(){const t=mr(this),r=null==t?void 0:t.current;if(r){const s=t.previous;if(s===jn)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function ys(t,r,s,a){const l=mr(t)||function _s(t,r){return t[rs]=r}(t,{previous:jn,current:null}),h=l.current||(l.current={}),_=l.previous,C=this.declaredInputs[s],x=_[C];h[C]=new Ti(x&&x.currentValue,r,_===jn),t[a]=r}Vr.ngInherit=!0;const rs="__ngSimpleChanges__";function mr(t){return t[rs]||null}let Ss;function Us(t){Ss=t}function Bs(){return void 0!==Ss?Ss:"undefined"!=typeof document?document:void 0}function yr(t){return!!t.listen}const Bi={createRenderer:(t,r)=>Bs()};function P(t){for(;Array.isArray(t);)t=t[0];return t}function te(t,r){return P(r[t])}function ve(t,r){return P(r[t.index])}function Mt(t,r){return t.data[r]}function V(t,r){const s=r[t];return sn(s)?s:s[0]}function E(t){return 4==(4&t[2])}function y(t){return 128==(128&t[2])}function ae(t,r){return null==r?null:t[r]}function Ze(t){t[18]=0}function bt(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const St={lFrame:ea(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function kn(){return St.bindingsEnabled}function At(){return St.lFrame.lView}function Zn(){return St.lFrame.tView}function js(t){return St.lFrame.contextLView=t,t[8]}function Vn(){let t=$s();for(;null!==t&&64===t.type;)t=t.parent;return t}function $s(){return St.lFrame.currentTNode}function Zs(t,r){const s=St.lFrame;s.currentTNode=t,s.isParent=r}function Yo(){return St.lFrame.isParent}function Lo(){St.lFrame.isParent=!1}function $a(){return St.isInCheckNoChangesMode}function Qo(t){St.isInCheckNoChangesMode=t}function ii(){const t=St.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Mo(){return St.lFrame.bindingIndex++}function mi(t){const r=St.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function lu(t,r){const s=St.lFrame;s.bindingIndex=s.bindingRootIndex=t,Ia(r)}function Ia(t){St.lFrame.currentDirectiveIndex=t}function as(t){const r=St.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function Uo(){return St.lFrame.currentQueryIndex}function Ta(t){St.lFrame.currentQueryIndex=t}function Ms(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function vs(t,r,s){if(s&rn.SkipSelf){let l=r,h=t;for(;!(l=l.parent,null!==l||s&rn.Host||(l=Ms(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;r=l,t=h}const a=St.lFrame=Xo();return a.currentTNode=r,a.lView=t,!0}function Gs(t){const r=Xo(),s=t[1];St.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Xo(){const t=St.lFrame,r=null===t?null:t.child;return null===r?ea(t):r}function ea(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Ys(){const t=St.lFrame;return St.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Bo=Ys;function Qs(){const t=Ys();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function si(){return St.lFrame.selectedIndex}function Js(t){St.lFrame.selectedIndex=t}function Jr(){const t=St.lFrame;return Mt(t.tView,t.selectedIndex)}function qi(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=t.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:x,ngAfterViewChecked:j,ngOnDestroy:K}=h;_&&(t.contentHooks||(t.contentHooks=[])).push(-s,_),C&&((t.contentHooks||(t.contentHooks=[])).push(s,C),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,C)),x&&(t.viewHooks||(t.viewHooks=[])).push(-s,x),j&&((t.viewHooks||(t.viewHooks=[])).push(s,j),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,j)),null!=K&&(t.destroyHooks||(t.destroyHooks=[])).push(s,K)}}function Es(t,r,s){Fu(t,r,3,s)}function jo(t,r,s,a){(3&t[2])===s&&Fu(t,r,s,a)}function yi(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function Fu(t,r,s,a){const h=null!=a?a:-1,_=r.length-1;let C=0;for(let x=void 0!==a?65535&t[18]:0;x<_;x++)if("number"==typeof r[x+1]){if(C=r[x],null!=a&&C>=a)break}else r[x]<0&&(t[18]+=65536),(C<h||-1==h)&&(ra(t,s,r,x),t[18]=(4294901760&t[18])+x+2),x++}function ra(t,r,s,a){const l=s[a]<0,h=s[a+1],C=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{h.call(C)}finally{}}}else try{h.call(C)}finally{}}class Xs{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function jt(t,r,s){const a=yr(t);let l=0;for(;l<s.length;){const h=s[l];if("number"==typeof h){if(0!==h)break;l++;const _=s[l++],C=s[l++],x=s[l++];a?t.setAttribute(r,C,x,_):r.setAttributeNS(_,C,x)}else{const _=h,C=s[++l];eo(_)?a&&t.setProperty(r,_,C):a?t.setAttribute(r,_,C):r.setAttribute(_,C),l++}}return l}function Fr(t){return 3===t||4===t||6===t}function eo(t){return 64===t.charCodeAt(0)}function ia(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||yn(t,s,l,null,-1===s||2===s?r[++a]:null)}}return t}function yn(t,r,s,a,l){let h=0,_=t.length;if(-1===r)_=-1;else for(;h<t.length;){const C=t[h++];if("number"==typeof C){if(C===r){_=-1;break}if(C>r){_=h-1;break}}}for(;h<t.length;){const C=t[h];if("number"==typeof C)break;if(C===s){if(null===a)return void(null!==l&&(t[h+1]=l));if(a===t[h+1])return void(t[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==_&&(t.splice(_,0,r),h=_+1),t.splice(h++,0,s),null!==a&&t.splice(h++,0,a),null!==l&&t.splice(h++,0,l)}function Un(t){return-1!==t}function sa(t){return 32767&t}function ht(t,r){let s=function $t(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let Ot=!0;function Xr(t){const r=Ot;return Ot=t,r}let Uu=0;function Ws(t,r){const s=aa(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,Ga(a.data,t),Ga(r,null),Ga(a.blueprint,null));const l=M(t,r),h=t.injectorIndex;if(Un(l)){const _=sa(l),C=ht(l,r),x=C[1].data;for(let j=0;j<8;j++)r[h+j]=C[_+j]|x[_+j]}return r[h+8]=l,h}function Ga(t,r){t.push(0,0,0,0,0,0,0,0,r)}function aa(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function M(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){const h=l[1],_=h.type;if(a=2===_?h.declTNode:1===_?l[6]:null,null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function I(t,r,s){!function cc(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(qe)&&(a=s[qe]),null==a&&(a=s[qe]=Uu++);const l=255&a;r.data[t+(l>>5)]|=1<<l}(t,r,s)}function R(t,r,s){if(s&rn.Optional)return t;st(r,"NodeInjector")}function U(t,r,s,a){if(s&rn.Optional&&void 0===a&&(a=null),0==(s&(rn.Self|rn.Host))){const l=t[9],h=On(void 0);try{return l?l.get(r,a,s&rn.Optional):Sr(r,a,s&rn.Optional)}finally{On(h)}}return R(a,r,s)}function Y(t,r,s,a=rn.Default,l){if(null!==t){const h=function An(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(qe)?t[qe]:void 0;return"number"==typeof r?r>=0?255&r:Se:r}(s);if("function"==typeof h){if(!vs(r,t,a))return a&rn.Host?R(l,s,a):U(r,s,a,l);try{const _=h(a);if(null!=_||a&rn.Optional)return _;st(s)}finally{Bo()}}else if("number"==typeof h){let _=null,C=aa(t,r),x=-1,j=a&rn.Host?r[16][6]:null;for((-1===C||a&rn.SkipSelf)&&(x=-1===C?M(t,r):r[C+8],-1!==x&&vn(a,!1)?(_=r[1],C=sa(x),r=ht(x,r)):C=-1);-1!==C;){const K=r[1];if(_r(h,C,K.data)){const he=Je(C,r,s,_,a,j);if(he!==ye)return he}x=r[C+8],-1!==x&&vn(a,r[1].data[C+8]===j)&&_r(h,C,r)?(_=K,C=sa(x),r=ht(x,r)):C=-1}}}return U(r,s,a,l)}const ye={};function Se(){return new to(Vn(),At())}function Je(t,r,s,a,l,h){const _=r[1],C=_.data[t+8],K=cn(C,_,s,null==a?qn(C)&&Ot:a!=_&&0!=(3&C.type),l&rn.Host&&h===C);return null!==K?zn(r,_,K,C):ye}function cn(t,r,s,a,l){const h=t.providerIndexes,_=r.data,C=1048575&h,x=t.directiveStart,K=h>>20,Ve=l?C+K:t.directiveEnd;for(let nt=a?C:C+K;nt<Ve;nt++){const Dt=_[nt];if(nt<x&&s===Dt||nt>=x&&Dt.type===s)return nt}if(l){const nt=_[x];if(nt&&Wr(nt)&&nt.type===s)return x}return null}function zn(t,r,s,a){let l=t[s];const h=r.data;if(function zs(t){return t instanceof Xs}(l)){const _=l;_.resolving&&function mt(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new wt("200",`Circular dependency in DI detected for ${t}${s}`)}(at(h[s]));const C=Xr(_.canSeeViewProviders);_.resolving=!0;const x=_.injectImpl?On(_.injectImpl):null;vs(t,a,rn.Default);try{l=t[s]=_.factory(void 0,h,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Sl(t,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(a){const _=ns(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,_)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,h))}(s,h[s],r)}finally{null!==x&&On(x),Xr(C),_.resolving=!1,Bo()}}return l}function _r(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function vn(t,r){return!(t&rn.Self||t&rn.Host&&r)}class to{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Y(this._tNode,this._lView,r,a,s)}}function xr(t){return $n(()=>{const r=t.prototype.constructor,s=r[ge]||Ri(r),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const h=l[ge]||Ri(l);if(h&&h!==s)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Ri(t){return it(t)?()=>{const r=Ri(Fe(t));return r&&r()}:xi(t)}function Ks(t){return function b(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const h=s[l];if(Fr(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(h===r)return s[l+1];l+=2}}}return null}(Vn(),t)}const us="__parameters__";function No(t,r,s){return $n(()=>{const a=function Di(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...h){if(this instanceof l)return a.apply(this,h),this;const _=new l(...h);return C.annotation=_,C;function C(x,j,K){const he=x.hasOwnProperty(us)?x[us]:Object.defineProperty(x,us,{value:[]})[us];for(;he.length<=K;)he.push(null);return(he[K]=he[K]||[]).push(_),x}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class hi{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ae({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ho=new hi("AnalyzeForEntryComponents");function Ci(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),Ci(a,r)):r!==t&&r.push(a)}return r}function ls(t,r){t.forEach(s=>Array.isArray(s)?ls(s,r):r(s))}function la(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function za(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Yi(t,r,s){let a=Ca(t,r);return a>=0?t[1|a]=s:(a=~a,function Ka(t,r,s,a){let l=t.length;if(l==r)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>r;)t[l]=t[l-2],l--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Pi(t,r){const s=Ca(t,r);if(s>=0)return t[1|s]}function Ca(t,r){return function Aa(t,r,s){let a=0,l=t.length>>s;for(;l!==a;){const h=a+(l-a>>1),_=t[h<<s];if(r===_)return h<<s;_>r?l=h:a=h+1}return~(l<<s)}(t,r,1)}const Go={},bo="__NG_DI_FLAG__",Za="ngTempTokenPath",Qa=/\n/gm,xl="__source",hc=Ce({provide:String,useValue:Ce});let ni;function $c(t){const r=ni;return ni=t,r}function fc(t,r=rn.Default){if(void 0===ni)throw new Error("inject() must be called from an injection context");return null===ni?Sr(t,void 0,r):ni.get(t,r&rn.Optional?null:void 0,r)}function ki(t,r=rn.Default){return(function Tn(){return Ln}()||fc)(Fe(t),r)}function fu(t){const r=[];for(let s=0;s<t.length;s++){const a=Fe(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let l,h=rn.Default;for(let _=0;_<a.length;_++){const C=a[_],x=Rl(C);"number"==typeof x?-1===x?l=C.token:h|=x:l=C}r.push(ki(l,h))}else r.push(ki(a))}return r}function pu(t,r){return t[bo]=r,t.prototype[bo]=r,t}function Rl(t){return t[bo]}const Ma=pu(No("Inject",t=>({token:t})),-1),Po=pu(No("Optional"),8),ws=pu(No("SkipSelf"),4);let qu,_u;function zo(t){var r;return(null===(r=function mu(){if(void 0===qu&&(qu=null,_n.trustedTypes))try{qu=_n.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return qu}())||void 0===r?void 0:r.createHTML(t))||t}function pa(t){var r;return(null===(r=function fa(){if(void 0===_u&&(_u=null,_n.trustedTypes))try{_u=_n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return _u}())||void 0===r?void 0:r.createHTML(t))||t}class Wo{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class vu extends Wo{getTypeName(){return"HTML"}}class Wc extends Wo{getTypeName(){return"Style"}}class Kc extends Wo{getTypeName(){return"Script"}}class Yu extends Wo{getTypeName(){return"URL"}}class gc extends Wo{getTypeName(){return"ResourceURL"}}function ma(t){return t instanceof Wo?t.changingThisBreaksApplicationSecurity:t}function qr(t,r){const s=Qu(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function Qu(t){return t instanceof Wo&&t.getTypeName()||null}function Ju(t){return new vu(t)}function zd(t){return new Wc(t)}function Xu(t){return new Kc(t)}function qc(t){return new Yu(t)}function mc(t){return new gc(t)}class el{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(zo(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class eu{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=zo(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=zo(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let l=s.length-1;0<l;l--){const _=s.item(l).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&r.removeAttribute(_)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const Yc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,g=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function m(t){return(t=String(t)).match(Yc)||t.match(g)?t:"unsafe:"+t}function G(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function se(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const ot=G("area,br,col,hr,img,wbr"),Ft=G("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fn=G("rp,rt"),Dr=se(ot,se(Ft,G("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),se(fn,G("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),se(fn,Ft)),ko=G("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fo=G("srcset"),yc=se(ko,Fo,G("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),G("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ul=G("script,style,template");class tu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Dr.hasOwnProperty(s))return this.sanitizedSomething=!0,!Ul.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let l=0;l<a.length;l++){const h=a.item(l),_=h.name,C=_.toLowerCase();if(!yc.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let x=h.value;ko[C]&&(x=m(x)),Fo[C]&&(t=x,x=(t=String(t)).split(",").map(r=>m(r.trim())).join(", ")),this.buf.push(" ",_,'="',Nr(x),'"')}var t;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Dr.hasOwnProperty(s)&&!ot.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Nr(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Qc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jc=/([^\#-~ |!])/g;function Nr(t){return t.replace(/&/g,"&amp;").replace(Qc,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Jc,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tl;function nl(t,r){let s=null;try{tl=tl||function Vl(t){const r=new eu(t);return function Zc(){try{return!!(new window.DOMParser).parseFromString(zo(""),"text/html")}catch(t){return!1}}()?new el(r):r}(t);let a=r?String(r):"";s=tl.getInertBodyElement(a);let l=5,h=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=h,h=s.innerHTML,s=tl.getInertBodyElement(a)}while(a!==h);return zo((new tu).sanitizeChildren(ya(s)||s))}finally{if(s){const a=ya(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function ya(t){return"content"in t&&function rl(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vi=(()=>((vi=vi||{})[vi.NONE=0]="NONE",vi[vi.HTML=1]="HTML",vi[vi.STYLE=2]="STYLE",vi[vi.SCRIPT=3]="SCRIPT",vi[vi.URL=4]="URL",vi[vi.RESOURCE_URL=5]="RESOURCE_URL",vi))();function Kd(t){const r=_c();return r?pa(r.sanitize(vi.HTML,t)||""):qr(t,"HTML")?pa(ma(t)):nl(Bs(),Ye(t))}function Xc(t){const r=_c();return r?r.sanitize(vi.URL,t)||"":qr(t,"URL")?ma(t):m(Ye(t))}function _c(){const t=At();return t&&t[12]}const il="__ngContext__";function ai(t,r){t[il]=r}function vc(t){const r=function Eu(t){return t[il]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function Yd(t){return t.ngOriginalError}function Hl(t,...r){t.error(...r)}class Oa{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function Gp(t){return t&&t.ngErrorLogger||Hl}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Yd(r);for(;s&&Yd(s);)s=Yd(s);return s||null}}const Qd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_n))();function Na(t){return t instanceof Function?t():t}var Ra=(()=>((Ra=Ra||{})[Ra.Important=1]="Important",Ra[Ra.DashCase=2]="DashCase",Ra))();function Xd(t,r){return undefined(t,r)}function wc(t){const r=t[3];return Kn(r)?r[3]:r}function id(t){return nh(t[13])}function th(t){return nh(t[4])}function nh(t){for(;null!==t&&!Kn(t);)t=t[4];return t}function _t(t,r,s,a,l){if(null!=a){let h,_=!1;Kn(a)?h=a:sn(a)&&(_=!0,a=a[0]);const C=P(a);0===t&&null!==s?null==l?Wt(r,s,C):Jt(r,s,C,l||null,!0):1===t&&null!==s?Jt(r,s,C,l||null,!0):2===t?function _a(t,r,s){const a=hn(t,r);a&&function Yt(t,r,s,a){yr(t)?t.removeChild(r,s,a):r.removeChild(s)}(t,a,r,s)}(r,C,_):3===t&&r.destroyNode(C),null!=h&&function ul(t,r,s,a,l){const h=s[7];h!==P(s)&&_t(r,t,a,h,l);for(let C=10;C<s.length;C++){const x=s[C];Pa(x[1],x,t,r,a,h)}}(r,t,h,s,l)}}function ol(t,r,s){return yr(t)?t.createElement(r,s):null===s?t.createElement(r):t.createElementNS(s,r)}function T(t,r){const s=t[9],a=s.indexOf(r),l=r[3];1024&r[2]&&(r[2]&=-1025,bt(l,-1)),s.splice(a,1)}function k(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&T(l,a),r>0&&(t[s-1][4]=a[4]);const h=za(t,10+r);!function al(t,r){Pa(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const _=h[19];null!==_&&_.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function W(t,r){if(!(256&r[2])){const s=r[11];yr(s)&&s.destroyNode&&Pa(t,r,s,3,null,null),function A(t){let r=t[13];if(!r)return ce(t[1],t);for(;r;){let s=null;if(sn(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)sn(r)&&ce(r[1],r),r=r[3];null===r&&(r=t),sn(r)&&ce(r[1],r),s=r&&r[4]}r=s}}(r)}}function ce(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function ke(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof Xs)){const h=s[a+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const C=l[h[_]],x=h[_+1];try{x.call(C)}finally{}}else try{h.call(l)}finally{}}}}(t,r),function pe(t,r){const s=t.cleanup,a=r[7];let l=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const _=s[h+1],C="function"==typeof _?_(r):P(r[_]),x=a[l=s[h+2]],j=s[h+3];"boolean"==typeof j?C.removeEventListener(s[h],x,j):j>=0?a[l=j]():a[l=-j].unsubscribe(),h+=2}else{const _=a[l=s[h+1]];s[h].call(_)}if(null!==a){for(let h=l+1;h<a.length;h++)a[h]();r[7]=null}}(t,r),1===r[1].type&&yr(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&Kn(r[3])){s!==r[3]&&T(s,r);const a=r[19];null!==a&&a.detachView(t)}}}function ut(t,r,s){return function Pt(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===qt.None||l===qt.Emulated)return null}return ve(a,s)}(t,r.parent,s)}function Jt(t,r,s,a,l){yr(t)?t.insertBefore(r,s,a,l):r.insertBefore(s,a,l)}function Wt(t,r,s){yr(t)?t.appendChild(r,s):r.appendChild(s)}function Rt(t,r,s,a,l){null!==a?Jt(t,r,s,a,l):Wt(t,r,s)}function hn(t,r){return yr(t)?t.parentNode(r):r.parentNode}let Qi=function Zr(t,r,s){return 40&t.type?ve(t,s):null};function uo(t,r,s,a){const l=ut(t,a,r),h=r[11],C=function dr(t,r,s){return Qi(t,r,s)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let x=0;x<s.length;x++)Rt(h,l,s[x],C,!1);else Rt(h,l,s,C,!1)}function Hi(t,r){if(null!==r){const s=r.type;if(3&s)return ve(r,t);if(4&s)return bs(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Hi(t,a);{const l=t[r.index];return Kn(l)?bs(-1,l):P(l)}}if(32&s)return Xd(r,t)()||P(t[r.index]);{const a=lo(t,r);return null!==a?Array.isArray(a)?a[0]:Hi(wc(t[16]),a):Hi(t,r.next)}}return null}function lo(t,r){return null!==r?t[16][6].projection[r.projection]:null}function bs(t,r){const s=10+t+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return Hi(a,l)}return r[7]}function zl(t,r,s,a,l,h,_){for(;null!=s;){const C=a[s.index],x=s.type;if(_&&0===r&&(C&&ai(P(C),a),s.flags|=4),64!=(64&s.flags))if(8&x)zl(t,r,s.child,a,l,h,!1),_t(r,t,l,C,h);else if(32&x){const j=Xd(s,a);let K;for(;K=j();)_t(r,t,l,K,h);_t(r,t,l,C,h)}else 16&x?sd(t,r,a,s,l,h):_t(r,t,l,C,h);s=_?s.projectionNext:s.next}}function Pa(t,r,s,a,l,h){zl(s,a,t.firstChild,r,l,h,!1)}function sd(t,r,s,a,l,h){const _=s[16],x=_[6].projection[a.projection];if(Array.isArray(x))for(let j=0;j<x.length;j++)_t(r,t,l,x[j],h);else zl(t,r,x,_[3],l,h,!0)}function Mn(t,r,s){yr(t)?t.setAttribute(r,"style",s):r.style.cssText=s}function er(t,r,s){yr(t)?""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s):r.className=s}function Pr(t,r,s){let a=t.length;for(;;){const l=t.indexOf(r,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const h=r.length;if(l+h===a||t.charCodeAt(l+h)<=32)return l}s=l+1}}const Do="ng-template";function cs(t,r,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==Pr(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function ka(t){return 4===t.type&&t.value!==Do}function Ei(t,r,s){return r===(4!==t.type||s?t.value:Do)}function Wl(t,r,s){let a=4;const l=t.attrs||[],h=function bc(t){for(let r=0;r<t.length;r++)if(Fr(t[r]))return r;return t.length}(l);let _=!1;for(let C=0;C<r.length;C++){const x=r[C];if("number"!=typeof x){if(!_)if(4&a){if(a=2|1&a,""!==x&&!Ei(t,x,s)||""===x&&1===r.length){if(wi(a))return!1;_=!0}}else{const j=8&a?x:r[++C];if(8&a&&null!==t.attrs){if(!cs(t.attrs,j,s)){if(wi(a))return!1;_=!0}continue}const he=ru(8&a?"class":x,l,ka(t),s);if(-1===he){if(wi(a))return!1;_=!0;continue}if(""!==j){let Ve;Ve=he>h?"":l[he+1].toLowerCase();const nt=8&a?Ve:null;if(nt&&-1!==Pr(nt,j,0)||2&a&&j!==Ve){if(wi(a))return!1;_=!0}}}}else{if(!_&&!wi(a)&&!wi(x))return!1;if(_&&wi(x))continue;_=!1,a=x|1&a}}return wi(a)||_}function wi(t){return 0==(1&t)}function ru(t,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let h=!1;for(;l<r.length;){const _=r[l];if(_===t)return l;if(3===_||6===_)h=!0;else{if(1===_||2===_){let C=r[++l];for(;"string"==typeof C;)C=r[++l];continue}if(4===_)break;if(0===_){l+=4;continue}}l+=h?1:2}return-1}return function rh(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function ll(t,r,s=!1){for(let a=0;a<r.length;a++)if(Wl(t,r[a],s))return!0;return!1}function _f(t,r){return t?":not("+r.trim()+")":r}function cl(t){let r=t[0],s=1,a=2,l="",h=!1;for(;s<t.length;){let _=t[s];if("string"==typeof _)if(2&a){const C=t[++s];l+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&a?l+="."+_:4&a&&(l+=" "+_);else""!==l&&!wi(_)&&(r+=_f(h,l),l=""),a=_,h=h||!wi(a);s++}return""!==l&&(r+=_f(h,l)),r}const tr={};function ng(t){Kl(Zn(),At(),si()+t,$a())}function Kl(t,r,s,a){if(!a)if(3==(3&r[2])){const h=t.preOrderCheckHooks;null!==h&&Es(r,h,s)}else{const h=t.preOrderHooks;null!==h&&jo(r,h,0,s)}Js(s)}function Fa(t,r){return t<<17|r<<2}function qs(t){return t>>17&32767}function Ef(t){return 2|t}function Iu(t){return(131068&t)>>2}function wf(t,r){return-131069&t|r<<2}function Tc(t){return 1|t}function mg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],h=s[a+1];if(-1!==h){const _=t.data[h];Ta(l),_.contentQueries(2,r[h],h)}}}function fd(t,r,s,a,l,h,_,C,x,j){const K=r.blueprint.slice();return K[0]=l,K[2]=140|a,Ze(K),K[3]=K[15]=t,K[8]=s,K[10]=_||t&&t[10],K[11]=C||t&&t[11],K[12]=x||t&&t[12]||null,K[9]=j||t&&t[9]||null,K[6]=h,K[16]=2==r.type?t[16]:K,K}function hl(t,r,s,a,l){let h=t.data[r];if(null===h)h=function ch(t,r,s,a,l){const h=$s(),_=Yo(),x=t.data[r]=function fh(t,r,s,a,l,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,s,r,a,l);return null===t.firstChild&&(t.firstChild=x),null!==h&&(_?null==h.child&&null!==x.parent&&(h.child=x):null===h.next&&(h.next=x)),x}(t,r,s,a,l),function Oo(){return St.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=l;const _=function $i(){const t=St.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return Zs(h,!0),h}function Zl(t,r,s,a){if(0===s)return-1;const l=r.length;for(let h=0;h<s;h++)r.push(a),t.blueprint.push(a),t.data.push(null);return l}function Yl(t,r,s){Gs(r);try{const a=t.viewQuery;null!==a&&Id(1,a,s);const l=t.template;null!==l&&gd(t,r,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mg(t,r),t.staticViewQueries&&Id(2,t.viewQuery,s);const h=t.components;null!==h&&function Km(t,r){for(let s=0;s<r.length;s++)Dg(t,r[s])}(r,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,Qs()}}function Du(t,r,s,a){const l=r[2];if(256==(256&l))return;Gs(r);const h=$a();try{Ze(r),function Jo(t){return St.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&gd(t,r,s,2,a);const _=3==(3&l);if(!h)if(_){const j=t.preOrderCheckHooks;null!==j&&Es(r,j,null)}else{const j=t.preOrderHooks;null!==j&&jo(r,j,0,null),yi(r,0)}if(function Jm(t){for(let r=id(t);null!==r;r=th(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],h=l[3];0==(1024&l[2])&&bt(h,1),l[2]|=1024}}}(r),function Pf(t){for(let r=id(t);null!==r;r=th(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];y(a)&&Du(l,a,l.template,a[8])}}(r),null!==t.contentQueries&&mg(t,r),!h)if(_){const j=t.contentCheckHooks;null!==j&&Es(r,j)}else{const j=t.contentHooks;null!==j&&jo(r,j,1),yi(r,1)}!function zm(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)Js(~l);else{const h=l,_=s[++a],C=s[++a];lu(_,h),C(2,r[h])}}}finally{Js(-1)}}(t,r);const C=t.components;null!==C&&function Wm(t,r){for(let s=0;s<r.length;s++)Xm(t,r[s])}(r,C);const x=t.viewQuery;if(null!==x&&Id(2,x,a),!h)if(_){const j=t.viewCheckHooks;null!==j&&Es(r,j)}else{const j=t.viewHooks;null!==j&&jo(r,j,2),yi(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),h||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,bt(r[3],-1))}finally{Qs()}}function pd(t,r,s,a){const l=r[10],h=!$a(),_=E(r);try{h&&!_&&l.begin&&l.begin(),_&&Yl(t,r,a),Du(t,r,s,a)}finally{h&&!_&&l.end&&l.end()}}function gd(t,r,s,a,l){const h=si(),_=2&a;try{Js(-1),_&&r.length>20&&Kl(t,r,20,$a()),s(a,l)}finally{Js(h)}}function dh(t,r,s){if(Ir(r)){const l=r.directiveEnd;for(let h=r.directiveStart;h<l;h++){const _=t.data[h];_.contentQueries&&_.contentQueries(1,s[h],h)}}}function md(t,r,s){!kn()||(function Of(t,r,s,a){const l=s.directiveStart,h=s.directiveEnd;t.firstCreatePass||Ws(s,r),ai(a,r);const _=s.initialInputs;for(let C=l;C<h;C++){const x=t.data[C],j=Wr(x);j&&Nf(r,s,x);const K=zn(r,t,C,s);ai(K,r),null!==_&&mh(0,C-l,K,x,0,_),j&&(V(s.index,r)[8]=K)}}(t,r,s,ve(s,r)),128==(128&s.flags)&&function bg(t,r,s){const a=s.directiveStart,l=s.directiveEnd,_=s.index,C=function Hs(){return St.lFrame.currentDirectiveIndex}();try{Js(_);for(let x=a;x<l;x++){const j=t.data[x],K=r[x];Ia(x),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&ph(j,K)}}finally{Js(-1),Ia(C)}}(t,r,s))}function yd(t,r,s=ve){const a=r.localNames;if(null!==a){let l=r.index+1;for(let h=0;h<a.length;h+=2){const _=a[h+1],C=-1===_?s(r,t):t[_];t[l++]=C}}}function Af(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=hh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function hh(t,r,s,a,l,h,_,C,x,j){const K=20+a,he=K+l,Ve=function yg(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:tr);return s}(K,he),nt="function"==typeof j?j():j;return Ve[1]={type:t,blueprint:Ve,template:s,queries:null,viewQuery:C,declTNode:r,data:Ve.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:he,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:x,consts:nt,incompleteFirstPass:!1}}function Sf(t,r,s,a){const l=Jl(r);null===s?l.push(a):(l.push(s),t.firstCreatePass&&Au(t).push(a,l.length-1))}function Dc(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function qo(t,r,s,a,l,h,_,C){const x=ve(r,s);let K,j=r.inputs;!C&&null!=j&&(K=j[a])?(ec(t,s,K,a,l),qn(r)&&function qm(t,r){const s=V(r,t);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function Eg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=_?_(l,r.value||"",a):l,yr(h)?h.setProperty(x,a,l):eo(a)||(x.setProperty?x.setProperty(a,l):x[a]=l))}function _d(t,r,s,a){let l=!1;if(kn()){const h=function xf(t,r,s){const a=t.directiveRegistry;let l=null;if(a)for(let h=0;h<a.length;h++){const _=a[h];ll(s,_.selectors,!1)&&(l||(l=[]),I(Ws(s,r),t,_.type),Wr(_)?(Cu(t,s),l.unshift(_)):l.push(_))}return l}(t,r,s),_=null===a?null:{"":-1};if(null!==h){l=!0,gh(s,t.data.length,h.length);for(let K=0;K<h.length;K++){const he=h[K];he.providersResolver&&he.providersResolver(he)}let C=!1,x=!1,j=Zl(t,r,h.length,null);for(let K=0;K<h.length;K++){const he=h[K];s.mergedAttrs=ia(s.mergedAttrs,he.hostAttrs),Tg(t,s,r,j,he),Ym(j,he,_),null!==he.contentQueries&&(s.flags|=8),(null!==he.hostBindings||null!==he.hostAttrs||0!==he.hostVars)&&(s.flags|=128);const Ve=he.type.prototype;!C&&(Ve.ngOnChanges||Ve.ngOnInit||Ve.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),C=!0),!x&&(Ve.ngOnChanges||Ve.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),x=!0),j++}!function Mf(t,r){const a=r.directiveEnd,l=t.data,h=r.attrs,_=[];let C=null,x=null;for(let j=r.directiveStart;j<a;j++){const K=l[j],he=K.inputs,Ve=null===h||ka(r)?null:Rf(he,h);_.push(Ve),C=Dc(he,j,C),x=Dc(K.outputs,j,x)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=16),C.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=_,r.inputs=C,r.outputs=x}(t,s)}_&&function Ig(t,r,s){if(r){const a=t.localNames=[];for(let l=0;l<r.length;l+=2){const h=s[r[l+1]];if(null==h)throw new wt("301",`Export of name '${r[l+1]}' not found!`);a.push(r[l],h)}}}(s,a,_)}return s.mergedAttrs=ia(s.mergedAttrs,s.attrs),l}function vd(t,r,s,a,l,h){const _=h.hostBindings;if(_){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const x=~r.index;(function Ed(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(C)!=x&&C.push(x),C.push(a,l,_)}}function ph(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Cu(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Ym(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Wr(r)&&(s[""]=t)}}function gh(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function Tg(t,r,s,a,l){t.data[a]=l;const h=l.factory||(l.factory=xi(l.type)),_=new Xs(h,Wr(l),null);t.blueprint[a]=_,s[a]=_,vd(t,r,0,a,Zl(t,s,l.hostVars,tr),l)}function Nf(t,r,s){const a=ve(r,t),l=Af(s),h=t[10],_=Sc(t,fd(t,l,null,s.onPush?64:16,a,r,h,h.createRenderer(a,s),null,null));t[r.index]=_}function su(t,r,s,a,l,h){const _=ve(t,r);!function wd(t,r,s,a,l,h,_){if(null==h)yr(t)?t.removeAttribute(r,l,s):r.removeAttribute(l);else{const C=null==_?Ye(h):_(h,a||"",l);yr(t)?t.setAttribute(r,l,C,s):s?r.setAttributeNS(s,l,C):r.setAttribute(l,C)}}(r[11],_,h,t.value,s,a,l)}function mh(t,r,s,a,l,h){const _=h[r];if(null!==_){const C=a.setInput;for(let x=0;x<_.length;){const j=_[x++],K=_[x++],he=_[x++];null!==C?a.setInput(s,he,j,K):s[K]=he}}}function Rf(t,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Ql(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function Xm(t,r){const s=V(r,t);if(y(s)){const a=s[1];80&s[2]?Du(a,s,a.template,s[8]):s[5]>0&&yh(s)}}function yh(t){for(let a=id(t);null!==a;a=th(a))for(let l=10;l<a.length;l++){const h=a[l];if(1024&h[2]){const _=h[1];Du(_,h,_.template,h[8])}else h[5]>0&&yh(h)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=V(s[a],t);y(l)&&l[5]>0&&yh(l)}}function Dg(t,r){const s=V(r,t),a=s[1];(function ey(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),Yl(a,s,s[8])}function Sc(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function kf(t){for(;t;){t[2]|=64;const r=wc(t);if($r(t)&&!r)return t;t=r}return null}function bd(t,r,s){const a=r[10];a.begin&&a.begin();try{Du(t,r,t.template,s)}catch(l){throw Xl(r,l),l}finally{a.end&&a.end()}}function Cg(t){!function Lf(t){for(let r=0;r<t.components.length;r++){const s=t.components[r],a=vc(s),l=a[1];pd(l,a,l.template,s)}}(t[8])}function Id(t,r,s){Ta(0),r(t,s)}const Uf=(()=>Promise.resolve(null))();function Jl(t){return t[7]||(t[7]=[])}function Au(t){return t.cleanup||(t.cleanup=[])}function Xl(t,r){const s=t[9],a=s?s.get(Oa,null):null;a&&a.handleError(r)}function ec(t,r,s,a,l){for(let h=0;h<s.length;){const _=s[h++],C=s[h++],x=r[_],j=t.data[_];null!==j.setInput?j.setInput(x,l,a,C):x[C]=l}}function ou(t,r,s){const a=te(r,t);!function Ko(t,r,s){yr(t)?t.setValue(r,s):r.textContent=s}(t[11],a,s)}function Su(t,r,s){let a=s?t.styles:null,l=s?t.classes:null,h=0;if(null!==r)for(let _=0;_<r.length;_++){const C=r[_];"number"==typeof C?h=C:1==h?l=Me(l,C):2==h&&(a=Me(a,C+": "+r[++_]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}const Td=new hi("INJECTOR",-1);class vh{get(r,s=Go){if(s===Go){const a=new Error(`NullInjectorError: No provider for ${oe(r)}!`);throw a.name="NullInjectorError",a}return s}}const Dd=new hi("Set Injector scope."),Cd={},ry={};let Ad;function Eh(){return void 0===Ad&&(Ad=new vh),Ad}function Og(t,r=null,s=null,a){const l=Bf(t,r,s,a);return l._resolveInjectorDefTypes(),l}function Bf(t,r=null,s=null,a){return new iy(t,s,r||Eh(),a)}class iy{constructor(r,s,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&ls(s,C=>this.processProvider(C,r,s)),ls([r],C=>this.processInjectorType(C,[],h)),this.records.set(Td,Mc(void 0,this));const _=this.records.get(Dd);this.scope=null!=_?_.value:null,this.source=l||("object"==typeof r?null:oe(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=Go,a=rn.Default){this.assertNotDestroyed();const l=$c(this),h=On(void 0);try{if(!(a&rn.SkipSelf)){let C=this.records.get(r);if(void 0===C){const x=function Gf(t){return"function"==typeof t||"object"==typeof t&&t instanceof hi}(r)&&en(r);C=x&&this.injectableDefInScope(x)?Mc(wh(r),Cd):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&rn.Self?Eh():this.parent).get(r,s=a&rn.Optional&&s===Go?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[Za]=_[Za]||[]).unshift(oe(r)),l)throw _;return function Io(t,r,s,a){const l=t[Za];throw r[xl]&&l.unshift(r[xl]),t.message=function To(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let l=oe(r);if(Array.isArray(r))l=r.map(oe).join(" -> ");else if("object"==typeof r){let h=[];for(let _ in r)if(r.hasOwnProperty(_)){let C=r[_];h.push(_+":"+("string"==typeof C?JSON.stringify(C):oe(C)))}l=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(Qa,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[Za]=null,t}(_,r,"R3InjectorError",this.source)}throw _}finally{On(h),$c(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,l)=>r.push(oe(l))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(r,s,a){if(!(r=Fe(r)))return!1;let l=sr(r);const h=null==l&&r.ngModule||void 0,_=void 0===h?r:h,C=-1!==a.indexOf(_);if(void 0!==h&&(l=sr(h)),null==l)return!1;if(null!=l.imports&&!C){let K;a.push(_);try{ls(l.imports,he=>{this.processInjectorType(he,s,a)&&(void 0===K&&(K=[]),K.push(he))})}finally{}if(void 0!==K)for(let he=0;he<K.length;he++){const{ngModule:Ve,providers:nt}=K[he];ls(nt,Dt=>this.processProvider(Dt,Ve,nt||In))}}this.injectorDefTypes.add(_);const x=xi(_)||(()=>new _);this.records.set(_,Mc(x,Cd));const j=l.providers;if(null!=j&&!C){const K=r;ls(j,he=>this.processProvider(he,K,j))}return void 0!==h&&void 0!==r.providers}processProvider(r,s,a){let l=fl(r=Fe(r))?r:Fe(r&&r.provide);const h=function Ng(t,r,s){return Rg(t)?Mc(void 0,t.useValue):Mc(jf(t),Cd)}(r);if(fl(r)||!0!==r.multi)this.records.get(l);else{let _=this.records.get(l);_||(_=Mc(void 0,Cd,!0),_.factory=()=>fu(_.multi),this.records.set(l,_)),l=r,_.multi.push(r)}this.records.set(l,h)}hydrate(r,s){return s.value===Cd&&(s.value=ry,s.value=s.factory()),"object"==typeof s.value&&s.value&&function ay(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Fe(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function wh(t){const r=en(t),s=null!==r?r.factory:xi(t);if(null!==s)return s;if(t instanceof hi)throw new Error(`Token ${oe(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function xg(t){const r=t.length;if(r>0){const a=function Eo(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?");throw new Error(`Can't resolve all parameters for ${oe(t)}: (${a.join(", ")}).`)}const s=function dn(t){const r=t&&(t[Sn]||t[Jn]);if(r){const s=function rr(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function jf(t,r,s){let a;if(fl(t)){const l=Fe(t);return xi(l)||wh(l)}if(Rg(t))a=()=>Fe(t.useValue);else if(function oy(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...fu(t.deps||[]));else if(function sy(t){return!(!t||!t.useExisting)}(t))a=()=>ki(Fe(t.useExisting));else{const l=Fe(t&&(t.useClass||t.provide));if(!function Hf(t){return!!t.deps}(t))return xi(l)||wh(l);a=()=>new l(...fu(t.deps))}return a}function Mc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Rg(t){return null!==t&&"object"==typeof t&&hc in t}function fl(t){return"function"==typeof t}let va=(()=>{class t{static create(s,a){var l;if(Array.isArray(s))return Og({name:""},a,s,"");{const h=null!==(l=s.name)&&void 0!==l?l:"";return Og({name:h},s.parent,s.providers,h)}}}return t.THROW_IF_NOT_FOUND=Go,t.NULL=new vh,t.\u0275prov=Ae({token:t,providedIn:"any",factory:()=>ki(Td)}),t.__NG_ELEMENT_ID__=-1,t})();function Qf(t,r){qi(vc(t)[1],Vn())}function Jf(t){let r=function Ah(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let l;if(Wr(t))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Error("Directives cannot inherit Components");l=r.\u0275dir}if(l){if(s){a.push(l);const _=t;_.inputs=Sh(t.inputs),_.declaredInputs=Sh(t.declaredInputs),_.outputs=Sh(t.outputs);const C=l.hostBindings;C&&hy(t,C);const x=l.viewQuery,j=l.contentQueries;if(x&&ep(t,x),j&&Ug(t,j),De(t.inputs,l.inputs),De(t.declaredInputs,l.declaredInputs),De(t.outputs,l.outputs),Wr(l)&&l.data.animation){const K=t.data;K.animation=(K.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let _=0;_<h.length;_++){const C=h[_];C&&C.ngInherit&&C(t),C===Jf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Xf(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=r+=l.hostVars,l.hostAttrs=ia(l.hostAttrs,s=ia(s,l.hostAttrs))}}(a)}function Sh(t){return t===jn?{}:t===In?[]:t}function ep(t,r){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function Ug(t,r){const s=t.contentQueries;t.contentQueries=s?(a,l,h)=>{r(a,l,h),s(a,l,h)}:r}function hy(t,r){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Oc=null;function pl(){if(!Oc){const t=_n.Symbol;if(t&&t.iterator)Oc=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Oc=a)}}}return Oc}function xd(t){return!!rp(t)&&(Array.isArray(t)||!(t instanceof Map)&&pl()in t)}function rp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ea(t,r,s){return t[r]=s}function Ts(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function ip(t,r,s,a){const l=At();return Ts(l,Mo(),r)&&(Zn(),su(Jr(),l,t,r,s,a)),ip}function ap(t,r,s,a,l,h,_,C){const x=At(),j=Zn(),K=t+20,he=j.firstCreatePass?function gy(t,r,s,a,l,h,_,C,x){const j=r.consts,K=hl(r,t,4,_||null,ae(j,C));_d(r,s,K,ae(j,x)),qi(r,K);const he=K.tViews=hh(2,K,a,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,j);return null!==r.queries&&(r.queries.template(r,K),he.queries=r.queries.embeddedTView(K)),K}(K,j,x,r,s,a,l,h,_):j.data[K];Zs(he,!1);const Ve=x[11].createComment("");uo(j,x,Ve,he),ai(Ve,x),Sc(x,x[K]=Ql(Ve,x,Ve,he)),Qr(he)&&md(j,x,he),null!=_&&yd(x,he,C)}function Lh(t,r=rn.Default){const s=At();return null===s?ki(t,r):Y(Vn(),s,Fe(t),r)}function xu(){throw new Error("invalid")}function Nu(t,r,s){const a=At();return Ts(a,Mo(),r)&&qo(Zn(),Jr(),a,t,r,a[11],s,!1),Nu}function Nc(t,r,s,a,l){const _=l?"class":"style";ec(t,s,r.inputs[_],_,a)}function cp(t,r,s,a){const l=At(),h=Zn(),_=20+t,C=l[11],x=l[_]=ol(C,r,function Al(){return St.lFrame.currentNamespace}()),j=h.firstCreatePass?function Sy(t,r,s,a,l,h,_){const C=r.consts,j=hl(r,t,2,l,ae(C,h));return _d(r,s,j,ae(C,_)),null!==j.attrs&&Su(j,j.attrs,!1),null!==j.mergedAttrs&&Su(j,j.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,j),j}(_,h,l,0,r,s,a):h.data[_];Zs(j,!0);const K=j.mergedAttrs;null!==K&&jt(C,x,K);const he=j.classes;null!==he&&er(C,x,he);const Ve=j.styles;null!==Ve&&Mn(C,x,Ve),64!=(64&j.flags)&&uo(h,l,x,j),0===function Tr(){return St.lFrame.elementDepthCount}()&&ai(x,l),function ar(){St.lFrame.elementDepthCount++}(),Qr(j)&&(md(h,l,j),dh(h,j,l)),null!==a&&yd(l,j)}function Vh(){let t=Vn();Yo()?Lo():(t=t.parent,Zs(t,!1));const r=t;!function ir(){St.lFrame.elementDepthCount--}();const s=Zn();s.firstCreatePass&&(qi(s,t),Ir(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function mo(t){return 0!=(16&t.flags)}(r)&&Nc(s,r,At(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function yo(t){return 0!=(32&t.flags)}(r)&&Nc(s,r,At(),r.stylesWithoutHost,!1)}function dp(t,r,s,a){cp(t,r,s,a),Vh()}function Ru(t,r,s){const a=At(),l=Zn(),h=t+20,_=l.firstCreatePass?function My(t,r,s,a,l){const h=r.consts,_=ae(h,a),C=hl(r,t,8,"ng-container",_);return null!==_&&Su(C,_,!0),_d(r,s,C,ae(h,l)),null!==r.queries&&r.queries.elementStart(r,C),C}(h,l,a,r,s):l.data[h];Zs(_,!0);const C=a[h]=a[11].createComment("");uo(l,a,C,_),ai(C,a),Qr(_)&&(md(l,a,_),dh(l,_,a)),null!=s&&yd(a,_)}function Rc(){let t=Vn();const r=Zn();Yo()?Lo():(t=t.parent,Zs(t,!1)),r.firstCreatePass&&(qi(r,t),Ir(t)&&r.queries.elementEnd(t))}function fp(){return At()}function Rd(t){return!!t&&"function"==typeof t.then}function om(t){return!!t&&"function"==typeof t.subscribe}const am=om;function pp(t,r,s,a){const l=At(),h=Zn(),_=Vn();return function mp(t,r,s,a,l,h,_,C){const x=Qr(a),K=t.firstCreatePass&&Au(t),he=r[8],Ve=Jl(r);let nt=!0;if(3&a.type||C){const ln=ve(a,r),Cn=C?C(ln):ln,Vt=Ve.length,Wn=C?Lr=>C(P(Lr[a.index])):a.index;if(yr(s)){let Lr=null;if(!C&&x&&(Lr=function gp(t,r,s,a){const l=t.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const _=l[h];if(_===s&&l[h+1]===a){const C=r[7],x=l[h+2];return C.length>x?C[x]:null}"string"==typeof _&&(h+=2)}return null}(t,r,l,a.index)),null!==Lr)(Lr.__ngLastListenerFn__||Lr).__ngNextListenerFn__=h,Lr.__ngLastListenerFn__=h,nt=!1;else{h=Bh(a,r,he,h,!1);const ri=s.listen(Cn,l,h);Ve.push(h,ri),K&&K.push(l,Wn,Vt,Vt+1)}}else h=Bh(a,r,he,h,!0),Cn.addEventListener(l,h,_),Ve.push(h),K&&K.push(l,Wn,Vt,_)}else h=Bh(a,r,he,h,!1);const Dt=a.outputs;let Xt;if(nt&&null!==Dt&&(Xt=Dt[l])){const ln=Xt.length;if(ln)for(let Cn=0;Cn<ln;Cn+=2){const ja=r[Xt[Cn]][Xt[Cn+1]].subscribe(h),Ud=Ve.length;Ve.push(h,ja),K&&K.push(l,a.index,Ud,-(Ud+1))}}}(h,l,l[11],_,t,r,!!s,a),pp}function El(t,r,s,a){try{return!1!==s(a)}catch(l){return Xl(t,l),!1}}function Bh(t,r,s,a,l){return function h(_){if(_===Function)return a;const C=2&t.flags?V(t.index,r):r;0==(32&r[2])&&kf(C);let x=El(r,0,a,_),j=h.__ngNextListenerFn__;for(;j;)x=El(r,0,j,_)&&x,j=j.__ngNextListenerFn__;return l&&!1===x&&(_.preventDefault(),_.returnValue=!1),x}}function yp(t=1){return function ku(t){return(St.lFrame.contextLView=function ta(t,r){for(;t>0;)r=r[15],t--;return r}(t,St.lFrame.contextLView))[8]}(t)}function Lc(t,r,s,a,l){const h=t[s+1],_=null===r;let C=a?qs(h):Iu(h),x=!1;for(;0!==C&&(!1===x||_);){const K=t[C+1];Ny(t[C],r)&&(x=!0,t[C+1]=a?Tc(K):Ef(K)),C=a?qs(K):Iu(K)}x&&(t[s+1]=a?Ef(h):Tc(h))}function Ny(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ca(t,r)>=0}const Ds={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cm(t){return t.substring(Ds.key,Ds.keyEnd)}function wp(t,r){const s=Ds.textEnd;return s===r?-1:(r=Ds.keyEnd=function Fy(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,Ds.key=r,s),Vc(t,r,s))}function Vc(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function jh(t,r,s){return Ps(t,r,s,!1),jh}function $h(t,r){return Ps(t,r,null,!0),$h}function pm(t){!function Ua(t,r,s,a){const l=Zn(),h=mi(2);l.firstUpdatePass&&gm(l,null,h,a);const _=At();if(s!==tr&&Ts(_,h,s)){const C=l.data[si()];if(_m(C,a)&&!Tl(l,h)){let x=a?C.classesWithoutHost:C.stylesWithoutHost;null!==x&&(s=Me(x,s||"")),Nc(l,C,_,s,a)}else!function Gy(t,r,s,a,l,h,_,C){l===tr&&(l=In);let x=0,j=0,K=0<l.length?l[0]:null,he=0<h.length?h[0]:null;for(;null!==K||null!==he;){const Ve=x<l.length?l[x+1]:void 0,nt=j<h.length?h[j+1]:void 0;let Xt,Dt=null;K===he?(x+=2,j+=2,Ve!==nt&&(Dt=he,Xt=nt)):null===he||null!==K&&K<he?(x+=2,Dt=K):(j+=2,Dt=he,Xt=nt),null!==Dt&&ym(t,r,s,a,Dt,Xt,_,C),K=x<l.length?l[x]:null,he=j<h.length?h[j]:null}}(l,C,_,_[11],_[h+1],_[h+1]=function Hy(t,r,s){if(null==s||""===s)return In;const a=[],l=ma(s);if(Array.isArray(l))for(let h=0;h<l.length;h++)t(a,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&t(a,h,l[h]);else"string"==typeof l&&r(a,l);return a}(t,r,s),a,h)}}(Yi,Va,t,!0)}function Va(t,r){for(let s=function Py(t){return function bp(t){Ds.key=0,Ds.keyEnd=0,Ds.value=0,Ds.valueEnd=0,Ds.textEnd=t.length}(t),wp(t,Vc(t,0,Ds.textEnd))}(r);s>=0;s=wp(r,s))Yi(t,cm(r),!0)}function Ps(t,r,s,a){const l=At(),h=Zn(),_=mi(2);h.firstUpdatePass&&gm(h,t,_,a),r!==tr&&Ts(l,_,r)&&ym(h,h.data[si()],l,l[11],t,l[_+1]=function zy(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=oe(ma(t)))),t}(r,s),a,_)}function Tl(t,r){return r>=t.expandoStartIndex}function gm(t,r,s,a){const l=t.data;if(null===l[s+1]){const h=l[si()],_=Tl(t,s);_m(h,a)&&null===r&&!_&&(r=!1),r=function Uy(t,r,s,a){const l=as(t);let h=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=Fd(s=Tp(null,t,r,s,a),r.attrs,a),h=null);else{const _=r.directiveStylingLast;if(-1===_||t[_]!==l)if(s=Tp(l,t,r,s,a),null===h){let x=function By(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Iu(a))return t[qs(a)]}(t,r,a);void 0!==x&&Array.isArray(x)&&(x=Tp(null,t,r,x[1],a),x=Fd(x,r.attrs,a),function jy(t,r,s,a){t[qs(s?r.classBindings:r.styleBindings)]=a}(t,r,a,x))}else h=function $y(t,r,s){let a;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)a=Fd(a,t[h].hostAttrs,s);return Fd(a,r.attrs,s)}(t,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(l,h,r,a),function xy(t,r,s,a,l,h){let _=h?r.classBindings:r.styleBindings,C=qs(_),x=Iu(_);t[a]=s;let K,j=!1;if(Array.isArray(s)){const he=s;K=he[1],(null===K||Ca(he,K)>0)&&(j=!0)}else K=s;if(l)if(0!==x){const Ve=qs(t[C+1]);t[a+1]=Fa(Ve,C),0!==Ve&&(t[Ve+1]=wf(t[Ve+1],a)),t[C+1]=function rg(t,r){return 131071&t|r<<17}(t[C+1],a)}else t[a+1]=Fa(C,0),0!==C&&(t[C+1]=wf(t[C+1],a)),C=a;else t[a+1]=Fa(x,0),0===C?C=a:t[x+1]=wf(t[x+1],a),x=a;j&&(t[a+1]=Ef(t[a+1])),Lc(t,K,a,!0),Lc(t,K,a,!1),function lm(t,r,s,a,l){const h=l?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof r&&Ca(h,r)>=0&&(s[a+1]=Tc(s[a+1]))}(r,K,t,a,h),_=Fa(C,x),h?r.classBindings=_:r.styleBindings=_}(l,h,r,s,_,a)}}function Tp(t,r,s,a,l){let h=null;const _=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<_&&(h=r[C],a=Fd(a,h.hostAttrs,l),h!==t);)C++;return null!==t&&(s.directiveStylingLast=C),a}function Fd(t,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const _=r[h];"number"==typeof _?l=_:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Yi(t,_,!!s||r[++h]))}return void 0===t?null:t}function ym(t,r,s,a,l,h,_,C){if(!(3&r.type))return;const x=t.data,j=x[C+1];Uc(function ig(t){return 1==(1&t)}(j)?lc(x,r,s,l,Iu(j),_):void 0)||(Uc(h)||function ih(t){return 2==(2&t)}(j)&&(h=lc(x,null,s,l,C,_)),function gn(t,r,s,a,l){const h=yr(t);if(r)l?h?t.addClass(s,a):s.classList.add(a):h?t.removeClass(s,a):s.classList.remove(a);else{let _=-1===a.indexOf("-")?void 0:Ra.DashCase;if(null==l)h?t.removeStyle(s,a,_):s.style.removeProperty(a);else{const C="string"==typeof l&&l.endsWith("!important");C&&(l=l.slice(0,-10),_|=Ra.Important),h?t.setStyle(s,a,l,_):s.style.setProperty(a,l,C?"important":"")}}}(a,_,te(si(),s),l,h))}function lc(t,r,s,a,l,h){const _=null===r;let C;for(;l>0;){const x=t[l],j=Array.isArray(x),K=j?x[1]:x,he=null===K;let Ve=s[l+1];Ve===tr&&(Ve=he?In:void 0);let nt=he?Pi(Ve,a):K===a?Ve:void 0;if(j&&!Uc(nt)&&(nt=Pi(x,a)),Uc(nt)&&(C=nt,_))return C;const Dt=t[l+1];l=_?qs(Dt):Iu(Dt)}if(null!==r){let x=h?r.residualClasses:r.residualStyles;null!=x&&(C=Pi(x,a))}return C}function Uc(t){return void 0!==t}function _m(t,r){return 0!=(t.flags&(r?16:32))}function vm(t,r=""){const s=At(),a=Zn(),l=t+20,h=a.firstCreatePass?hl(a,l,1,r,null):a.data[l],_=s[l]=function Gl(t,r){return yr(t)?t.createText(r):t.createTextNode(r)}(s[11],r);uo(a,s,_,h),Zs(h,!1)}function Dp(t){return Gh("",t,""),Dp}function Gh(t,r,s){const a=At(),l=function gl(t,r,s,a){return Ts(t,Mo(),s)?r+Ye(s)+a:tr}(a,t,r,s);return l!==tr&&ou(a,si(),l),Gh}function qy(t,r,s){const a=At();if(Ts(a,Mo(),r)){const h=Zn(),_=Jr();qo(h,_,a,t,r,function _h(t,r,s){return(null===t||Wr(t))&&(s=function Z(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(s[r.index])),s[11]}(as(h.data),_,a),s,!0)}return qy}const Ld=void 0;var nE=["en",[["a","p"],["AM","PM"],Ld],[["AM","PM"],Ld,Ld],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ld,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ld,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ld,"{1} 'at' {0}",Ld],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let zh={};function Zy(t){const r=function rE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ov(r);if(s)return s;const a=r.split("-")[0];if(s=ov(a),s)return s;if("en"===a)return nE;throw new Error(`Missing locale data for the locale "${t}".`)}function sv(t){return Zy(t)[nr.PluralCase]}function ov(t){return t in zh||(zh[t]=_n.ng&&_n.ng.common&&_n.ng.common.locales&&_n.ng.common.locales[t]),zh[t]}var nr=(()=>((nr=nr||{})[nr.LocaleId=0]="LocaleId",nr[nr.DayPeriodsFormat=1]="DayPeriodsFormat",nr[nr.DayPeriodsStandalone=2]="DayPeriodsStandalone",nr[nr.DaysFormat=3]="DaysFormat",nr[nr.DaysStandalone=4]="DaysStandalone",nr[nr.MonthsFormat=5]="MonthsFormat",nr[nr.MonthsStandalone=6]="MonthsStandalone",nr[nr.Eras=7]="Eras",nr[nr.FirstDayOfWeek=8]="FirstDayOfWeek",nr[nr.WeekendRange=9]="WeekendRange",nr[nr.DateFormat=10]="DateFormat",nr[nr.TimeFormat=11]="TimeFormat",nr[nr.DateTimeFormat=12]="DateTimeFormat",nr[nr.NumberSymbols=13]="NumberSymbols",nr[nr.NumberFormats=14]="NumberFormats",nr[nr.CurrencyCode=15]="CurrencyCode",nr[nr.CurrencySymbol=16]="CurrencySymbol",nr[nr.CurrencyName=17]="CurrencyName",nr[nr.Currencies=18]="Currencies",nr[nr.Directionality=19]="Directionality",nr[nr.PluralCase=20]="PluralCase",nr[nr.ExtraData=21]="ExtraData",nr))();const bm="en-US";let av=bm;function Jy(t,r,s,a,l){if(t=Fe(t),Array.isArray(t))for(let h=0;h<t.length;h++)Jy(t[h],r,s,a,l);else{const h=Zn(),_=At();let C=fl(t)?t:Fe(t.provide),x=jf(t);const j=Vn(),K=1048575&j.providerIndexes,he=j.directiveStart,Ve=j.providerIndexes>>20;if(fl(t)||!t.multi){const nt=new Xs(x,l,Lh),Dt=e_(C,r,l?K:K+Ve,he);-1===Dt?(I(Ws(j,_),h,C),Xy(h,t,r.length),r.push(C),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),s.push(nt),_.push(nt)):(s[Dt]=nt,_[Dt]=nt)}else{const nt=e_(C,r,K+Ve,he),Dt=e_(C,r,K,K+Ve),Xt=nt>=0&&s[nt],ln=Dt>=0&&s[Dt];if(l&&!ln||!l&&!Xt){I(Ws(j,_),h,C);const Cn=function tw(t,r,s,a,l){const h=new Xs(t,s,Lh);return h.multi=[],h.index=r,h.componentProviders=0,xv(h,l,a&&!s),h}(l?ew:XE,s.length,l,a,x);!l&&ln&&(s[Dt].providerFactory=Cn),Xy(h,t,r.length,0),r.push(C),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),s.push(Cn),_.push(Cn)}else Xy(h,t,nt>-1?nt:Dt,xv(s[l?Dt:nt],x,!l&&a));!l&&a&&ln&&s[Dt].componentProviders++}}}function Xy(t,r,s,a){const l=fl(r),h=function $f(t){return!!t.useClass}(r);if(l||h){const x=(h?Fe(r.useClass):r).prototype.ngOnDestroy;if(x){const j=t.destroyHooks||(t.destroyHooks=[]);if(!l&&r.multi){const K=j.indexOf(s);-1===K?j.push(s,[a,x]):j[K+1].push(a,x)}else j.push(s,x)}}}function xv(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function e_(t,r,s,a){for(let l=s;l<a;l++)if(r[l]===t)return l;return-1}function XE(t,r,s,a){return t_(this.multi,[])}function ew(t,r,s,a){const l=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=zn(s,s[1],this.providerFactory.index,a);h=C.slice(0,_),t_(l,h);for(let x=_;x<C.length;x++)h.push(C[x])}else h=[],t_(l,h);return h}function t_(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Nv(t,r=[]){return s=>{s.providersResolver=(a,l)=>function JE(t,r,s){const a=Zn();if(a.firstCreatePass){const l=Wr(t);Jy(s,a.data,a.blueprint,l,!0),Jy(r,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,r)}}class Rv{}class iw{resolveComponentFactory(r){throw function rw(t){const r=Error(`No component factory found for ${oe(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let xp=(()=>{class t{}return t.NULL=new iw,t})();function sw(){return Kh(Vn(),At())}function Kh(t,r){return new Np(ve(t,r))}let Np=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=sw,t})();function ow(t){return t instanceof Np?t.nativeElement:t}class kv{}let aw=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function lw(){const t=At(),s=V(Vn().index,t);return function uw(t){return t[11]}(sn(s)?s:t)}(),t})(),cw=(()=>{class t{}return t.\u0275prov=Ae({token:t,providedIn:"root",factory:()=>null}),t})();class Fv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Lv=new Fv("13.0.3"),n_={};function Am(t,r,s,a,l=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(P(h)),Kn(h))for(let C=10;C<h.length;C++){const x=h[C],j=x[1].firstChild;null!==j&&Am(x[1],x,j,a)}const _=s.type;if(8&_)Am(t,r,s.child,a);else if(32&_){const C=Xd(s,r);let x;for(;x=C();)a.push(x)}else if(16&_){const C=lo(r,s);if(Array.isArray(C))a.push(...C);else{const x=wc(r[16]);Am(x[1],x,C,a,!0)}}s=l?s.projectionNext:s.next}return a}class Rp{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Am(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Kn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(k(r,a),za(s,a))}this._attachedToViewContainer=!1}W(this._lView[1],this._lView)}onDestroy(r){Sf(this._lView[1],this._lView,null,r)}markForCheck(){kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Vf(t,r,s){Qo(!0);try{bd(t,r,s)}finally{Qo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wu(t,r){Pa(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=r}}class dw extends Rp{constructor(r){super(r),this._view=r}detectChanges(){Cg(this._view)}checkNoChanges(){!function Ag(t){Qo(!0);try{Cg(t)}finally{Qo(!1)}}(this._view)}get context(){return null}}class Vv extends xp{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Qe(r);return new r_(s,this.ngModule)}}function Uv(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}const fw=new hi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Qd});class r_ extends Rv{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Ic(t){return t.map(cl).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Uv(this.componentDef.inputs)}get outputs(){return Uv(this.componentDef.outputs)}create(r,s,a,l){const h=(l=l||this.ngModule)?function pw(t,r){return{get:(s,a,l)=>{const h=t.get(s,n_,l);return h!==n_||a===n_?h:r.get(s,a,l)}}}(r,l.injector):r,_=h.get(kv,Bi),C=h.get(cw,null),x=_.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",K=a?function vg(t,r,s){if(yr(t))return t.selectRootElement(r,s===qt.ShadowDom);let a="string"==typeof r?t.querySelector(r):r;return a.textContent="",a}(x,a,this.componentDef.encapsulation):ol(_.createRenderer(null,this.componentDef),j,function hw(t){const r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(j)),he=this.componentDef.onPush?576:528,Ve=function Vg(t,r){return{components:[],scheduler:t||Qd,clean:Uf,playerHandler:r||null,flags:0}}(),nt=hh(0,null,null,1,0,null,null,null,null,null),Dt=fd(null,nt,Ve,he,null,null,_,x,C,h);let Xt,ln;Gs(Dt);try{const Cn=function Lg(t,r,s,a,l,h){const _=s[1];s[20]=t;const x=hl(_,20,2,"#host",null),j=x.mergedAttrs=r.hostAttrs;null!==j&&(Su(x,j,!0),null!==t&&(jt(l,t,j),null!==x.classes&&er(l,t,x.classes),null!==x.styles&&Mn(l,t,x.styles)));const K=a.createRenderer(t,r),he=fd(s,Af(r),null,r.onPush?64:16,s[20],x,a,K,h||null,null);return _.firstCreatePass&&(I(Ws(x,s),_,r.type),Cu(_,x),gh(x,s.length,1)),Sc(s,he),s[20]=he}(K,this.componentDef,Dt,_,x);if(K)if(a)jt(x,K,["ng-version",Lv.full]);else{const{attrs:Vt,classes:Wn}=function tg(t){const r=[],s=[];let a=1,l=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===l?""!==h&&r.push(h,t[++a]):8===l&&s.push(h);else{if(!wi(l))break;l=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Vt&&jt(x,K,Vt),Wn&&Wn.length>0&&er(x,K,Wn.join(" "))}if(ln=Mt(nt,20),void 0!==s){const Vt=ln.projection=[];for(let Wn=0;Wn<this.ngContentSelectors.length;Wn++){const Lr=s[Wn];Vt.push(null!=Lr?Array.from(Lr):null)}}Xt=function Ch(t,r,s,a,l){const h=s[1],_=function Ac(t,r,s){const a=Vn();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Tg(t,a,r,Zl(t,r,1,null),s));const l=zn(r,t,a.directiveStart,a);ai(l,r);const h=ve(a,r);return h&&ai(h,r),l}(h,s,r);if(a.components.push(_),t[8]=_,l&&l.forEach(x=>x(_,r)),r.contentQueries){const x=Vn();r.contentQueries(1,_,x.directiveStart)}const C=Vn();return!h.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Js(C.index),vd(s[1],C,0,C.directiveStart,C.directiveEnd,r),ph(r,_)),_}(Cn,this.componentDef,Dt,Ve,[Qf]),Yl(nt,Dt,null)}finally{Qs()}return new mw(this.componentType,Xt,Kh(ln,Dt),Dt,ln)}}class mw extends class nw{}{constructor(r,s,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new dw(l),this.componentType=r}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class qh{}class Bv{}const Zh=new Map;class Hv extends qh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const a=wn(r);this._bootstrapComponents=Na(a.bootstrap),this._r3Injector=Bf(r,s,[{provide:qh,useValue:this},{provide:xp,useValue:this.componentFactoryResolver}],oe(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=va.THROW_IF_NOT_FOUND,a=rn.Default){return r===va||r===qh||r===Td?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class i_ extends Bv{constructor(r){super(),this.moduleType=r,null!==wn(r)&&function _w(t){const r=new Set;!function s(a){const l=wn(a,!0),h=l.id;null!==h&&(function jv(t,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${t} - ${oe(r)} vs ${oe(r.name)}`)}(h,Zh.get(h),a),Zh.set(h,a));const _=Na(l.imports);for(const C of _)r.has(C)||(r.add(C),s(C))}(t)}(r)}create(r){return new Hv(this.moduleType,r)}}function Gv(t,r,s){const a=ii()+t,l=At();return l[a]===tr?Ea(l,a,s?r.call(s):r()):function xc(t,r){return t[r]}(l,a)}function zv(t,r,s,a,l,h){const _=r+s;return Ts(t,_,l)?Ea(t,_+1,h?a.call(h,l):a(l)):function Pp(t,r){const s=t[r];return s===tr?void 0:s}(t,_+1)}function Yv(t,r){const s=Zn();let a;const l=t+20;s.firstCreatePass?(a=function Sw(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const h=a.factory||(a.factory=xi(a.type)),_=On(Lh);try{const C=Xr(!1),x=h();return Xr(C),function my(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,At(),l,x),x}finally{On(_)}}function Qv(t,r,s){const a=t+20,l=At(),h=function on(t,r){return t[r]}(l,a);return function kp(t,r){return t[1].data[r].pure}(l,a)?zv(l,ii(),r,h.transform,s,h):h.transform(s)}function s_(t){return r=>{setTimeout(t,void 0,r)}}const Cl=class Rw extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var l,h,_;let C=r,x=s||(()=>null),j=a;if(r&&"object"==typeof r){const he=r;C=null===(l=he.next)||void 0===l?void 0:l.bind(he),x=null===(h=he.error)||void 0===h?void 0:h.bind(he),j=null===(_=he.complete)||void 0===_?void 0:_.bind(he)}this.__isAsync&&(x=s_(x),C&&(C=s_(C)),j&&(j=s_(j)));const K=super.subscribe({next:C,error:x,complete:j});return r instanceof w.w0&&r.add(K),K}};function Pw(){return this._results[pl()]()}class o_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=pl(),a=o_.prototype;a[s]||(a[s]=Pw)}get changes(){return this._changes||(this._changes=new Cl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=Ci(r);(this._changesDetected=!function Ml(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],h=r[a];if(s&&(l=s(l),h=s(h)),h!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Fp=(()=>{class t{}return t.__NG_ELEMENT_ID__=Lw,t})();const kw=Fp,Fw=class extends kw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=fd(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(a[19]=h.createEmbeddedView(s)),Yl(s,a,r),new Rp(a)}};function Lw(){return Sm(Vn(),At())}function Sm(t,r){return 4&t.type?new Fw(r,t,Kh(t,r)):null}let Mm=(()=>{class t{}return t.__NG_ELEMENT_ID__=Vw,t})();function Vw(){return e0(Vn(),At())}const Uw=Mm,Jv=class extends Uw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Kh(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){const r=M(this._hostTNode,this._hostLView);if(Un(r)){const s=ht(r,this._hostLView),a=sa(r);return new to(s[1].data[a+8],s)}return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Xv(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const l=r.createEmbeddedView(s||{});return this.insert(l,a),l}createComponent(r,s,a,l,h){const _=r&&!function Zi(t){return"function"==typeof t}(r);let C;if(_)C=s;else{const he=s||{};C=he.index,a=he.injector,l=he.projectableNodes,h=he.ngModuleRef}const x=_?r:new r_(Qe(r)),j=a||this.parentInjector;if(!h&&null==x.ngModule&&j){const he=j.get(qh,null);he&&(h=he)}const K=x.create(j,l,void 0,h);return this.insert(K.hostView,C),K}insert(r,s){const a=r._lView,l=a[1];if(function N(t){return Kn(t[3])}(a)){const K=this.indexOf(r);if(-1!==K)this.detach(K);else{const he=a[3],Ve=new Jv(he,he[6],he[3]);Ve.detach(Ve.indexOf(r))}}const h=this._adjustIndex(s),_=this._lContainer;!function d(t,r,s,a){const l=10+a,h=s.length;a>0&&(s[l-1][4]=r),a<h-10?(r[4]=s[l],la(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const _=r[17];null!==_&&s!==_&&function f(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(_,r);const C=r[19];null!==C&&C.insertView(t),r[2]|=128}(l,a,_,h);const C=bs(h,_),x=a[11],j=hn(x,_[7]);return null!==j&&function eg(t,r,s,a,l,h){a[0]=l,a[6]=r,Pa(t,a,s,1,l,h)}(l,_[6],x,a,j,C),r.attachToViewContainerRef(),la(a_(_),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Xv(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=k(this._lContainer,s);a&&(za(a_(this._lContainer),s),W(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=k(this._lContainer,s);return a&&null!=za(a_(this._lContainer),s)?new Rp(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function Xv(t){return t[8]}function a_(t){return t[8]||(t[8]=[])}function e0(t,r){let s;const a=r[t.index];if(Kn(a))s=a;else{let l;if(8&t.type)l=P(a);else{const h=r[11];l=h.createComment("");const _=ve(t,r);Jt(h,hn(h,_),l,function Fn(t,r){return yr(t)?t.nextSibling(r):r.nextSibling}(h,_),!1)}r[t.index]=s=Ql(a,r,l,t),Sc(r,s)}return new Jv(s,t,r)}class u_{constructor(r){this.queryList=r,this.matches=null}clone(){return new u_(this.queryList)}setDirty(){this.queryList.setDirty()}}class l_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let h=0;h<a;h++){const _=s.getByIndex(h);l.push(this.queries[_.indexInDeclarationView].clone())}return new l_(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==l0(r,s).matches&&this.queries[s].setDirty()}}class t0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class c_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,l);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new c_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class d_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new d_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(r,s,$w(s,h)),this.matchTNodeWithReadOption(r,s,cn(s,r,h,!1,!1))}else a===Fp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,cn(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Np||l===Mm||l===Fp&&4&s.type)this.addMatch(s.index,-2);else{const h=cn(s,r,l,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function $w(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function Gw(t,r,s,a){return-1===s?function Hw(t,r){return 11&t.type?Kh(t,r):4&t.type?Sm(t,r):null}(r,t):-2===s?function zw(t,r,s){return s===Np?Kh(r,t):s===Fp?Sm(r,t):s===Mm?e0(r,t):void 0}(t,r,a):zn(t,t[1],s,r)}function n0(t,r,s,a){const l=r[19].queries[a];if(null===l.matches){const h=t.data,_=s.matches,C=[];for(let x=0;x<_.length;x+=2){const j=_[x];C.push(j<0?null:Gw(r,h[j],_[x+1],s.metadata.read))}l.matches=C}return l.matches}function h_(t,r,s,a){const l=t.queries.getByIndex(s),h=l.matches;if(null!==h){const _=n0(t,r,l,s);for(let C=0;C<h.length;C+=2){const x=h[C];if(x>0)a.push(_[C/2]);else{const j=h[C+1],K=r[-x];for(let he=10;he<K.length;he++){const Ve=K[he];Ve[17]===Ve[3]&&h_(Ve[1],Ve,j,a)}if(null!==K[9]){const he=K[9];for(let Ve=0;Ve<he.length;Ve++){const nt=he[Ve];h_(nt[1],nt,j,a)}}}}}return a}function r0(t){const r=At(),s=Zn(),a=Uo();Ta(a+1);const l=l0(s,a);if(t.dirty&&E(r)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const h=l.crossesNgTemplate?h_(s,r,a,[]):n0(s,r,l,a);t.reset(h,ow),t.notifyOnChanges()}return!0}return!1}function s0(t,r,s,a){const l=Zn();if(l.firstCreatePass){const h=Vn();(function u0(t,r,s){null===t.queries&&(t.queries=new c_),t.queries.track(new d_(r,s))})(l,new t0(r,s,a),h.index),function qw(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}!function a0(t,r,s){const a=new o_(4==(4&s));Sf(t,r,a,a.destroy),null===r[19]&&(r[19]=new l_),r[19].queries.push(new u_(a))}(l,At(),s)}function o0(){return function Kw(t,r){return t[19].queries[r].queryList}(At(),Uo())}function l0(t,r){return t.queries.getByIndex(r)}function Nm(...t){}const __=new hi("Application Initializer");let Qh=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Nm,this.reject=Nm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Rd(h))s.push(h);else if(am(h)){const _=new Promise((C,x)=>{h.subscribe({complete:C,error:x})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(ki(__,8))},t.\u0275prov=Ae({token:t,factory:t.\u0275fac}),t})();const C0=new hi("AppId"),fb={provide:C0,useFactory:function hb(){return`${v_()}${v_()}${v_()}`},deps:[]};function v_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const A0=new hi("Platform Initializer"),S0=new hi("Platform ID"),M0=new hi("appBootstrapListener");let O0=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ae({token:t,factory:t.\u0275fac}),t})();const Rm=new hi("LocaleId"),x0=new hi("DefaultCurrencyCode");class pb{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let E_=(()=>{class t{compileModuleSync(s){return new i_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=Na(wn(s).declarations).reduce((_,C)=>{const x=Qe(C);return x&&_.push(new r_(x)),_},[]);return new pb(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ae({token:t,factory:t.\u0275fac}),t})();const mb=(()=>Promise.resolve(0))();function w_(t){"undefined"==typeof Zone?mb.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ba{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cl(!1),this.onMicrotaskEmpty=new Cl(!1),this.onStable=new Cl(!1),this.onError=new Cl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function yb(){let t=_n.requestAnimationFrame,r=_n.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Eb(t){const r=()=>{!function vb(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_n,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,I_(t),t.isCheckStableRunning=!0,b_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),I_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,h,_,C)=>{try{return N0(t),s.invokeTask(l,h,_,C)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&r(),R0(t)}},onInvoke:(s,a,l,h,_,C,x)=>{try{return N0(t),s.invoke(l,h,_,C,x)}finally{t.shouldCoalesceRunChangeDetection&&r(),R0(t)}},onHasTask:(s,a,l,h)=>{s.hasTask(l,h),a===l&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,I_(t),b_(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,l,h)=>(s.handleError(l,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ba.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ba.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+l,r,_b,Nm,Nm);try{return h.runTask(_,s,a)}finally{h.cancelTask(_)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const _b={};function b_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function I_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function N0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function R0(t){t._nesting--,b_(t)}class wb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cl,this.onMicrotaskEmpty=new Cl,this.onStable=new Cl,this.onError=new Cl}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}let P0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ba.assertNotInAngularZone(),w_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())w_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(ki(Ba))},t.\u0275prov=Ae({token:t,factory:t.\u0275fac}),t})(),k0=(()=>{class t{constructor(){this._applications=new Map,T_.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return T_.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ae({token:t,factory:t.\u0275fac}),t})();class bb{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function Ib(t){T_=t}let Pu,T_=new bb;const F0=new hi("AllowMultipleToken");class Cb{constructor(r,s){this.name=r,this.token=s}}function L0(t,r,s=[]){const a=`Platform: ${r}`,l=new hi(a);return(h=[])=>{let _=V0();if(!_||_.injector.get(F0,!1))if(t)t(s.concat(h).concat({provide:l,useValue:!0}));else{const C=s.concat(h).concat({provide:l,useValue:!0},{provide:Dd,useValue:"platform"});!function Ab(t){if(Pu&&!Pu.destroyed&&!Pu.injector.get(F0,!1))throw new wt("400","");Pu=t.get(U0);const r=t.get(A0,null);r&&r.forEach(s=>s())}(va.create({providers:C,name:a}))}return function Sb(t){const r=V0();if(!r)throw new wt("401","");return r}()}}function V0(){return Pu&&!Pu.destroyed?Pu:null}let U0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const C=function Mb(t,r){let s;return s="noop"===t?new wb:("zone.js"===t?void 0:t)||new Ba({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),x=[{provide:Ba,useValue:C}];return C.run(()=>{const j=va.create({providers:x,parent:this.injector,name:s.moduleType.name}),K=s.create(j),he=K.injector.get(Oa,null);if(!he)throw new wt("402","");return C.runOutsideAngular(()=>{const Ve=C.onError.subscribe({next:nt=>{he.handleError(nt)}});K.onDestroy(()=>{D_(this._modules,K),Ve.unsubscribe()})}),function Ob(t,r,s){try{const a=s();return Rd(a)?a.catch(l=>{throw r.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(he,C,()=>{const Ve=K.injector.get(Qh);return Ve.runInitializers(),Ve.donePromise.then(()=>(function aE(t){Ht(t,"Expected localeId to be defined"),"string"==typeof t&&(av=t.toLowerCase().replace(/_/g,"-"))}(K.injector.get(Rm,bm)||bm),this._moduleDoBootstrap(K),K))})})}bootstrapModule(s,a=[]){const l=B0({},a);return function Tb(t,r,s){const a=new i_(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(s){const a=s.injector.get(Vp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new wt("403","");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new wt("404","");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(ki(va))},t.\u0275prov=Ae({token:t,factory:t.\u0275fac}),t})();function B0(t,r){return Array.isArray(r)?r.reduce(B0,t):Object.assign(Object.assign({},t),r)}let Vp=(()=>{class t{constructor(s,a,l,h,_){this._zone=s,this._injector=a,this._exceptionHandler=l,this._componentFactoryResolver=h,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new z.y(j=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{j.next(this._stable),j.complete()})}),x=new z.y(j=>{let K;this._zone.runOutsideAngular(()=>{K=this._zone.onStable.subscribe(()=>{Ba.assertNotInAngularZone(),w_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,j.next(!0))})})});const he=this._zone.onUnstable.subscribe(()=>{Ba.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{j.next(!1)}))});return()=>{K.unsubscribe(),he.unsubscribe()}});this.isStable=(0,we.T)(C,x.pipe((0,Te.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new wt("405","");let l;l=s instanceof Rv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(l.componentType);const h=function Db(t){return t.isBoundToModule}(l)?void 0:this._injector.get(qh),C=l.create(va.NULL,[],a||l.selector,h),x=C.location.nativeElement,j=C.injector.get(P0,null),K=j&&C.injector.get(k0);return j&&K&&K.registerApplication(x,j),C.onDestroy(()=>{this.detachView(C.hostView),D_(this.components,C),K&&K.unregisterApplication(x)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new wt("101","");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;D_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(M0,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(ki(Ba),ki(va),ki(Oa),ki(xp),ki(Qh))},t.\u0275prov=Ae({token:t,factory:t.\u0275fac}),t})();function D_(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let $0=!0,H0=!1;function Nb(){return H0=!0,$0}function Rb(){if(H0)throw new Error("Cannot enable prod mode after platform setup.");$0=!1}let Pb=(()=>{class t{}return t.__NG_ELEMENT_ID__=kb,t})();function kb(t){return function Fb(t,r,s){if(qn(t)&&!s){const a=V(t.index,r);return new Rp(a,a)}return 47&t.type?new Rp(r[16],r):null}(Vn(),At(),16==(16&t))}class Z0{constructor(){}supports(r){return xd(r)}create(r){return new $b(r)}}const jb=(t,r)=>r;class $b{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||jb}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,h=null;for(;s||a;){const _=!a||s&&s.currentIndex<Q0(a,l,h)?s:a,C=Q0(_,l,h),x=_.currentIndex;if(_===a)l--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)l++;else{h||(h=[]);const j=C-l,K=x-l;if(j!=K){for(let Ve=0;Ve<j;Ve++){const nt=Ve<h.length?h[Ve]:h[Ve]=0,Dt=nt+Ve;K<=Dt&&Dt<j&&(h[Ve]=nt+1)}h[_.previousIndex]=K-j}}C!==x&&r(_,C,x)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!xd(r))throw new Error(`Error trying to diff '${oe(r)}'. Only arrays and iterables are allowed`);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,_,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)h=r[C],_=this._trackByFn(C,h),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,h,_,C)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,_,C),a=!0),s=s._next}else l=0,function jg(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[pl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,C=>{_=this._trackByFn(l,C),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,C,_,l)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,_,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,l)):r=this._addAfter(new Hb(s,a),h,l),r}_verifyReinsertion(r,s,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Y0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Y0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Hb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Y0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Gb,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Q0(t,r,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class J0{constructor(){}supports(r){return r instanceof Map||rp(r)}create(){return new zb}}class zb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||rp(r)))throw new Error(`Error trying to diff '${oe(r)}'. Only maps and objects are allowed`)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const h=l._prev,_=l._next;return h&&(h._next=_),_&&(_._prev=h),l._next=null,l._prev=null,l}const a=new Wb(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Wb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function X0(){return new km([new Z0])}let km=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||X0()),deps:[[t,new ws,new Po]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function Kb(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=Ae({token:t,providedIn:"root",factory:X0}),t})();function eE(){return new Fm([new J0])}let Fm=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||eE()),deps:[[t,new ws,new Po]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=Ae({token:t,providedIn:"root",factory:eE}),t})();const qb=[new J0],Yb=new km([new Z0]),Qb=new Fm(qb),Jb=L0(null,"core",[{provide:S0,useValue:"unknown"},{provide:U0,deps:[va]},{provide:k0,deps:[]},{provide:O0,deps:[]}]),rI=[{provide:Vp,useClass:Vp,deps:[Ba,va,Oa,xp,Qh]},{provide:fw,deps:[Ba],useFactory:function iI(t){let r=[];return t.onStable.subscribe(()=>{for(;r.length;)r.pop()()}),function(s){r.push(s)}}},{provide:Qh,useClass:Qh,deps:[[new Po,__]]},{provide:E_,useClass:E_,deps:[]},fb,{provide:km,useFactory:function Xb(){return Yb},deps:[]},{provide:Fm,useFactory:function eI(){return Qb},deps:[]},{provide:Rm,useFactory:function tI(t){return t||function nI(){return"undefined"!=typeof $localize&&$localize.locale||bm}()},deps:[[new Ma(Rm),new Po,new ws]]},{provide:x0,useValue:"USD"}];let sI=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(ki(Vp))},t.\u0275mod=re({type:t}),t.\u0275inj=It({providers:rI}),t})()},2382:(Qt,et,L)=>{L.d(et,{Fj:()=>We,qu:()=>Mt,NI:()=>Nn,u:()=>Fs,cw:()=>Rn,sg:()=>Oi,u5:()=>te,JJ:()=>$n,JL:()=>zt,YN:()=>ms,wV:()=>Ut,_:()=>Qr,UX:()=>ve,EJ:()=>Ls,kI:()=>le,_Y:()=>Ke,Kr:()=>xi});var c=L(5e3),w=L(9808),z=L(8306),we=L(4742),Te=L(8421),Ce=L(7669),De=L(5403),oe=L(3268),Me=L(1810),fe=L(8996),Fe=L(4004);let it=(()=>{class V{constructor(y,N){this._renderer=y,this._elementRef=N,this.onChange=ae=>{},this.onTouched=()=>{}}setProperty(y,N){this._renderer.setProperty(this._elementRef.nativeElement,y,N)}registerOnTouched(y){this.onTouched=y}registerOnChange(y){this.onChange=y}setDisabledState(y){this.setProperty("disabled",y)}}return V.\u0275fac=function(y){return new(y||V)(c.Y36(c.Qsj),c.Y36(c.SBq))},V.\u0275dir=c.lG2({type:V}),V})(),tt=(()=>{class V extends it{}return V.\u0275fac=function(){let E;return function(N){return(E||(E=c.n5z(V)))(N||V)}}(),V.\u0275dir=c.lG2({type:V,features:[c.qOj]}),V})();const wt=new c.OlP("NgValueAccessor"),Ye={provide:wt,useExisting:(0,c.Gpc)(()=>We),multi:!0},mt=new c.OlP("CompositionEventMode");let We=(()=>{class V extends it{constructor(y,N,ae){super(y,N),this._compositionMode=ae,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function at(){const V=(0,w.q)()?(0,w.q)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(y){this.setProperty("value",null==y?"":y)}_handleInput(y){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(y)}_compositionStart(){this._composing=!0}_compositionEnd(y){this._composing=!1,this._compositionMode&&this.onChange(y)}}return V.\u0275fac=function(y){return new(y||V)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(mt,8))},V.\u0275dir=c.lG2({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(y,N){1&y&&c.NdJ("input",function(Ze){return N._handleInput(Ze.target.value)})("blur",function(){return N.onTouched()})("compositionstart",function(){return N._compositionStart()})("compositionend",function(Ze){return N._compositionEnd(Ze.target.value)})},features:[c._Bn([Ye]),c.qOj]}),V})();function xe(V){return null==V||0===V.length}function st(V){return null!=V&&"number"==typeof V.length}const vt=new c.OlP("NgValidators"),Ne=new c.OlP("NgAsyncValidators"),Nt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class le{static min(E){return function _e(V){return E=>{if(xe(E.value)||xe(V))return null;const y=parseFloat(E.value);return!isNaN(y)&&y<V?{min:{min:V,actual:E.value}}:null}}(E)}static max(E){return function Ee(V){return E=>{if(xe(E.value)||xe(V))return null;const y=parseFloat(E.value);return!isNaN(y)&&y>V?{max:{max:V,actual:E.value}}:null}}(E)}static required(E){return function Oe(V){return xe(V.value)?{required:!0}:null}(E)}static requiredTrue(E){return function He(V){return!0===V.value?null:{required:!0}}(E)}static email(E){return function me(V){return xe(V.value)||Nt.test(V.value)?null:{email:!0}}(E)}static minLength(E){return function pt(V){return E=>xe(E.value)||!st(E.value)?null:E.value.length<V?{minlength:{requiredLength:V,actualLength:E.value.length}}:null}(E)}static maxLength(E){return function xt(V){return E=>st(E.value)&&E.value.length>V?{maxlength:{requiredLength:V,actualLength:E.value.length}}:null}(E)}static pattern(E){return function un(V){if(!V)return yt;let E,y;return"string"==typeof V?(y="","^"!==V.charAt(0)&&(y+="^"),y+=V,"$"!==V.charAt(V.length-1)&&(y+="$"),E=new RegExp(y)):(y=V.toString(),E=V),N=>{if(xe(N.value))return null;const ae=N.value;return E.test(ae)?null:{pattern:{requiredPattern:y,actualValue:ae}}}}(E)}static nullValidator(E){return null}static compose(E){return ze(E)}static composeAsync(E){return en(E)}}function yt(V){return null}function Ht(V){return null!=V}function Kt(V){const E=(0,c.QGY)(V)?(0,fe.D)(V):V;return(0,c.CqO)(E),E}function nn(V){let E={};return V.forEach(y=>{E=null!=y?Object.assign(Object.assign({},E),y):E}),0===Object.keys(E).length?null:E}function ct(V,E){return E.map(y=>y(V))}function Ae(V){return V.map(E=>function dt(V){return!V.validate}(E)?E:y=>E.validate(y))}function ze(V){if(!V)return null;const E=V.filter(Ht);return 0==E.length?null:function(y){return nn(ct(y,E))}}function It(V){return null!=V?ze(Ae(V)):null}function en(V){if(!V)return null;const E=V.filter(Ht);return 0==E.length?null:function(y){return function ie(...V){const E=(0,Ce.jO)(V),{args:y,keys:N}=(0,we.D)(V),ae=new z.y(Ze=>{const{length:bt}=y;if(!bt)return void Ze.complete();const St=new Array(bt);let or=bt,Tr=bt;for(let ar=0;ar<bt;ar++){let ir=!1;(0,Te.Xf)(y[ar]).subscribe(new De.Q(Ze,kn=>{ir||(ir=!0,Tr--),St[ar]=kn},()=>or--,void 0,()=>{(!or||!ir)&&(Tr||Ze.next(N?(0,Me.n)(N,St):St),Ze.complete())}))}});return E?ae.pipe((0,oe.Z)(E)):ae}(ct(y,E).map(Kt)).pipe((0,Fe.U)(nn))}}function En(V){return null!=V?en(Ae(V)):null}function dn(V,E){return null===V?[E]:Array.isArray(V)?[...V,E]:[V,E]}function rr(V){return V._rawValidators}function sr(V){return V._rawAsyncValidators}function Sn(V){return V?Array.isArray(V)?V:[V]:[]}function an(V,E){return Array.isArray(V)?V.includes(E):V===E}function Jn(V,E){const y=Sn(E);return Sn(V).forEach(ae=>{an(y,ae)||y.push(ae)}),y}function Xn(V,E){return Sn(E).filter(y=>!an(V,y))}class rn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(E){this._rawValidators=E||[],this._composedValidatorFn=It(this._rawValidators)}_setAsyncValidators(E){this._rawAsyncValidators=E||[],this._composedAsyncValidatorFn=En(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(E){this._onDestroyCallbacks.push(E)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(E=>E()),this._onDestroyCallbacks=[]}reset(E){this.control&&this.control.reset(E)}hasError(E,y){return!!this.control&&this.control.hasError(E,y)}getError(E,y){return this.control?this.control.getError(E,y):null}}class Ln extends rn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tn extends rn{get formDirective(){return null}get path(){return null}}class On{constructor(E){this._cd=E}is(E){var y,N,ae;return"submitted"===E?!!(null===(y=this._cd)||void 0===y?void 0:y.submitted):!!(null===(ae=null===(N=this._cd)||void 0===N?void 0:N.control)||void 0===ae?void 0:ae[E])}}let $n=(()=>{class V extends On{constructor(y){super(y)}}return V.\u0275fac=function(y){return new(y||V)(c.Y36(Ln,2))},V.\u0275dir=c.lG2({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(y,N){2&y&&c.ekj("ng-untouched",N.is("untouched"))("ng-touched",N.is("touched"))("ng-pristine",N.is("pristine"))("ng-dirty",N.is("dirty"))("ng-valid",N.is("valid"))("ng-invalid",N.is("invalid"))("ng-pending",N.is("pending"))},features:[c.qOj]}),V})(),zt=(()=>{class V extends On{constructor(y){super(y)}}return V.\u0275fac=function(y){return new(y||V)(c.Y36(Tn,10))},V.\u0275dir=c.lG2({type:V,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(y,N){2&y&&c.ekj("ng-untouched",N.is("untouched"))("ng-touched",N.is("touched"))("ng-pristine",N.is("pristine"))("ng-dirty",N.is("dirty"))("ng-valid",N.is("valid"))("ng-invalid",N.is("invalid"))("ng-pending",N.is("pending"))("ng-submitted",N.is("submitted"))},features:[c.qOj]}),V})();function H(V,E){qe(V,E),E.valueAccessor.writeValue(V.value),function ue(V,E){E.valueAccessor.registerOnChange(y=>{V._pendingValue=y,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&de(V,E)})}(V,E),function Ue(V,E){const y=(N,ae)=>{E.valueAccessor.writeValue(N),ae&&E.viewToModelUpdate(N)};V.registerOnChange(y),E._registerOnDestroy(()=>{V._unregisterOnChange(y)})}(V,E),function ne(V,E){E.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&de(V,E),"submit"!==V.updateOn&&V.markAsTouched()})}(V,E),function ge(V,E){if(E.valueAccessor.setDisabledState){const y=N=>{E.valueAccessor.setDisabledState(N)};V.registerOnDisabledChange(y),E._registerOnDestroy(()=>{V._unregisterOnDisabledChange(y)})}}(V,E)}function Q(V,E,y=!0){const N=()=>{};E.valueAccessor&&(E.valueAccessor.registerOnChange(N),E.valueAccessor.registerOnTouched(N)),lt(V,E),V&&(E._invokeOnDestroyCallbacks(),V._registerOnCollectionChange(()=>{}))}function $e(V,E){V.forEach(y=>{y.registerOnValidatorChange&&y.registerOnValidatorChange(E)})}function qe(V,E){const y=rr(V);null!==E.validator?V.setValidators(dn(y,E.validator)):"function"==typeof y&&V.setValidators([y]);const N=sr(V);null!==E.asyncValidator?V.setAsyncValidators(dn(N,E.asyncValidator)):"function"==typeof N&&V.setAsyncValidators([N]);const ae=()=>V.updateValueAndValidity();$e(E._rawValidators,ae),$e(E._rawAsyncValidators,ae)}function lt(V,E){let y=!1;if(null!==V){if(null!==E.validator){const ae=rr(V);if(Array.isArray(ae)&&ae.length>0){const Ze=ae.filter(bt=>bt!==E.validator);Ze.length!==ae.length&&(y=!0,V.setValidators(Ze))}}if(null!==E.asyncValidator){const ae=sr(V);if(Array.isArray(ae)&&ae.length>0){const Ze=ae.filter(bt=>bt!==E.asyncValidator);Ze.length!==ae.length&&(y=!0,V.setAsyncValidators(Ze))}}}const N=()=>{};return $e(E._rawValidators,N),$e(E._rawAsyncValidators,N),y}function de(V,E){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),E.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function Gt(V,E){const y=V.indexOf(E);y>-1&&V.splice(y,1)}const xn="VALID",Dn="INVALID",cr="PENDING",Ar="DISABLED";function hr(V){return(rt(V)?V.validators:V)||null}function wr(V){return Array.isArray(V)?It(V):V||null}function je(V,E){return(rt(E)?E.asyncValidators:V)||null}function Le(V){return Array.isArray(V)?En(V):V||null}function rt(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}class Zt{constructor(E,y){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=E,this._rawAsyncValidators=y,this._composedValidatorFn=wr(this._rawValidators),this._composedAsyncValidatorFn=Le(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(E){this._rawValidators=this._composedValidatorFn=E}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(E){this._rawAsyncValidators=this._composedAsyncValidatorFn=E}get parent(){return this._parent}get valid(){return this.status===xn}get invalid(){return this.status===Dn}get pending(){return this.status==cr}get disabled(){return this.status===Ar}get enabled(){return this.status!==Ar}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(E){this._rawValidators=E,this._composedValidatorFn=wr(E)}setAsyncValidators(E){this._rawAsyncValidators=E,this._composedAsyncValidatorFn=Le(E)}addValidators(E){this.setValidators(Jn(E,this._rawValidators))}addAsyncValidators(E){this.setAsyncValidators(Jn(E,this._rawAsyncValidators))}removeValidators(E){this.setValidators(Xn(E,this._rawValidators))}removeAsyncValidators(E){this.setAsyncValidators(Xn(E,this._rawAsyncValidators))}hasValidator(E){return an(this._rawValidators,E)}hasAsyncValidator(E){return an(this._rawAsyncValidators,E)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(E={}){this.touched=!0,this._parent&&!E.onlySelf&&this._parent.markAsTouched(E)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(E=>E.markAllAsTouched())}markAsUntouched(E={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(y=>{y.markAsUntouched({onlySelf:!0})}),this._parent&&!E.onlySelf&&this._parent._updateTouched(E)}markAsDirty(E={}){this.pristine=!1,this._parent&&!E.onlySelf&&this._parent.markAsDirty(E)}markAsPristine(E={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(y=>{y.markAsPristine({onlySelf:!0})}),this._parent&&!E.onlySelf&&this._parent._updatePristine(E)}markAsPending(E={}){this.status=cr,!1!==E.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!E.onlySelf&&this._parent.markAsPending(E)}disable(E={}){const y=this._parentMarkedDirty(E.onlySelf);this.status=Ar,this.errors=null,this._forEachChild(N=>{N.disable(Object.assign(Object.assign({},E),{onlySelf:!0}))}),this._updateValue(),!1!==E.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},E),{skipPristineCheck:y})),this._onDisabledChange.forEach(N=>N(!0))}enable(E={}){const y=this._parentMarkedDirty(E.onlySelf);this.status=xn,this._forEachChild(N=>{N.enable(Object.assign(Object.assign({},E),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:E.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},E),{skipPristineCheck:y})),this._onDisabledChange.forEach(N=>N(!1))}_updateAncestors(E){this._parent&&!E.onlySelf&&(this._parent.updateValueAndValidity(E),E.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(E){this._parent=E}updateValueAndValidity(E={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xn||this.status===cr)&&this._runAsyncValidator(E.emitEvent)),!1!==E.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!E.onlySelf&&this._parent.updateValueAndValidity(E)}_updateTreeValidity(E={emitEvent:!0}){this._forEachChild(y=>y._updateTreeValidity(E)),this.updateValueAndValidity({onlySelf:!0,emitEvent:E.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ar:xn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(E){if(this.asyncValidator){this.status=cr,this._hasOwnPendingAsyncValidator=!0;const y=Kt(this.asyncValidator(this));this._asyncValidationSubscription=y.subscribe(N=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(N,{emitEvent:E})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(E,y={}){this.errors=E,this._updateControlsErrors(!1!==y.emitEvent)}get(E){return function Yr(V,E,y){if(null==E||(Array.isArray(E)||(E=E.split(y)),Array.isArray(E)&&0===E.length))return null;let N=V;return E.forEach(ae=>{N=N instanceof Rn?N.controls.hasOwnProperty(ae)?N.controls[ae]:null:N instanceof Hn&&N.at(ae)||null}),N}(this,E,".")}getError(E,y){const N=y?this.get(y):this;return N&&N.errors?N.errors[E]:null}hasError(E,y){return!!this.getError(E,y)}get root(){let E=this;for(;E._parent;)E=E._parent;return E}_updateControlsErrors(E){this.status=this._calculateStatus(),E&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(E)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Ar:this.errors?Dn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cr)?cr:this._anyControlsHaveStatus(Dn)?Dn:xn}_anyControlsHaveStatus(E){return this._anyControls(y=>y.status===E)}_anyControlsDirty(){return this._anyControls(E=>E.dirty)}_anyControlsTouched(){return this._anyControls(E=>E.touched)}_updatePristine(E={}){this.pristine=!this._anyControlsDirty(),this._parent&&!E.onlySelf&&this._parent._updatePristine(E)}_updateTouched(E={}){this.touched=this._anyControlsTouched(),this._parent&&!E.onlySelf&&this._parent._updateTouched(E)}_isBoxedValue(E){return"object"==typeof E&&null!==E&&2===Object.keys(E).length&&"value"in E&&"disabled"in E}_registerOnCollectionChange(E){this._onCollectionChange=E}_setUpdateStrategy(E){rt(E)&&null!=E.updateOn&&(this._updateOn=E.updateOn)}_parentMarkedDirty(E){return!E&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Nn extends Zt{constructor(E=null,y,N){super(hr(y),je(N,y)),this._onChange=[],this._applyFormState(E),this._setUpdateStrategy(y),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(E,y={}){this.value=this._pendingValue=E,this._onChange.length&&!1!==y.emitModelToViewChange&&this._onChange.forEach(N=>N(this.value,!1!==y.emitViewToModelChange)),this.updateValueAndValidity(y)}patchValue(E,y={}){this.setValue(E,y)}reset(E=null,y={}){this._applyFormState(E),this.markAsPristine(y),this.markAsUntouched(y),this.setValue(this.value,y),this._pendingChange=!1}_updateValue(){}_anyControls(E){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(E){this._onChange.push(E)}_unregisterOnChange(E){Gt(this._onChange,E)}registerOnDisabledChange(E){this._onDisabledChange.push(E)}_unregisterOnDisabledChange(E){Gt(this._onDisabledChange,E)}_forEachChild(E){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(E){this._isBoxedValue(E)?(this.value=this._pendingValue=E.value,E.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=E}}class Rn extends Zt{constructor(E,y,N){super(hr(y),je(N,y)),this.controls=E,this._initObservables(),this._setUpdateStrategy(y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(E,y){return this.controls[E]?this.controls[E]:(this.controls[E]=y,y.setParent(this),y._registerOnCollectionChange(this._onCollectionChange),y)}addControl(E,y,N={}){this.registerControl(E,y),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}removeControl(E,y={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),delete this.controls[E],this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}setControl(E,y,N={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),delete this.controls[E],y&&this.registerControl(E,y),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}contains(E){return this.controls.hasOwnProperty(E)&&this.controls[E].enabled}setValue(E,y={}){this._checkAllValuesPresent(E),Object.keys(E).forEach(N=>{this._throwIfControlMissing(N),this.controls[N].setValue(E[N],{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y)}patchValue(E,y={}){null!=E&&(Object.keys(E).forEach(N=>{this.controls[N]&&this.controls[N].patchValue(E[N],{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y))}reset(E={},y={}){this._forEachChild((N,ae)=>{N.reset(E[ae],{onlySelf:!0,emitEvent:y.emitEvent})}),this._updatePristine(y),this._updateTouched(y),this.updateValueAndValidity(y)}getRawValue(){return this._reduceChildren({},(E,y,N)=>(E[N]=y instanceof Nn?y.value:y.getRawValue(),E))}_syncPendingControls(){let E=this._reduceChildren(!1,(y,N)=>!!N._syncPendingControls()||y);return E&&this.updateValueAndValidity({onlySelf:!0}),E}_throwIfControlMissing(E){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[E])throw new Error(`Cannot find form control with name: ${E}.`)}_forEachChild(E){Object.keys(this.controls).forEach(y=>{const N=this.controls[y];N&&E(N,y)})}_setUpControls(){this._forEachChild(E=>{E.setParent(this),E._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(E){for(const y of Object.keys(this.controls)){const N=this.controls[y];if(this.contains(y)&&E(N))return!0}return!1}_reduceValue(){return this._reduceChildren({},(E,y,N)=>((y.enabled||this.disabled)&&(E[N]=y.value),E))}_reduceChildren(E,y){let N=E;return this._forEachChild((ae,Ze)=>{N=y(N,ae,Ze)}),N}_allControlsDisabled(){for(const E of Object.keys(this.controls))if(this.controls[E].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(E){this._forEachChild((y,N)=>{if(void 0===E[N])throw new Error(`Must supply a value for form control with name: '${N}'.`)})}}class Hn extends Zt{constructor(E,y,N){super(hr(y),je(N,y)),this.controls=E,this._initObservables(),this._setUpdateStrategy(y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(E){return this.controls[E]}push(E,y={}){this.controls.push(E),this._registerControl(E),this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}insert(E,y,N={}){this.controls.splice(E,0,y),this._registerControl(y),this.updateValueAndValidity({emitEvent:N.emitEvent})}removeAt(E,y={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),this.controls.splice(E,1),this.updateValueAndValidity({emitEvent:y.emitEvent})}setControl(E,y,N={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),this.controls.splice(E,1),y&&(this.controls.splice(E,0,y),this._registerControl(y)),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(E,y={}){this._checkAllValuesPresent(E),E.forEach((N,ae)=>{this._throwIfControlMissing(ae),this.at(ae).setValue(N,{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y)}patchValue(E,y={}){null!=E&&(E.forEach((N,ae)=>{this.at(ae)&&this.at(ae).patchValue(N,{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y))}reset(E=[],y={}){this._forEachChild((N,ae)=>{N.reset(E[ae],{onlySelf:!0,emitEvent:y.emitEvent})}),this._updatePristine(y),this._updateTouched(y),this.updateValueAndValidity(y)}getRawValue(){return this.controls.map(E=>E instanceof Nn?E.value:E.getRawValue())}clear(E={}){this.controls.length<1||(this._forEachChild(y=>y._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:E.emitEvent}))}_syncPendingControls(){let E=this.controls.reduce((y,N)=>!!N._syncPendingControls()||y,!1);return E&&this.updateValueAndValidity({onlySelf:!0}),E}_throwIfControlMissing(E){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(E))throw new Error(`Cannot find form control at index ${E}`)}_forEachChild(E){this.controls.forEach((y,N)=>{E(y,N)})}_updateValue(){this.value=this.controls.filter(E=>E.enabled||this.disabled).map(E=>E.value)}_anyControls(E){return this.controls.some(y=>y.enabled&&E(y))}_setUpControls(){this._forEachChild(E=>this._registerControl(E))}_checkAllValuesPresent(E){this._forEachChild((y,N)=>{if(void 0===E[N])throw new Error(`Must supply a value for form control at index: ${N}.`)})}_allControlsDisabled(){for(const E of this.controls)if(E.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(E){E.setParent(this),E._registerOnCollectionChange(this._onCollectionChange)}}let Ke=(()=>{class V{}return V.\u0275fac=function(y){return new(y||V)},V.\u0275dir=c.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),V})();const Ct={provide:wt,useExisting:(0,c.Gpc)(()=>Ut),multi:!0};let Ut=(()=>{class V extends tt{writeValue(y){this.setProperty("value",null==y?"":y)}registerOnChange(y){this.onChange=N=>{y(""==N?null:parseFloat(N))}}}return V.\u0275fac=function(){let E;return function(N){return(E||(E=c.n5z(V)))(N||V)}}(),V.\u0275dir=c.lG2({type:V,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(y,N){1&y&&c.NdJ("input",function(Ze){return N.onChange(Ze.target.value)})("blur",function(){return N.onTouched()})},features:[c._Bn([Ct]),c.qOj]}),V})();const sn={provide:wt,useExisting:(0,c.Gpc)(()=>Qr),multi:!0};let Ir=(()=>{class V{}return V.\u0275fac=function(y){return new(y||V)},V.\u0275mod=c.oAB({type:V}),V.\u0275inj=c.cJS({}),V})(),qn=(()=>{class V{constructor(){this._accessors=[]}add(y,N){this._accessors.push([y,N])}remove(y){for(let N=this._accessors.length-1;N>=0;--N)if(this._accessors[N][1]===y)return void this._accessors.splice(N,1)}select(y){this._accessors.forEach(N=>{this._isSameGroup(N,y)&&N[1]!==y&&N[1].fireUncheck(y.value)})}_isSameGroup(y,N){return!!y[0].control&&y[0]._parent===N._control._parent&&y[1].name===N.name}}return V.\u0275fac=function(y){return new(y||V)},V.\u0275prov=c.Yz7({token:V,factory:V.\u0275fac,providedIn:Ir}),V})(),Qr=(()=>{class V extends tt{constructor(y,N,ae,Ze){super(y,N),this._registry=ae,this._injector=Ze,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Ln),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(y){this._state=y===this.value,this.setProperty("checked",this._state)}registerOnChange(y){this._fn=y,this.onChange=()=>{y(this.value),this._registry.select(this)}}fireUncheck(y){this.writeValue(y)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return V.\u0275fac=function(y){return new(y||V)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(qn),c.Y36(c.zs3))},V.\u0275dir=c.lG2({type:V,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(y,N){1&y&&c.NdJ("change",function(){return N.onChange()})("blur",function(){return N.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[c._Bn([sn]),c.qOj]}),V})();const fi=new c.OlP("NgModelWithFormControlWarning"),li={provide:Tn,useExisting:(0,c.Gpc)(()=>Oi)};let Oi=(()=>{class V extends Tn{constructor(y,N){super(),this.validators=y,this.asyncValidators=N,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(y),this._setAsyncValidators(N)}ngOnChanges(y){this._checkFormPresent(),y.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(y){const N=this.form.get(y.path);return H(N,y),N.updateValueAndValidity({emitEvent:!1}),this.directives.push(y),N}getControl(y){return this.form.get(y.path)}removeControl(y){Q(y.control||null,y,!1),Gt(this.directives,y)}addFormGroup(y){this._setUpFormContainer(y)}removeFormGroup(y){this._cleanUpFormContainer(y)}getFormGroup(y){return this.form.get(y.path)}addFormArray(y){this._setUpFormContainer(y)}removeFormArray(y){this._cleanUpFormContainer(y)}getFormArray(y){return this.form.get(y.path)}updateModel(y,N){this.form.get(y.path).setValue(N)}onSubmit(y){return this.submitted=!0,function Qe(V,E){V._syncPendingControls(),E.forEach(y=>{const N=y.control;"submit"===N.updateOn&&N._pendingChange&&(y.viewToModelUpdate(N._pendingValue),N._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(y),!1}onReset(){this.resetForm()}resetForm(y){this.form.reset(y),this.submitted=!1}_updateDomValue(){this.directives.forEach(y=>{const N=y.control,ae=this.form.get(y.path);N!==ae&&(Q(N||null,y),ae instanceof Nn&&(H(ae,y),y.control=ae))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(y){const N=this.form.get(y.path);(function ee(V,E){qe(V,E)})(N,y),N.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(y){if(this.form){const N=this.form.get(y.path);N&&function re(V,E){return lt(V,E)}(N,y)&&N.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qe(this.form,this),this._oldForm&&lt(this._oldForm,this)}_checkFormPresent(){}}return V.\u0275fac=function(y){return new(y||V)(c.Y36(vt,10),c.Y36(Ne,10))},V.\u0275dir=c.lG2({type:V,selectors:[["","formGroup",""]],hostBindings:function(y,N){1&y&&c.NdJ("submit",function(Ze){return N.onSubmit(Ze)})("reset",function(){return N.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([li]),c.qOj,c.TTD]}),V})();const fo={provide:Ln,useExisting:(0,c.Gpc)(()=>Fs)};let Fs=(()=>{class V extends Ln{constructor(y,N,ae,Ze,bt){super(),this._ngModelWarningConfig=bt,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=y,this._setValidators(N),this._setAsyncValidators(ae),this.valueAccessor=function Et(V,E){if(!E)return null;let y,N,ae;return Array.isArray(E),E.forEach(Ze=>{Ze.constructor===We?y=Ze:function Ie(V){return Object.getPrototypeOf(V.constructor)===tt}(Ze)?N=Ze:ae=Ze}),ae||N||y||null}(0,Ze)}set isDisabled(y){}ngOnChanges(y){this._added||this._setUpControl(),function J(V,E){if(!V.hasOwnProperty("model"))return!1;const y=V.model;return!!y.isFirstChange()||!Object.is(E,y.currentValue)}(y,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(y){this.viewModel=y,this.update.emit(y)}get path(){return function Xe(V,E){return[...E.path,V]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return V._ngModelWarningSentOnce=!1,V.\u0275fac=function(y){return new(y||V)(c.Y36(Tn,13),c.Y36(vt,10),c.Y36(Ne,10),c.Y36(wt,10),c.Y36(fi,8))},V.\u0275dir=c.lG2({type:V,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([fo]),c.qOj,c.TTD]}),V})();const es={provide:wt,useExisting:(0,c.Gpc)(()=>Ls),multi:!0};function bi(V,E){return null==V?`${E}`:(E&&"object"==typeof E&&(E="Object"),`${V}: ${E}`.slice(0,50))}let Ls=(()=>{class V extends tt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(y){this._compareWith=y}writeValue(y){this.value=y;const N=this._getOptionId(y);null==N&&this.setProperty("selectedIndex",-1);const ae=bi(N,y);this.setProperty("value",ae)}registerOnChange(y){this.onChange=N=>{this.value=this._getOptionValue(N),y(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(y){for(const N of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(N),y))return N;return null}_getOptionValue(y){const N=function ts(V){return V.split(":")[0]}(y);return this._optionMap.has(N)?this._optionMap.get(N):y}}return V.\u0275fac=function(){let E;return function(N){return(E||(E=c.n5z(V)))(N||V)}}(),V.\u0275dir=c.lG2({type:V,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(y,N){1&y&&c.NdJ("change",function(Ze){return N.onChange(Ze.target.value)})("blur",function(){return N.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([es]),c.qOj]}),V})(),ms=(()=>{class V{constructor(y,N,ae){this._element=y,this._renderer=N,this._select=ae,this._select&&(this.id=this._select._registerOption())}set ngValue(y){null!=this._select&&(this._select._optionMap.set(this.id,y),this._setElementValue(bi(this.id,y)),this._select.writeValue(this._select.value))}set value(y){this._setElementValue(y),this._select&&this._select.writeValue(this._select.value)}_setElementValue(y){this._renderer.setProperty(this._element.nativeElement,"value",y)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return V.\u0275fac=function(y){return new(y||V)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Ls,9))},V.\u0275dir=c.lG2({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),V})();const po={provide:wt,useExisting:(0,c.Gpc)(()=>As),multi:!0};function ci(V,E){return null==V?`${E}`:("string"==typeof E&&(E=`'${E}'`),E&&"object"==typeof E&&(E="Object"),`${V}: ${E}`.slice(0,50))}let As=(()=>{class V extends tt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(y){this._compareWith=y}writeValue(y){let N;if(this.value=y,Array.isArray(y)){const ae=y.map(Ze=>this._getOptionId(Ze));N=(Ze,bt)=>{Ze._setSelected(ae.indexOf(bt.toString())>-1)}}else N=(ae,Ze)=>{ae._setSelected(!1)};this._optionMap.forEach(N)}registerOnChange(y){this.onChange=N=>{const ae=[],Ze=N.selectedOptions;if(void 0!==Ze){const bt=Ze;for(let St=0;St<bt.length;St++){const Tr=this._getOptionValue(bt[St].value);ae.push(Tr)}}else{const bt=N.options;for(let St=0;St<bt.length;St++){const or=bt[St];if(or.selected){const Tr=this._getOptionValue(or.value);ae.push(Tr)}}}this.value=ae,y(ae)}}_registerOption(y){const N=(this._idCounter++).toString();return this._optionMap.set(N,y),N}_getOptionId(y){for(const N of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(N)._value,y))return N;return null}_getOptionValue(y){const N=function Ii(V){return V.split(":")[0]}(y);return this._optionMap.has(N)?this._optionMap.get(N)._value:y}}return V.\u0275fac=function(){let E;return function(N){return(E||(E=c.n5z(V)))(N||V)}}(),V.\u0275dir=c.lG2({type:V,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(y,N){1&y&&c.NdJ("change",function(Ze){return N.onChange(Ze.target)})("blur",function(){return N.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([po]),c.qOj]}),V})(),xi=(()=>{class V{constructor(y,N,ae){this._element=y,this._renderer=N,this._select=ae,this._select&&(this.id=this._select._registerOption(this))}set ngValue(y){null!=this._select&&(this._value=y,this._setElementValue(ci(this.id,y)),this._select.writeValue(this._select.value))}set value(y){this._select?(this._value=y,this._setElementValue(ci(this.id,y)),this._select.writeValue(this._select.value)):this._setElementValue(y)}_setElementValue(y){this._renderer.setProperty(this._element.nativeElement,"value",y)}_setSelected(y){this._renderer.setProperty(this._element.nativeElement,"selected",y)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return V.\u0275fac=function(y){return new(y||V)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(As,9))},V.\u0275dir=c.lG2({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),V})(),F=(()=>{class V{}return V.\u0275fac=function(y){return new(y||V)},V.\u0275mod=c.oAB({type:V}),V.\u0275inj=c.cJS({imports:[[Ir]]}),V})(),te=(()=>{class V{}return V.\u0275fac=function(y){return new(y||V)},V.\u0275mod=c.oAB({type:V}),V.\u0275inj=c.cJS({imports:[F]}),V})(),ve=(()=>{class V{static withConfig(y){return{ngModule:V,providers:[{provide:fi,useValue:y.warnOnNgModelWithFormControl}]}}}return V.\u0275fac=function(y){return new(y||V)},V.\u0275mod=c.oAB({type:V}),V.\u0275inj=c.cJS({imports:[F]}),V})(),Mt=(()=>{class V{group(y,N=null){const ae=this._reduceControls(y);let St,Ze=null,bt=null;return null!=N&&(function gt(V){return void 0!==V.asyncValidators||void 0!==V.validators||void 0!==V.updateOn}(N)?(Ze=null!=N.validators?N.validators:null,bt=null!=N.asyncValidators?N.asyncValidators:null,St=null!=N.updateOn?N.updateOn:void 0):(Ze=null!=N.validator?N.validator:null,bt=null!=N.asyncValidator?N.asyncValidator:null)),new Rn(ae,{asyncValidators:bt,updateOn:St,validators:Ze})}control(y,N,ae){return new Nn(y,N,ae)}array(y,N,ae){const Ze=y.map(bt=>this._createControl(bt));return new Hn(Ze,N,ae)}_reduceControls(y){const N={};return Object.keys(y).forEach(ae=>{N[ae]=this._createControl(y[ae])}),N}_createControl(y){return y instanceof Nn||y instanceof Rn||y instanceof Hn?y:Array.isArray(y)?this.control(y[0],y.length>1?y[1]:null,y.length>2?y[2]:null):this.control(y)}}return V.\u0275fac=function(y){return new(y||V)},V.\u0275prov=c.Yz7({token:V,factory:V.\u0275fac,providedIn:ve}),V})()},2313:(Qt,et,L)=>{L.d(et,{Dx:()=>Tn,H7:()=>de,b2:()=>an,q6:()=>sr,se:()=>He});var c=L(9808),w=L(5e3);class z extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends z{static makeCurrent(){(0,c.HT)(new we)}onAndCancel(X,J,Ie){return X.addEventListener(J,Ie,!1),()=>{X.removeEventListener(J,Ie,!1)}}dispatchEvent(X,J){X.dispatchEvent(J)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,J){return(J=J||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,J){return"window"===J?window:"document"===J?X:"body"===J?X.body:null}getBaseHref(X){const J=function Ce(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==J?null:function oe(B){De=De||document.createElement("a"),De.setAttribute("href",B);const X=De.pathname;return"/"===X.charAt(0)?X:`/${X}`}(J)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,c.Mx)(document.cookie,X)}}let De,Te=null;const Me=new w.OlP("TRANSITION_ID"),fe=[{provide:w.ip1,useFactory:function ie(B,X,J){return()=>{J.get(w.CZH).donePromise.then(()=>{const Ie=(0,c.q)(),Qe=X.querySelectorAll(`style[ng-transition="${B}"]`);for(let Et=0;Et<Qe.length;Et++)Ie.remove(Qe[Et])})}},deps:[Me,c.K0,w.zs3],multi:!0}];class Fe{static init(){(0,w.VLi)(new Fe)}addToWindow(X){w.dqk.getAngularTestability=(Ie,Qe=!0)=>{const Et=X.findTestabilityInTree(Ie,Qe);if(null==Et)throw new Error("Could not find testability for element.");return Et},w.dqk.getAllAngularTestabilities=()=>X.getAllTestabilities(),w.dqk.getAllAngularRootElements=()=>X.getAllRootElements(),w.dqk.frameworkStabilizers||(w.dqk.frameworkStabilizers=[]),w.dqk.frameworkStabilizers.push(Ie=>{const Qe=w.dqk.getAllAngularTestabilities();let Et=Qe.length,Gt=!1;const wn=function(xn){Gt=Gt||xn,Et--,0==Et&&Ie(Gt)};Qe.forEach(function(xn){xn.whenStable(wn)})})}findTestabilityInTree(X,J,Ie){if(null==J)return null;const Qe=X.getTestability(J);return null!=Qe?Qe:Ie?(0,c.q)().isShadowRoot(J)?this.findTestabilityInTree(X,J.host,!0):this.findTestabilityInTree(X,J.parentElement,!0):null}}let it=(()=>{class B{build(){return new XMLHttpRequest}}return B.\u0275fac=function(J){return new(J||B)},B.\u0275prov=w.Yz7({token:B,factory:B.\u0275fac}),B})();const tt=new w.OlP("EventManagerPlugins");let wt=(()=>{class B{constructor(J,Ie){this._zone=Ie,this._eventNameToPlugin=new Map,J.forEach(Qe=>Qe.manager=this),this._plugins=J.slice().reverse()}addEventListener(J,Ie,Qe){return this._findPluginFor(Ie).addEventListener(J,Ie,Qe)}addGlobalEventListener(J,Ie,Qe){return this._findPluginFor(Ie).addGlobalEventListener(J,Ie,Qe)}getZone(){return this._zone}_findPluginFor(J){const Ie=this._eventNameToPlugin.get(J);if(Ie)return Ie;const Qe=this._plugins;for(let Et=0;Et<Qe.length;Et++){const Gt=Qe[Et];if(Gt.supports(J))return this._eventNameToPlugin.set(J,Gt),Gt}throw new Error(`No event manager plugin found for event ${J}`)}}return B.\u0275fac=function(J){return new(J||B)(w.LFG(tt),w.LFG(w.R0b))},B.\u0275prov=w.Yz7({token:B,factory:B.\u0275fac}),B})();class Tt{constructor(X){this._doc=X}addGlobalEventListener(X,J,Ie){const Qe=(0,c.q)().getGlobalEventTarget(this._doc,X);if(!Qe)throw new Error(`Unsupported event target ${Qe} for event ${J}`);return this.addEventListener(Qe,J,Ie)}}let Pe=(()=>{class B{constructor(){this._stylesSet=new Set}addStyles(J){const Ie=new Set;J.forEach(Qe=>{this._stylesSet.has(Qe)||(this._stylesSet.add(Qe),Ie.add(Qe))}),this.onStylesAdded(Ie)}onStylesAdded(J){}getAllStyles(){return Array.from(this._stylesSet)}}return B.\u0275fac=function(J){return new(J||B)},B.\u0275prov=w.Yz7({token:B,factory:B.\u0275fac}),B})(),Ye=(()=>{class B extends Pe{constructor(J){super(),this._doc=J,this._hostNodes=new Map,this._hostNodes.set(J.head,[])}_addStylesToHost(J,Ie,Qe){J.forEach(Et=>{const Gt=this._doc.createElement("style");Gt.textContent=Et,Qe.push(Ie.appendChild(Gt))})}addHost(J){const Ie=[];this._addStylesToHost(this._stylesSet,J,Ie),this._hostNodes.set(J,Ie)}removeHost(J){const Ie=this._hostNodes.get(J);Ie&&Ie.forEach(at),this._hostNodes.delete(J)}onStylesAdded(J){this._hostNodes.forEach((Ie,Qe)=>{this._addStylesToHost(J,Qe,Ie)})}ngOnDestroy(){this._hostNodes.forEach(J=>J.forEach(at))}}return B.\u0275fac=function(J){return new(J||B)(w.LFG(c.K0))},B.\u0275prov=w.Yz7({token:B,factory:B.\u0275fac}),B})();function at(B){(0,c.q)().remove(B)}const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},We=/%COMP%/g;function _e(B,X,J){for(let Ie=0;Ie<X.length;Ie++){let Qe=X[Ie];Array.isArray(Qe)?_e(B,Qe,J):(Qe=Qe.replace(We,B),J.push(Qe))}return J}function Ee(B){return X=>{if("__ngUnwrap__"===X)return B;!1===B(X)&&(X.preventDefault(),X.returnValue=!1)}}let He=(()=>{class B{constructor(J,Ie,Qe){this.eventManager=J,this.sharedStylesHost=Ie,this.appId=Qe,this.rendererByCompId=new Map,this.defaultRenderer=new me(J)}createRenderer(J,Ie){if(!J||!Ie)return this.defaultRenderer;switch(Ie.encapsulation){case w.ifc.Emulated:{let Qe=this.rendererByCompId.get(Ie.id);return Qe||(Qe=new un(this.eventManager,this.sharedStylesHost,Ie,this.appId),this.rendererByCompId.set(Ie.id,Qe)),Qe.applyToHost(J),Qe}case 1:case w.ifc.ShadowDom:return new yt(this.eventManager,this.sharedStylesHost,J,Ie);default:if(!this.rendererByCompId.has(Ie.id)){const Qe=_e(Ie.id,Ie.styles,[]);this.sharedStylesHost.addStyles(Qe),this.rendererByCompId.set(Ie.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return B.\u0275fac=function(J){return new(J||B)(w.LFG(wt),w.LFG(Ye),w.LFG(w.AFp))},B.\u0275prov=w.Yz7({token:B,factory:B.\u0275fac}),B})();class me{constructor(X){this.eventManager=X,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,J){return J?document.createElementNS(mt[J]||J,X):document.createElement(X)}createComment(X){return document.createComment(X)}createText(X){return document.createTextNode(X)}appendChild(X,J){X.appendChild(J)}insertBefore(X,J,Ie){X&&X.insertBefore(J,Ie)}removeChild(X,J){X&&X.removeChild(J)}selectRootElement(X,J){let Ie="string"==typeof X?document.querySelector(X):X;if(!Ie)throw new Error(`The selector "${X}" did not match any elements`);return J||(Ie.textContent=""),Ie}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,J,Ie,Qe){if(Qe){J=Qe+":"+J;const Et=mt[Qe];Et?X.setAttributeNS(Et,J,Ie):X.setAttribute(J,Ie)}else X.setAttribute(J,Ie)}removeAttribute(X,J,Ie){if(Ie){const Qe=mt[Ie];Qe?X.removeAttributeNS(Qe,J):X.removeAttribute(`${Ie}:${J}`)}else X.removeAttribute(J)}addClass(X,J){X.classList.add(J)}removeClass(X,J){X.classList.remove(J)}setStyle(X,J,Ie,Qe){Qe&(w.JOm.DashCase|w.JOm.Important)?X.style.setProperty(J,Ie,Qe&w.JOm.Important?"important":""):X.style[J]=Ie}removeStyle(X,J,Ie){Ie&w.JOm.DashCase?X.style.removeProperty(J):X.style[J]=""}setProperty(X,J,Ie){X[J]=Ie}setValue(X,J){X.nodeValue=J}listen(X,J,Ie){return"string"==typeof X?this.eventManager.addGlobalEventListener(X,J,Ee(Ie)):this.eventManager.addEventListener(X,J,Ee(Ie))}}class un extends me{constructor(X,J,Ie,Qe){super(X),this.component=Ie;const Et=_e(Qe+"-"+Ie.id,Ie.styles,[]);J.addStyles(Et),this.contentAttr=function Nt(B){return"_ngcontent-%COMP%".replace(We,B)}(Qe+"-"+Ie.id),this.hostAttr=function le(B){return"_nghost-%COMP%".replace(We,B)}(Qe+"-"+Ie.id)}applyToHost(X){super.setAttribute(X,this.hostAttr,"")}createElement(X,J){const Ie=super.createElement(X,J);return super.setAttribute(Ie,this.contentAttr,""),Ie}}class yt extends me{constructor(X,J,Ie,Qe){super(X),this.sharedStylesHost=J,this.hostEl=Ie,this.shadowRoot=Ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Et=_e(Qe.id,Qe.styles,[]);for(let Gt=0;Gt<Et.length;Gt++){const wn=document.createElement("style");wn.textContent=Et[Gt],this.shadowRoot.appendChild(wn)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(X,J){return super.appendChild(this.nodeOrShadowRoot(X),J)}insertBefore(X,J,Ie){return super.insertBefore(this.nodeOrShadowRoot(X),J,Ie)}removeChild(X,J){return super.removeChild(this.nodeOrShadowRoot(X),J)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}}let Ht=(()=>{class B extends Tt{constructor(J){super(J)}supports(J){return!0}addEventListener(J,Ie,Qe){return J.addEventListener(Ie,Qe,!1),()=>this.removeEventListener(J,Ie,Qe)}removeEventListener(J,Ie,Qe){return J.removeEventListener(Ie,Qe)}}return B.\u0275fac=function(J){return new(J||B)(w.LFG(c.K0))},B.\u0275prov=w.Yz7({token:B,factory:B.\u0275fac}),B})();const Kt=["alt","control","meta","shift"],ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ae={alt:B=>B.altKey,control:B=>B.ctrlKey,meta:B=>B.metaKey,shift:B=>B.shiftKey};let ze=(()=>{class B extends Tt{constructor(J){super(J)}supports(J){return null!=B.parseEventName(J)}addEventListener(J,Ie,Qe){const Et=B.parseEventName(Ie),Gt=B.eventCallback(Et.fullKey,Qe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(J,Et.domEventName,Gt))}static parseEventName(J){const Ie=J.toLowerCase().split("."),Qe=Ie.shift();if(0===Ie.length||"keydown"!==Qe&&"keyup"!==Qe)return null;const Et=B._normalizeKey(Ie.pop());let Gt="";if(Kt.forEach(xn=>{const Dn=Ie.indexOf(xn);Dn>-1&&(Ie.splice(Dn,1),Gt+=xn+".")}),Gt+=Et,0!=Ie.length||0===Et.length)return null;const wn={};return wn.domEventName=Qe,wn.fullKey=Gt,wn}static getEventFullKey(J){let Ie="",Qe=function It(B){let X=B.key;if(null==X){if(X=B.keyIdentifier,null==X)return"Unidentified";X.startsWith("U+")&&(X=String.fromCharCode(parseInt(X.substring(2),16)),3===B.location&&dt.hasOwnProperty(X)&&(X=dt[X]))}return ct[X]||X}(J);return Qe=Qe.toLowerCase()," "===Qe?Qe="space":"."===Qe&&(Qe="dot"),Kt.forEach(Et=>{Et!=Qe&&Ae[Et](J)&&(Ie+=Et+".")}),Ie+=Qe,Ie}static eventCallback(J,Ie,Qe){return Et=>{B.getEventFullKey(Et)===J&&Qe.runGuarded(()=>Ie(Et))}}static _normalizeKey(J){return"esc"===J?"escape":J}}return B.\u0275fac=function(J){return new(J||B)(w.LFG(c.K0))},B.\u0275prov=w.Yz7({token:B,factory:B.\u0275fac}),B})();const sr=(0,w.eFA)(w._c5,"browser",[{provide:w.Lbi,useValue:c.bD},{provide:w.g9A,useValue:function en(){we.makeCurrent(),Fe.init()},multi:!0},{provide:c.K0,useFactory:function dn(){return(0,w.RDi)(document),document},deps:[]}]),Sn=[{provide:w.zSh,useValue:"root"},{provide:w.qLn,useFactory:function En(){return new w.qLn},deps:[]},{provide:tt,useClass:Ht,multi:!0,deps:[c.K0,w.R0b,w.Lbi]},{provide:tt,useClass:ze,multi:!0,deps:[c.K0]},{provide:He,useClass:He,deps:[wt,Ye,w.AFp]},{provide:w.FYo,useExisting:He},{provide:Pe,useExisting:Ye},{provide:Ye,useClass:Ye,deps:[c.K0]},{provide:w.dDg,useClass:w.dDg,deps:[w.R0b]},{provide:wt,useClass:wt,deps:[tt,w.R0b]},{provide:c.JF,useClass:it,deps:[]}];let an=(()=>{class B{constructor(J){if(J)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(J){return{ngModule:B,providers:[{provide:w.AFp,useValue:J.appId},{provide:Me,useExisting:w.AFp},fe]}}}return B.\u0275fac=function(J){return new(J||B)(w.LFG(B,12))},B.\u0275mod=w.oAB({type:B}),B.\u0275inj=w.cJS({providers:Sn,imports:[c.ez,w.hGG]}),B})(),Tn=(()=>{class B{constructor(J){this._doc=J}getTitle(){return this._doc.title}setTitle(J){this._doc.title=J||""}}return B.\u0275fac=function(J){return new(J||B)(w.LFG(c.K0))},B.\u0275prov=w.Yz7({token:B,factory:function(J){let Ie=null;return Ie=J?new J:function Ln(){return new Tn((0,w.LFG)(c.K0))}(),Ie},providedIn:"root"}),B})();"undefined"!=typeof window&&window;let de=(()=>{class B{}return B.\u0275fac=function(J){return new(J||B)},B.\u0275prov=w.Yz7({token:B,factory:function(J){let Ie=null;return Ie=J?new(J||B):w.LFG(ee),Ie},providedIn:"root"}),B})(),ee=(()=>{class B extends de{constructor(J){super(),this._doc=J}sanitize(J,Ie){if(null==Ie)return null;switch(J){case w.q3G.NONE:return Ie;case w.q3G.HTML:return(0,w.qzn)(Ie,"HTML")?(0,w.z3N)(Ie):(0,w.EiD)(this._doc,String(Ie)).toString();case w.q3G.STYLE:return(0,w.qzn)(Ie,"Style")?(0,w.z3N)(Ie):Ie;case w.q3G.SCRIPT:if((0,w.qzn)(Ie,"Script"))return(0,w.z3N)(Ie);throw new Error("unsafe value used in a script context");case w.q3G.URL:return(0,w.yhl)(Ie),(0,w.qzn)(Ie,"URL")?(0,w.z3N)(Ie):(0,w.mCW)(String(Ie));case w.q3G.RESOURCE_URL:if((0,w.qzn)(Ie,"ResourceURL"))return(0,w.z3N)(Ie);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${J} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(J){return(0,w.JVY)(J)}bypassSecurityTrustStyle(J){return(0,w.L6k)(J)}bypassSecurityTrustScript(J){return(0,w.eBb)(J)}bypassSecurityTrustUrl(J){return(0,w.LAX)(J)}bypassSecurityTrustResourceUrl(J){return(0,w.pB0)(J)}}return B.\u0275fac=function(J){return new(J||B)(w.LFG(c.K0))},B.\u0275prov=w.Yz7({token:B,factory:function(J){let Ie=null;return Ie=J?new J:function Ue(B){return new ee(B.get(c.K0))}(w.LFG(w.zs3)),Ie},providedIn:"root"}),B})()},5335:(Qt,et,L)=>{L.d(et,{jw:()=>Cr,F0:()=>yi,Od:()=>Lu,yS:()=>Xs,Bz:()=>Un,lC:()=>Vs,fw:()=>Us});var c=L(5e3),w=L(7579);class z extends w.x{constructor(I){super(),this._value=I}get value(){return this.getValue()}_subscribe(I){const b=super._subscribe(I);return!b.closed&&I.next(this._value),b}getValue(){const{hasError:I,thrownError:b,_value:R}=this;if(I)throw b;return this._throwIfClosed(),R}next(I){super.next(this._value=I)}}var we=L(8306),Te=L(4742),Ce=L(8996),De=L(4671),oe=L(3268),Me=L(7669),ie=L(1810),fe=L(5403),Fe=L(9672);function wt(M,I,b){M?(0,Fe.f)(b,M,I):I()}var Tt=L(8421);function Pe(M){return new we.y(I=>{(0,Tt.Xf)(M()).subscribe(I)})}var Ye=L(727),at=L(4482);function mt(){return(0,at.e)((M,I)=>{let b=null;M._refCount++;const R=new fe.Q(I,void 0,void 0,void 0,()=>{if(!M||M._refCount<=0||0<--M._refCount)return void(b=null);const U=M._connection,Y=b;b=null,U&&(!Y||U===Y)&&U.unsubscribe(),I.unsubscribe()});M.subscribe(R),R.closed||(b=M.connect())})}class We extends we.y{constructor(I,b){super(),this.source=I,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,at.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,null==I||I.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new Ye.w0;const b=this.getSubject();I.add(this.source.subscribe(new fe.Q(b,void 0,()=>{this._teardown(),b.complete()},R=>{this._teardown(),b.error(R)},()=>this._teardown()))),I.closed&&(this._connection=null,I=Ye.w0.EMPTY)}return I}refCount(){return mt()(this)}}var xe=L(9646),st=L(6805),vt=L(7272),Ne=L(515);function Nt(M){return(0,at.e)((I,b)=>{let Y,R=null,U=!1;R=I.subscribe(new fe.Q(b,void 0,void 0,ye=>{Y=(0,Tt.Xf)(M(ye,Nt(M)(I))),R?(R.unsubscribe(),R=null,Y.subscribe(b)):U=!0})),U&&(R.unsubscribe(),R=null,Y.subscribe(b))})}var le=L(9300);function _e(M){return M<=0?()=>Ne.E:(0,at.e)((I,b)=>{let R=[];I.subscribe(new fe.Q(b,U=>{R.push(U),M<R.length&&R.shift()},()=>{for(const U of R)b.next(U);b.complete()},void 0,()=>{R=null}))})}var Ee=L(8068),Oe=L(6590),pt=L(4004),xt=L(3900),un=L(5698),yt=L(8675),Ht=L(5026),Kt=L(4351),nn=L(590),ct=L(5577),dt=L(8505),Ae=L(8189),ze=L(9808);class It{constructor(I,b){this.id=I,this.url=b}}class en extends It{constructor(I,b,R="imperative",U=null){super(I,b),this.navigationTrigger=R,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class En extends It{constructor(I,b,R){super(I,b),this.urlAfterRedirects=R}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dn extends It{constructor(I,b,R){super(I,b),this.reason=R}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rr extends It{constructor(I,b,R){super(I,b),this.error=R}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sr extends It{constructor(I,b,R,U){super(I,b),this.urlAfterRedirects=R,this.state=U}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sn extends It{constructor(I,b,R,U){super(I,b),this.urlAfterRedirects=R,this.state=U}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class an extends It{constructor(I,b,R,U,Y){super(I,b),this.urlAfterRedirects=R,this.state=U,this.shouldActivate=Y}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jn extends It{constructor(I,b,R,U){super(I,b),this.urlAfterRedirects=R,this.state=U}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xn extends It{constructor(I,b,R,U){super(I,b),this.urlAfterRedirects=R,this.state=U}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rn{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ln{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tn{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class On{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sr{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cr{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $n{constructor(I,b,R){this.routerEvent=I,this.position=b,this.anchor=R}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const zt="primary";class vr{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const b=this.params[I];return Array.isArray(b)?b[0]:b}return null}getAll(I){if(this.has(I)){const b=this.params[I];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function mn(M){return new vr(M)}const qt="ngNavigationCancelingError";function kt(M){const I=Error("NavigationCancelingError: "+M);return I[qt]=!0,I}function Er(M,I,b){const R=b.path.split("/");if(R.length>M.length||"full"===b.pathMatch&&(I.hasChildren()||R.length<M.length))return null;const U={};for(let Y=0;Y<R.length;Y++){const ye=R[Y],Se=M[Y];if(ye.startsWith(":"))U[ye.substring(1)]=Se;else if(ye!==Se.path)return null}return{consumed:M.slice(0,R.length),posParams:U}}function _n(M,I){const b=M?Object.keys(M):void 0,R=I?Object.keys(I):void 0;if(!b||!R||b.length!=R.length)return!1;let U;for(let Y=0;Y<b.length;Y++)if(U=b[Y],!Yn(M[U],I[U]))return!1;return!0}function Yn(M,I){if(Array.isArray(M)&&Array.isArray(I)){if(M.length!==I.length)return!1;const b=[...M].sort(),R=[...I].sort();return b.every((U,Y)=>R[Y]===U)}return M===I}function Qn(M){return Array.prototype.concat.apply([],M)}function jn(M){return M.length>0?M[M.length-1]:null}function Xe(M,I){for(const b in M)M.hasOwnProperty(b)&&I(M[b],b)}function H(M){return(0,c.CqO)(M)?M:(0,c.QGY)(M)?(0,Ce.D)(Promise.resolve(M)):(0,xe.of)(M)}const $e={exact:function ue(M,I,b){if(!Ie(M.segments,I.segments)||!ee(M.segments,I.segments,b)||M.numberOfChildren!==I.numberOfChildren)return!1;for(const R in I.children)if(!M.children[R]||!ue(M.children[R],I.children[R],b))return!1;return!0},subset:de},ge={exact:function lt(M,I){return _n(M,I)},subset:function ne(M,I){return Object.keys(I).length<=Object.keys(M).length&&Object.keys(I).every(b=>Yn(M[b],I[b]))},ignored:()=>!0};function qe(M,I,b){return $e[b.paths](M.root,I.root,b.matrixParams)&&ge[b.queryParams](M.queryParams,I.queryParams)&&!("exact"===b.fragment&&M.fragment!==I.fragment)}function de(M,I,b){return Ue(M,I,I.segments,b)}function Ue(M,I,b,R){if(M.segments.length>b.length){const U=M.segments.slice(0,b.length);return!(!Ie(U,b)||I.hasChildren()||!ee(U,b,R))}if(M.segments.length===b.length){if(!Ie(M.segments,b)||!ee(M.segments,b,R))return!1;for(const U in I.children)if(!M.children[U]||!de(M.children[U],I.children[U],R))return!1;return!0}{const U=b.slice(0,M.segments.length),Y=b.slice(M.segments.length);return!!(Ie(M.segments,U)&&ee(M.segments,U,R)&&M.children[zt])&&Ue(M.children[zt],I,Y,R)}}function ee(M,I,b){return I.every((R,U)=>ge[b](M[U].parameters,R.parameters))}class re{constructor(I,b,R){this.root=I,this.queryParams=b,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}toString(){return wn.serialize(this)}}class B{constructor(I,b){this.segments=I,this.children=b,this.parent=null,Xe(b,(R,U)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xn(this)}}class X{constructor(I,b){this.path=I,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=mn(this.parameters)),this._parameterMap}toString(){return Le(this)}}function Ie(M,I){return M.length===I.length&&M.every((b,R)=>b.path===I[R].path)}class Et{}class Gt{parse(I){const b=new Ai(I);return new re(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(I){const b=`/${Dn(I.root,!0)}`,R=function Zt(M){const I=Object.keys(M).map(b=>{const R=M[b];return Array.isArray(R)?R.map(U=>`${Ar(b)}=${Ar(U)}`).join("&"):`${Ar(b)}=${Ar(R)}`}).filter(b=>!!b);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${b}${R}${"string"==typeof I.fragment?`#${function Yr(M){return encodeURI(M)}(I.fragment)}`:""}`}}const wn=new Gt;function xn(M){return M.segments.map(I=>Le(I)).join("/")}function Dn(M,I){if(!M.hasChildren())return xn(M);if(I){const b=M.children[zt]?Dn(M.children[zt],!1):"",R=[];return Xe(M.children,(U,Y)=>{Y!==zt&&R.push(`${Y}:${Dn(U,!1)}`)}),R.length>0?`${b}(${R.join("//")})`:b}{const b=function Qe(M,I){let b=[];return Xe(M.children,(R,U)=>{U===zt&&(b=b.concat(I(R,U)))}),Xe(M.children,(R,U)=>{U!==zt&&(b=b.concat(I(R,U)))}),b}(M,(R,U)=>U===zt?[Dn(M.children[zt],!1)]:[`${U}:${Dn(R,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[zt]?`${xn(M)}/${b[0]}`:`${xn(M)}/(${b.join("//")})`}}function cr(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ar(M){return cr(M).replace(/%3B/gi,";")}function hr(M){return cr(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wr(M){return decodeURIComponent(M)}function je(M){return wr(M.replace(/\+/g,"%20"))}function Le(M){return`${hr(M.path)}${function rt(M){return Object.keys(M).map(I=>`;${hr(I)}=${hr(M[I])}`).join("")}(M.parameters)}`}const Nn=/^[^\/()?;=#]+/;function Rn(M){const I=M.match(Nn);return I?I[0]:""}const Hn=/^[^=?&#]+/,Gn=/^[^&#]+/;class Ai{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new B([],{}):new B([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(I.length>0||Object.keys(b).length>0)&&(R[zt]=new B(I,b)),R}parseSegment(){const I=Rn(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new X(wr(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const b=Rn(this.remaining);if(!b)return;this.capture(b);let R="";if(this.consumeOptional("=")){const U=Rn(this.remaining);U&&(R=U,this.capture(R))}I[wr(b)]=wr(R)}parseQueryParam(I){const b=function br(M){const I=M.match(Hn);return I?I[0]:""}(this.remaining);if(!b)return;this.capture(b);let R="";if(this.consumeOptional("=")){const ye=function kr(M){const I=M.match(Gn);return I?I[0]:""}(this.remaining);ye&&(R=ye,this.capture(R))}const U=je(b),Y=je(R);if(I.hasOwnProperty(U)){let ye=I[U];Array.isArray(ye)||(ye=[ye],I[U]=ye),ye.push(Y)}else I[U]=Y}parseParens(I){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Rn(this.remaining),U=this.remaining[R.length];if("/"!==U&&")"!==U&&";"!==U)throw new Error(`Cannot parse url '${this.url}'`);let Y;R.indexOf(":")>-1?(Y=R.substr(0,R.indexOf(":")),this.capture(Y),this.capture(":")):I&&(Y=zt);const ye=this.parseChildren();b[Y]=1===Object.keys(ye).length?ye[zt]:new B([],ye),this.consumeOptional("//")}return b}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class Pn{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const b=this.pathFromRoot(I);return b.length>1?b[b.length-2]:null}children(I){const b=Si(I,this._root);return b?b.children.map(R=>R.value):[]}firstChild(I){const b=Si(I,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(I){const b=Mi(I,this._root);return b.length<2?[]:b[b.length-2].children.map(U=>U.value).filter(U=>U!==I)}pathFromRoot(I){return Mi(I,this._root).map(b=>b.value)}}function Si(M,I){if(M===I.value)return I;for(const b of I.children){const R=Si(M,b);if(R)return R}return null}function Mi(M,I){if(M===I.value)return[I];for(const b of I.children){const R=Mi(M,b);if(R.length)return R.unshift(I),R}return[]}class ti{constructor(I,b){this.value=I,this.children=b}toString(){return`TreeNode(${this.value})`}}function jr(M){const I={};return M&&M.children.forEach(b=>I[b.value.outlet]=b),I}class gr extends Pn{constructor(I,b){super(I),this.snapshot=b,Kn(this,I)}toString(){return this.snapshot.toString()}}function Mr(M,I){const b=function Ge(M,I){const ye=new Ut([],{},{},"",{},zt,I,null,M.root,-1,{});return new sn("",new ti(ye,[]))}(M,I),R=new z([new X("",{})]),U=new z({}),Y=new z({}),ye=new z({}),Se=new z(""),Je=new Re(R,U,ye,Se,Y,zt,I,b.root);return Je.snapshot=b.root,new gr(new ti(Je,[]),b)}class Re{constructor(I,b,R,U,Y,ye,Se,Je){this.url=I,this.params=b,this.queryParams=R,this.fragment=U,this.data=Y,this.outlet=ye,this.component=Se,this._futureSnapshot=Je}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(I=>mn(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(I=>mn(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ke(M,I="emptyOnly"){const b=M.pathFromRoot;let R=0;if("always"!==I)for(R=b.length-1;R>=1;){const U=b[R],Y=b[R-1];if(U.routeConfig&&""===U.routeConfig.path)R--;else{if(Y.component)break;R--}}return function Ct(M){return M.reduce((I,b)=>({params:Object.assign(Object.assign({},I.params),b.params),data:Object.assign(Object.assign({},I.data),b.data),resolve:Object.assign(Object.assign({},I.resolve),b._resolvedData)}),{params:{},data:{},resolve:{}})}(b.slice(R))}class Ut{constructor(I,b,R,U,Y,ye,Se,Je,cn,zn,An){this.url=I,this.params=b,this.queryParams=R,this.fragment=U,this.data=Y,this.outlet=ye,this.component=Se,this.routeConfig=Je,this._urlSegment=cn,this._lastPathIndex=zn,this._resolve=An}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sn extends Pn{constructor(I,b){super(b),this.url=I,Kn(this,b)}toString(){return Ir(this._root)}}function Kn(M,I){I.value._routerState=M,I.children.forEach(b=>Kn(M,b))}function Ir(M){const I=M.children.length>0?` { ${M.children.map(Ir).join(", ")} } `:"";return`${M.value}${I}`}function qn(M){if(M.snapshot){const I=M.snapshot,b=M._futureSnapshot;M.snapshot=b,_n(I.queryParams,b.queryParams)||M.queryParams.next(b.queryParams),I.fragment!==b.fragment&&M.fragment.next(b.fragment),_n(I.params,b.params)||M.params.next(b.params),function pr(M,I){if(M.length!==I.length)return!1;for(let b=0;b<M.length;++b)if(!_n(M[b],I[b]))return!1;return!0}(I.url,b.url)||M.url.next(b.url),_n(I.data,b.data)||M.data.next(b.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function Qr(M,I){const b=_n(M.params,I.params)&&function J(M,I){return Ie(M,I)&&M.every((b,R)=>_n(b.parameters,I[R].parameters))}(M.url,I.url);return b&&!(!M.parent!=!I.parent)&&(!M.parent||Qr(M.parent,I.parent))}function $r(M,I,b){if(b&&M.shouldReuseRoute(I.value,b.value.snapshot)){const R=b.value;R._futureSnapshot=I.value;const U=function fi(M,I,b){return I.children.map(R=>{for(const U of b.children)if(M.shouldReuseRoute(R.value,U.value.snapshot))return $r(M,R,U);return $r(M,R)})}(M,I,b);return new ti(R,U)}{if(M.shouldAttach(I.value)){const Y=M.retrieve(I.value);if(null!==Y){const ye=Y.route;return ye.value._futureSnapshot=I.value,ye.children=I.children.map(Se=>$r(M,Se)),ye}}const R=function pi(M){return new Re(new z(M.url),new z(M.params),new z(M.queryParams),new z(M.fragment),new z(M.data),M.outlet,M.component,M)}(I.value),U=I.children.map(Y=>$r(M,Y));return new ti(R,U)}}function li(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function Oi(M){return"object"==typeof M&&null!=M&&M.outlets}function Xi(M,I,b,R,U){let Y={};return R&&Xe(R,(ye,Se)=>{Y[Se]=Array.isArray(ye)?ye.map(Je=>`${Je}`):`${ye}`}),new re(b.root===M?I:ks(b.root,M,I),Y,U)}function ks(M,I,b){const R={};return Xe(M.children,(U,Y)=>{R[Y]=U===I?b:ks(U,I,b)}),new B(M.segments,R)}class gs{constructor(I,b,R){if(this.isAbsolute=I,this.numberOfDoubleDots=b,this.commands=R,I&&R.length>0&&li(R[0]))throw new Error("Root segment cannot have matrix parameters");const U=R.find(Oi);if(U&&U!==jn(R))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cs{constructor(I,b,R){this.segmentGroup=I,this.processChildren=b,this.index=R}}function bi(M,I,b){if(M||(M=new B([],{})),0===M.segments.length&&M.hasChildren())return ts(M,I,b);const R=function Ls(M,I,b){let R=0,U=I;const Y={match:!1,pathIndex:0,commandIndex:0};for(;U<M.segments.length;){if(R>=b.length)return Y;const ye=M.segments[U],Se=b[R];if(Oi(Se))break;const Je=`${Se}`,cn=R<b.length-1?b[R+1]:null;if(U>0&&void 0===Je)break;if(Je&&cn&&"object"==typeof cn&&void 0===cn.outlets){if(!Ii(Je,cn,ye))return Y;R+=2}else{if(!Ii(Je,{},ye))return Y;R++}U++}return{match:!0,pathIndex:U,commandIndex:R}}(M,I,b),U=b.slice(R.commandIndex);if(R.match&&R.pathIndex<M.segments.length){const Y=new B(M.segments.slice(0,R.pathIndex),{});return Y.children[zt]=new B(M.segments.slice(R.pathIndex),M.children),ts(Y,0,U)}return R.match&&0===U.length?new B(M.segments,{}):R.match&&!M.hasChildren()?ms(M,I,b):R.match?ts(M,0,U):ms(M,I,b)}function ts(M,I,b){if(0===b.length)return new B(M.segments,{});{const R=function es(M){return Oi(M[0])?M[0].outlets:{[zt]:M}}(b),U={};return Xe(R,(Y,ye)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(U[ye]=bi(M.children[ye],I,Y))}),Xe(M.children,(Y,ye)=>{void 0===R[ye]&&(U[ye]=Y)}),new B(M.segments,U)}}function ms(M,I,b){const R=M.segments.slice(0,I);let U=0;for(;U<b.length;){const Y=b[U];if(Oi(Y)){const Je=po(Y.outlets);return new B(R,Je)}if(0===U&&li(b[0])){R.push(new X(M.segments[I].path,ci(b[0]))),U++;continue}const ye=Oi(Y)?Y.outlets[zt]:`${Y}`,Se=U<b.length-1?b[U+1]:null;ye&&Se&&li(Se)?(R.push(new X(ye,ci(Se))),U+=2):(R.push(new X(ye,{})),U++)}return new B(R,{})}function po(M){const I={};return Xe(M,(b,R)=>{"string"==typeof b&&(b=[b]),null!==b&&(I[R]=ms(new B([],{}),0,b))}),I}function ci(M){const I={};return Xe(M,(b,R)=>I[R]=`${b}`),I}function Ii(M,I,b){return M==b.path&&_n(I,b.parameters)}class As{constructor(I,b,R,U){this.routeReuseStrategy=I,this.futureState=b,this.currState=R,this.forwardEvent=U}activate(I){const b=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,R,I),qn(this.futureState.root),this.activateChildRoutes(b,R,I)}deactivateChildRoutes(I,b,R){const U=jr(b);I.children.forEach(Y=>{const ye=Y.value.outlet;this.deactivateRoutes(Y,U[ye],R),delete U[ye]}),Xe(U,(Y,ye)=>{this.deactivateRouteAndItsChildren(Y,R)})}deactivateRoutes(I,b,R){const U=I.value,Y=b?b.value:null;if(U===Y)if(U.component){const ye=R.getContext(U.outlet);ye&&this.deactivateChildRoutes(I,b,ye.children)}else this.deactivateChildRoutes(I,b,R);else Y&&this.deactivateRouteAndItsChildren(b,R)}deactivateRouteAndItsChildren(I,b){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,b):this.deactivateRouteAndOutlet(I,b)}detachAndStoreRouteSubtree(I,b){const R=b.getContext(I.value.outlet),U=R&&I.value.component?R.children:b,Y=jr(I);for(const ye of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[ye],U);if(R&&R.outlet){const ye=R.outlet.detach(),Se=R.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:ye,route:I,contexts:Se})}}deactivateRouteAndOutlet(I,b){const R=b.getContext(I.value.outlet),U=R&&I.value.component?R.children:b,Y=jr(I);for(const ye of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[ye],U);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(I,b,R){const U=jr(b);I.children.forEach(Y=>{this.activateRoutes(Y,U[Y.value.outlet],R),this.forwardEvent(new Cr(Y.value.snapshot))}),I.children.length&&this.forwardEvent(new On(I.value.snapshot))}activateRoutes(I,b,R){const U=I.value,Y=b?b.value:null;if(qn(U),U===Y)if(U.component){const ye=R.getOrCreateContext(U.outlet);this.activateChildRoutes(I,b,ye.children)}else this.activateChildRoutes(I,b,R);else if(U.component){const ye=R.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const Se=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),ye.children.onOutletReAttached(Se.contexts),ye.attachRef=Se.componentRef,ye.route=Se.route.value,ye.outlet&&ye.outlet.attach(Se.componentRef,Se.route.value),qn(Se.route.value),this.activateChildRoutes(I,null,ye.children)}else{const Se=function xi(M){for(let I=M.parent;I;I=I.parent){const b=I.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}(U.snapshot),Je=Se?Se.module.componentFactoryResolver:null;ye.attachRef=null,ye.route=U,ye.resolver=Je,ye.outlet&&ye.outlet.activateWith(U,Je),this.activateChildRoutes(I,null,ye.children)}}else this.activateChildRoutes(I,null,R)}}class Ti{constructor(I,b){this.routes=I,this.module=b}}function Vr(M){return"function"==typeof M}function gi(M){return M instanceof re}const Ni=Symbol("INITIAL_VALUE");function Hr(){return(0,xt.w)(M=>function it(...M){const I=(0,Me.yG)(M),b=(0,Me.jO)(M),{args:R,keys:U}=(0,Te.D)(M);if(0===R.length)return(0,Ce.D)([],I);const Y=new we.y(function tt(M,I,b=De.y){return R=>{wt(I,()=>{const{length:U}=M,Y=new Array(U);let ye=U,Se=U;for(let Je=0;Je<U;Je++)wt(I,()=>{const cn=(0,Ce.D)(M[Je],I);let zn=!1;cn.subscribe(new fe.Q(R,An=>{Y[Je]=An,zn||(zn=!0,Se--),Se||R.next(b(Y.slice()))},()=>{--ye||R.complete()}))},R)},R)}}(R,I,U?ye=>(0,ie.n)(U,ye):De.y));return b?Y.pipe((0,oe.Z)(b)):Y}(M.map(I=>I.pipe((0,un.q)(1),(0,yt.O)(Ni)))).pipe((0,Ht.R)((I,b)=>{let R=!1;return b.reduce((U,Y,ye)=>U!==Ni?U:(Y===Ni&&(R=!0),R||!1!==Y&&ye!==b.length-1&&!gi(Y)?U:Y),I)},Ni),(0,le.h)(I=>I!==Ni),(0,pt.U)(I=>gi(I)?I:!0===I),(0,un.q)(1)))}class Gr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new is,this.attachRef=null}}class is{constructor(){this.contexts=new Map}onChildOutletCreated(I,b){const R=this.getOrCreateContext(I);R.outlet=b,this.contexts.set(I,R)}onChildOutletDestroyed(I){const b=this.getContext(I);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let b=this.getContext(I);return b||(b=new Gr,this.contexts.set(I,b)),b}getContext(I){return this.contexts.get(I)||null}}let Vs=(()=>{class M{constructor(b,R,U,Y,ye){this.parentContexts=b,this.location=R,this.resolver=U,this.changeDetector=ye,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=Y||zt,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,R){this.activated=b,this._activatedRoute=R,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,R){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const ye=(R=R||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),Se=this.parentContexts.getOrCreateContext(this.name).children,Je=new Ss(b,Se,this.location.injector);this.activated=this.location.createComponent(ye,this.location.length,Je),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(b){return new(b||M)(c.Y36(is),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},M.\u0275dir=c.lG2({type:M,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),M})();class Ss{constructor(I,b,R){this.route=I,this.childContexts=b,this.parent=R}get(I,b){return I===Re?this.route:I===is?this.childContexts:this.parent.get(I,b)}}let Us=(()=>{class M{}return M.\u0275fac=function(b){return new(b||M)},M.\u0275cmp=c.Xpm({type:M,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,R){1&b&&c._UZ(0,"router-outlet")},directives:[Vs],encapsulation:2}),M})();function Bs(M,I=""){for(let b=0;b<M.length;b++){const R=M[b];ss(R,yr(I,R))}}function ss(M,I){M.children&&Bs(M.children,I)}function yr(M,I){return I?M||I.path?M&&!I.path?`${M}/`:!M&&I.path?I.path:`${M}/${I.path}`:"":M}function Bi(M){const I=M.children&&M.children.map(Bi),b=I?Object.assign(Object.assign({},M),{children:I}):Object.assign({},M);return!b.component&&(I||b.loadChildren)&&b.outlet&&b.outlet!==zt&&(b.component=Us),b}function Or(M){return M.outlet||zt}function P(M,I){const b=M.filter(R=>Or(R)===I);return b.push(...M.filter(R=>Or(R)!==I)),b}const Z={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function F(M,I,b){var R;if(""===I.path)return"full"===I.pathMatch&&(M.hasChildren()||b.length>0)?Object.assign({},Z):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Y=(I.matcher||Er)(b,M,I);if(!Y)return Object.assign({},Z);const ye={};Xe(Y.posParams,(Je,cn)=>{ye[cn]=Je.path});const Se=Y.consumed.length>0?Object.assign(Object.assign({},ye),Y.consumed[Y.consumed.length-1].parameters):ye;return{matched:!0,consumedSegments:Y.consumed,lastChild:Y.consumed.length,parameters:Se,positionalParamSegments:null!==(R=Y.posParams)&&void 0!==R?R:{}}}function te(M,I,b,R,U="corrected"){if(b.length>0&&function Mt(M,I,b){return b.some(R=>V(M,I,R)&&Or(R)!==zt)}(M,b,R)){const ye=new B(I,function gt(M,I,b,R){const U={};U[zt]=R,R._sourceSegment=M,R._segmentIndexShift=I.length;for(const Y of b)if(""===Y.path&&Or(Y)!==zt){const ye=new B([],{});ye._sourceSegment=M,ye._segmentIndexShift=I.length,U[Or(Y)]=ye}return U}(M,I,R,new B(b,M.children)));return ye._sourceSegment=M,ye._segmentIndexShift=I.length,{segmentGroup:ye,slicedSegments:[]}}if(0===b.length&&function on(M,I,b){return b.some(R=>V(M,I,R))}(M,b,R)){const ye=new B(M.segments,function ve(M,I,b,R,U,Y){const ye={};for(const Se of R)if(V(M,b,Se)&&!U[Or(Se)]){const Je=new B([],{});Je._sourceSegment=M,Je._segmentIndexShift="legacy"===Y?M.segments.length:I.length,ye[Or(Se)]=Je}return Object.assign(Object.assign({},U),ye)}(M,I,b,R,M.children,U));return ye._sourceSegment=M,ye._segmentIndexShift=I.length,{segmentGroup:ye,slicedSegments:b}}const Y=new B(M.segments,M.children);return Y._sourceSegment=M,Y._segmentIndexShift=I.length,{segmentGroup:Y,slicedSegments:b}}function V(M,I,b){return(!(M.hasChildren()||I.length>0)||"full"!==b.pathMatch)&&""===b.path}function E(M,I,b,R){return!!(Or(M)===R||R!==zt&&V(I,b,M))&&("**"===M.path||F(I,M,b).matched)}function y(M,I,b){return 0===I.length&&!M.children[b]}class N{constructor(I){this.segmentGroup=I||null}}class ae{constructor(I){this.urlTree=I}}function Ze(M){return new we.y(I=>I.error(new N(M)))}function bt(M){return new we.y(I=>I.error(new ae(M)))}function St(M){return new we.y(I=>I.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${M}'`)))}class ar{constructor(I,b,R,U,Y){this.configLoader=b,this.urlSerializer=R,this.urlTree=U,this.config=Y,this.allowRedirects=!0,this.ngModule=I.get(c.h0i)}apply(){const I=te(this.urlTree.root,[],[],this.config).segmentGroup,b=new B(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,b,zt).pipe((0,pt.U)(Y=>this.createUrlTree(kn(Y),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Nt(Y=>{if(Y instanceof ae)return this.allowRedirects=!1,this.match(Y.urlTree);throw Y instanceof N?this.noMatchError(Y):Y}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,zt).pipe((0,pt.U)(U=>this.createUrlTree(kn(U),I.queryParams,I.fragment))).pipe(Nt(U=>{throw U instanceof N?this.noMatchError(U):U}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,b,R){const U=I.segments.length>0?new B([],{[zt]:I}):I;return new re(U,b,R)}expandSegmentGroup(I,b,R,U){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(I,b,R).pipe((0,pt.U)(Y=>new B([],Y))):this.expandSegment(I,R,b,R.segments,U,!0)}expandChildren(I,b,R){const U=[];for(const Y of Object.keys(R.children))"primary"===Y?U.unshift(Y):U.push(Y);return(0,Ce.D)(U).pipe((0,Kt.b)(Y=>{const ye=R.children[Y],Se=P(b,Y);return this.expandSegmentGroup(I,Se,ye,Y).pipe((0,pt.U)(Je=>({segment:Je,outlet:Y})))}),(0,Ht.R)((Y,ye)=>(Y[ye.outlet]=ye.segment,Y),{}),function He(M,I){const b=arguments.length>=2;return R=>R.pipe(M?(0,le.h)((U,Y)=>M(U,Y,R)):De.y,_e(1),b?(0,Oe.d)(I):(0,Ee.T)(()=>new st.K))}())}expandSegment(I,b,R,U,Y,ye){return(0,Ce.D)(R).pipe((0,Kt.b)(Se=>this.expandSegmentAgainstRoute(I,b,R,Se,U,Y,ye).pipe(Nt(cn=>{if(cn instanceof N)return(0,xe.of)(null);throw cn}))),(0,nn.P)(Se=>!!Se),Nt((Se,Je)=>{if(Se instanceof st.K||"EmptyError"===Se.name){if(y(b,U,Y))return(0,xe.of)(new B([],{}));throw new N(b)}throw Se}))}expandSegmentAgainstRoute(I,b,R,U,Y,ye,Se){return E(U,b,Y,ye)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(I,b,U,Y,ye):Se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,b,R,U,Y,ye):Ze(b):Ze(b)}expandSegmentAgainstRouteUsingRedirect(I,b,R,U,Y,ye){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,R,U,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(I,b,R,U,Y,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,b,R,U){const Y=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?bt(Y):this.lineralizeSegments(R,Y).pipe((0,ct.z)(ye=>{const Se=new B(ye,{});return this.expandSegment(I,Se,b,ye,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,b,R,U,Y,ye){const{matched:Se,consumedSegments:Je,lastChild:cn,positionalParamSegments:zn}=F(b,U,Y);if(!Se)return Ze(b);const An=this.applyRedirectCommands(Je,U.redirectTo,zn);return U.redirectTo.startsWith("/")?bt(An):this.lineralizeSegments(U,An).pipe((0,ct.z)(_r=>this.expandSegment(I,b,R,_r.concat(Y.slice(cn)),ye,!1)))}matchSegmentAgainstRoute(I,b,R,U,Y){if("**"===R.path)return R.loadChildren?(R._loadedConfig?(0,xe.of)(R._loadedConfig):this.configLoader.load(I.injector,R)).pipe((0,pt.U)(_r=>(R._loadedConfig=_r,new B(U,{})))):(0,xe.of)(new B(U,{}));const{matched:ye,consumedSegments:Se,lastChild:Je}=F(b,R,U);if(!ye)return Ze(b);const cn=U.slice(Je);return this.getChildConfig(I,R,U).pipe((0,ct.z)(An=>{const _r=An.module,vn=An.routes,{segmentGroup:to,slicedSegments:xr}=te(b,Se,cn,vn),Ri=new B(to.segments,to.children);if(0===xr.length&&Ri.hasChildren())return this.expandChildren(_r,vn,Ri).pipe((0,pt.U)(_i=>new B(Se,_i)));if(0===vn.length&&0===xr.length)return(0,xe.of)(new B(Se,{}));const Ks=Or(R)===Y;return this.expandSegment(_r,Ri,vn,xr,Ks?zt:Y,!0).pipe((0,pt.U)(us=>new B(Se.concat(us.segments),us.children)))}))}getChildConfig(I,b,R){return b.children?(0,xe.of)(new Ti(b.children,I)):b.loadChildren?void 0!==b._loadedConfig?(0,xe.of)(b._loadedConfig):this.runCanLoadGuards(I.injector,b,R).pipe((0,ct.z)(U=>U?this.configLoader.load(I.injector,b).pipe((0,pt.U)(Y=>(b._loadedConfig=Y,Y))):function or(M){return new we.y(I=>I.error(kt(`Cannot load children because the guard of the route "path: '${M.path}'" returned false`)))}(b))):(0,xe.of)(new Ti([],I))}runCanLoadGuards(I,b,R){const U=b.canLoad;if(!U||0===U.length)return(0,xe.of)(!0);const Y=U.map(ye=>{const Se=I.get(ye);let Je;if(function ys(M){return M&&Vr(M.canLoad)}(Se))Je=Se.canLoad(b,R);else{if(!Vr(Se))throw new Error("Invalid CanLoad guard");Je=Se(b,R)}return H(Je)});return(0,xe.of)(Y).pipe(Hr(),(0,dt.b)(ye=>{if(!gi(ye))return;const Se=kt(`Redirecting to "${this.urlSerializer.serialize(ye)}"`);throw Se.url=ye,Se}),(0,pt.U)(ye=>!0===ye))}lineralizeSegments(I,b){let R=[],U=b.root;for(;;){if(R=R.concat(U.segments),0===U.numberOfChildren)return(0,xe.of)(R);if(U.numberOfChildren>1||!U.children[zt])return St(I.redirectTo);U=U.children[zt]}}applyRedirectCommands(I,b,R){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),I,R)}applyRedirectCreatreUrlTree(I,b,R,U){const Y=this.createSegmentGroup(I,b.root,R,U);return new re(Y,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(I,b){const R={};return Xe(I,(U,Y)=>{if("string"==typeof U&&U.startsWith(":")){const Se=U.substring(1);R[Y]=b[Se]}else R[Y]=U}),R}createSegmentGroup(I,b,R,U){const Y=this.createSegments(I,b.segments,R,U);let ye={};return Xe(b.children,(Se,Je)=>{ye[Je]=this.createSegmentGroup(I,Se,R,U)}),new B(Y,ye)}createSegments(I,b,R,U){return b.map(Y=>Y.path.startsWith(":")?this.findPosParam(I,Y,U):this.findOrReturn(Y,R))}findPosParam(I,b,R){const U=R[b.path.substring(1)];if(!U)throw new Error(`Cannot redirect to '${I}'. Cannot find '${b.path}'.`);return U}findOrReturn(I,b){let R=0;for(const U of b){if(U.path===I.path)return b.splice(R),U;R++}return I}}function kn(M){const I={};for(const R of Object.keys(M.children)){const Y=kn(M.children[R]);(Y.segments.length>0||Y.hasChildren())&&(I[R]=Y)}return function ir(M){if(1===M.numberOfChildren&&M.children[zt]){const I=M.children[zt];return new B(M.segments.concat(I.segments),I.children)}return M}(new B(M.segments,I))}class os{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class At{constructor(I,b){this.component=I,this.route=b}}function Zn(M,I,b){const R=M._root;return $i(R,I?I._root:null,b,[R.value])}function Vn(M,I,b){const R=function $s(M){if(!M)return null;for(let I=M.parent;I;I=I.parent){const b=I.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(I);return(R?R.module.injector:b).get(M)}function $i(M,I,b,R,U={canDeactivateChecks:[],canActivateChecks:[]}){const Y=jr(I);return M.children.forEach(ye=>{(function Zs(M,I,b,R,U={canDeactivateChecks:[],canActivateChecks:[]}){const Y=M.value,ye=I?I.value:null,Se=b?b.getContext(M.value.outlet):null;if(ye&&Y.routeConfig===ye.routeConfig){const Je=function Yo(M,I,b){if("function"==typeof b)return b(M,I);switch(b){case"pathParamsChange":return!Ie(M.url,I.url);case"pathParamsOrQueryParamsChange":return!Ie(M.url,I.url)||!_n(M.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qr(M,I)||!_n(M.queryParams,I.queryParams);default:return!Qr(M,I)}}(ye,Y,Y.routeConfig.runGuardsAndResolvers);Je?U.canActivateChecks.push(new os(R)):(Y.data=ye.data,Y._resolvedData=ye._resolvedData),$i(M,I,Y.component?Se?Se.children:null:b,R,U),Je&&Se&&Se.outlet&&Se.outlet.isActivated&&U.canDeactivateChecks.push(new At(Se.outlet.component,ye))}else ye&&Lo(I,Se,U),U.canActivateChecks.push(new os(R)),$i(M,null,Y.component?Se?Se.children:null:b,R,U)})(ye,Y[ye.value.outlet],b,R.concat([ye.value]),U),delete Y[ye.value.outlet]}),Xe(Y,(ye,Se)=>Lo(ye,b.getContext(Se),U)),U}function Lo(M,I,b){const R=jr(M),U=M.value;Xe(R,(Y,ye)=>{Lo(Y,U.component?I?I.children.getContext(ye):null:I,b)}),b.canDeactivateChecks.push(new At(U.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,U))}class mi{}function Oo(M){return new we.y(I=>I.error(M))}class lu{constructor(I,b,R,U,Y,ye){this.rootComponentType=I,this.config=b,this.urlTree=R,this.url=U,this.paramsInheritanceStrategy=Y,this.relativeLinkResolution=ye}recognize(){const I=te(this.urlTree.root,[],[],this.config.filter(ye=>void 0===ye.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,I,zt);if(null===b)return null;const R=new Ut([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new ti(R,b),Y=new sn(this.url,U);return this.inheritParamsAndData(Y._root),Y}inheritParamsAndData(I){const b=I.value,R=Ke(b,this.paramsInheritanceStrategy);b.params=Object.freeze(R.params),b.data=Object.freeze(R.data),I.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(I,b,R){return 0===b.segments.length&&b.hasChildren()?this.processChildren(I,b):this.processSegment(I,b,b.segments,R)}processChildren(I,b){const R=[];for(const Y of Object.keys(b.children)){const ye=b.children[Y],Se=P(I,Y),Je=this.processSegmentGroup(Se,ye,Y);if(null===Je)return null;R.push(...Je)}const U=Uo(R);return function Hs(M){M.sort((I,b)=>I.value.outlet===zt?-1:b.value.outlet===zt?1:I.value.outlet.localeCompare(b.value.outlet))}(U),U}processSegment(I,b,R,U){for(const Y of I){const ye=this.processSegmentAgainstRoute(Y,b,R,U);if(null!==ye)return ye}return y(b,R,U)?[]:null}processSegmentAgainstRoute(I,b,R,U){if(I.redirectTo||!E(I,b,R,U))return null;let Y,ye=[],Se=[];if("**"===I.path){const vn=R.length>0?jn(R).parameters:{};Y=new Ut(R,vn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gs(I),Or(I),I.component,I,Ms(b),vs(b)+R.length,Xo(I))}else{const vn=F(b,I,R);if(!vn.matched)return null;ye=vn.consumedSegments,Se=R.slice(vn.lastChild),Y=new Ut(ye,vn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gs(I),Or(I),I.component,I,Ms(b),vs(b)+ye.length,Xo(I))}const Je=function Ia(M){return M.children?M.children:M.loadChildren?M._loadedConfig.routes:[]}(I),{segmentGroup:cn,slicedSegments:zn}=te(b,ye,Se,Je.filter(vn=>void 0===vn.redirectTo),this.relativeLinkResolution);if(0===zn.length&&cn.hasChildren()){const vn=this.processChildren(Je,cn);return null===vn?null:[new ti(Y,vn)]}if(0===Je.length&&0===zn.length)return[new ti(Y,[])];const An=Or(I)===U,_r=this.processSegment(Je,cn,zn,An?zt:U);return null===_r?null:[new ti(Y,_r)]}}function as(M){const I=M.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Uo(M){const I=[],b=new Set;for(const R of M){if(!as(R)){I.push(R);continue}const U=I.find(Y=>R.value.routeConfig===Y.value.routeConfig);void 0!==U?(U.children.push(...R.children),b.add(U)):I.push(R)}for(const R of b){const U=Uo(R.children);I.push(new ti(R.value,U))}return I.filter(R=>!b.has(R))}function Ms(M){let I=M;for(;I._sourceSegment;)I=I._sourceSegment;return I}function vs(M){let I=M,b=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,b+=I._segmentIndexShift?I._segmentIndexShift:0;return b-1}function Gs(M){return M.data||{}}function Xo(M){return M.resolve||{}}function ta(M){return(0,xt.w)(I=>{const b=M(I);return b?(0,Ce.D)(b).pipe((0,pt.U)(()=>I)):(0,xe.of)(I)})}class Jr extends class Js{shouldDetach(I){return!1}store(I,b){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,b){return I.routeConfig===b.routeConfig}}{}const Ki=new c.OlP("ROUTES");class Ha{constructor(I,b,R,U){this.injector=I,this.compiler=b,this.onLoadStartListener=R,this.onLoadEndListener=U}load(I,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const U=this.loadModuleFactory(b.loadChildren).pipe((0,pt.U)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(b);const ye=Y.create(I);return new Ti(Qn(ye.injector.get(Ki,void 0,c.XFs.Self|c.XFs.Optional)).map(Bi),ye)}),Nt(Y=>{throw b._loader$=void 0,Y}));return b._loader$=new We(U,()=>new w.x).pipe(mt()),b._loader$}loadModuleFactory(I){return H(I()).pipe((0,ct.z)(b=>b instanceof c.YKP?(0,xe.of)(b):(0,Ce.D)(this.compiler.compileModuleAsync(b))))}}class Os{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,b){return I}}function Al(M){throw M}function Sl(M,I,b){return I.parse("/")}function qi(M,I){return(0,xe.of)(null)}const Es={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yi=(()=>{class M{constructor(b,R,U,Y,ye,Se,Je){this.rootComponentType=b,this.urlSerializer=R,this.rootContexts=U,this.location=Y,this.config=Je,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new w.x,this.errorHandler=Al,this.malformedUriErrorHandler=Sl,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qi,afterPreactivation:qi},this.urlHandlingStrategy=new Os,this.routeReuseStrategy=new Jr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ye.get(c.h0i),this.console=ye.get(c.c2e);const An=ye.get(c.R0b);this.isNgZoneEnabled=An instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(Je),this.currentUrlTree=function Q(){return new re(new B([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ha(ye,Se,_r=>this.triggerEvent(new rn(_r)),_r=>this.triggerEvent(new Ln(_r))),this.routerState=Mr(this.currentUrlTree,this.rootComponentType),this.transitions=new z({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const R=this.events;return b.pipe((0,le.h)(U=>0!==U.id),(0,pt.U)(U=>Object.assign(Object.assign({},U),{extractedUrl:this.urlHandlingStrategy.extract(U.rawUrl)})),(0,xt.w)(U=>{let Y=!1,ye=!1;return(0,xe.of)(U).pipe((0,dt.b)(Se=>{this.currentNavigation={id:Se.id,initialUrl:Se.currentRawUrl,extractedUrl:Se.extractedUrl,trigger:Se.source,extras:Se.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,xt.w)(Se=>{const Je=this.browserUrlTree.toString(),cn=!this.navigated||Se.extractedUrl.toString()!==Je||Je!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||cn)&&this.urlHandlingStrategy.shouldProcessUrl(Se.rawUrl))return ra(Se.source)&&(this.browserUrlTree=Se.extractedUrl),(0,xe.of)(Se).pipe((0,xt.w)(An=>{const _r=this.transitions.getValue();return R.next(new en(An.id,this.serializeUrl(An.extractedUrl),An.source,An.restoredState)),_r!==this.transitions.getValue()?Ne.E:Promise.resolve(An)}),function ji(M,I,b,R){return(0,xt.w)(U=>function Tr(M,I,b,R,U){return new ar(M,I,b,R,U).apply()}(M,I,b,U.extractedUrl,R).pipe((0,pt.U)(Y=>Object.assign(Object.assign({},U),{urlAfterRedirects:Y}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,dt.b)(An=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:An.urlAfterRedirects})}),function ea(M,I,b,R,U){return(0,ct.z)(Y=>function xo(M,I,b,R,U="emptyOnly",Y="legacy"){try{const ye=new lu(M,I,b,R,U,Y).recognize();return null===ye?Oo(new mi):(0,xe.of)(ye)}catch(ye){return Oo(ye)}}(M,I,Y.urlAfterRedirects,b(Y.urlAfterRedirects),R,U).pipe((0,pt.U)(ye=>Object.assign(Object.assign({},Y),{targetSnapshot:ye}))))}(this.rootComponentType,this.config,An=>this.serializeUrl(An),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,dt.b)(An=>{if("eager"===this.urlUpdateStrategy){if(!An.extras.skipLocationChange){const vn=this.urlHandlingStrategy.merge(An.urlAfterRedirects,An.rawUrl);this.setBrowserUrl(vn,An)}this.browserUrlTree=An.urlAfterRedirects}const _r=new sr(An.id,this.serializeUrl(An.extractedUrl),this.serializeUrl(An.urlAfterRedirects),An.targetSnapshot);R.next(_r)}));if(cn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:_r,extractedUrl:vn,source:to,restoredState:xr,extras:Ri}=Se,Ks=new en(_r,this.serializeUrl(vn),to,xr);R.next(Ks);const Ur=Mr(vn,this.rootComponentType).snapshot;return(0,xe.of)(Object.assign(Object.assign({},Se),{targetSnapshot:Ur,urlAfterRedirects:vn,extras:Object.assign(Object.assign({},Ri),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Se.rawUrl,Se.resolve(null),Ne.E}),ta(Se=>{const{targetSnapshot:Je,id:cn,extractedUrl:zn,rawUrl:An,extras:{skipLocationChange:_r,replaceUrl:vn}}=Se;return this.hooks.beforePreactivation(Je,{navigationId:cn,appliedUrlTree:zn,rawUrlTree:An,skipLocationChange:!!_r,replaceUrl:!!vn})}),(0,dt.b)(Se=>{const Je=new Sn(Se.id,this.serializeUrl(Se.extractedUrl),this.serializeUrl(Se.urlAfterRedirects),Se.targetSnapshot);this.triggerEvent(Je)}),(0,pt.U)(Se=>Object.assign(Object.assign({},Se),{guards:Zn(Se.targetSnapshot,Se.currentSnapshot,this.rootContexts)})),function uu(M,I){return(0,ct.z)(b=>{const{targetSnapshot:R,currentSnapshot:U,guards:{canActivateChecks:Y,canDeactivateChecks:ye}}=b;return 0===ye.length&&0===Y.length?(0,xe.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function Vo(M,I,b,R){return(0,Ce.D)(M).pipe((0,ct.z)(U=>function Mo(M,I,b,R,U){const Y=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,xe.of)(!0);const ye=Y.map(Se=>{const Je=Vn(Se,I,U);let cn;if(function _s(M){return M&&Vr(M.canDeactivate)}(Je))cn=H(Je.canDeactivate(M,I,b,R));else{if(!Vr(Je))throw new Error("Invalid CanDeactivate guard");cn=H(Je(M,I,b,R))}return cn.pipe((0,nn.P)())});return(0,xe.of)(ye).pipe(Hr())}(U.component,U.route,b,I,R)),(0,nn.P)(U=>!0!==U,!0))}(ye,R,U,M).pipe((0,ct.z)(Se=>Se&&function ns(M){return"boolean"==typeof M}(Se)?function $a(M,I,b,R){return(0,Ce.D)(I).pipe((0,Kt.b)(U=>(0,vt.z)(function ii(M,I){return null!==M&&I&&I(new Tn(M)),(0,xe.of)(!0)}(U.route.parent,R),function Qo(M,I){return null!==M&&I&&I(new Sr(M)),(0,xe.of)(!0)}(U.route,R),function Jo(M,I,b){const R=I[I.length-1],Y=I.slice(0,I.length-1).reverse().map(ye=>function js(M){const I=M.routeConfig?M.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:M,guards:I}:null}(ye)).filter(ye=>null!==ye).map(ye=>Pe(()=>{const Se=ye.guards.map(Je=>{const cn=Vn(Je,ye.node,b);let zn;if(function mr(M){return M&&Vr(M.canActivateChild)}(cn))zn=H(cn.canActivateChild(R,M));else{if(!Vr(cn))throw new Error("Invalid CanActivateChild guard");zn=H(cn(R,M))}return zn.pipe((0,nn.P)())});return(0,xe.of)(Se).pipe(Hr())}));return(0,xe.of)(Y).pipe(Hr())}(M,U.path,b),function di(M,I,b){const R=I.routeConfig?I.routeConfig.canActivate:null;if(!R||0===R.length)return(0,xe.of)(!0);const U=R.map(Y=>Pe(()=>{const ye=Vn(Y,I,b);let Se;if(function rs(M){return M&&Vr(M.canActivate)}(ye))Se=H(ye.canActivate(I,M));else{if(!Vr(ye))throw new Error("Invalid CanActivate guard");Se=H(ye(I,M))}return Se.pipe((0,nn.P)())}));return(0,xe.of)(U).pipe(Hr())}(M,U.route,b))),(0,nn.P)(U=>!0!==U,!0))}(R,Y,M,I):(0,xe.of)(Se)),(0,pt.U)(Se=>Object.assign(Object.assign({},b),{guardsResult:Se})))})}(this.ngModule.injector,Se=>this.triggerEvent(Se)),(0,dt.b)(Se=>{if(gi(Se.guardsResult)){const cn=kt(`Redirecting to "${this.serializeUrl(Se.guardsResult)}"`);throw cn.url=Se.guardsResult,cn}const Je=new an(Se.id,this.serializeUrl(Se.extractedUrl),this.serializeUrl(Se.urlAfterRedirects),Se.targetSnapshot,!!Se.guardsResult);this.triggerEvent(Je)}),(0,le.h)(Se=>!!Se.guardsResult||(this.restoreHistory(Se),this.cancelNavigationTransition(Se,""),!1)),ta(Se=>{if(Se.guards.canActivateChecks.length)return(0,xe.of)(Se).pipe((0,dt.b)(Je=>{const cn=new Jn(Je.id,this.serializeUrl(Je.extractedUrl),this.serializeUrl(Je.urlAfterRedirects),Je.targetSnapshot);this.triggerEvent(cn)}),(0,xt.w)(Je=>{let cn=!1;return(0,xe.of)(Je).pipe(function Ys(M,I){return(0,ct.z)(b=>{const{targetSnapshot:R,guards:{canActivateChecks:U}}=b;if(!U.length)return(0,xe.of)(b);let Y=0;return(0,Ce.D)(U).pipe((0,Kt.b)(ye=>function Bo(M,I,b,R){return function Qs(M,I,b,R){const U=Object.keys(M);if(0===U.length)return(0,xe.of)({});const Y={};return(0,Ce.D)(U).pipe((0,ct.z)(ye=>function ku(M,I,b,R){const U=Vn(M,I,R);return H(U.resolve?U.resolve(I,b):U(I,b))}(M[ye],I,b,R).pipe((0,dt.b)(Se=>{Y[ye]=Se}))),_e(1),(0,ct.z)(()=>Object.keys(Y).length===U.length?(0,xe.of)(Y):Ne.E))}(M._resolve,M,I,R).pipe((0,pt.U)(Y=>(M._resolvedData=Y,M.data=Object.assign(Object.assign({},M.data),Ke(M,b).resolve),null)))}(ye.route,R,M,I)),(0,dt.b)(()=>Y++),_e(1),(0,ct.z)(ye=>Y===U.length?(0,xe.of)(b):Ne.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,dt.b)({next:()=>cn=!0,complete:()=>{cn||(this.restoreHistory(Je),this.cancelNavigationTransition(Je,"At least one route resolver didn't emit any value."))}}))}),(0,dt.b)(Je=>{const cn=new Xn(Je.id,this.serializeUrl(Je.extractedUrl),this.serializeUrl(Je.urlAfterRedirects),Je.targetSnapshot);this.triggerEvent(cn)}))}),ta(Se=>{const{targetSnapshot:Je,id:cn,extractedUrl:zn,rawUrl:An,extras:{skipLocationChange:_r,replaceUrl:vn}}=Se;return this.hooks.afterPreactivation(Je,{navigationId:cn,appliedUrlTree:zn,rawUrlTree:An,skipLocationChange:!!_r,replaceUrl:!!vn})}),(0,pt.U)(Se=>{const Je=function Wr(M,I,b){const R=$r(M,I._root,b?b._root:void 0);return new gr(R,I)}(this.routeReuseStrategy,Se.targetSnapshot,Se.currentRouterState);return Object.assign(Object.assign({},Se),{targetRouterState:Je})}),(0,dt.b)(Se=>{this.currentUrlTree=Se.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Se.urlAfterRedirects,Se.rawUrl),this.routerState=Se.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Se.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Se),this.browserUrlTree=Se.urlAfterRedirects)}),((M,I,b)=>(0,pt.U)(R=>(new As(I,R.targetRouterState,R.currentRouterState,b).activate(M),R)))(this.rootContexts,this.routeReuseStrategy,Se=>this.triggerEvent(Se)),(0,dt.b)({next(){Y=!0},complete(){Y=!0}}),function me(M){return(0,at.e)((I,b)=>{try{I.subscribe(b)}finally{b.add(M)}})}(()=>{var Se;Y||ye||this.cancelNavigationTransition(U,`Navigation ID ${U.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Se=this.currentNavigation)||void 0===Se?void 0:Se.id)===U.id&&(this.currentNavigation=null)}),Nt(Se=>{if(ye=!0,function Bn(M){return M&&M[qt]}(Se)){const Je=gi(Se.url);Je||(this.navigated=!0,this.restoreHistory(U,!0));const cn=new dn(U.id,this.serializeUrl(U.extractedUrl),Se.message);R.next(cn),Je?setTimeout(()=>{const zn=this.urlHandlingStrategy.merge(Se.url,this.rawUrlTree),An={skipLocationChange:U.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ra(U.source)};this.scheduleNavigation(zn,"imperative",null,An,{resolve:U.resolve,reject:U.reject,promise:U.promise})},0):U.resolve(!1)}else{this.restoreHistory(U,!0);const Je=new rr(U.id,this.serializeUrl(U.extractedUrl),Se);R.next(Je);try{U.resolve(this.errorHandler(Se))}catch(cn){U.reject(cn)}}return Ne.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const R="popstate"===b.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{var U;const Y={replaceUrl:!0},ye=(null===(U=b.state)||void 0===U?void 0:U.navigationId)?b.state:null;if(ye){const Je=Object.assign({},ye);delete Je.navigationId,delete Je.\u0275routerPageId,0!==Object.keys(Je).length&&(Y.state=Je)}const Se=this.parseUrl(b.url);this.scheduleNavigation(Se,R,ye,Y)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){Bs(b),this.config=b.map(Bi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,R={}){const{relativeTo:U,queryParams:Y,fragment:ye,queryParamsHandling:Se,preserveFragment:Je}=R,cn=U||this.routerState.root,zn=Je?this.currentUrlTree.fragment:ye;let An=null;switch(Se){case"merge":An=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Y);break;case"preserve":An=this.currentUrlTree.queryParams;break;default:An=Y||null}return null!==An&&(An=this.removeEmptyProps(An)),function So(M,I,b,R,U){if(0===b.length)return Xi(I.root,I.root,I,R,U);const Y=function ho(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new gs(!0,0,M);let I=0,b=!1;const R=M.reduce((U,Y,ye)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const Se={};return Xe(Y.outlets,(Je,cn)=>{Se[cn]="string"==typeof Je?Je.split("/"):Je}),[...U,{outlets:Se}]}if(Y.segmentPath)return[...U,Y.segmentPath]}return"string"!=typeof Y?[...U,Y]:0===ye?(Y.split("/").forEach((Se,Je)=>{0==Je&&"."===Se||(0==Je&&""===Se?b=!0:".."===Se?I++:""!=Se&&U.push(Se))}),U):[...U,Y]},[]);return new gs(b,I,R)}(b);if(Y.toRoot())return Xi(I.root,new B([],{}),I,R,U);const ye=function fo(M,I,b){if(M.isAbsolute)return new Cs(I.root,!0,0);if(-1===b.snapshot._lastPathIndex){const Y=b.snapshot._urlSegment;return new Cs(Y,Y===I.root,0)}const R=li(M.commands[0])?0:1;return function Fs(M,I,b){let R=M,U=I,Y=b;for(;Y>U;){if(Y-=U,R=R.parent,!R)throw new Error("Invalid number of '../'");U=R.segments.length}return new Cs(R,!1,U-Y)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+R,M.numberOfDoubleDots)}(Y,I,M),Se=ye.processChildren?ts(ye.segmentGroup,ye.index,Y.commands):bi(ye.segmentGroup,ye.index,Y.commands);return Xi(ye.segmentGroup,Se,I,R,U)}(cn,this.currentUrlTree,b,An,null!=zn?zn:null)}navigateByUrl(b,R={skipLocationChange:!1}){const U=gi(b)?b:this.parseUrl(b),Y=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(Y,"imperative",null,R)}navigate(b,R={skipLocationChange:!1}){return function Fu(M){for(let I=0;I<M.length;I++){const b=M[I];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${I}`)}}(b),this.navigateByUrl(this.createUrlTree(b,R),R)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let R;try{R=this.urlSerializer.parse(b)}catch(U){R=this.malformedUriErrorHandler(U,this.urlSerializer,b)}return R}isActive(b,R){let U;if(U=!0===R?Object.assign({},Es):!1===R?Object.assign({},jo):R,gi(b))return qe(this.currentUrlTree,b,U);const Y=this.parseUrl(b);return qe(this.currentUrlTree,Y,U)}removeEmptyProps(b){return Object.keys(b).reduce((R,U)=>{const Y=b[U];return null!=Y&&(R[U]=Y),R},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new En(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,R,U,Y,ye){var Se,Je,cn;if(this.disposed)return Promise.resolve(!1);const zn=this.transitions.value,An=ra(R)&&zn&&!ra(zn.source),_r=zn.rawUrl.toString()===b.toString(),vn=zn.id===(null===(Se=this.currentNavigation)||void 0===Se?void 0:Se.id);if(An&&_r&&vn)return Promise.resolve(!0);let xr,Ri,Ks;ye?(xr=ye.resolve,Ri=ye.reject,Ks=ye.promise):Ks=new Promise((_i,zr)=>{xr=_i,Ri=zr});const Ur=++this.navigationId;let us;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(U=this.location.getState()),us=U&&U.\u0275routerPageId?U.\u0275routerPageId:Y.replaceUrl||Y.skipLocationChange?null!==(Je=this.browserPageId)&&void 0!==Je?Je:0:(null!==(cn=this.browserPageId)&&void 0!==cn?cn:0)+1):us=0,this.setTransition({id:Ur,targetPageId:us,source:R,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:Y,resolve:xr,reject:Ri,promise:Ks,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ks.catch(_i=>Promise.reject(_i))}setBrowserUrl(b,R){const U=this.urlSerializer.serialize(b),Y=Object.assign(Object.assign({},R.extras.state),this.generateNgRouterState(R.id,R.targetPageId));this.location.isCurrentPathEqualTo(U)||R.extras.replaceUrl?this.location.replaceState(U,"",Y):this.location.go(U,"",Y)}restoreHistory(b,R=!1){var U,Y;if("computed"===this.canceledNavigationResolution){const ye=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(U=this.currentNavigation)||void 0===U?void 0:U.finalUrl)||0===ye?this.currentUrlTree===(null===(Y=this.currentNavigation)||void 0===Y?void 0:Y.finalUrl)&&0===ye&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ye)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,R){const U=new dn(b.id,this.serializeUrl(b.extractedUrl),R);this.triggerEvent(U),b.resolve(!1)}generateNgRouterState(b,R){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:R}:{navigationId:b}}}return M.\u0275fac=function(b){c.$Z()},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac}),M})();function ra(M){return"imperative"!==M}let xs=(()=>{class M{constructor(b,R,U,Y,ye){this.router=b,this.route=R,this.tabIndexAttribute=U,this.renderer=Y,this.el=ye,this.commands=null,this.onChanges=new w.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){if(null!=this.tabIndexAttribute)return;const R=this.renderer,U=this.el.nativeElement;null!==b?R.setAttribute(U,"tabindex",b):R.removeAttribute(U,"tabindex")}ngOnChanges(b){this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const b={skipLocationChange:zs(this.skipLocationChange),replaceUrl:zs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zs(this.preserveFragment)})}}return M.\u0275fac=function(b){return new(b||M)(c.Y36(yi),c.Y36(Re),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},M.\u0275dir=c.lG2({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,R){1&b&&c.NdJ("click",function(){return R.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),M})(),Xs=(()=>{class M{constructor(b,R,U){this.router=b,this.route=R,this.locationStrategy=U,this.commands=null,this.href=null,this.onChanges=new w.x,this.subscription=b.events.subscribe(Y=>{Y instanceof En&&this.updateTargetUrlAndHref()})}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:null}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,R,U,Y,ye){if(0!==b||R||U||Y||ye||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Se={skipLocationChange:zs(this.skipLocationChange),replaceUrl:zs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Se),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zs(this.preserveFragment)})}}return M.\u0275fac=function(b){return new(b||M)(c.Y36(yi),c.Y36(Re),c.Y36(ze.S$))},M.\u0275dir=c.lG2({type:M,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,R){1&b&&c.NdJ("click",function(Y){return R.onClick(Y.button,Y.ctrlKey,Y.shiftKey,Y.altKey,Y.metaKey)}),2&b&&c.uIk("target",R.target)("href",R.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),M})();function zs(M){return""===M||!!M}let Lu=(()=>{class M{constructor(b,R,U,Y,ye,Se){this.router=b,this.element=R,this.renderer=U,this.cdr=Y,this.link=ye,this.linkWithHref=Se,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=b.events.subscribe(Je=>{Je instanceof En&&this.update()})}ngAfterContentInit(){(0,xe.of)(this.links.changes,this.linksWithHrefs.changes,(0,xe.of)(null)).pipe((0,Ae.J)()).subscribe(b=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var b;null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe();const R=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(U=>!!U).map(U=>U.onChanges);this.linkInputChangesSubscription=(0,Ce.D)(R).pipe((0,Ae.J)()).subscribe(U=>{this.isActive!==this.isLinkActive(this.router)(U)&&this.update()})}set routerLinkActive(b){const R=Array.isArray(b)?b:b.split(" ");this.classes=R.filter(U=>!!U)}ngOnChanges(b){this.update()}ngOnDestroy(){var b;this.routerEventsSubscription.unsubscribe(),null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const b=this.hasActiveLinks();this.isActive!==b&&(this.isActive=b,this.cdr.markForCheck(),this.classes.forEach(R=>{b?this.renderer.addClass(this.element.nativeElement,R):this.renderer.removeClass(this.element.nativeElement,R)}),this.isActiveChange.emit(b))})}isLinkActive(b){const R=function go(M){return!!M.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return U=>!!U.urlTree&&b.isActive(U.urlTree,R)}hasActiveLinks(){const b=this.isLinkActive(this.router);return this.link&&b(this.link)||this.linkWithHref&&b(this.linkWithHref)||this.links.some(b)||this.linksWithHrefs.some(b)}}return M.\u0275fac=function(b){return new(b||M)(c.Y36(yi),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(xs,8),c.Y36(Xs,8))},M.\u0275dir=c.lG2({type:M,selectors:[["","routerLinkActive",""]],contentQueries:function(b,R,U){if(1&b&&(c.Suo(U,xs,5),c.Suo(U,Xs,5)),2&b){let Y;c.iGM(Y=c.CRH())&&(R.links=Y),c.iGM(Y=c.CRH())&&(R.linksWithHrefs=Y)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.TTD]}),M})();class oi{}class yo{preload(I,b){return(0,xe.of)(null)}}let _o=(()=>{class M{constructor(b,R,U,Y){this.router=b,this.injector=U,this.preloadingStrategy=Y,this.loader=new Ha(U,R,Je=>b.triggerEvent(new rn(Je)),Je=>b.triggerEvent(new Ln(Je)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,le.h)(b=>b instanceof En),(0,Kt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(c.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,R){const U=[];for(const Y of R)if(Y.loadChildren&&!Y.canLoad&&Y._loadedConfig){const ye=Y._loadedConfig;U.push(this.processRoutes(ye.module,ye.routes))}else Y.loadChildren&&!Y.canLoad?U.push(this.preloadConfig(b,Y)):Y.children&&U.push(this.processRoutes(b,Y.children));return(0,Ce.D)(U).pipe((0,Ae.J)(),(0,pt.U)(Y=>{}))}preloadConfig(b,R){return this.preloadingStrategy.preload(R,()=>(R._loadedConfig?(0,xe.of)(R._loadedConfig):this.loader.load(b.injector,R)).pipe((0,ct.z)(Y=>(R._loadedConfig=Y,this.processRoutes(Y.module,Y.routes)))))}}return M.\u0275fac=function(b){return new(b||M)(c.LFG(yi),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(oi))},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac}),M})(),cu=(()=>{class M{constructor(b,R,U={}){this.router=b,this.viewportScroller=R,this.options=U,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},U.scrollPositionRestoration=U.scrollPositionRestoration||"disabled",U.anchorScrolling=U.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof en?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof En&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof $n&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,R){this.router.triggerEvent(new $n(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return M.\u0275fac=function(b){c.$Z()},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac}),M})();const Fr=new c.OlP("ROUTER_CONFIGURATION"),eo=new c.OlP("ROUTER_FORROOT_GUARD"),ia=[ze.Ye,{provide:Et,useClass:Gt},{provide:yi,useFactory:function Xr(M,I,b,R,U,Y,ye={},Se,Je){const cn=new yi(null,M,I,b,R,U,Qn(Y));return Se&&(cn.urlHandlingStrategy=Se),Je&&(cn.routeReuseStrategy=Je),function oa(M,I){M.errorHandler&&(I.errorHandler=M.errorHandler),M.malformedUriErrorHandler&&(I.malformedUriErrorHandler=M.malformedUriErrorHandler),M.onSameUrlNavigation&&(I.onSameUrlNavigation=M.onSameUrlNavigation),M.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=M.paramsInheritanceStrategy),M.relativeLinkResolution&&(I.relativeLinkResolution=M.relativeLinkResolution),M.urlUpdateStrategy&&(I.urlUpdateStrategy=M.urlUpdateStrategy),M.canceledNavigationResolution&&(I.canceledNavigationResolution=M.canceledNavigationResolution)}(ye,cn),ye.enableTracing&&cn.events.subscribe(zn=>{var An,_r;null===(An=console.group)||void 0===An||An.call(console,`Router Event: ${zn.constructor.name}`),console.log(zn.toString()),console.log(zn),null===(_r=console.groupEnd)||void 0===_r||_r.call(console)}),cn},deps:[Et,is,ze.Ye,c.zs3,c.Sil,Ki,Fr,[class na{},new c.FiY],[class si{},new c.FiY]]},is,{provide:Re,useFactory:function Vu(M){return M.routerState.root},deps:[yi]},_o,yo,class mo{preload(I,b){return b().pipe(Nt(()=>(0,xe.of)(null)))}},{provide:Fr,useValue:{enableTracing:!1}}];function yn(){return new c.PXZ("Router",yi)}let Un=(()=>{class M{constructor(b,R){}static forRoot(b,R){return{ngModule:M,providers:[ia,Ot(b),{provide:eo,useFactory:ht,deps:[[yi,new c.FiY,new c.tp0]]},{provide:Fr,useValue:R||{}},{provide:ze.S$,useFactory:$t,deps:[ze.lw,[new c.tBr(ze.mr),new c.FiY],Fr]},{provide:cu,useFactory:sa,deps:[yi,ze.EM,Fr]},{provide:oi,useExisting:R&&R.preloadingStrategy?R.preloadingStrategy:yo},{provide:c.PXZ,multi:!0,useFactory:yn},[Da,{provide:c.ip1,multi:!0,useFactory:Uu,deps:[Da]},{provide:Ws,useFactory:cc,deps:[Da]},{provide:c.tb,multi:!0,useExisting:Ws}]]}}static forChild(b){return{ngModule:M,providers:[Ot(b)]}}}return M.\u0275fac=function(b){return new(b||M)(c.LFG(eo,8),c.LFG(yi,8))},M.\u0275mod=c.oAB({type:M}),M.\u0275inj=c.cJS({}),M})();function sa(M,I,b){return b.scrollOffset&&I.setOffset(b.scrollOffset),new cu(M,I,b)}function $t(M,I,b={}){return b.useHash?new ze.Do(M,I):new ze.b0(M,I)}function ht(M){return"guarded"}function Ot(M){return[{provide:c.deG,multi:!0,useValue:M},{provide:Ki,multi:!0,useValue:M}]}let Da=(()=>{class M{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new w.x}appInitializer(){return this.injector.get(ze.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let R=null;const U=new Promise(Se=>R=Se),Y=this.injector.get(yi),ye=this.injector.get(Fr);return"disabled"===ye.initialNavigation?(Y.setUpLocationChangeListener(),R(!0)):"enabled"===ye.initialNavigation||"enabledBlocking"===ye.initialNavigation?(Y.hooks.afterPreactivation=()=>this.initNavigation?(0,xe.of)(null):(this.initNavigation=!0,R(!0),this.resultOfPreactivationDone),Y.initialNavigation()):R(!0),U})}bootstrapListener(b){const R=this.injector.get(Fr),U=this.injector.get(_o),Y=this.injector.get(cu),ye=this.injector.get(yi),Se=this.injector.get(c.z2F);b===Se.components[0]&&(("enabledNonBlocking"===R.initialNavigation||void 0===R.initialNavigation)&&ye.initialNavigation(),U.setUpPreloading(),Y.init(),ye.resetRootComponentType(Se.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return M.\u0275fac=function(b){return new(b||M)(c.LFG(c.zs3))},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac}),M})();function Uu(M){return M.appInitializer.bind(M)}function cc(M){return M.bootstrapListener.bind(M)}const Ws=new c.OlP("Router Initializer")},579:(Qt,et,L)=>{L.d(et,{EI:()=>In,Gb:()=>pr,Iv:()=>Qn,Kz:()=>Xe,Xd:()=>Xn,lT:()=>Yn,xP:()=>jn});var c=L(5861),w=L(9681),z=L(1877),we=L(2090),Te=L(4859);L(2833);const De="analytics",oe="firebase_id",fe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fe="https://www.googletagmanager.com/gtag/js",it=new z.Yd("@firebase/analytics");function tt(ge){return Promise.all(ge.map(qe=>qe.catch(lt=>lt)))}function wt(ge,qe){const lt=document.createElement("script");lt.src=`${Fe}?l=${ge}&id=${qe}`,lt.async=!0,document.head.appendChild(lt)}function Pe(ge,qe,lt,ue,ne,de){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(ge,qe,lt,ue,ne,de){const Ue=ue[ne];try{if(Ue)yield qe[Ue];else{const re=(yield tt(lt)).find(B=>B.measurementId===ne);re&&(yield qe[re.appId])}}catch(ee){it.error(ee)}ge("config",ne,de)})).apply(this,arguments)}function at(ge,qe,lt,ue,ne){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(ge,qe,lt,ue,ne){try{let de=[];if(ne&&ne.send_to){let Ue=ne.send_to;Array.isArray(Ue)||(Ue=[Ue]);const ee=yield tt(lt);for(const re of Ue){const B=ee.find(J=>J.measurementId===re),X=B&&qe[B.appId];if(!X){de=[];break}de.push(X)}}0===de.length&&(de=Object.values(qe)),yield Promise.all(de),ge("event",ue,ne||{})}catch(de){it.error(de)}})).apply(this,arguments)}function st(){const ge=window.document.getElementsByTagName("script");for(const qe of Object.values(ge))if(qe.src&&qe.src.includes(Fe))return qe;return null}const Ne=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ee=new class _e{constructor(qe={},lt=1e3){this.throttleMetadata=qe,this.intervalMillis=lt}getThrottleMetadata(qe){return this.throttleMetadata[qe]}setThrottleMetadata(qe,lt){this.throttleMetadata[qe]=lt}deleteThrottleMetadata(qe){delete this.throttleMetadata[qe]}};function Oe(ge){return new Headers({Accept:"application/json","x-goog-api-key":ge})}function He(ge){return me.apply(this,arguments)}function me(){return(me=(0,c.Z)(function*(ge){var qe;const{appId:lt,apiKey:ue}=ge,ne={method:"GET",headers:Oe(ue)},de=fe.replace("{app-id}",lt),Ue=yield fetch(de,ne);if(200!==Ue.status&&304!==Ue.status){let ee="";try{const re=yield Ue.json();(null===(qe=re.error)||void 0===qe?void 0:qe.message)&&(ee=re.error.message)}catch(re){}throw Ne.create("config-fetch-failed",{httpStatus:Ue.status,responseMessage:ee})}return Ue.json()})).apply(this,arguments)}function pt(ge){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(ge,qe=Ee,lt){const{appId:ue,apiKey:ne,measurementId:de}=ge.options;if(!ue)throw Ne.create("no-app-id");if(!ne){if(de)return{measurementId:de,appId:ue};throw Ne.create("no-api-key")}const Ue=qe.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ee=new nn;return setTimeout((0,c.Z)(function*(){ee.abort()}),void 0!==lt?lt:6e4),un({appId:ue,apiKey:ne,measurementId:de},Ue,ee,qe)})).apply(this,arguments)}function un(ge,qe,lt){return yt.apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*(ge,{throttleEndTimeMillis:qe,backoffCount:lt},ue,ne=Ee){const{appId:de,measurementId:Ue}=ge;try{yield Ht(ue,qe)}catch(ee){if(Ue)return it.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${ee.message}]`),{appId:de,measurementId:Ue};throw ee}try{const ee=yield He(ge);return ne.deleteThrottleMetadata(de),ee}catch(ee){if(!Kt(ee)){if(ne.deleteThrottleMetadata(de),Ue)return it.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${ee.message}]`),{appId:de,measurementId:Ue};throw ee}const re=503===Number(ee.customData.httpStatus)?(0,we.$s)(lt,ne.intervalMillis,30):(0,we.$s)(lt,ne.intervalMillis),B={throttleEndTimeMillis:Date.now()+re,backoffCount:lt+1};return ne.setThrottleMetadata(de,B),it.debug(`Calling attemptFetch again in ${re} millis`),un(ge,B,ue,ne)}})).apply(this,arguments)}function Ht(ge,qe){return new Promise((lt,ue)=>{const ne=Math.max(qe-Date.now(),0),de=setTimeout(lt,ne);ge.addEventListener(()=>{clearTimeout(de),ue(Ne.create("fetch-throttle",{throttleEndTimeMillis:qe}))})})}function Kt(ge){if(!(ge instanceof we.ZR&&ge.customData))return!1;const qe=Number(ge.customData.httpStatus);return 429===qe||500===qe||503===qe||504===qe}class nn{constructor(){this.listeners=[]}addEventListener(qe){this.listeners.push(qe)}abort(){this.listeners.forEach(qe=>qe())}}function ct(){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(){if(!(0,we.hl)())return it.warn(Ne.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(ge){return it.warn(Ne.create("indexeddb-unavailable",{errorInfo:ge}).message),!1}return!0})).apply(this,arguments)}function ze(){return(ze=(0,c.Z)(function*(ge,qe,lt,ue,ne,de,Ue){var ee;const re=pt(ge);re.then(Qe=>{lt[Qe.measurementId]=Qe.appId,ge.options.measurementId&&Qe.measurementId!==ge.options.measurementId&&it.warn(`The measurement ID in the local Firebase config (${ge.options.measurementId}) does not match the measurement ID fetched from the server (${Qe.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qe=>it.error(Qe)),qe.push(re);const B=ct().then(Qe=>{if(Qe)return ue.getId()}),[X,J]=yield Promise.all([re,B]);st()||wt(de,X.measurementId),ne("js",new Date);const Ie=null!==(ee=null==Ue?void 0:Ue.config)&&void 0!==ee?ee:{};return Ie.origin="firebase",Ie.update=!0,null!=J&&(Ie[oe]=J),ne("config",X.measurementId,Ie),X.measurementId})).apply(this,arguments)}class It{constructor(qe){this.app=qe}_delete(){return delete en[this.app.options.appId],Promise.resolve()}}let en={},En=[];const dn={};let Sn,an,rr="dataLayer",sr="gtag",Jn=!1;function Xn(ge){if(Jn)throw Ne.create("already-initialized");ge.dataLayerName&&(rr=ge.dataLayerName),ge.gtagName&&(sr=ge.gtagName)}function Ln(ge,qe,lt){!function rn(){const ge=[];if((0,we.ru)()&&ge.push("This is a browser extension environment."),(0,we.zI)()||ge.push("Cookies are not available."),ge.length>0){const qe=ge.map((ue,ne)=>`(${ne+1}) ${ue}`).join(" "),lt=Ne.create("invalid-analytics-context",{errorInfo:qe});it.warn(lt.message)}}();const ue=ge.options.appId;if(!ue)throw Ne.create("no-app-id");if(!ge.options.apiKey){if(!ge.options.measurementId)throw Ne.create("no-api-key");it.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ge.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=en[ue])throw Ne.create("already-exists",{id:ue});if(!Jn){!function Tt(ge){let qe=[];Array.isArray(window[ge])?qe=window[ge]:window[ge]=qe}(rr);const{wrappedGtag:de,gtagCore:Ue}=function xe(ge,qe,lt,ue,ne){let de=function(...Ue){window[ue].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(de=window[ne]),window[ne]=function We(ge,qe,lt,ue){function de(){return(de=(0,c.Z)(function*(Ue,ee,re){try{"event"===Ue?yield at(ge,qe,lt,ee,re):"config"===Ue?yield Pe(ge,qe,lt,ue,ee,re):ge("set",ee)}catch(B){it.error(B)}})).apply(this,arguments)}return function ne(Ue,ee,re){return de.apply(this,arguments)}}(de,ge,qe,lt),{gtagCore:de,wrappedGtag:window[ne]}}(en,En,dn,rr,sr);an=de,Sn=Ue,Jn=!0}return en[ue]=function Ae(ge,qe,lt,ue,ne,de,Ue){return ze.apply(this,arguments)}(ge,En,dn,qe,Sn,rr,lt),new It(ge)}function On(){return(On=(0,c.Z)(function*(ge,qe,lt,ue,ne){if(ne&&ne.global)ge("event",lt,ue);else{const de=yield qe;ge("event",lt,Object.assign(Object.assign({},ue),{send_to:de}))}})).apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(ge,qe,lt,ue){if(ue&&ue.global)return ge("set",{screen_name:lt}),Promise.resolve();ge("config",yield qe,{update:!0,screen_name:lt})})).apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(ge,qe,lt,ue){if(ue&&ue.global)return ge("set",{user_id:lt}),Promise.resolve();ge("config",yield qe,{update:!0,user_id:lt})})).apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(ge,qe,lt,ue){if(ue&&ue.global){const ne={};for(const de of Object.keys(lt))ne[`user_properties.${de}`]=lt[de];return ge("set",ne),Promise.resolve()}ge("config",yield qe,{update:!0,user_properties:lt})})).apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(ge,qe){const lt=yield ge;window[`ga-disable-${lt}`]=!qe})).apply(this,arguments)}function pr(){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch(ge){return!1}})).apply(this,arguments)}function Yn(ge,qe,lt){ge=(0,we.m9)(ge),function Sr(ge,qe,lt,ue){return Cr.apply(this,arguments)}(an,en[ge.app.options.appId],qe,lt).catch(ue=>it.error(ue))}function Qn(ge,qe,lt){ge=(0,we.m9)(ge),function $n(ge,qe,lt,ue){return zt.apply(this,arguments)}(an,en[ge.app.options.appId],qe,lt).catch(ue=>it.error(ue))}function jn(ge,qe,lt){ge=(0,we.m9)(ge),function vr(ge,qe,lt,ue){return mn.apply(this,arguments)}(an,en[ge.app.options.appId],qe,lt).catch(ue=>it.error(ue))}function In(ge,qe){ge=(0,we.m9)(ge),function qt(ge,qe){return kt.apply(this,arguments)}(en[ge.app.options.appId],qe).catch(lt=>it.error(lt))}function Xe(ge,qe,lt,ue){ge=(0,we.m9)(ge),function Tn(ge,qe,lt,ue,ne){return On.apply(this,arguments)}(an,en[ge.app.options.appId],qe,lt,ue).catch(ne=>it.error(ne))}const H="@firebase/analytics",Q="0.7.8";!function $e(){(0,w._registerComponent)(new Te.wA(De,(qe,{options:lt})=>Ln(qe.getProvider("app").getImmediate(),qe.getProvider("installations-internal").getImmediate(),lt),"PUBLIC")),(0,w._registerComponent)(new Te.wA("analytics-internal",function ge(qe){try{const lt=qe.getProvider(De).getImmediate();return{logEvent:(ue,ne,de)=>Xe(lt,ue,ne,de)}}catch(lt){throw Ne.create("interop-component-reg-failed",{reason:lt})}},"PRIVATE")),(0,w.registerVersion)(H,Q),(0,w.registerVersion)(H,Q,"esm2017")}()},3942:(Qt,et,L)=>{L.d(et,{Z:()=>wt});var c=L(2090),w=L(4859),z=L(9681),we=L(1877);class Te{constructor(Pe,Ye){this._delegate=Pe,this.firebase=Ye,(0,z._addComponent)(Pe,new w.wA("app-compat",()=>this,"PUBLIC")),this.container=Pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this._delegate.automaticDataCollectionEnabled=Pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Pe=>{this._delegate.checkDestroyed(),Pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Pe,Ye=z._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(Pe);return!mt.isInitialized()&&"EXPLICIT"===(null===(at=mt.getComponent())||void 0===at?void 0:at.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Ye})}_removeServiceInstance(Pe,Ye=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Pe).clearInstance(Ye)}_addComponent(Pe){(0,z._addComponent)(this._delegate,Pe)}_addOrOverwriteComponent(Pe){(0,z._addOrOverwriteComponent)(this._delegate,Pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ie=function Me(){const Tt=function oe(Tt){const Pe={},Ye={__esModule:!0,initializeApp:function We(Ne,Nt={}){const le=z.initializeApp(Ne,Nt);if((0,c.r3)(Pe,le.name))return Pe[le.name];const _e=new Tt(le,Ye);return Pe[le.name]=_e,_e},app:mt,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function st(Ne){const Nt=Ne.name,le=Nt.replace("-compat","");if(z._registerComponent(Ne)&&"PUBLIC"===Ne.type){const _e=(Ee=mt())=>{if("function"!=typeof Ee[le])throw De.create("invalid-app-argument",{appName:Nt});return Ee[le]()};void 0!==Ne.serviceProps&&(0,c.ZB)(_e,Ne.serviceProps),Ye[le]=_e,Tt.prototype[le]=function(...Ee){return this._getService.bind(this,Nt).apply(this,Ne.multipleInstances?Ee:[])}}return"PUBLIC"===Ne.type?Ye[le]:null},removeApp:function at(Ne){delete Pe[Ne]},useAsService:function vt(Ne,Nt){return"serverAuth"===Nt?null:Nt},modularAPIs:z}};function mt(Ne){if(!(0,c.r3)(Pe,Ne=Ne||z._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:Ne});return Pe[Ne]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function xe(){return Object.keys(Pe).map(Ne=>Pe[Ne])}}),mt.App=Tt,Ye}(Te);return Tt.INTERNAL=Object.assign(Object.assign({},Tt.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function Pe(Ye){(0,c.ZB)(Tt,Ye)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Tt}(),fe=new we.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Tt=self.firebase.SDK_VERSION;Tt&&Tt.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const wt=ie;!function tt(Tt){(0,z.registerVersion)("@firebase/app-compat","0.1.23",Tt)}()},9681:(Qt,et,L)=>{L.r(et),L.d(et,{FirebaseError:()=>we.ZR,SDK_VERSION:()=>rr,_DEFAULT_ENTRY_NAME:()=>un,_addComponent:()=>nn,_addOrOverwriteComponent:()=>ct,_apps:()=>Ht,_clearComponents:()=>It,_components:()=>Kt,_getProvider:()=>Ae,_registerComponent:()=>dt,_removeServiceInstance:()=>ze,deleteApp:()=>Jn,getApp:()=>Sn,getApps:()=>an,initializeApp:()=>sr,onLog:()=>Ln,registerVersion:()=>rn,setLogLevel:()=>Tn});var c=L(5861),w=L(4859),z=L(1877),we=L(2090);class Te{constructor(Q){this.container=Q}getPlatformInfoString(){return this.container.getProviders().map($e=>{if(function Ce(H){const Q=H.getComponent();return"VERSION"===(null==Q?void 0:Q.type)}($e)){const ge=$e.getImmediate();return`${ge.library}/${ge.version}`}return null}).filter($e=>$e).join(" ")}}const De="@firebase/app",Me=new z.Yd("@firebase/app"),un="[DEFAULT]",yt={[De]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ht=new Map,Kt=new Map;function nn(H,Q){try{H.container.addComponent(Q)}catch($e){Me.debug(`Component ${Q.name} failed to register with FirebaseApp ${H.name}`,$e)}}function ct(H,Q){H.container.addOrOverwriteComponent(Q)}function dt(H){const Q=H.name;if(Kt.has(Q))return Me.debug(`There were multiple attempts to register component ${Q}.`),!1;Kt.set(Q,H);for(const $e of Ht.values())nn($e,H);return!0}function Ae(H,Q){const $e=H.container.getProvider("heartbeat").getImmediate({optional:!0});return $e&&$e.triggerHeartbeat(),H.container.getProvider(Q)}function ze(H,Q,$e=un){Ae(H,Q).clearInstance($e)}function It(){Kt.clear()}const En=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class dn{constructor(Q,$e,ge){this._isDeleted=!1,this._options=Object.assign({},Q),this._config=Object.assign({},$e),this._name=$e.name,this._automaticDataCollectionEnabled=$e.automaticDataCollectionEnabled,this._container=ge,this.container.addComponent(new w.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this.checkDestroyed(),this._automaticDataCollectionEnabled=Q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Q){this._isDeleted=Q}checkDestroyed(){if(this.isDeleted)throw En.create("app-deleted",{appName:this._name})}}const rr="9.7.0";function sr(H,Q={}){"object"!=typeof Q&&(Q={name:Q});const $e=Object.assign({name:un,automaticDataCollectionEnabled:!1},Q),ge=$e.name;if("string"!=typeof ge||!ge)throw En.create("bad-app-name",{appName:String(ge)});const qe=Ht.get(ge);if(qe){if((0,we.vZ)(H,qe.options)&&(0,we.vZ)($e,qe.config))return qe;throw En.create("duplicate-app",{appName:ge})}const lt=new w.H0(ge);for(const ne of Kt.values())lt.addComponent(ne);const ue=new dn(H,$e,lt);return Ht.set(ge,ue),ue}function Sn(H=un){const Q=Ht.get(H);if(!Q)throw En.create("no-app",{appName:H});return Q}function an(){return Array.from(Ht.values())}function Jn(H){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(H){const Q=H.name;Ht.has(Q)&&(Ht.delete(Q),yield Promise.all(H.container.getProviders().map($e=>$e.delete())),H.isDeleted=!0)})).apply(this,arguments)}function rn(H,Q,$e){var ge;let qe=null!==(ge=yt[H])&&void 0!==ge?ge:H;$e&&(qe+=`-${$e}`);const lt=qe.match(/\s|\//),ue=Q.match(/\s|\//);if(lt||ue){const ne=[`Unable to register library "${qe}" with version "${Q}":`];return lt&&ne.push(`library name "${qe}" contains illegal characters (whitespace or "/")`),lt&&ue&&ne.push("and"),ue&&ne.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void Me.warn(ne.join(" "))}dt(new w.wA(`${qe}-version`,()=>({library:qe,version:Q}),"VERSION"))}function Ln(H,Q){if(null!==H&&"function"!=typeof H)throw En.create("invalid-log-argument");(0,z.Am)(H,Q)}function Tn(H){(0,z.Ub)(H)}const Cr="firebase-heartbeat-store";let $n=null;function zt(){return $n||($n=(0,we.X3)("firebase-heartbeat-database",1,(H,Q)=>{0===Q&&H.createObjectStore(Cr)}).catch(H=>{throw En.create("storage-open",{originalErrorMessage:H.message})})),$n}function mn(){return(mn=(0,c.Z)(function*(H){try{return(yield zt()).transaction(Cr).objectStore(Cr).get(Bn(H))}catch(Q){throw En.create("storage-get",{originalErrorMessage:Q.message})}})).apply(this,arguments)}function qt(H,Q){return kt.apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(H,Q){try{const ge=(yield zt()).transaction(Cr,"readwrite");return yield ge.objectStore(Cr).put(Q,Bn(H)),ge.complete}catch($e){throw En.create("storage-set",{originalErrorMessage:$e.message})}})).apply(this,arguments)}function Bn(H){return`${H.name}!${H.options.appId}`}class _n{constructor(Q){this.container=Q,this._heartbeatsCache=null;const $e=this.container.getProvider("app").getImmediate();this._storage=new jn($e),this._heartbeatsCachePromise=this._storage.read().then(ge=>(this._heartbeatsCache=ge,ge))}triggerHeartbeat(){var Q=this;return(0,c.Z)(function*(){const ge=Q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qe=Yn();if(null===Q._heartbeatsCache&&(Q._heartbeatsCache=yield Q._heartbeatsCachePromise),Q._heartbeatsCache.lastSentHeartbeatDate!==qe&&!Q._heartbeatsCache.heartbeats.some(lt=>lt.date===qe))return Q._heartbeatsCache.heartbeats.push({date:qe,agent:ge}),Q._heartbeatsCache.heartbeats=Q._heartbeatsCache.heartbeats.filter(lt=>{const ue=new Date(lt.date).valueOf();return Date.now()-ue<=2592e6}),Q._storage.overwrite(Q._heartbeatsCache)})()}getHeartbeatsHeader(){var Q=this;return(0,c.Z)(function*(){if(null===Q._heartbeatsCache&&(yield Q._heartbeatsCachePromise),null===Q._heartbeatsCache||0===Q._heartbeatsCache.heartbeats.length)return"";const $e=Yn(),{heartbeatsToSend:ge,unsentEntries:qe}=function Qn(H,Q=1024){const $e=[];let ge=H.slice();for(const qe of H){const lt=$e.find(ue=>ue.agent===qe.agent);if(lt){if(lt.dates.push(qe.date),In($e)>Q){lt.dates.pop();break}}else if($e.push({agent:qe.agent,dates:[qe.date]}),In($e)>Q){$e.pop();break}ge=ge.slice(1)}return{heartbeatsToSend:$e,unsentEntries:ge}}(Q._heartbeatsCache.heartbeats),lt=(0,we.L)(JSON.stringify({version:2,heartbeats:ge}));return Q._heartbeatsCache.lastSentHeartbeatDate=$e,qe.length>0?(Q._heartbeatsCache.heartbeats=qe,yield Q._storage.overwrite(Q._heartbeatsCache)):(Q._heartbeatsCache.heartbeats=[],Q._storage.overwrite(Q._heartbeatsCache)),lt})()}}function Yn(){return(new Date).toISOString().substring(0,10)}class jn{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Q=this;return(0,c.Z)(function*(){return(yield Q._canUseIndexedDBPromise)&&(yield function vr(H){return mn.apply(this,arguments)}(Q.app))||{heartbeats:[]}})()}overwrite(Q){var $e=this;return(0,c.Z)(function*(){var ge;if(yield $e._canUseIndexedDBPromise){const lt=yield $e.read();return qt($e.app,{lastSentHeartbeatDate:null!==(ge=Q.lastSentHeartbeatDate)&&void 0!==ge?ge:lt.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}})()}add(Q){var $e=this;return(0,c.Z)(function*(){var ge;if(yield $e._canUseIndexedDBPromise){const lt=yield $e.read();return qt($e.app,{lastSentHeartbeatDate:null!==(ge=Q.lastSentHeartbeatDate)&&void 0!==ge?ge:lt.lastSentHeartbeatDate,heartbeats:[...lt.heartbeats,...Q.heartbeats]})}})()}}function In(H){return(0,we.L)(JSON.stringify({version:2,heartbeats:H})).length}!function Xe(H){dt(new w.wA("platform-logger",Q=>new Te(Q),"PRIVATE")),dt(new w.wA("heartbeat",Q=>new _n(Q),"PRIVATE")),rn(De,"0.7.22",H),rn(De,"0.7.22","esm2017"),rn("fire-js","")}("")},4859:(Qt,et,L)=>{L.d(et,{H0:()=>oe,wA:()=>z});var c=L(5861),w=L(2090);class z{constructor(ie,fe,Fe){this.name=ie,this.instanceFactory=fe,this.type=Fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const we="[DEFAULT]";class Te{constructor(ie,fe){this.name=ie,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const fe=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(fe)){const Fe=new w.BH;if(this.instancesDeferred.set(fe,Fe),this.isInitialized(fe)||this.shouldAutoInitialize())try{const it=this.getOrInitializeService({instanceIdentifier:fe});it&&Fe.resolve(it)}catch(it){}}return this.instancesDeferred.get(fe).promise}getImmediate(ie){var fe;const Fe=this.normalizeInstanceIdentifier(null==ie?void 0:ie.identifier),it=null!==(fe=null==ie?void 0:ie.optional)&&void 0!==fe&&fe;if(!this.isInitialized(Fe)&&!this.shouldAutoInitialize()){if(it)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Fe})}catch(tt){if(it)return null;throw tt}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function De(Me){return"EAGER"===Me.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:we})}catch(fe){}for(const[fe,Fe]of this.instancesDeferred.entries()){const it=this.normalizeInstanceIdentifier(fe);try{const tt=this.getOrInitializeService({instanceIdentifier:it});Fe.resolve(tt)}catch(tt){}}}}clearInstance(ie=we){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,c.Z)(function*(){const fe=Array.from(ie.instances.values());yield Promise.all([...fe.filter(Fe=>"INTERNAL"in Fe).map(Fe=>Fe.INTERNAL.delete()),...fe.filter(Fe=>"_delete"in Fe).map(Fe=>Fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=we){return this.instances.has(ie)}getOptions(ie=we){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:fe={}}=ie,Fe=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(Fe))throw Error(`${this.name}(${Fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const it=this.getOrInitializeService({instanceIdentifier:Fe,options:fe});for(const[tt,wt]of this.instancesDeferred.entries())Fe===this.normalizeInstanceIdentifier(tt)&&wt.resolve(it);return it}onInit(ie,fe){var Fe;const it=this.normalizeInstanceIdentifier(fe),tt=null!==(Fe=this.onInitCallbacks.get(it))&&void 0!==Fe?Fe:new Set;tt.add(ie),this.onInitCallbacks.set(it,tt);const wt=this.instances.get(it);return wt&&ie(wt,it),()=>{tt.delete(ie)}}invokeOnInitCallbacks(ie,fe){const Fe=this.onInitCallbacks.get(fe);if(Fe)for(const it of Fe)try{it(ie,fe)}catch(tt){}}getOrInitializeService({instanceIdentifier:ie,options:fe={}}){let Fe=this.instances.get(ie);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=ie,Me===we?void 0:Me),options:fe}),this.instances.set(ie,Fe),this.instancesOptions.set(ie,fe),this.invokeOnInitCallbacks(Fe,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,Fe)}catch(it){}var Me;return Fe||null}normalizeInstanceIdentifier(ie=we){return this.component?this.component.multipleInstances?ie:we:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const fe=this.getProvider(ie.name);if(fe.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);fe.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const fe=new Te(ie,this);return this.providers.set(ie,fe),fe}getProviders(){return Array.from(this.providers.values())}}},2833:(Qt,et,L)=>{var c=L(5861),w=L(9681),z=L(4859),we=L(2090);const Te="@firebase/installations",oe="w:0.5.8",Me="FIS_v2",wt=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(je){return je instanceof we.ZR&&je.code.includes("request-failed")}function Pe({projectId:je}){return`https://firebaseinstallations.googleapis.com/v1/projects/${je}/installations`}function Ye(je){return{token:je.token,requestStatus:2,expiresIn:Ne(je.expiresIn),creationTime:Date.now()}}function at(je,Le){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(je,Le){const Zt=(yield Le.json()).error;return wt.create("request-failed",{requestName:je,serverCode:Zt.code,serverMessage:Zt.message,serverStatus:Zt.status})})).apply(this,arguments)}function We({apiKey:je}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":je})}function xe(je,{refreshToken:Le}){const rt=We(je);return rt.append("Authorization",function Nt(je){return`${Me} ${je}`}(Le)),rt}function st(je){return vt.apply(this,arguments)}function vt(){return(vt=(0,c.Z)(function*(je){const Le=yield je();return Le.status>=500&&Le.status<600?je():Le})).apply(this,arguments)}function Ne(je){return Number(je.replace("s","000"))}function le(je,Le){return _e.apply(this,arguments)}function _e(){return(_e=(0,c.Z)(function*({appConfig:je,heartbeatServiceProvider:Le},{fid:rt}){const Zt=Pe(je),Nn=We(je),Rn=Le.getImmediate({optional:!0});if(Rn){const kr=yield Rn.getHeartbeatsHeader();kr&&Nn.append("x-firebase-client",kr)}const br={method:"POST",headers:Nn,body:JSON.stringify({fid:rt,authVersion:Me,appId:je.appId,sdkVersion:oe})},Gn=yield st(()=>fetch(Zt,br));if(Gn.ok){const kr=yield Gn.json();return{fid:kr.fid||rt,registrationStatus:2,refreshToken:kr.refreshToken,authToken:Ye(kr.authToken)}}throw yield at("Create Installation",Gn)})).apply(this,arguments)}function Ee(je){return new Promise(Le=>{setTimeout(Le,je)})}const He=/^[cdef][\w-]{21}$/;function pt(){try{const je=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(je),je[0]=112+je[0]%16;const rt=function xt(je){return function Oe(je){return btoa(String.fromCharCode(...je)).replace(/\+/g,"-").replace(/\//g,"_")}(je).substr(0,22)}(je);return He.test(rt)?rt:""}catch(je){return""}}function un(je){return`${je.appName}!${je.appId}`}const yt=new Map;function Ht(je,Le){const rt=un(je);ct(rt,Le),function dt(je,Le){const rt=function ze(){return!Ae&&"BroadcastChannel"in self&&(Ae=new BroadcastChannel("[Firebase] FID Change"),Ae.onmessage=je=>{ct(je.data.key,je.data.fid)}),Ae}();rt&&rt.postMessage({key:je,fid:Le}),function It(){0===yt.size&&Ae&&(Ae.close(),Ae=null)}()}(rt,Le)}function ct(je,Le){const rt=yt.get(je);if(rt)for(const Zt of rt)Zt(Le)}let Ae=null;const dn="firebase-installations-store";let rr=null;function sr(){return rr||(rr=(0,we.X3)("firebase-installations-database",1,(je,Le)=>{0===Le&&je.createObjectStore(dn)})),rr}function Sn(je,Le){return an.apply(this,arguments)}function an(){return(an=(0,c.Z)(function*(je,Le){const rt=un(je),Nn=(yield sr()).transaction(dn,"readwrite"),Rn=Nn.objectStore(dn),Hn=yield Rn.get(rt);return yield Rn.put(Le,rt),yield Nn.complete,(!Hn||Hn.fid!==Le.fid)&&Ht(je,Le.fid),Le})).apply(this,arguments)}function Jn(je){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(je){const Le=un(je),Zt=(yield sr()).transaction(dn,"readwrite");yield Zt.objectStore(dn).delete(Le),yield Zt.complete})).apply(this,arguments)}function rn(je,Le){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(je,Le){const rt=un(je),Nn=(yield sr()).transaction(dn,"readwrite"),Rn=Nn.objectStore(dn),Hn=yield Rn.get(rt),br=Le(Hn);return void 0===br?yield Rn.delete(rt):yield Rn.put(br,rt),yield Nn.complete,br&&(!Hn||Hn.fid!==br.fid)&&Ht(je,br.fid),br})).apply(this,arguments)}function Tn(je){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(je){let Le;const rt=yield rn(je.appConfig,Zt=>{const Nn=Sr(Zt),Rn=Cr(je,Nn);return Le=Rn.registrationPromise,Rn.installationEntry});return""===rt.fid?{installationEntry:yield Le}:{installationEntry:rt,registrationPromise:Le}})).apply(this,arguments)}function Sr(je){return kt(je||{fid:pt(),registrationStatus:0})}function Cr(je,Le){if(0===Le.registrationStatus){if(!navigator.onLine)return{installationEntry:Le,registrationPromise:Promise.reject(wt.create("app-offline"))};const rt={fid:Le.fid,registrationStatus:1,registrationTime:Date.now()},Zt=function $n(je,Le){return zt.apply(this,arguments)}(je,rt);return{installationEntry:rt,registrationPromise:Zt}}return 1===Le.registrationStatus?{installationEntry:Le,registrationPromise:vr(je)}:{installationEntry:Le}}function zt(){return(zt=(0,c.Z)(function*(je,Le){try{const rt=yield le(je,Le);return Sn(je.appConfig,rt)}catch(rt){throw Tt(rt)&&409===rt.customData.serverCode?yield Jn(je.appConfig):yield Sn(je.appConfig,{fid:Le.fid,registrationStatus:0}),rt}})).apply(this,arguments)}function vr(je){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(je){let Le=yield qt(je.appConfig);for(;1===Le.registrationStatus;)yield Ee(100),Le=yield qt(je.appConfig);if(0===Le.registrationStatus){const{installationEntry:rt,registrationPromise:Zt}=yield Tn(je);return Zt||rt}return Le})).apply(this,arguments)}function qt(je){return rn(je,Le=>{if(!Le)throw wt.create("installation-not-found");return kt(Le)})}function kt(je){return function Bn(je){return 1===je.registrationStatus&&je.registrationTime+1e4<Date.now()}(je)?{fid:je.fid,registrationStatus:0}:je}function Er(je,Le){return pr.apply(this,arguments)}function pr(){return(pr=(0,c.Z)(function*({appConfig:je,heartbeatServiceProvider:Le},rt){const Zt=_n(je,rt),Nn=xe(je,rt),Rn=Le.getImmediate({optional:!0});if(Rn){const kr=yield Rn.getHeartbeatsHeader();kr&&Nn.append("x-firebase-client",kr)}const br={method:"POST",headers:Nn,body:JSON.stringify({installation:{sdkVersion:oe,appId:je.appId}})},Gn=yield st(()=>fetch(Zt,br));if(Gn.ok)return Ye(yield Gn.json());throw yield at("Generate Auth Token",Gn)})).apply(this,arguments)}function _n(je,{fid:Le}){return`${Pe(je)}/${Le}/authTokens:generate`}function Yn(je){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(je,Le=!1){let rt;const Zt=yield rn(je.appConfig,Rn=>{if(!$e(Rn))throw wt.create("not-registered");const Hn=Rn.authToken;if(!Le&&ge(Hn))return Rn;if(1===Hn.requestStatus)return rt=jn(je,Le),Rn;{if(!navigator.onLine)throw wt.create("app-offline");const br=lt(Rn);return rt=H(je,br),br}});return rt?yield rt:Zt.authToken})).apply(this,arguments)}function jn(je,Le){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(je,Le){let rt=yield Xe(je.appConfig);for(;1===rt.authToken.requestStatus;)yield Ee(100),rt=yield Xe(je.appConfig);const Zt=rt.authToken;return 0===Zt.requestStatus?Yn(je,Le):Zt})).apply(this,arguments)}function Xe(je){return rn(je,Le=>{if(!$e(Le))throw wt.create("not-registered");return function ue(je){return 1===je.requestStatus&&je.requestTime+1e4<Date.now()}(Le.authToken)?Object.assign(Object.assign({},Le),{authToken:{requestStatus:0}}):Le})}function H(je,Le){return Q.apply(this,arguments)}function Q(){return(Q=(0,c.Z)(function*(je,Le){try{const rt=yield Er(je,Le),Zt=Object.assign(Object.assign({},Le),{authToken:rt});return yield Sn(je.appConfig,Zt),rt}catch(rt){if(!Tt(rt)||401!==rt.customData.serverCode&&404!==rt.customData.serverCode){const Zt=Object.assign(Object.assign({},Le),{authToken:{requestStatus:0}});yield Sn(je.appConfig,Zt)}else yield Jn(je.appConfig);throw rt}})).apply(this,arguments)}function $e(je){return void 0!==je&&2===je.registrationStatus}function ge(je){return 2===je.requestStatus&&!function qe(je){const Le=Date.now();return Le<je.creationTime||je.creationTime+je.expiresIn<Le+36e5}(je)}function lt(je){const Le={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},je),{authToken:Le})}function de(){return(de=(0,c.Z)(function*(je){const Le=je,{installationEntry:rt,registrationPromise:Zt}=yield Tn(Le);return Zt?Zt.catch(console.error):Yn(Le).catch(console.error),rt.fid})).apply(this,arguments)}function ee(){return(ee=(0,c.Z)(function*(je,Le=!1){const rt=je;return yield re(rt),(yield Yn(rt,Le)).token})).apply(this,arguments)}function re(je){return B.apply(this,arguments)}function B(){return(B=(0,c.Z)(function*(je){const{registrationPromise:Le}=yield Tn(je);Le&&(yield Le)})).apply(this,arguments)}function Dn(je){return wt.create("missing-app-config-values",{valueName:je})}const cr="installations",Yr=je=>{const Le=je.getProvider("app").getImmediate(),rt=function xn(je){if(!je||!je.options)throw Dn("App Configuration");if(!je.name)throw Dn("App Name");const Le=["projectId","apiKey","appId"];for(const rt of Le)if(!je.options[rt])throw Dn(rt);return{appName:je.name,projectId:je.options.projectId,apiKey:je.options.apiKey,appId:je.options.appId}}(Le);return{app:Le,appConfig:rt,heartbeatServiceProvider:(0,w._getProvider)(Le,"heartbeat"),_delete:()=>Promise.resolve()}},hr=je=>{const Le=je.getProvider("app").getImmediate(),rt=(0,w._getProvider)(Le,cr).getImmediate();return{getId:()=>function ne(je){return de.apply(this,arguments)}(rt),getToken:Nn=>function Ue(je){return ee.apply(this,arguments)}(rt,Nn)}};(function wr(){(0,w._registerComponent)(new z.wA(cr,Yr,"PUBLIC")),(0,w._registerComponent)(new z.wA("installations-internal",hr,"PRIVATE"))})(),(0,w.registerVersion)(Te,"0.5.8"),(0,w.registerVersion)(Te,"0.5.8","esm2017")},1877:(Qt,et,L)=>{L.d(et,{Am:()=>Me,Ub:()=>oe,Yd:()=>De,in:()=>w});const c=[];var w=(()=>{return(ie=w||(w={}))[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",w;var ie})();const z={debug:w.DEBUG,verbose:w.VERBOSE,info:w.INFO,warn:w.WARN,error:w.ERROR,silent:w.SILENT},we=w.INFO,Te={[w.DEBUG]:"log",[w.VERBOSE]:"log",[w.INFO]:"info",[w.WARN]:"warn",[w.ERROR]:"error"},Ce=(ie,fe,...Fe)=>{if(fe<ie.logLevel)return;const it=(new Date).toISOString(),tt=Te[fe];if(!tt)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[tt](`[${it}]  ${ie.name}:`,...Fe)};class De{constructor(fe){this.name=fe,this._logLevel=we,this._logHandler=Ce,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in w))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?z[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,w.DEBUG,...fe),this._logHandler(this,w.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,w.VERBOSE,...fe),this._logHandler(this,w.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,w.INFO,...fe),this._logHandler(this,w.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,w.WARN,...fe),this._logHandler(this,w.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,w.ERROR,...fe),this._logHandler(this,w.ERROR,...fe)}}function oe(ie){c.forEach(fe=>{fe.setLogLevel(ie)})}function Me(ie,fe){for(const Fe of c){let it=null;fe&&fe.level&&(it=z[fe.level]),Fe.userLogHandler=null===ie?null:(tt,wt,...Tt)=>{const Pe=Tt.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch(at){return null}}).filter(Ye=>Ye).join(" ");wt>=(null!=it?it:tt.logLevel)&&ie({level:w[wt].toLowerCase(),message:Pe,args:Tt,type:tt.name})}}}},2290:(Qt,et,L)=>{L.d(et,{Rh:()=>un,_W:()=>me});var c=L(5e3),w=L(1777),z=L(7579),we=L(9808),Te=L(2313);const Ce=["toast-component",""];function De(ct,dt){if(1&ct){const Ae=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){return c.CHM(Ae),c.oxw().remove()}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA(),c.qZA()}}function oe(ct,dt){if(1&ct&&(c.ynx(0),c._uU(1),c.BQk()),2&ct){const Ae=c.oxw(2);c.xp6(1),c.hij("[",Ae.duplicatesCount+1,"]")}}function Me(ct,dt){if(1&ct&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,oe,2,1,"ng-container",4),c.qZA()),2&ct){const Ae=c.oxw();c.Tol(Ae.options.titleClass),c.uIk("aria-label",Ae.title),c.xp6(1),c.hij(" ",Ae.title," "),c.xp6(1),c.Q6J("ngIf",Ae.duplicatesCount)}}function ie(ct,dt){if(1&ct&&c._UZ(0,"div",7),2&ct){const Ae=c.oxw();c.Tol(Ae.options.messageClass),c.Q6J("innerHTML",Ae.message,c.oJD)}}function fe(ct,dt){if(1&ct&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&ct){const Ae=c.oxw();c.Tol(Ae.options.messageClass),c.uIk("aria-label",Ae.message),c.xp6(1),c.hij(" ",Ae.message," ")}}function Fe(ct,dt){if(1&ct&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&ct){const Ae=c.oxw();c.xp6(1),c.Udp("width",Ae.width+"%")}}function it(ct,dt){if(1&ct){const Ae=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){return c.CHM(Ae),c.oxw().remove()}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA(),c.qZA()}}function tt(ct,dt){if(1&ct&&(c.ynx(0),c._uU(1),c.BQk()),2&ct){const Ae=c.oxw(2);c.xp6(1),c.hij("[",Ae.duplicatesCount+1,"]")}}function wt(ct,dt){if(1&ct&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,tt,2,1,"ng-container",4),c.qZA()),2&ct){const Ae=c.oxw();c.Tol(Ae.options.titleClass),c.uIk("aria-label",Ae.title),c.xp6(1),c.hij(" ",Ae.title," "),c.xp6(1),c.Q6J("ngIf",Ae.duplicatesCount)}}function Tt(ct,dt){if(1&ct&&c._UZ(0,"div",7),2&ct){const Ae=c.oxw();c.Tol(Ae.options.messageClass),c.Q6J("innerHTML",Ae.message,c.oJD)}}function Pe(ct,dt){if(1&ct&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&ct){const Ae=c.oxw();c.Tol(Ae.options.messageClass),c.uIk("aria-label",Ae.message),c.xp6(1),c.hij(" ",Ae.message," ")}}function Ye(ct,dt){if(1&ct&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&ct){const Ae=c.oxw();c.xp6(1),c.Udp("width",Ae.width+"%")}}class We{constructor(dt,Ae){this.component=dt,this.injector=Ae}attach(dt,Ae){return this._attachedHost=dt,dt.attach(this,Ae)}detach(){const dt=this._attachedHost;if(dt)return this._attachedHost=void 0,dt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(dt){this._attachedHost=dt}}class st{constructor(dt,Ae,ze,It,en,En){this.toastId=dt,this.config=Ae,this.message=ze,this.title=It,this.toastType=en,this.toastRef=En,this._onTap=new z.x,this._onAction=new z.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(dt){this._onAction.next(dt)}onAction(){return this._onAction.asObservable()}}const vt={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},Ne=new c.OlP("ToastConfig");class Nt{constructor(dt){this._overlayRef=dt,this.duplicatesCount=0,this._afterClosed=new z.x,this._activate=new z.x,this._manualClose=new z.x,this._resetTimeout=new z.x,this._countDuplicate=new z.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(dt,Ae){dt&&this._resetTimeout.next(),Ae&&this._countDuplicate.next(++this.duplicatesCount)}}class le{constructor(dt,Ae){this._toastPackage=dt,this._parentInjector=Ae}get(dt,Ae,ze){return dt===st?this._toastPackage:this._parentInjector.get(dt,Ae,ze)}}class _e extends class xe{attach(dt,Ae){return this._attachedPortal=dt,this.attachComponentPortal(dt,Ae)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(dt){this._disposeFn=dt}}{constructor(dt,Ae,ze){super(),this._hostDomElement=dt,this._componentFactoryResolver=Ae,this._appRef=ze}attachComponentPortal(dt,Ae){const ze=this._componentFactoryResolver.resolveComponentFactory(dt.component);let It;return It=ze.create(dt.injector),this._appRef.attachView(It.hostView),this.setDisposeFn(()=>{this._appRef.detachView(It.hostView),It.destroy()}),Ae?this._hostDomElement.insertBefore(this._getComponentRootNode(It),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(It)),It}_getComponentRootNode(dt){return dt.hostView.rootNodes[0]}}class Ee{constructor(dt){this._portalHost=dt}attach(dt,Ae=!0){return this._portalHost.attach(dt,Ae)}detach(){return this._portalHost.detach()}}let Oe=(()=>{class ct{constructor(Ae){this._document=Ae}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ae=this._document.createElement("div");Ae.classList.add("overlay-container"),Ae.setAttribute("aria-live","polite"),this._document.body.appendChild(Ae),this._containerElement=Ae}}return ct.\u0275fac=function(Ae){return new(Ae||ct)(c.LFG(we.K0))},ct.\u0275prov=c.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),He=(()=>{class ct{constructor(Ae,ze,It,en){this._overlayContainer=Ae,this._componentFactoryResolver=ze,this._appRef=It,this._document=en,this._paneElements=new Map}create(Ae,ze){return this._createOverlayRef(this.getPaneElement(Ae,ze))}getPaneElement(Ae="",ze){return this._paneElements.get(ze)||this._paneElements.set(ze,{}),this._paneElements.get(ze)[Ae]||(this._paneElements.get(ze)[Ae]=this._createPaneElement(Ae,ze)),this._paneElements.get(ze)[Ae]}_createPaneElement(Ae,ze){const It=this._document.createElement("div");return It.id="toast-container",It.classList.add(Ae),It.classList.add("toast-container"),ze?ze.getContainerElement().appendChild(It):this._overlayContainer.getContainerElement().appendChild(It),It}_createPortalHost(Ae){return new _e(Ae,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ae){return new Ee(this._createPortalHost(Ae))}}return ct.\u0275fac=function(Ae){return new(Ae||ct)(c.LFG(Oe),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(we.K0))},ct.\u0275prov=c.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),me=(()=>{class ct{constructor(Ae,ze,It,en,En){this.overlay=ze,this._injector=It,this.sanitizer=en,this.ngZone=En,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},Ae.default),Ae.config),Ae.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},Ae.default.iconClasses),Ae.config.iconClasses))}show(Ae,ze,It={},en=""){return this._preBuildNotification(en,Ae,ze,this.applyConfig(It))}success(Ae,ze,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ae,ze,this.applyConfig(It))}error(Ae,ze,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ae,ze,this.applyConfig(It))}info(Ae,ze,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ae,ze,this.applyConfig(It))}warning(Ae,ze,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ae,ze,this.applyConfig(It))}clear(Ae){for(const ze of this.toasts)if(void 0!==Ae){if(ze.toastId===Ae)return void ze.toastRef.manualClose()}else ze.toastRef.manualClose()}remove(Ae){const ze=this._findToast(Ae);if(!ze||(ze.activeToast.toastRef.close(),this.toasts.splice(ze.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const It=this.toasts[this.currentlyActive].toastRef;It.isInactive()||(this.currentlyActive=this.currentlyActive+1,It.activate())}return!0}findDuplicate(Ae="",ze="",It,en){const{includeTitleDuplicates:En}=this.toastrConfig;for(const dn of this.toasts){const rr=En&&dn.title===Ae;if((!En||rr)&&dn.message===ze)return dn.toastRef.onDuplicate(It,en),dn}return null}applyConfig(Ae={}){return Object.assign(Object.assign({},this.toastrConfig),Ae)}_findToast(Ae){for(let ze=0;ze<this.toasts.length;ze++)if(this.toasts[ze].toastId===Ae)return{index:ze,activeToast:this.toasts[ze]};return null}_preBuildNotification(Ae,ze,It,en){return en.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ae,ze,It,en)):this._buildNotification(Ae,ze,It,en)}_buildNotification(Ae,ze,It,en){if(!en.toastComponent)throw new Error("toastComponent required");const En=this.findDuplicate(It,ze,this.toastrConfig.resetTimeoutOnDuplicate&&en.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&It||ze)&&this.toastrConfig.preventDuplicates&&null!==En)return En;this.previousToastMessage=ze;let dn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(dn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const rr=this.overlay.create(en.positionClass,this.overlayContainer);this.index=this.index+1;let sr=ze;ze&&en.enableHtml&&(sr=this.sanitizer.sanitize(c.q3G.HTML,ze));const Sn=new Nt(rr),an=new st(this.index,en,sr,It,Ae,Sn),Jn=new le(an,this._injector),Xn=new We(en.toastComponent,Jn),rn=rr.attach(Xn,this.toastrConfig.newestOnTop);Sn.componentInstance=rn.instance;const Ln={toastId:this.index,title:It||"",message:ze||"",toastRef:Sn,onShown:Sn.afterActivate(),onHidden:Sn.afterClosed(),onTap:an.onTap(),onAction:an.onAction(),portal:rn};return dn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Ln.toastRef.activate()})),this.toasts.push(Ln),Ln}}return ct.\u0275fac=function(Ae){return new(Ae||ct)(c.LFG(Ne),c.LFG(He),c.LFG(c.zs3),c.LFG(Te.H7),c.LFG(c.R0b))},ct.\u0275prov=c.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),pt=(()=>{class ct{constructor(Ae,ze,It){this.toastrService=Ae,this.toastPackage=ze,this.ngZone=It,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=ze.message,this.title=ze.title,this.options=ze.config,this.originalTimeout=ze.config.timeOut,this.toastClasses=`${ze.toastType} ${ze.config.toastClass}`,this.sub=ze.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ze.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ze.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ze.toastRef.countDuplicate().subscribe(en=>{this.duplicatesCount=en})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ae=(new Date).getTime();this.width=(this.hideTime-Ae)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ae,ze){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ae),ze)):this.timeout=setTimeout(()=>Ae(),ze)}outsideInterval(Ae,ze){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ae),ze)):this.intervalId=setInterval(()=>Ae(),ze)}runInsideAngular(Ae){this.ngZone?this.ngZone.run(()=>Ae()):Ae()}}return ct.\u0275fac=function(Ae){return new(Ae||ct)(c.Y36(me),c.Y36(st),c.Y36(c.R0b))},ct.\u0275cmp=c.Xpm({type:ct,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ae,ze){1&Ae&&c.NdJ("click",function(){return ze.tapToast()})("mouseenter",function(){return ze.stickAround()})("mouseleave",function(){return ze.delayedHideToast()}),2&Ae&&(c.d8E("@flyInOut",ze.state),c.Tol(ze.toastClasses),c.Udp("display",ze.displayStyle))},attrs:Ce,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ae,ze){1&Ae&&(c.YNc(0,De,3,0,"button",0),c.YNc(1,Me,3,5,"div",1),c.YNc(2,ie,1,3,"div",2),c.YNc(3,fe,2,4,"div",3),c.YNc(4,Fe,2,2,"div",4)),2&Ae&&(c.Q6J("ngIf",ze.options.closeButton),c.xp6(1),c.Q6J("ngIf",ze.title),c.xp6(1),c.Q6J("ngIf",ze.message&&ze.options.enableHtml),c.xp6(1),c.Q6J("ngIf",ze.message&&!ze.options.enableHtml),c.xp6(1),c.Q6J("ngIf",ze.options.progressBar))},directives:[we.O5],encapsulation:2,data:{animation:[(0,w.X$)("flyInOut",[(0,w.SB)("inactive",(0,w.oB)({opacity:0})),(0,w.SB)("active",(0,w.oB)({opacity:1})),(0,w.SB)("removed",(0,w.oB)({opacity:0})),(0,w.eR)("inactive => active",(0,w.jt)("{{ easeTime }}ms {{ easing }}")),(0,w.eR)("active => removed",(0,w.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),ct})();const xt=Object.assign(Object.assign({},vt),{toastComponent:pt});let un=(()=>{class ct{static forRoot(Ae={}){return{ngModule:ct,providers:[{provide:Ne,useValue:{default:xt,config:Ae}}]}}}return ct.\u0275fac=function(Ae){return new(Ae||ct)},ct.\u0275mod=c.oAB({type:ct}),ct.\u0275inj=c.cJS({imports:[[we.ez]]}),ct})(),Ht=(()=>{class ct{constructor(Ae,ze,It){this.toastrService=Ae,this.toastPackage=ze,this.appRef=It,this.width=-1,this.toastClasses="",this.state="inactive",this.message=ze.message,this.title=ze.title,this.options=ze.config,this.originalTimeout=ze.config.timeOut,this.toastClasses=`${ze.toastType} ${ze.config.toastClass}`,this.sub=ze.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ze.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ze.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ze.toastRef.countDuplicate().subscribe(en=>{this.duplicatesCount=en})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ae=(new Date).getTime();this.width=(this.hideTime-Ae)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return ct.\u0275fac=function(Ae){return new(Ae||ct)(c.Y36(me),c.Y36(st),c.Y36(c.z2F))},ct.\u0275cmp=c.Xpm({type:ct,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(Ae,ze){1&Ae&&c.NdJ("click",function(){return ze.tapToast()})("mouseenter",function(){return ze.stickAround()})("mouseleave",function(){return ze.delayedHideToast()}),2&Ae&&(c.Tol(ze.toastClasses),c.Udp("display",ze.displayStyle))},attrs:Ce,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ae,ze){1&Ae&&(c.YNc(0,it,3,0,"button",0),c.YNc(1,wt,3,5,"div",1),c.YNc(2,Tt,1,3,"div",2),c.YNc(3,Pe,2,4,"div",3),c.YNc(4,Ye,2,2,"div",4)),2&Ae&&(c.Q6J("ngIf",ze.options.closeButton),c.xp6(1),c.Q6J("ngIf",ze.title),c.xp6(1),c.Q6J("ngIf",ze.message&&ze.options.enableHtml),c.xp6(1),c.Q6J("ngIf",ze.message&&!ze.options.enableHtml),c.xp6(1),c.Q6J("ngIf",ze.options.progressBar))},directives:[we.O5],encapsulation:2}),ct})();Object.assign(Object.assign({},vt),{toastComponent:Ht})},5861:(Qt,et,L)=>{function c(z,we,Te,Ce,De,oe,Me){try{var ie=z[oe](Me),fe=ie.value}catch(Fe){return void Te(Fe)}ie.done?we(fe):Promise.resolve(fe).then(Ce,De)}function w(z){return function(){var we=this,Te=arguments;return new Promise(function(Ce,De){var oe=z.apply(we,Te);function Me(fe){c(oe,Ce,De,Me,ie,"next",fe)}function ie(fe){c(oe,Ce,De,Me,ie,"throw",fe)}Me(void 0)})}}L.d(et,{Z:()=>w})}},Qt=>{Qt(Qt.s=7705)}]);