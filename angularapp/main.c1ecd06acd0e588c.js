"use strict";(self.webpackChunktp_sala_de_juegos=self.webpackChunktp_sala_de_juegos||[]).push([[179],{7128:(Qt,nt,k)=>{k.d(nt,{nm:()=>ft});var c=k(880),Ie=(k(5e3),k(3692),k(5867),k(5861)),Te=k(9681),De=k(4859),oe=k(2090),Me=k(1877);const ne=new Map,de={activated:!1,tokenObservers:[]},Le={initialized:!1,enabled:!1};function ot(ze){return ne.get(ze)||de}function it(ze,Fe){ne.set(ze,Fe)}function Dt(){return Le}class Re{constructor(Fe,qe,Nt,Bt,sn){if(this.operation=Fe,this.retryPolicy=qe,this.getWaitDuration=Nt,this.lowerBound=Bt,this.upperBound=sn,this.pending=null,this.nextErrorWaitInterval=Bt,Bt>sn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Fe){var qe=this;return(0,Ie.Z)(function*(){qe.stop();try{qe.pending=new oe.BH,yield function at(ze){return new Promise(Fe=>{setTimeout(Fe,ze)})}(qe.getNextRun(Fe)),qe.pending.resolve(),yield qe.pending.promise,qe.pending=new oe.BH,yield qe.operation(),qe.pending.resolve(),yield qe.pending.promise,qe.process(!0).catch(()=>{})}catch(Nt){qe.retryPolicy(Nt)?qe.process(!1).catch(()=>{}):qe.stop()}})()}getNextRun(Fe){if(Fe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const qe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),qe}}}const Ne=new oe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ue(ze){if(!ot(ze).activated)throw Ne.create("use-before-activation",{appName:ze.name})}function He(ze,Fe){return fe.apply(this,arguments)}function fe(){return(fe=(0,Ie.Z)(function*({url:ze,body:Fe},qe){const Nt={"Content-Type":"application/json"},Bt=qe.getImmediate({optional:!0});if(Bt){const Nr=yield Bt.getHeartbeatsHeader();Nr&&(Nt["X-Firebase-Client"]=Nr)}const sn={method:"POST",body:JSON.stringify(Fe),headers:Nt};let er,br;try{er=yield fetch(ze,sn)}catch(Nr){throw Ne.create("fetch-network-error",{originalErrorMessage:Nr.message})}if(200!==er.status)throw Ne.create("fetch-status-error",{httpStatus:er.status});try{br=yield er.json()}catch(Nr){throw Ne.create("fetch-parse-error",{originalErrorMessage:Nr.message})}const tr=br.ttl.match(/^([\d.]+)(s)$/);if(!tr||!tr[2]||isNaN(Number(tr[1])))throw Ne.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${br.ttl}`});const Wn=1e3*Number(tr[1]),Lr=Date.now();return{token:br.token,expireTimeMillis:Lr+Wn,issuedAtTimeMillis:Lr}})).apply(this,arguments)}function cn(ze,Fe){const{projectId:qe,appId:Nt,apiKey:Bt}=ze.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${qe}/apps/${Nt}:exchangeDebugToken?key=${Bt}`,body:{debug_token:Fe}}}const Jt="firebase-app-check-store";let dt=null;function pt(){return dt||(dt=new Promise((ze,Fe)=>{try{const qe=indexedDB.open("firebase-app-check-database",1);qe.onsuccess=Nt=>{ze(Nt.target.result)},qe.onerror=Nt=>{var Bt;Fe(Ne.create("storage-open",{originalErrorMessage:null===(Bt=Nt.target.error)||void 0===Bt?void 0:Bt.message}))},qe.onupgradeneeded=Nt=>{0===Nt.oldVersion&&Nt.target.result.createObjectStore(Jt,{keyPath:"compositeKey"})}}catch(qe){Fe(Ne.create("storage-open",{originalErrorMessage:qe.message}))}}),dt)}function En(){return(En=(0,Ie.Z)(function*(ze,Fe){const Nt=(yield pt()).transaction(Jt,"readwrite"),sn=Nt.objectStore(Jt).put({compositeKey:ze,value:Fe});return new Promise((er,br)=>{sn.onsuccess=tr=>{er()},Nt.onerror=tr=>{var Wn;br(Ne.create("storage-set",{originalErrorMessage:null===(Wn=tr.target.error)||void 0===Wn?void 0:Wn.message}))}})})).apply(this,arguments)}const an=new Me.Yd("@firebase/app-check");function nn(ze,Fe){return(0,oe.hl)()?function Ke(ze,Fe){return function vn(ze,Fe){return En.apply(this,arguments)}(function Un(ze){return`${ze.options.appId}-${ze.name}`}(ze),Fe)}(ze,Fe).catch(qe=>{an.warn(`Failed to write token to IndexedDB. Error: ${qe}`)}):Promise.resolve()}function Kn(){return Dt().enabled}function Et(){return ke.apply(this,arguments)}function ke(){return(ke=(0,Ie.Z)(function*(){const ze=Dt();if(ze.enabled&&ze.token)return ze.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const tt={error:"UNKNOWN_ERROR"};function Mt(ze){return oe.US.encodeString(JSON.stringify(ze),!1)}function Ut(ze){return kt.apply(this,arguments)}function kt(){return(kt=(0,Ie.Z)(function*(ze,Fe=!1){const qe=ze.app;ue(qe);const Nt=ot(qe);let sn,Bt=Nt.token;if(!Bt){const tr=yield Nt.cachedTokenPromise;tr&&Bn(tr)&&(Bt=tr)}if(!Fe&&Bt&&Bn(Bt))return{token:Bt.token};let br,er=!1;if(Kn()){Nt.exchangeTokenPromise||(Nt.exchangeTokenPromise=He(cn(qe,yield Et()),ze.heartbeatServiceProvider).then(Wn=>(Nt.exchangeTokenPromise=void 0,Wn)),er=!0);const tr=yield Nt.exchangeTokenPromise;return yield nn(qe,tr),it(qe,Object.assign(Object.assign({},Nt),{token:tr})),{token:tr.token}}try{Nt.exchangeTokenPromise||(Nt.exchangeTokenPromise=Nt.provider.getToken().then(tr=>(Nt.exchangeTokenPromise=void 0,tr)),er=!0),Bt=yield Nt.exchangeTokenPromise}catch(tr){"appCheck/throttled"===tr.code?an.warn(tr.message):an.error(tr),sn=tr}return Bt?(br={token:Bt.token},it(qe,Object.assign(Object.assign({},Nt),{token:Bt})),yield nn(qe,Bt)):br=ln(sn),er&&yn(qe,br),br})).apply(this,arguments)}function Dn(ze,Fe){const qe=ot(ze),Nt=qe.tokenObservers.filter(Bt=>Bt.next!==Fe);0===Nt.length&&qe.tokenRefresher&&qe.tokenRefresher.isRunning()&&qe.tokenRefresher.stop(),it(ze,Object.assign(Object.assign({},qe),{tokenObservers:Nt}))}function Jn(ze){const{app:Fe}=ze,qe=ot(Fe);let Nt=qe.tokenRefresher;Nt||(Nt=function Xn(ze){const{app:Fe}=ze;return new Re((0,Ie.Z)(function*(){let Nt;if(Nt=ot(Fe).token?yield Ut(ze,!0):yield Ut(ze),Nt.error)throw Nt.error}),()=>!0,()=>{const qe=ot(Fe);if(qe.token){let Nt=qe.token.issuedAtTimeMillis+.5*(qe.token.expireTimeMillis-qe.token.issuedAtTimeMillis)+3e5;return Nt=Math.min(Nt,qe.token.expireTimeMillis-3e5),Math.max(0,Nt-Date.now())}return 0},3e4,96e4)}(ze),it(Fe,Object.assign(Object.assign({},qe),{tokenRefresher:Nt}))),!Nt.isRunning()&&qe.isTokenAutoRefreshEnabled&&Nt.start()}function yn(ze,Fe){const qe=ot(ze).tokenObservers;for(const Nt of qe)try{"EXTERNAL"===Nt.type&&null!=Fe.error?Nt.error(Fe.error):Nt.next(Fe)}catch(Bt){}}function Bn(ze){return ze.expireTimeMillis-Date.now()>0}function ln(ze){return{token:Mt(tt),error:ze}}class fn{constructor(Fe,qe){this.app=Fe,this.heartbeatServiceProvider=qe}_delete(){const{tokenObservers:Fe}=ot(this.app);for(const qe of Fe)Dn(this.app,qe.next);return Promise.resolve()}}const mr="app-check-internal";!function Ir(){(0,Te._registerComponent)(new De.wA("app-check",ze=>function Tn(ze,Fe){return new fn(ze,Fe)}(ze.getProvider("app").getImmediate(),ze.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ze,Fe,qe)=>{ze.getProvider(mr).initialize()})),(0,Te._registerComponent)(new De.wA(mr,ze=>function rt(ze){return{getToken:Fe=>Ut(ze,Fe),addTokenListener:Fe=>function xt(ze,Fe,qe,Nt){const{app:Bt}=ze,sn=ot(Bt),er={next:qe,error:Nt,type:Fe};if(it(Bt,Object.assign(Object.assign({},sn),{tokenObservers:[...sn.tokenObservers,er]})),sn.token&&Bn(sn.token)){const br=sn.token;Promise.resolve().then(()=>{qe({token:br.token}),Jn(ze)}).catch(()=>{})}sn.cachedTokenPromise.then(()=>Jn(ze))}(ze,"INTERNAL",Fe),removeTokenListener:Fe=>Dn(ze.app,Fe)}}(ze.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Te.registerVersion)("@firebase/app-check","0.5.7")}();class ft{constructor(){return(0,c.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(Qt,nt,k)=>{k.d(nt,{Ot:()=>ve,ZF:()=>Pe,hX:()=>ot,z6:()=>Ie});var c=k(5867),w=k(5e3),G=k(880);class ve{constructor(Re){return Re}}class Ie{constructor(){return(0,c.C6)()}}const oe=new w.OlP("angularfire2._apps"),Me={provide:ve,useFactory:function De(We){return We&&1===We.length?We[0]:new ve((0,c.Mq)())},deps:[[new w.FiY,oe]]},ne={provide:Ie,deps:[[new w.FiY,oe]]};function de(We){return(Re,at)=>{const It=Re.runOutsideAngular(()=>We(at));return new ve(It)}}let Le=(()=>{class We{constructor(at){(0,c.KN)("angularfire",G.q4.full,"core"),(0,c.KN)("angularfire",G.q4.full,"app"),(0,c.KN)("angular",w.q4F.full,at.toString())}}return We.\u0275fac=function(at){return new(at||We)(w.LFG(w.Lbi))},We.\u0275mod=w.oAB({type:We}),We.\u0275inj=w.cJS({providers:[Me,ne]}),We})();function ot(We,...Re){return{ngModule:Le,providers:[{provide:oe,useFactory:de(We),multi:!0,deps:[w.R0b,w.zs3,G.HU,...Re]}]}}const Pe=(0,G.u3)(c.ZF,!0)},3385:(Qt,nt,k)=>{k.d(nt,{zQ:()=>_e,ww:()=>xe,rT:()=>Ne,f7:()=>ue,L6:()=>at,_Q:()=>It,lh:()=>St,Qv:()=>Re,nw:()=>me});var c=k(5e3),w=k(7579),G=k(9646),ve=k(8306),Ie=k(8996),Te=k(6451),De=k(3900),oe=k(576);function Me(He,fe){return(0,oe.m)(fe)?(0,De.w)(()=>He,fe):(0,De.w)(()=>He)}var ne=k(5363),de=k(4004),Le=k(3151),ot=k(590),it=k(9468),Dt=k(9300),Ot=k(880),Pe=k(2011),Je=k(9808),lt=k(7128),wt=k(127);const Re=new c.OlP("angularfire2.auth.use-emulator"),at=new c.OlP("angularfire2.auth.settings"),It=new c.OlP("angularfire2.auth.tenant-id"),Ne=new c.OlP("angularfire2.auth.langugage-code"),St=new c.OlP("angularfire2.auth.use-device-language"),ue=new c.OlP("angularfire.auth.persistence"),me=(He,fe,mt,Vt,cn,bt,qt,Jt)=>(0,Pe.cc)(`${He.name}.auth`,"AngularFireAuth",He.name,()=>{const rn=fe.runOutsideAngular(()=>He.auth());if(mt&&rn.useEmulator(...mt),Vt&&(rn.tenantId=Vt),rn.languageCode=cn,bt&&rn.useDeviceLanguage(),qt)for(const[dt,pt]of Object.entries(qt))rn.settings[dt]=pt;return Jt&&rn.setPersistence(Jt),rn},[mt,Vt,cn,bt,qt,Jt]);let _e=(()=>{class He{constructor(mt,Vt,cn,bt,qt,Jt,rn,dt,pt,Ce,Ke,Ct){const en=new w.x,vn=(0,G.of)(void 0).pipe((0,ne.Q)(qt.outsideAngular),(0,De.w)(()=>bt.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,de.U)(()=>(0,Pe.on)(mt,bt,Vt)),(0,de.U)(En=>me(En,bt,Jt,dt,pt,Ce,rn,Ke)),(0,Le.d)({bufferSize:1,refCount:!1}));if((0,Je.PM)(cn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,G.of)(null);else{vn.pipe((0,ot.P)()).subscribe();const ir=vn.pipe((0,De.w)(an=>an.getRedirectResult().then(An=>An,()=>null)),Ot.iC,(0,Le.d)({bufferSize:1,refCount:!1})),sr=vn.pipe((0,De.w)(an=>new ve.y(An=>({unsubscribe:bt.runOutsideAngular(()=>an.onAuthStateChanged(or=>An.next(or),or=>An.error(or),()=>An.complete()))})))),Un=vn.pipe((0,De.w)(an=>new ve.y(An=>({unsubscribe:bt.runOutsideAngular(()=>an.onIdTokenChanged(or=>An.next(or),or=>An.error(or),()=>An.complete()))}))));this.authState=ir.pipe(Me(sr),(0,it.R)(qt.outsideAngular),(0,ne.Q)(qt.insideAngular)),this.user=ir.pipe(Me(Un),(0,it.R)(qt.outsideAngular),(0,ne.Q)(qt.insideAngular)),this.idToken=this.user.pipe((0,De.w)(an=>an?(0,Ie.D)(an.getIdToken()):(0,G.of)(null))),this.idTokenResult=this.user.pipe((0,De.w)(an=>an?(0,Ie.D)(an.getIdTokenResult()):(0,G.of)(null))),this.credential=(0,Te.T)(ir,en,this.authState.pipe((0,Dt.h)(an=>!an))).pipe((0,de.U)(an=>(null==an?void 0:an.user)?an:null),(0,it.R)(qt.outsideAngular),(0,ne.Q)(qt.insideAngular))}return(0,Pe.pX)(this,vn,bt,{spy:{apply:(En,ir,sr)=>{(En.startsWith("signIn")||En.startsWith("createUser"))&&sr.then(Un=>en.next(Un))}}})}}return He.\u0275fac=function(mt){return new(mt||He)(c.LFG(Pe.Dh),c.LFG(Pe.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ot.HU),c.LFG(Re,8),c.LFG(at,8),c.LFG(It,8),c.LFG(Ne,8),c.LFG(St,8),c.LFG(ue,8),c.LFG(lt.nm,8))},He.\u0275prov=c.Yz7({token:He,factory:He.\u0275fac,providedIn:"any"}),He})(),xe=(()=>{class He{constructor(){wt.Z.registerVersion("angularfire",Ot.q4.full,"auth-compat")}}return He.\u0275fac=function(mt){return new(mt||He)},He.\u0275mod=c.oAB({type:He}),He.\u0275inj=c.cJS({providers:[_e]}),He})()},3290:(Qt,nt,k)=>{k.d(nt,{ST:()=>fn,yb:()=>Tn});var c=k(5e3),w=k(4986),G=k(8306),ve=k(8996),Ie=k(9646),Te=k(880),De=k(8675),oe=k(1520),Me=k(4004),ne=k(5026),de=k(1884),Le=k(9300),ot=k(2011),it=k(9808),Ot=(k(5881),k(3942)),Pe=k(5525),Je=k(2090),lt=k(4859);function Re(rt,j){if(void 0===j)return{merge:!1};if(void 0!==j.mergeFields&&void 0!==j.merge)throw new Pe.WA("invalid-argument",`Invalid options passed to function ${rt}(): You cannot specify both "merge" and "mergeFields".`);return j}function at(){if("undefined"==typeof Uint8Array)throw new Pe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function It(){if(!(0,Pe.Me)())throw new Pe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ne{constructor(j){this._delegate=j}static fromBase64String(j){return It(),new Ne(Pe.Jj.fromBase64String(j))}static fromUint8Array(j){return at(),new Ne(Pe.Jj.fromUint8Array(j))}toBase64(){return It(),this._delegate.toBase64()}toUint8Array(){return at(),this._delegate.toUint8Array()}isEqual(j){return this._delegate.isEqual(j._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function St(rt){return function ue(rt,j){if("object"!=typeof rt||null===rt)return!1;const Z=rt;for(const $e of j)if($e in Z&&"function"==typeof Z[$e])return!0;return!1}(rt,["next","error","complete"])}class me{enableIndexedDbPersistence(j,Z){return(0,Pe.ST)(j._delegate,{forceOwnership:Z})}enableMultiTabIndexedDbPersistence(j){return(0,Pe.fH)(j._delegate)}clearIndexedDbPersistence(j){return(0,Pe.Fc)(j._delegate)}}class _e{constructor(j,Z,$e){this._delegate=Z,this._persistenceProvider=$e,this.INTERNAL={delete:()=>this.terminate()},j instanceof Pe.l7||(this._appCompat=j)}get _databaseId(){return this._delegate._databaseId}settings(j){const Z=this._delegate._getSettings();!j.merge&&Z.host!==j.host&&(0,Pe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),j.merge&&delete(j=Object.assign(Object.assign({},Z),j)).merge,this._delegate._setSettings(j)}useEmulator(j,Z,$e={}){(0,Pe.at)(this._delegate,j,Z,$e)}enableNetwork(){return(0,Pe.Ix)(this._delegate)}disableNetwork(){return(0,Pe.TF)(this._delegate)}enablePersistence(j){let Z=!1,$e=!1;return j&&(Z=!!j.synchronizeTabs,$e=!!j.experimentalForceOwningTab,(0,Pe.Wi)("synchronizeTabs",Z,"experimentalForceOwningTab",$e)),Z?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,$e)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Pe.Mx)(this._delegate)}onSnapshotsInSync(j){return(0,Pe.sc)(this._delegate,j)}get app(){if(!this._appCompat)throw new Pe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(j){try{return new Ct(this,(0,Pe.hJ)(this._delegate,j))}catch(Z){throw bt(Z,"collection()","Firestore.collection()")}}doc(j){try{return new cn(this,(0,Pe.JU)(this._delegate,j))}catch(Z){throw bt(Z,"doc()","Firestore.doc()")}}collectionGroup(j){try{return new pt(this,(0,Pe.B$)(this._delegate,j))}catch(Z){throw bt(Z,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(j){return(0,Pe.i3)(this._delegate,Z=>j(new fe(this,Z)))}batch(){return(0,Pe.qY)(this._delegate),new mt(new Pe.PU(this._delegate,j=>(0,Pe.GL)(this._delegate,j)))}loadBundle(j){return(0,Pe.Pb)(this._delegate,j)}namedQuery(j){return(0,Pe.L$)(this._delegate,j).then(Z=>Z?new pt(this,Z):null)}}class xe extends Pe.u7{constructor(j){super(),this.firestore=j}convertBytes(j){return new Ne(new Pe.Jj(j))}convertReference(j){const Z=this.convertDocumentKey(j,this.firestore._databaseId);return cn.forKey(Z,this.firestore,null)}}class fe{constructor(j,Z){this._firestore=j,this._delegate=Z,this._userDataWriter=new xe(j)}get(j){const Z=en(j);return this._delegate.get(Z).then($e=>new rn(this._firestore,new Pe.xU(this._firestore._delegate,this._userDataWriter,$e._key,$e._document,$e.metadata,Z.converter)))}set(j,Z,$e){const pe=en(j);return $e?(Re("Transaction.set",$e),this._delegate.set(pe,Z,$e)):this._delegate.set(pe,Z),this}update(j,Z,$e,...pe){const Ye=en(j);return 2===arguments.length?this._delegate.update(Ye,Z):this._delegate.update(Ye,Z,$e,...pe),this}delete(j){const Z=en(j);return this._delegate.delete(Z),this}}class mt{constructor(j){this._delegate=j}set(j,Z,$e){const pe=en(j);return $e?(Re("WriteBatch.set",$e),this._delegate.set(pe,Z,$e)):this._delegate.set(pe,Z),this}update(j,Z,$e,...pe){const Ye=en(j);return 2===arguments.length?this._delegate.update(Ye,Z):this._delegate.update(Ye,Z,$e,...pe),this}delete(j){const Z=en(j);return this._delegate.delete(Z),this}commit(){return this._delegate.commit()}}class Vt{constructor(j,Z,$e){this._firestore=j,this._userDataWriter=Z,this._delegate=$e}fromFirestore(j,Z){const $e=new Pe.$q(this._firestore._delegate,this._userDataWriter,j._key,j._document,j.metadata,null);return this._delegate.fromFirestore(new dt(this._firestore,$e),null!=Z?Z:{})}toFirestore(j,Z){return Z?this._delegate.toFirestore(j,Z):this._delegate.toFirestore(j)}static getInstance(j,Z){const $e=Vt.INSTANCES;let pe=$e.get(j);pe||(pe=new WeakMap,$e.set(j,pe));let Ye=pe.get(Z);return Ye||(Ye=new Vt(j,new xe(j),Z),pe.set(Z,Ye)),Ye}}Vt.INSTANCES=new WeakMap;class cn{constructor(j,Z){this.firestore=j,this._delegate=Z,this._userDataWriter=new xe(j)}static forPath(j,Z,$e){if(j.length%2!=0)throw new Pe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${j.canonicalString()} has ${j.length}`);return new cn(Z,new Pe.my(Z._delegate,$e,new Pe.Ky(j)))}static forKey(j,Z,$e){return new cn(Z,new Pe.my(Z._delegate,$e,j))}get id(){return this._delegate.id}get parent(){return new Ct(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(j){try{return new Ct(this.firestore,(0,Pe.hJ)(this._delegate,j))}catch(Z){throw bt(Z,"collection()","DocumentReference.collection()")}}isEqual(j){return(j=(0,Je.m9)(j))instanceof Pe.my&&(0,Pe.Eo)(this._delegate,j)}set(j,Z){Z=Re("DocumentReference.set",Z);try{return Z?(0,Pe.pl)(this._delegate,j,Z):(0,Pe.pl)(this._delegate,j)}catch($e){throw bt($e,"setDoc()","DocumentReference.set()")}}update(j,Z,...$e){try{return 1===arguments.length?(0,Pe.r7)(this._delegate,j):(0,Pe.r7)(this._delegate,j,Z,...$e)}catch(pe){throw bt(pe,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Pe.oe)(this._delegate)}onSnapshot(...j){const Z=qt(j),$e=Jt(j,pe=>new rn(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,pe._key,pe._document,pe.metadata,this._delegate.converter)));return(0,Pe.cf)(this._delegate,Z,$e)}get(j){let Z;return Z="cache"===(null==j?void 0:j.source)?(0,Pe.kl)(this._delegate):"server"===(null==j?void 0:j.source)?(0,Pe.Xk)(this._delegate):(0,Pe.QT)(this._delegate),Z.then($e=>new rn(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,$e._key,$e._document,$e.metadata,this._delegate.converter)))}withConverter(j){return new cn(this.firestore,this._delegate.withConverter(j?Vt.getInstance(this.firestore,j):null))}}function bt(rt,j,Z){return rt.message=rt.message.replace(j,Z),rt}function qt(rt){for(const j of rt)if("object"==typeof j&&!St(j))return j;return{}}function Jt(rt,j){var Z,$e;let pe;return pe=St(rt[0])?rt[0]:St(rt[1])?rt[1]:"function"==typeof rt[0]?{next:rt[0],error:rt[1],complete:rt[2]}:{next:rt[1],error:rt[2],complete:rt[3]},{next:Ye=>{pe.next&&pe.next(j(Ye))},error:null===(Z=pe.error)||void 0===Z?void 0:Z.bind(pe),complete:null===($e=pe.complete)||void 0===$e?void 0:$e.bind(pe)}}class rn{constructor(j,Z){this._firestore=j,this._delegate=Z}get ref(){return new cn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(j){return this._delegate.data(j)}get(j,Z){return this._delegate.get(j,Z)}isEqual(j){return(0,Pe.qK)(this._delegate,j._delegate)}}class dt extends rn{data(j){const Z=this._delegate.data(j);return(0,Pe.K9)(void 0!==Z,"Document in a QueryDocumentSnapshot should exist"),Z}}class pt{constructor(j,Z){this.firestore=j,this._delegate=Z,this._userDataWriter=new xe(j)}where(j,Z,$e){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.ar)(j,Z,$e)))}catch(pe){throw bt(pe,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(j,Z){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Xo)(j,Z)))}catch($e){throw bt($e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(j){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.b9)(j)))}catch(Z){throw bt(Z,"limit()","Query.limit()")}}limitToLast(j){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.vh)(j)))}catch(Z){throw bt(Z,"limitToLast()","Query.limitToLast()")}}startAt(...j){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.e0)(...j)))}catch(Z){throw bt(Z,"startAt()","Query.startAt()")}}startAfter(...j){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.TQ)(...j)))}catch(Z){throw bt(Z,"startAfter()","Query.startAfter()")}}endBefore(...j){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Lx)(...j)))}catch(Z){throw bt(Z,"endBefore()","Query.endBefore()")}}endAt(...j){try{return new pt(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Wu)(...j)))}catch(Z){throw bt(Z,"endAt()","Query.endAt()")}}isEqual(j){return(0,Pe.iE)(this._delegate,j._delegate)}get(j){let Z;return Z="cache"===(null==j?void 0:j.source)?(0,Pe.UQ)(this._delegate):"server"===(null==j?void 0:j.source)?(0,Pe.zN)(this._delegate):(0,Pe.PL)(this._delegate),Z.then($e=>new Ke(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,$e._snapshot)))}onSnapshot(...j){const Z=qt(j),$e=Jt(j,pe=>new Ke(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,pe._snapshot)));return(0,Pe.cf)(this._delegate,Z,$e)}withConverter(j){return new pt(this.firestore,this._delegate.withConverter(j?Vt.getInstance(this.firestore,j):null))}}class Ce{constructor(j,Z){this._firestore=j,this._delegate=Z}get type(){return this._delegate.type}get doc(){return new dt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ke{constructor(j,Z){this._firestore=j,this._delegate=Z}get query(){return new pt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(j=>new dt(this._firestore,j))}docChanges(j){return this._delegate.docChanges(j).map(Z=>new Ce(this._firestore,Z))}forEach(j,Z){this._delegate.forEach($e=>{j.call(Z,new dt(this._firestore,$e))})}isEqual(j){return(0,Pe.qK)(this._delegate,j._delegate)}}class Ct extends pt{constructor(j,Z){super(j,Z),this.firestore=j,this._delegate=Z}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const j=this._delegate.parent;return j?new cn(this.firestore,j):null}doc(j){try{return new cn(this.firestore,void 0===j?(0,Pe.JU)(this._delegate):(0,Pe.JU)(this._delegate,j))}catch(Z){throw bt(Z,"doc()","CollectionReference.doc()")}}add(j){return(0,Pe.ET)(this._delegate,j).then(Z=>new cn(this.firestore,Z))}isEqual(j){return(0,Pe.Eo)(this._delegate,j._delegate)}withConverter(j){return new Ct(this.firestore,this._delegate.withConverter(j?Vt.getInstance(this.firestore,j):null))}}function en(rt){return(0,Pe.Cf)(rt,Pe.my)}class vn{constructor(...j){this._delegate=new Pe.Lz(...j)}static documentId(){return new vn(Pe.Xb.keyField().canonicalString())}isEqual(j){return(j=(0,Je.m9)(j))instanceof Pe.Lz&&this._delegate._internalPath.isEqual(j._internalPath)}}class En{constructor(j){this._delegate=j}static serverTimestamp(){const j=(0,Pe.Bt)();return j._methodName="FieldValue.serverTimestamp",new En(j)}static delete(){const j=(0,Pe.AK)();return j._methodName="FieldValue.delete",new En(j)}static arrayUnion(...j){const Z=(0,Pe.vr)(...j);return Z._methodName="FieldValue.arrayUnion",new En(Z)}static arrayRemove(...j){const Z=(0,Pe.Ab)(...j);return Z._methodName="FieldValue.arrayRemove",new En(Z)}static increment(j){const Z=(0,Pe.nP)(j);return Z._methodName="FieldValue.increment",new En(Z)}isEqual(j){return this._delegate.isEqual(j._delegate)}}const ir={Firestore:_e,GeoPoint:Pe.F8,Timestamp:Pe.EK,Blob:Ne,Transaction:fe,WriteBatch:mt,DocumentReference:cn,DocumentSnapshot:rn,Query:pt,QueryDocumentSnapshot:dt,QuerySnapshot:Ke,CollectionReference:Ct,FieldPath:vn,FieldValue:En,setLogLevel:function He(rt){(0,Pe.Ub)(rt)},CACHE_SIZE_UNLIMITED:Pe.IX};!function Un(rt){(function sr(rt,j){rt.INTERNAL.registerComponent(new lt.wA("firestore-compat",Z=>{const $e=Z.getProvider("app-compat").getImmediate(),pe=Z.getProvider("firestore").getImmediate();return j($e,pe)},"PUBLIC").setServiceProps(Object.assign({},ir)))})(rt,(j,Z)=>new _e(j,Z,new me)),rt.registerVersion("@firebase/firestore-compat","0.1.17")}(Ot.Z);var an=k(3385),An=k(7128),or=k(127);function kn(rt,j){return function nn(rt,j=w.z){return new G.y(Z=>{let $e;return null!=j?j.schedule(()=>{$e=rt.onSnapshot({includeMetadataChanges:!0},Z)}):$e=rt.onSnapshot({includeMetadataChanges:!0},Z),()=>{null!=$e&&$e()}})}(rt,j)}function Kn(rt,j){return kn(rt,j).pipe((0,Me.U)(Z=>({payload:Z,type:"query"})))}function Et(rt,j){return Kn(rt,j).pipe((0,De.O)(void 0),(0,oe.G)(),(0,Me.U)(([Z,$e])=>{const pe=$e.payload.docChanges(),Ye=pe.map(ct=>({type:ct.type,payload:ct}));return Z&&JSON.stringify(Z.payload.metadata)!==JSON.stringify($e.payload.metadata)&&$e.payload.docs.forEach((ct,le)=>{const re=pe.find(Be=>Be.doc.ref.isEqual(ct.ref)),ce=null==Z?void 0:Z.payload.docs.find(Be=>Be.ref.isEqual(ct.ref));re&&JSON.stringify(re.doc.metadata)===JSON.stringify(ct.metadata)||!re&&ce&&JSON.stringify(ce.metadata)===JSON.stringify(ct.metadata)||Ye.push({type:"modified",payload:{oldIndex:le,newIndex:le,type:"modified",doc:ct}})}),Ye}))}function ke(rt,j,Z){return Et(rt,Z).pipe((0,ne.R)(($e,pe)=>function Se(rt,j,Z){return j.forEach($e=>{Z.indexOf($e.type)>-1&&(rt=function Mt(rt,j){switch(j.type){case"added":if(!rt[j.newIndex]||!rt[j.newIndex].doc.ref.isEqual(j.doc.ref))return tt(rt,j.newIndex,0,j);break;case"modified":if(null==rt[j.oldIndex]||rt[j.oldIndex].doc.ref.isEqual(j.doc.ref)){if(j.oldIndex!==j.newIndex){const Z=rt.slice();return Z.splice(j.oldIndex,1),Z.splice(j.newIndex,0,j),Z}return tt(rt,j.newIndex,1,j)}break;case"removed":if(rt[j.oldIndex]&&rt[j.oldIndex].doc.ref.isEqual(j.doc.ref))return tt(rt,j.oldIndex,1)}return rt}(rt,$e))}),rt}($e,pe.map(Ye=>Ye.payload),j),[]),(0,de.x)(),(0,Me.U)($e=>$e.map(pe=>({type:pe.type,payload:pe}))))}function tt(rt,j,Z,...$e){const pe=rt.slice();return pe.splice(j,Z,...$e),pe}function Ut(rt){return(!rt||0===rt.length)&&(rt=["added","removed","modified"]),rt}class kt{constructor(j,Z,$e){this.ref=j,this.query=Z,this.afs=$e}stateChanges(j){let Z=Et(this.query,this.afs.schedulers.outsideAngular);return j&&j.length>0&&(Z=Z.pipe((0,Me.U)($e=>$e.filter(pe=>j.indexOf(pe.type)>-1)))),Z.pipe((0,De.O)(void 0),(0,oe.G)(),(0,Le.h)(([$e,pe])=>pe.length>0||!$e),(0,Me.U)(([$e,pe])=>pe),Te.iC)}auditTrail(j){return this.stateChanges(j).pipe((0,ne.R)((Z,$e)=>[...Z,...$e],[]))}snapshotChanges(j){const Z=Ut(j);return ke(this.query,Z,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(j={}){return Kn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)(Z=>Z.payload.docs.map($e=>j.idField?Object.assign(Object.assign({},$e.data()),{[j.idField]:$e.id}):$e.data())),Te.iC)}get(j){return(0,ve.D)(this.query.get(j)).pipe(Te.iC)}add(j){return this.ref.add(j)}doc(j){return new xt(this.ref.doc(j),this.afs)}}class xt{constructor(j,Z){this.ref=j,this.afs=Z}set(j,Z){return this.ref.set(j,Z)}update(j){return this.ref.update(j)}delete(){return this.ref.delete()}collection(j,Z){const $e=this.ref.collection(j),{ref:pe,query:Ye}=ln($e,Z);return new kt(pe,Ye,this.afs)}snapshotChanges(){return function xn(rt,j){return kn(rt,j).pipe((0,De.O)(void 0),(0,oe.G)(),(0,Me.U)(([Z,$e])=>$e.exists?(null==Z?void 0:Z.exists)?{payload:$e,type:"modified"}:{payload:$e,type:"added"}:{payload:$e,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(j={}){return this.snapshotChanges().pipe((0,Me.U)(({payload:Z})=>j.idField?Object.assign(Object.assign({},Z.data()),{[j.idField]:Z.id}):Z.data()))}get(j){return(0,ve.D)(this.ref.get(j)).pipe(Te.iC)}}class Dn{constructor(j,Z){this.query=j,this.afs=Z}stateChanges(j){return j&&0!==j.length?Et(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)(Z=>Z.filter($e=>j.indexOf($e.type)>-1)),(0,Le.h)(Z=>Z.length>0),Te.iC):Et(this.query,this.afs.schedulers.outsideAngular).pipe(Te.iC)}auditTrail(j){return this.stateChanges(j).pipe((0,ne.R)((Z,$e)=>[...Z,...$e],[]))}snapshotChanges(j){const Z=Ut(j);return ke(this.query,Z,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(j={}){return Kn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)($e=>$e.payload.docs.map(pe=>j.idField?Object.assign({[j.idField]:pe.id},pe.data()):pe.data())),Te.iC)}get(j){return(0,ve.D)(this.query.get(j)).pipe(Te.iC)}}const Jn=new c.OlP("angularfire2.enableFirestorePersistence"),Xn=new c.OlP("angularfire2.firestore.persistenceSettings"),yn=new c.OlP("angularfire2.firestore.settings"),Bn=new c.OlP("angularfire2.firestore.use-emulator");function ln(rt,j=(Z=>Z)){return{query:j(rt),ref:rt}}let fn=(()=>{class rt{constructor(Z,$e,pe,Ye,ct,le,re,ce,Be,X,ie,U,J,Q,be,Xe,Tt){this.schedulers=re;const Yt=(0,ot.on)(Z,le,$e),Cn=Be;X&&(0,an.nw)(Yt,le,ie,J,Q,be,U,Xe),[this.firestore,this.persistenceEnabled$]=(0,ot.cc)(`${Yt.name}.firestore`,"AngularFirestore",Yt.name,()=>{const Fn=le.runOutsideAngular(()=>Yt.firestore());if(Ye&&Fn.settings(Ye),Cn&&Fn.useEmulator(...Cn),pe&&!(0,it.PM)(ct)){const Rn=()=>{try{return(0,ve.D)(Fn.enablePersistence(ce||void 0).then(()=>!0,()=>!1))}catch(gr){return"undefined"!=typeof console&&console.warn(gr),(0,Ie.of)(!1)}};return[Fn,le.runOutsideAngular(Rn)]}return[Fn,(0,Ie.of)(!1)]},[Ye,Cn,pe])}collection(Z,$e){let pe;pe="string"==typeof Z?this.firestore.collection(Z):Z;const{ref:Ye,query:ct}=ln(pe,$e),le=this.schedulers.ngZone.run(()=>Ye);return new kt(le,ct,this)}collectionGroup(Z,$e){const pe=$e||(ct=>ct),Ye=this.firestore.collectionGroup(Z);return new Dn(pe(Ye),this)}doc(Z){let $e;$e="string"==typeof Z?this.firestore.doc(Z):Z;const pe=this.schedulers.ngZone.run(()=>$e);return new xt(pe,this)}createId(){return this.firestore.collection("_").doc().id}}return rt.\u0275fac=function(Z){return new(Z||rt)(c.LFG(ot.Dh),c.LFG(ot.xv,8),c.LFG(Jn,8),c.LFG(yn,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Te.HU),c.LFG(Xn,8),c.LFG(Bn,8),c.LFG(an.zQ,8),c.LFG(an.Qv,8),c.LFG(an.L6,8),c.LFG(an._Q,8),c.LFG(an.rT,8),c.LFG(an.lh,8),c.LFG(an.f7,8),c.LFG(An.nm,8))},rt.\u0275prov=c.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"any"}),rt})(),Tn=(()=>{class rt{constructor(){or.Z.registerVersion("angularfire",Te.q4.full,"fst-compat")}static enablePersistence(Z){return{ngModule:rt,providers:[{provide:Jn,useValue:!0},{provide:Xn,useValue:Z}]}}}return rt.\u0275fac=function(Z){return new(Z||rt)},rt.\u0275mod=c.oAB({type:rt}),rt.\u0275inj=c.cJS({providers:[fn]}),rt})()},2011:(Qt,nt,k)=>{k.d(nt,{Dh:()=>oe,GT:()=>Te,Ot:()=>De,cc:()=>it,hO:()=>ot,on:()=>ne,pX:()=>Ie,xv:()=>Me});var c=k(5e3),w=k(127),G=k(880);Qt=k.hmd(Qt);const ve=["ngOnDestroy"],Ie=(Je,lt,wt,We={})=>new Proxy(Je,{get:(Re,at)=>wt.runOutsideAngular(()=>{var It;if(Je[at])return(null===(It=null==We?void 0:We.spy)||void 0===It?void 0:It.get)&&We.spy.get(at,Je[at]),Je[at];if(ve.indexOf(at)>-1)return()=>{};const Ne=lt.toPromise().then(St=>{const ue=St&&St[at];return"function"==typeof ue?ue.bind(St):ue&&ue.then?ue.then(me=>wt.run(()=>me)):wt.run(()=>ue)});return new Proxy(()=>{},{get:(St,ue)=>Ne[ue],apply:(St,ue,me)=>Ne.then(_e=>{var xe;const He=_e&&_e(...me);return(null===(xe=null==We?void 0:We.spy)||void 0===xe?void 0:xe.apply)&&We.spy.apply(at,me,He),He})})})}),Te=(Je,lt)=>{lt.forEach(wt=>{Object.getOwnPropertyNames(wt.prototype||wt).forEach(We=>{Object.defineProperty(Je.prototype,We,Object.getOwnPropertyDescriptor(wt.prototype||wt,We))})})};class De{constructor(lt){return lt}}const oe=new c.OlP("angularfire2.app.options"),Me=new c.OlP("angularfire2.app.name");function ne(Je,lt,wt){const Re="object"==typeof wt&&wt||{};Re.name=Re.name||"string"==typeof wt&&wt||"[DEFAULT]";const It=w.Z.apps.filter(Ne=>Ne&&Ne.name===Re.name)[0]||lt.runOutsideAngular(()=>w.Z.initializeApp(Je,Re));try{JSON.stringify(Je)!==JSON.stringify(It.options)&&de("error",`${It.name} Firebase App already initialized with different options${Qt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ne){}return new De(It)}const de=(Je,...lt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Je](...lt)},Le={provide:De,useFactory:ne,deps:[oe,c.R0b,[new c.FiY,Me]]};let ot=(()=>{class Je{constructor(wt){w.Z.registerVersion("angularfire",G.q4.full,"core"),w.Z.registerVersion("angularfire",G.q4.full,"app-compat"),w.Z.registerVersion("angular",c.q4F.full,wt.toString())}static initializeApp(wt,We){return{ngModule:Je,providers:[{provide:oe,useValue:wt},{provide:Me,useValue:We}]}}}return Je.\u0275fac=function(wt){return new(wt||Je)(c.LFG(c.Lbi))},Je.\u0275mod=c.oAB({type:Je}),Je.\u0275inj=c.cJS({providers:[Le]}),Je})();function it(Je,lt,wt,We,Re){const[,at,It]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===Je)||[];if(at)return function Dt(Je,lt){try{return Je.toString()===lt.toString()}catch(wt){return Je===lt}}(Re,It)||(Pe("error",`${lt} was already initialized on the ${wt} Firebase App with different settings.${Ot?" You may need to reload as Firebase is not HMR aware.":""}`),Pe("warn",{is:Re,was:It})),at;{const Ne=We();return globalThis.\u0275AngularfireInstanceCache.push([Je,Ne,Re]),Ne}}const Ot=!!Qt.hot,Pe=(Je,...lt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Je](...lt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(Qt,nt,k)=>{k.d(nt,{q4:()=>Qr,iC:()=>vt,HU:()=>wr,vb:()=>Is,JM:()=>$i,nk:()=>bs,u3:()=>L});var c=k(5e3),w=k(5867),G=k(5861),ve=k(9681),Ie=k(2090),Te=k(4859),De=k(1877);k(2833);const Me="@firebase/remote-config",it=new Ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vt{constructor(y,x,ae,Ze){this.client=y,this.storage=x,this.storageCache=ae,this.logger=Ze}isCachedDataFresh(y,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ae=Date.now()-x,Ze=ae<=y;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ae}. Cache max age millis (minimumFetchIntervalMillis setting): ${y}. Is cache hit: ${Ze}.`),Ze}fetch(y){var x=this;return(0,G.Z)(function*(){const[ae,Ze]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Ze&&x.isCachedDataFresh(y.cacheMaxAgeMillis,ae))return Ze;y.eTag=Ze&&Ze.eTag;const At=yield x.client.fetch(y),Lt=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===At.status&&Lt.push(x.storage.setLastSuccessfulFetchResponse(At)),yield Promise.all(Lt),At})()}}function cn(E=navigator){return E.languages&&E.languages[0]||E.language}class bt{constructor(y,x,ae,Ze,At,Lt){this.firebaseInstallations=y,this.sdkVersion=x,this.namespace=ae,this.projectId=Ze,this.apiKey=At,this.appId=Lt}fetch(y){var x=this;return(0,G.Z)(function*(){const[ae,Ze]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Lt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,hr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":y.eTag||"*"},Mr={sdk_version:x.sdkVersion,app_instance_id:ae,app_instance_id_token:Ze,app_id:x.appId,language_code:cn()},ur={method:"POST",headers:hr,body:JSON.stringify(Mr)},fr=fetch(Lt,ur),$n=new Promise((zn,qs)=>{y.signal.addEventListener(()=>{const ss=new Error("The operation was aborted.");ss.name="AbortError",qs(ss)})});let Yi;try{yield Promise.race([fr,$n]),Yi=yield fr}catch(zn){let qs="fetch-client-network";throw"AbortError"===zn.name&&(qs="fetch-timeout"),it.create(qs,{originalErrorMessage:zn.message})}let is=Yi.status;const Pt=Yi.headers.get("ETag")||void 0;let ar,ro;if(200===Yi.status){let zn;try{zn=yield Yi.json()}catch(qs){throw it.create("fetch-client-parse",{originalErrorMessage:qs.message})}ar=zn.entries,ro=zn.state}if("INSTANCE_STATE_UNSPECIFIED"===ro?is=500:"NO_CHANGE"===ro?is=304:("NO_TEMPLATE"===ro||"EMPTY_CONFIG"===ro)&&(ar={}),304!==is&&200!==is)throw it.create("fetch-status",{httpStatus:is});return{status:is,eTag:Pt,config:ar}})()}}class rn{constructor(y,x){this.client=y,this.storage=x}fetch(y){var x=this;return(0,G.Z)(function*(){const ae=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(y,ae)})()}attemptFetch(y,{throttleEndTimeMillis:x,backoffCount:ae}){var Ze=this;return(0,G.Z)(function*(){yield function qt(E,y){return new Promise((x,ae)=>{const Ze=Math.max(y-Date.now(),0),At=setTimeout(x,Ze);E.addEventListener(()=>{clearTimeout(At),ae(it.create("fetch-throttle",{throttleEndTimeMillis:y}))})})}(y.signal,x);try{const At=yield Ze.client.fetch(y);return yield Ze.storage.deleteThrottleMetadata(),At}catch(At){if(!function Jt(E){if(!(E instanceof Ie.ZR&&E.customData))return!1;const y=Number(E.customData.httpStatus);return 429===y||500===y||503===y||504===y}(At))throw At;const Lt={throttleEndTimeMillis:Date.now()+(0,Ie.$s)(ae),backoffCount:ae+1};return yield Ze.storage.setThrottleMetadata(Lt),Ze.attemptFetch(y,Lt)}})()}}class Ce{constructor(y,x,ae,Ze,At){this.app=y,this._client=x,this._storageCache=ae,this._storage=Ze,this._logger=At,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ke(E,y){const x=E.target.error||void 0;return it.create(y,{originalErrorMessage:x&&x.message})}const Ct="app_namespace_store";class ir{constructor(y,x,ae,Ze=function En(){return new Promise((E,y)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=ae=>{y(Ke(ae,"storage-open"))},x.onsuccess=ae=>{E(ae.target.result)},x.onupgradeneeded=ae=>{0===ae.oldVersion&&ae.target.result.createObjectStore(Ct,{keyPath:"compositeKey"})}}catch(x){y(it.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=y,this.appName=x,this.namespace=ae,this.openDbPromise=Ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(y){return this.set("last_fetch_status",y)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(y){return this.set("last_successful_fetch_timestamp_millis",y)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(y){return this.set("last_successful_fetch_response",y)}getActiveConfig(){return this.get("active_config")}setActiveConfig(y){return this.set("active_config",y)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(y){return this.set("active_config_etag",y)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(y){return this.set("throttle_metadata",y)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(y){var x=this;return(0,G.Z)(function*(){const ae=yield x.openDbPromise;return new Promise((Ze,At)=>{const hr=ae.transaction([Ct],"readonly").objectStore(Ct),Mr=x.createCompositeKey(y);try{const ur=hr.get(Mr);ur.onerror=fr=>{At(Ke(fr,"storage-get"))},ur.onsuccess=fr=>{const $n=fr.target.result;Ze($n?$n.value:void 0)}}catch(ur){At(it.create("storage-get",{originalErrorMessage:ur&&ur.message}))}})})()}set(y,x){var ae=this;return(0,G.Z)(function*(){const Ze=yield ae.openDbPromise;return new Promise((At,Lt)=>{const Mr=Ze.transaction([Ct],"readwrite").objectStore(Ct),ur=ae.createCompositeKey(y);try{const fr=Mr.put({compositeKey:ur,value:x});fr.onerror=$n=>{Lt(Ke($n,"storage-set"))},fr.onsuccess=()=>{At()}}catch(fr){Lt(it.create("storage-set",{originalErrorMessage:fr&&fr.message}))}})})()}delete(y){var x=this;return(0,G.Z)(function*(){const ae=yield x.openDbPromise;return new Promise((Ze,At)=>{const hr=ae.transaction([Ct],"readwrite").objectStore(Ct),Mr=x.createCompositeKey(y);try{const ur=hr.delete(Mr);ur.onerror=fr=>{At(Ke(fr,"storage-delete"))},ur.onsuccess=()=>{Ze()}}catch(ur){At(it.create("storage-delete",{originalErrorMessage:ur&&ur.message}))}})})()}createCompositeKey(y){return[this.appId,this.appName,this.namespace,y].join()}}class sr{constructor(y){this.storage=y}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var y=this;return(0,G.Z)(function*(){const x=y.storage.getLastFetchStatus(),ae=y.storage.getLastSuccessfulFetchTimestampMillis(),Ze=y.storage.getActiveConfig(),At=yield x;At&&(y.lastFetchStatus=At);const Lt=yield ae;Lt&&(y.lastSuccessfulFetchTimestampMillis=Lt);const hr=yield Ze;hr&&(y.activeConfig=hr)})()}setLastFetchStatus(y){return this.lastFetchStatus=y,this.storage.setLastFetchStatus(y)}setLastSuccessfulFetchTimestampMillis(y){return this.lastSuccessfulFetchTimestampMillis=y,this.storage.setLastSuccessfulFetchTimestampMillis(y)}setActiveConfig(y){return this.activeConfig=y,this.storage.setActiveConfig(y)}}function or(){return nn.apply(this,arguments)}function nn(){return(nn=(0,G.Z)(function*(){if(!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch(E){return!1}})).apply(this,arguments)}!function Un(){(0,ve._registerComponent)(new Te.wA("remote-config",function E(y,{instanceIdentifier:x}){const ae=y.getProvider("app").getImmediate(),Ze=y.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw it.create("registration-window");if(!(0,Ie.hl)())throw it.create("indexed-db-unavailable");const{projectId:At,apiKey:Lt,appId:hr}=ae.options;if(!At)throw it.create("registration-project-id");if(!Lt)throw it.create("registration-api-key");if(!hr)throw it.create("registration-app-id");const Mr=new ir(hr,ae.name,x=x||"firebase"),ur=new sr(Mr),fr=new De.Yd(Me);fr.logLevel=De.in.ERROR;const $n=new bt(Ze,ve.SDK_VERSION,x,At,Lt,hr),Yi=new rn($n,Mr),is=new Vt(Yi,Mr,ur,fr),Pt=new Ce(ae,is,ur,Mr,fr);return function It(E){const y=(0,Ie.m9)(E);y._initializePromise||(y._initializePromise=y._storageCache.loadFromStorage().then(()=>{y._isInitializationComplete=!0}))}(Pt),Pt},"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(Me,"0.3.7"),(0,ve.registerVersion)(Me,"0.3.7","esm2017")}();const kn="/firebase-messaging-sw.js",xn="/firebase-cloud-messaging-push-scope",Kn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ke="google.c.a.c_id",Se="google.c.a.c_l",tt="google.c.a.ts",Mt="google.c.a.e";var kt=(()=>{return(E=kt||(kt={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",kt;var E})();function xt(E){const y=new Uint8Array(E);return btoa(String.fromCharCode(...y)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Dn(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ae=atob(x),Ze=new Uint8Array(ae.length);for(let At=0;At<ae.length;++At)Ze[At]=ae.charCodeAt(At);return Ze}const Jn="fcm_token_details_db",yn="fcm_token_object_Store";function Bn(E){return ln.apply(this,arguments)}function ln(){return ln=(0,G.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(At=>At.name).includes(Jn))return null;let y=null;return(yield(0,Ie.X3)(Jn,5,function(){var ae=(0,G.Z)(function*(Ze,At,Lt,hr){var Mr;if(At<2||!Ze.objectStoreNames.contains(yn))return;const ur=hr.objectStore(yn),fr=yield ur.index("fcmSenderId").get(E);if(yield ur.clear(),fr)if(2===At){const $n=fr;if(!$n.auth||!$n.p256dh||!$n.endpoint)return;y={token:$n.fcmToken,createTime:null!==(Mr=$n.createTime)&&void 0!==Mr?Mr:Date.now(),subscriptionOptions:{auth:$n.auth,p256dh:$n.p256dh,endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:"string"==typeof $n.vapidKey?$n.vapidKey:xt($n.vapidKey)}}}else if(3===At){const $n=fr;y={token:$n.fcmToken,createTime:$n.createTime,subscriptionOptions:{auth:xt($n.auth),p256dh:xt($n.p256dh),endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:xt($n.vapidKey)}}}else if(4===At){const $n=fr;y={token:$n.fcmToken,createTime:$n.createTime,subscriptionOptions:{auth:xt($n.auth),p256dh:xt($n.p256dh),endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:xt($n.vapidKey)}}}});return function(Ze,At,Lt,hr){return ae.apply(this,arguments)}}())).close(),yield(0,Ie.Lj)(Jn),yield(0,Ie.Lj)("fcm_vapid_details_db"),yield(0,Ie.Lj)("undefined"),fn(y)?y:null}),ln.apply(this,arguments)}function fn(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:y}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof y.auth&&y.auth.length>0&&"string"==typeof y.p256dh&&y.p256dh.length>0&&"string"==typeof y.endpoint&&y.endpoint.length>0&&"string"==typeof y.swScope&&y.swScope.length>0&&"string"==typeof y.vapidKey&&y.vapidKey.length>0}const j="firebase-messaging-store";let Z=null;function $e(){return Z||(Z=(0,Ie.X3)("firebase-messaging-database",1,(E,y)=>{0===y&&E.createObjectStore(j)})),Z}function pe(E){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,G.Z)(function*(E){const y=Be(E),ae=yield(yield $e()).transaction(j).objectStore(j).get(y);if(ae)return ae;{const Ze=yield Bn(E.appConfig.senderId);if(Ze)return yield ct(E,Ze),Ze}})).apply(this,arguments)}function ct(E,y){return le.apply(this,arguments)}function le(){return(le=(0,G.Z)(function*(E,y){const x=Be(E),Ze=(yield $e()).transaction(j,"readwrite");return yield Ze.objectStore(j).put(y,x),yield Ze.complete,y})).apply(this,arguments)}function re(E){return ce.apply(this,arguments)}function ce(){return(ce=(0,G.Z)(function*(E){const y=Be(E),ae=(yield $e()).transaction(j,"readwrite");yield ae.objectStore(j).delete(y),yield ae.complete})).apply(this,arguments)}function Be({appConfig:E}){return E.appId}const ie=new Ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function U(E,y){return J.apply(this,arguments)}function J(){return(J=(0,G.Z)(function*(E,y){const x=yield Cn(E),ae=Rn(y),Ze={method:"POST",headers:x,body:JSON.stringify(ae)};let At;try{At=yield(yield fetch(Yt(E.appConfig),Ze)).json()}catch(Lt){throw ie.create("token-subscribe-failed",{errorInfo:Lt})}if(At.error)throw ie.create("token-subscribe-failed",{errorInfo:At.error.message});if(!At.token)throw ie.create("token-subscribe-no-token");return At.token})).apply(this,arguments)}function Q(E,y){return be.apply(this,arguments)}function be(){return(be=(0,G.Z)(function*(E,y){const x=yield Cn(E),ae=Rn(y.subscriptionOptions),Ze={method:"PATCH",headers:x,body:JSON.stringify(ae)};let At;try{At=yield(yield fetch(`${Yt(E.appConfig)}/${y.token}`,Ze)).json()}catch(Lt){throw ie.create("token-update-failed",{errorInfo:Lt})}if(At.error)throw ie.create("token-update-failed",{errorInfo:At.error.message});if(!At.token)throw ie.create("token-update-no-token");return At.token})).apply(this,arguments)}function Xe(E,y){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,G.Z)(function*(E,y){const ae={method:"DELETE",headers:yield Cn(E)};try{const At=yield(yield fetch(`${Yt(E.appConfig)}/${y}`,ae)).json();if(At.error)throw ie.create("token-unsubscribe-failed",{errorInfo:At.error.message})}catch(Ze){throw ie.create("token-unsubscribe-failed",{errorInfo:Ze})}})).apply(this,arguments)}function Yt({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Cn(E){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,G.Z)(function*({appConfig:E,installations:y}){const x=yield y.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Rn({p256dh:E,auth:y,endpoint:x,vapidKey:ae}){const Ze={web:{endpoint:x,auth:y,p256dh:E}};return ae!==Kn&&(Ze.web.applicationPubKey=ae),Ze}const gr=6048e5;function Hr(E){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,G.Z)(function*(E){const y=yield Hn(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:y.endpoint,auth:xt(y.getKey("auth")),p256dh:xt(y.getKey("p256dh"))},ae=yield pe(E.firebaseDependencies);if(ae){if(Yn(ae.subscriptionOptions,x))return Date.now()>=ae.createTime+gr?Ge(E,{token:ae.token,createTime:Date.now(),subscriptionOptions:x}):ae.token;try{yield Xe(E.firebaseDependencies,ae.token)}catch(Ze){console.warn(Ze)}return ft(E.firebaseDependencies,x)}return ft(E.firebaseDependencies,x)})).apply(this,arguments)}function mr(E){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,G.Z)(function*(E){const y=yield pe(E.firebaseDependencies);y&&(yield Xe(E.firebaseDependencies,y.token),yield re(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Ge(E,y){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,G.Z)(function*(E,y){try{const x=yield Q(E.firebaseDependencies,y),ae=Object.assign(Object.assign({},y),{token:x,createTime:Date.now()});return yield ct(E.firebaseDependencies,ae),x}catch(x){throw yield mr(E),x}})).apply(this,arguments)}function ft(E,y){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,G.Z)(function*(E,y){const ae={token:yield U(E,y),createTime:Date.now(),subscriptionOptions:y};return yield ct(E,ae),ae.token})).apply(this,arguments)}function Hn(E,y){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,G.Z)(function*(E,y){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Dn(y)})})).apply(this,arguments)}function Yn(E,y){return y.vapidKey===E.vapidKey&&y.endpoint===E.endpoint&&y.auth===E.auth&&y.p256dh===E.p256dh}function Dr(E){const y={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Qn(E,y){if(!y.notification)return;E.notification={};const x=y.notification.title;x&&(E.notification.title=x);const ae=y.notification.body;ae&&(E.notification.body=ae);const Ze=y.notification.image;Ze&&(E.notification.image=Ze)}(y,E),function kr(E,y){!y.data||(E.data=y.data)}(y,E),function Mi(E,y){if(!y.fcmOptions)return;E.fcmOptions={};const x=y.fcmOptions.link;x&&(E.fcmOptions.link=x);const ae=y.fcmOptions.analytics_label;ae&&(E.fcmOptions.analyticsLabel=ae)}(y,E),y}function jn(E){return"object"==typeof E&&!!E&&ke in E}function bi(E,y){const x=[];for(let ae=0;ae<E.length;ae++)x.push(E.charAt(ae)),ae<y.length&&x.push(y.charAt(ae));return x.join("")}function Xr(E){return ie.create("missing-app-config-values",{valueName:E})}bi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wr{constructor(y,x,ae){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ze=function Oi(E){if(!E||!E.options)throw Xr("App Configuration Object");if(!E.name)throw Xr("App Name");const y=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const ae of y)if(!x[ae])throw Xr(ae);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(y);this.firebaseDependencies={app:y,appConfig:Ze,installations:x,analyticsProvider:ae}}_delete(){return Promise.resolve()}}function Fr(E){return xr.apply(this,arguments)}function xr(){return(xr=(0,G.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(kn,{scope:xn}),E.swRegistration.update().catch(()=>{})}catch(y){throw ie.create("failed-service-worker-registration",{browserErrorMessage:y.message})}})).apply(this,arguments)}function ze(E,y){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,G.Z)(function*(E,y){if(!y&&!E.swRegistration&&(yield Fr(E)),y||!E.swRegistration){if(!(y instanceof ServiceWorkerRegistration))throw ie.create("invalid-sw-registration");E.swRegistration=y}})).apply(this,arguments)}function qe(E,y){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,G.Z)(function*(E,y){y?E.vapidKey=y:E.vapidKey||(E.vapidKey=Kn)})).apply(this,arguments)}function sn(){return(sn=(0,G.Z)(function*(E,y){if(!navigator)throw ie.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ie.create("permission-blocked");return yield qe(E,null==y?void 0:y.vapidKey),yield ze(E,null==y?void 0:y.serviceWorkerRegistration),Hr(E)})).apply(this,arguments)}function er(E,y,x){return br.apply(this,arguments)}function br(){return(br=(0,G.Z)(function*(E,y,x){const ae=tr(y);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(ae,{message_id:x[ke],message_name:x[Se],message_time:x[tt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tr(E){switch(E){case kt.NOTIFICATION_CLICKED:return"notification_open";case kt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Lr(){return(Lr=(0,G.Z)(function*(E,y){const x=y.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===kt.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Dr(x)):E.onMessageHandler.next(Dr(x)));const ae=x.data;jn(ae)&&"1"===ae[Mt]&&(yield er(E,x.messageType,ae))})).apply(this,arguments)}const Nr="@firebase/messaging",ri=E=>{const y=new Wr(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Wn(E,y){return Lr.apply(this,arguments)}(y,x)),y},Ws=E=>{const y=E.getProvider("messaging").getImmediate();return{getToken:ae=>function Bt(E,y){return sn.apply(this,arguments)}(y,ae)}};function yi(){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,G.Z)(function*(){try{yield(0,Ie.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,Ie.hl)()&&(0,Ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ei(){(0,ve._registerComponent)(new Te.wA("messaging",ri,"PUBLIC")),(0,ve._registerComponent)(new Te.wA("messaging-internal",Ws,"PRIVATE")),(0,ve.registerVersion)(Nr,"0.9.12"),(0,ve.registerVersion)(Nr,"0.9.12","esm2017")}();var xi=k(7982),ks=k(4408),Fs=k(7565);const _i=new class hi extends Fs.v{}(class Ki extends ks.o{constructor(y,x){super(y,x),this.scheduler=y,this.work=x}schedule(y,x=0){return x>0?super.schedule(y,x):(this.delay=x,this.state=y,this.scheduler.flush(this),this)}execute(y,x){return x>0||this.closed?super.execute(y,x):this._execute(y,x)}requestAsyncId(y,x,ae=0){return null!=ae&&ae>0||null==ae&&this.delay>0?super.requestAsyncId(y,x,ae):y.flush(this)}});var qi=k(4986),Zi=k(8306),vi=k(8505),Vr=k(9468),Ni=k(5363);const Qr=new c.GfV("7.3.0"),ws="__angularfire_symbol__analyticsIsSupportedValue",ns="__angularfire_symbol__analyticsIsSupported",_r="__angularfire_symbol__remoteConfigIsSupportedValue",Bi="__angularfire_symbol__remoteConfigIsSupported",Di="__angularfire_symbol__messagingIsSupportedValue",Ur="__angularfire_symbol__messagingIsSupported";globalThis[ns]||(globalThis[ns]=(0,xi.Gb)().then(E=>globalThis[ws]=E).catch(()=>globalThis[ws]=!1)),globalThis[Ur]||(globalThis[Ur]=yi().then(E=>globalThis[Di]=E).catch(()=>globalThis[Di]=!1)),globalThis[Bi]||(globalThis[Bi]=or().then(E=>globalThis[_r]=E).catch(()=>globalThis[_r]=!1));const bs={async:()=>globalThis[ns],sync:()=>{const E=globalThis[ws];if(void 0===E)throw new Error((E=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${E} in the constructor, first ensure that ${E} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${E})\`.`)("Analytics"));return E}};function $i(E,y,x){if(y){if(1===y.length)return y[0];const At=y.filter(Lt=>Lt.app===x);if(1===At.length)return At[0]}return x.container.getProvider(E).getImmediate({optional:!0})}const Is=(E,y)=>{const x=y?[y]:(0,w.C6)(),ae=[];return x.forEach(Ze=>{Ze.container.getProvider(E).instances.forEach(Lt=>{ae.includes(Lt)||ae.push(Lt)})}),ae};function fi(){}class Sr{constructor(y,x=_i){this.zone=y,this.delegate=x}now(){return this.delegate.now()}schedule(y,x,ae){const Ze=this.zone;return this.delegate.schedule(function(Lt){Ze.runGuarded(()=>{y.apply(this,[Lt])})},x,ae)}}class Ri{constructor(y){this.zone=y,this.task=null}call(y,x){const ae=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fi,{},fi,fi)),x.pipe((0,vi.b)({next:ae,complete:ae,error:ae})).subscribe(y).add(ae)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wr=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Sr(Zone.current)),this.insideAngular=x.run(()=>new Sr(Zone.current,qi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function R(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function q(E){return R().ngZone.runOutsideAngular(()=>E())}function F(E){return R().ngZone.run(()=>E())}function vt(E){return R(),function Ft(E){return function(x){return(x=x.lift(new Ri(E.ngZone))).pipe((0,Vr.R)(E.outsideAngular),(0,Ni.Q)(E.insideAngular))}}(R())(E)}const gn=(E,y)=>function(){const ae=arguments;return y&&setTimeout(()=>{"scheduled"===y.state&&y.invoke()},10),F(()=>E.apply(void 0,ae))},L=(E,y)=>function(){let x;const ae=arguments;for(let At=0;At<arguments.length;At++)"function"==typeof ae[At]&&(y&&(x||(x=F(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fi,{},fi,fi)))),ae[At]=gn(ae[At],x));const Ze=q(()=>E.apply(this,ae));if(!y){if(Ze instanceof Zi.y){const At=R();return Ze.pipe((0,Vr.R)(At.outsideAngular),(0,Ni.Q)(At.insideAngular))}return F(()=>Ze)}return Ze instanceof Zi.y?Ze.pipe(vt):Ze instanceof Promise?F(()=>new Promise((At,Lt)=>Ze.then(hr=>F(()=>At(hr)),hr=>F(()=>Lt(hr))))):"function"==typeof Ze&&x?function(){return setTimeout(()=>{x&&"scheduled"===x.state&&x.invoke()},10),Ze.apply(this,arguments)}:F(()=>Ze)}},573:(Qt,nt,k)=>{k.d(nt,{$:()=>fr,A:()=>de,E:()=>Ve,G:()=>Yn,I:()=>ei,K:()=>re,L:()=>hi,M:()=>Zi,N:()=>vi,P:()=>Fa,Q:()=>Vr,R:()=>Xl,T:()=>qi,U:()=>ns,V:()=>_r,W:()=>ji,X:()=>Ft,Y:()=>L,Z:()=>y,_:()=>At,a:()=>Bs,a0:()=>Yi,a1:()=>Pt,a2:()=>ro,a3:()=>qs,a4:()=>Zs,a5:()=>Io,a6:()=>Do,a7:()=>To,a8:()=>Ys,a9:()=>jo,aA:()=>Po,aB:()=>Fu,aC:()=>Ir,aG:()=>Ln,aJ:()=>Qr,aa:()=>go,ab:()=>$o,ae:()=>So,af:()=>Au,ag:()=>io,aj:()=>fi,ak:()=>ao,am:()=>Ci,an:()=>Wo,ao:()=>Cn,ap:()=>ue,aq:()=>Yt,ar:()=>be,as:()=>wt,at:()=>cu,au:()=>ya,av:()=>We,aw:()=>Ne,ax:()=>_e,ay:()=>ce,az:()=>Ss,b:()=>Kt,c:()=>ci,d:()=>ru,e:()=>Pu,f:()=>tc,g:()=>nc,h:()=>Bc,i:()=>Nn,j:()=>Bu,k:()=>wa,l:()=>ka,m:()=>qc,n:()=>Yc,o:()=>oe,r:()=>Dl,s:()=>li,u:()=>nu,z:()=>it});var c=k(5861),w=k(2090),G=k(9681),ve=k(655),Ie=k(1877),Te=k(4859);const oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const it=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Dt=function ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ot=new w.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new Ie.Yd("@firebase/auth");function lt(D,...f){Je.logLevel<=Ie.in.ERROR&&Je.error(`Auth (${G.SDK_VERSION}): ${D}`,...f)}function wt(D,...f){throw It(D,...f)}function We(D,...f){return It(D,...f)}function Re(D,f,m){const A=Object.assign(Object.assign({},Dt()),{[f]:m});return new w.LL("auth","Firebase",A).create(f,{appName:D.name})}function at(D,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&wt(D,"argument-error"),Re(D,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function It(D,...f){if("string"!=typeof D){const m=f[0],A=[...f.slice(1)];return A[0]&&(A[0].appName=D.name),D._errorFactory.create(m,...A)}return Ot.create(D,...f)}function Ne(D,f,...m){if(!D)throw It(f,...m)}function St(D){const f="INTERNAL ASSERTION FAILED: "+D;throw lt(f),new Error(f)}function ue(D,f){D||St(f)}const me=new Map;function _e(D){ue(D instanceof Function,"Expected a class definition");let f=me.get(D);return f?(ue(f instanceof D,"Instance stored in cache mismatched with class"),f):(f=new D,me.set(D,f),f)}function fe(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function mt(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class qt{constructor(f,m){this.shortDelay=f,this.longDelay=m,ue(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,w.uI)()||(0,w.b$)()}get(){return function cn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mt()||(0,w.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jt(D,f){ue(D.emulator,"Emulator should always be set here");const{url:m}=D.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class rn{static initialize(f,m,A){this.fetchImpl=f,m&&(this.headersImpl=m),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pt=new qt(3e4,6e4);function Ce(D,f){return D.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:D.tenantId}):f}function Ke(D,f,m,A){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,c.Z)(function*(D,f,m,A,z={}){return en(D,z,(0,c.Z)(function*(){let se={},ut={};A&&("GET"===f?ut=A:se={body:JSON.stringify(A)});const Ht=(0,w.xO)(Object.assign({key:D.config.apiKey},ut)).slice(1),wn=yield D._getAdditionalHeaders();return wn["Content-Type"]="application/json",D.languageCode&&(wn["X-Firebase-Locale"]=D.languageCode),rn.fetch()(sr(D,D.config.apiHost,m,Ht),Object.assign({method:f,headers:wn,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function en(D,f,m){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(D,f,m){D._canInitEmulator=!1;const A=Object.assign(Object.assign({},dt),f);try{const z=new Un(D),se=yield Promise.race([m(),z.promise]);z.clearNetworkTimeout();const ut=yield se.json();if("needConfirmation"in ut)throw an(D,"account-exists-with-different-credential",ut);if(se.ok&&!("errorMessage"in ut))return ut;{const Ht=se.ok?ut.errorMessage:ut.error.message,[wn,bn]=Ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wn)throw an(D,"credential-already-in-use",ut);if("EMAIL_EXISTS"===wn)throw an(D,"email-already-in-use",ut);const pr=A[wn]||wn.toLowerCase().replace(/[_\s]+/g,"-");if(bn)throw Re(D,pr,bn);wt(D,pr)}}catch(z){if(z instanceof w.ZR)throw z;wt(D,"network-request-failed")}})).apply(this,arguments)}function En(D,f,m,A){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(D,f,m,A,z={}){const se=yield Ke(D,f,m,A,z);return"mfaPendingCredential"in se&&wt(D,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function sr(D,f,m,A){const z=`${f}${m}?${A}`;return D.config.emulator?Jt(D.config,z):`${D.config.apiScheme}://${z}`}class Un{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,A)=>{this.timer=setTimeout(()=>A(We(this.auth,"network-request-failed")),pt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function an(D,f,m){const A={appName:D.name};m.email&&(A.email=m.email),m.phoneNumber&&(A.phoneNumber=m.phoneNumber);const z=We(D,f,A);return z.customData._tokenResponse=m,z}function or(){return(or=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function nn(D,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xn(D,f){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Et(D){if(D)try{const f=new Date(Number(D));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function tt(){return(tt=(0,c.Z)(function*(D,f=!1){const m=(0,w.m9)(D),A=yield m.getIdToken(f),z=Ut(A);Ne(z&&z.exp&&z.auth_time&&z.iat,m.auth,"internal-error");const se="object"==typeof z.firebase?z.firebase:void 0,ut=null==se?void 0:se.sign_in_provider;return{claims:z,token:A,authTime:Et(Mt(z.auth_time)),issuedAtTime:Et(Mt(z.iat)),expirationTime:Et(Mt(z.exp)),signInProvider:ut||null,signInSecondFactor:(null==se?void 0:se.sign_in_second_factor)||null}})).apply(this,arguments)}function Mt(D){return 1e3*Number(D)}function Ut(D){const[f,m,A]=D.split(".");if(void 0===f||void 0===m||void 0===A)return lt("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,w.tV)(m);return z?JSON.parse(z):(lt("Failed to decode base64 JWT payload"),null)}catch(z){return lt("Caught error parsing JWT payload as JSON",z),null}}function xt(D,f){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(D,f,m=!1){if(m)return f;try{return yield f}catch(A){throw A instanceof w.ZR&&Jn(A)&&D.auth.currentUser===D&&(yield D.auth.signOut()),A}})).apply(this,arguments)}function Jn({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class Xn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const z=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const A=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),A)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class yn{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Et(this.lastLoginAt),this.creationTime=Et(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bn(D){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(D){var f;const m=D.auth,A=yield D.getIdToken(),z=yield xt(D,xn(m,{idToken:A}));Ne(null==z?void 0:z.users.length,m,"internal-error");const se=z.users[0];D._notifyReloadListener(se);const ut=(null===(f=se.providerUserInfo)||void 0===f?void 0:f.length)?j(se.providerUserInfo):[],Ht=rt(D.providerData,ut),pr=!!D.isAnonymous&&!(D.email&&se.passwordHash||(null==Ht?void 0:Ht.length)),Er={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:Ht,metadata:new yn(se.createdAt,se.lastLoginAt),isAnonymous:pr};Object.assign(D,Er)})).apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(D){const f=(0,w.m9)(D);yield Bn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function rt(D,f){return[...D.filter(A=>!f.some(z=>z.providerId===A.providerId)),...f]}function j(D){return D.map(f=>{var{providerId:m}=f,A=(0,ve._T)(f,["providerId"]);return{providerId:m,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function $e(){return($e=(0,c.Z)(function*(D,f){const m=yield en(D,{},(0,c.Z)(function*(){const A=(0,w.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:z,apiKey:se}=D.config,ut=sr(D,z,"/v1/token",`key=${se}`),Ht=yield D._getAdditionalHeaders();return Ht["Content-Type"]="application/x-www-form-urlencoded",rn.fetch()(ut,{method:"POST",headers:Ht,body:A})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Ne(f.idToken,"internal-error"),Ne(void 0!==f.idToken,"internal-error"),Ne(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function kt(D){const f=Ut(D);return Ne(f,"internal-error"),Ne(void 0!==f.exp,"internal-error"),Ne(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var A=this;return(0,c.Z)(function*(){return Ne(!A.accessToken||A.refreshToken,f,"user-token-expired"),m||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(f,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var A=this;return(0,c.Z)(function*(){const{accessToken:z,refreshToken:se,expiresIn:ut}=yield function Z(D,f){return $e.apply(this,arguments)}(f,m);A.updateTokensAndExpiration(z,se,Number(ut))})()}updateTokensAndExpiration(f,m,A){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(f,m){const{refreshToken:A,accessToken:z,expirationTime:se}=m,ut=new pe;return A&&(Ne("string"==typeof A,"internal-error",{appName:f}),ut.refreshToken=A),z&&(Ne("string"==typeof z,"internal-error",{appName:f}),ut.accessToken=z),se&&(Ne("number"==typeof se,"internal-error",{appName:f}),ut.expirationTime=se),ut}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new pe,this.toJSON())}_performRefresh(){return St("not implemented")}}function Ye(D,f){Ne("string"==typeof D||void 0===D,"internal-error",{appName:f})}class ct{constructor(f){var{uid:m,auth:A,stsTokenManager:z}=f,se=(0,ve._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=A,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new yn(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,c.Z)(function*(){const A=yield xt(m,m.stsTokenManager.getToken(m.auth,f));return Ne(A,m.auth,"internal-error"),m.accessToken!==A&&(m.accessToken=A,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),A})()}getIdTokenResult(f){return function Se(D){return tt.apply(this,arguments)}(this,f)}reload(){return function fn(D){return Tn.apply(this,arguments)}(this)}_assign(f){this!==f&&(Ne(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new ct(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var A=this;return(0,c.Z)(function*(){let z=!1;f.idToken&&f.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(f),z=!0),m&&(yield Bn(A)),yield A.auth._persistUserIfCurrent(A),z&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var f=this;return(0,c.Z)(function*(){const m=yield f.getIdToken();return yield xt(f,function An(D,f){return or.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var A,z,se,ut,Ht,wn,bn,pr;const Er=null!==(A=m.displayName)&&void 0!==A?A:void 0,Tr=null!==(z=m.email)&&void 0!==z?z:void 0,vo=null!==(se=m.phoneNumber)&&void 0!==se?se:void 0,Eo=null!==(ut=m.photoURL)&&void 0!==ut?ut:void 0,qd=null!==(Ht=m.tenantId)&&void 0!==Ht?Ht:void 0,eo=null!==(wn=m._redirectEventId)&&void 0!==wn?wn:void 0,cc=null!==(bn=m.createdAt)&&void 0!==bn?bn:void 0,Ol=null!==(pr=m.lastLoginAt)&&void 0!==pr?pr:void 0,{uid:Ha,emailVerified:Qc,isAnonymous:Jc,providerData:Or,stsTokenManager:Wu}=m;Ne(Ha&&Wu,f,"internal-error");const Ku=pe.fromJSON(this.name,Wu);Ne("string"==typeof Ha,f,"internal-error"),Ye(Er,f.name),Ye(Tr,f.name),Ne("boolean"==typeof Qc,f,"internal-error"),Ne("boolean"==typeof Jc,f,"internal-error"),Ye(vo,f.name),Ye(Eo,f.name),Ye(qd,f.name),Ye(eo,f.name),Ye(cc,f.name),Ye(Ol,f.name);const Xo=new ct({uid:Ha,auth:f,email:Tr,emailVerified:Qc,displayName:Er,isAnonymous:Jc,photoURL:Eo,phoneNumber:vo,tenantId:qd,stsTokenManager:Ku,createdAt:cc,lastLoginAt:Ol});return Or&&Array.isArray(Or)&&(Xo.providerData=Or.map(qu=>Object.assign({},qu))),eo&&(Xo._redirectEventId=eo),Xo}static _fromIdTokenResponse(f,m,A=!1){return(0,c.Z)(function*(){const z=new pe;z.updateFromServerResponse(m);const se=new ct({uid:m.localId,auth:f,stsTokenManager:z,isAnonymous:A});return yield Bn(se),se})()}}const re=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,A){var z=this;return(0,c.Z)(function*(){z.storage[m]=A})()}_get(m){var A=this;return(0,c.Z)(function*(){const z=A.storage[m];return void 0===z?null:z})()}_remove(m){var A=this;return(0,c.Z)(function*(){delete A.storage[m]})()}_addListener(m,A){}_removeListener(m,A){}}return D.type="NONE",D})();function ce(D,f,m){return`firebase:${D}:${f}:${m}`}class Be{constructor(f,m,A){this.persistence=f,this.auth=m,this.userKey=A;const{config:z,name:se}=this.auth;this.fullUserKey=ce(this.userKey,z.apiKey,se),this.fullPersistenceKey=ce("persistence",z.apiKey,se),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?ct._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,c.Z)(function*(){if(m.persistence===f)return;const A=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,A?m.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,A="authUser"){return(0,c.Z)(function*(){if(!m.length)return new Be(_e(re),f,A);const z=(yield Promise.all(m.map(function(){var bn=(0,c.Z)(function*(pr){if(yield pr._isAvailable())return pr});return function(pr){return bn.apply(this,arguments)}}()))).filter(bn=>bn);let se=z[0]||_e(re);const ut=ce(A,f.config.apiKey,f.name);let Ht=null;for(const bn of m)try{const pr=yield bn._get(ut);if(pr){const Er=ct._fromJSON(f,pr);bn!==se&&(Ht=Er),se=bn;break}}catch(pr){}const wn=z.filter(bn=>bn._shouldAllowMigration);return se._shouldAllowMigration&&wn.length?(se=wn[0],Ht&&(yield se._set(ut,Ht.toJSON())),yield Promise.all(m.map(function(){var bn=(0,c.Z)(function*(pr){if(pr!==se)try{yield pr._remove(ut)}catch(Er){}});return function(pr){return bn.apply(this,arguments)}}())),new Be(se,f,A)):new Be(se,f,A)})()}}function X(D){const f=D.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Q(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ie(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Xe(f))return"Blackberry";if(Tt(f))return"Webos";if(U(f))return"Safari";if((f.includes("chrome/")||J(f))&&!f.includes("edge/"))return"Chrome";if(be(f))return"Android";{const A=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function ie(D=(0,w.z$)()){return/firefox\//i.test(D)}function U(D=(0,w.z$)()){const f=D.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function J(D=(0,w.z$)()){return/crios\//i.test(D)}function Q(D=(0,w.z$)()){return/iemobile/i.test(D)}function be(D=(0,w.z$)()){return/android/i.test(D)}function Xe(D=(0,w.z$)()){return/blackberry/i.test(D)}function Tt(D=(0,w.z$)()){return/webos/i.test(D)}function Yt(D=(0,w.z$)()){return/iphone|ipad|ipod/i.test(D)}function Cn(D=(0,w.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function gr(D=(0,w.z$)()){return Yt(D)||be(D)||Tt(D)||Xe(D)||/windows phone/i.test(D)||Q(D)}function Jr(D,f=[]){let m;switch(D){case"Browser":m=X((0,w.z$)());break;case"Worker":m=`${X((0,w.z$)())}-${D}`;break;default:m=D}const A=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${G.SDK_VERSION}/${A}`}class mr{constructor(f,m,A){this.app=f,this.heartbeatServiceProvider=m,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ge(this),this.idTokenSubscription=new Ge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ot,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(f,m){var A=this;return m&&(this._popupRedirectResolver=_e(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var z,se;if(!A._deleted&&(A.persistenceManager=yield Be.create(A,f),!A._deleted)){if(null===(z=A._popupRedirectResolver)||void 0===z?void 0:z._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(ut){}yield A.initializeCurrentUser(m),A.lastNotifiedUid=(null===(se=A.currentUser)||void 0===se?void 0:se.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m)}})()}initializeCurrentUser(f){var m=this;return(0,c.Z)(function*(){var A;let z=yield m.assertedPersistence.getCurrentUser();if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const se=null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId,ut=null==z?void 0:z._redirectEventId,Ht=yield m.tryRedirectSignIn(f);(!se||se===ut)&&(null==Ht?void 0:Ht.user)&&(z=Ht.user)}return z?z._redirectEventId?(Ne(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===z._redirectEventId?m.directlySetCurrentUser(z):m.reloadAndSetCurrentUserOrClear(z)):m.reloadAndSetCurrentUserOrClear(z):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var m=this;return(0,c.Z)(function*(){let A=null;try{A=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(z){yield m._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,c.Z)(function*(){try{yield Bn(f)}catch(A){if("auth/network-request-failed"!==A.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function bt(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,c.Z)(function*(){const A=f?(0,w.m9)(f):null;return A&&Ne(A.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(A&&A._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,c.Z)(function*(){if(!m._deleted)return f&&Ne(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),m.queue((0,c.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(_e(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new w.LL("auth","Firebase",f())}onAuthStateChanged(f,m,A){return this.registerStateListener(this.authStateSubscription,f,m,A)}onIdTokenChanged(f,m,A){return this.registerStateListener(this.idTokenSubscription,f,m,A)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var A=this;return(0,c.Z)(function*(){const z=yield A.getOrInitRedirectPersistenceManager(m);return null===f?z.removeCurrentUser():z.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const A=f&&_e(f)||m._popupRedirectResolver;Ne(A,m,"argument-error"),m.redirectPersistenceManager=yield Be.create(m,[_e(A._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,c.Z)(function*(){var A,z;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(A=m._currentUser)||void 0===A?void 0:A._redirectEventId)===f?m._currentUser:(null===(z=m.redirectUser)||void 0===z?void 0:z._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,c.Z)(function*(){if(f===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,A,z){if(this._deleted)return()=>{};const se="function"==typeof m?m:m.next.bind(m),ut=this._isInitialized?Promise.resolve():this._initializationPromise;return Ne(ut,this,"internal-error"),ut.then(()=>se(this.currentUser)),"function"==typeof m?f.addObserver(m,A,z):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Jr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var m;const A={"X-Client-Version":f.clientVersion};f.app.options.appId&&(A["X-Firebase-gmpid"]=f.app.options.appId);const z=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return z&&(A["X-Firebase-Client"]=z),A})()}}function Ir(D){return(0,w.m9)(D)}class Ge{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,w.ne)(m=>this.observer=m)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ve(D,f,m){const A=Ir(D);Ne(A._canInitEmulator,A,"emulator-config-failed"),Ne(/^https?:\/\//.test(f),A,"invalid-emulator-scheme");const z=!!(null==m?void 0:m.disableWarnings),se=ft(f),{host:ut,port:Ht}=function Xt(D){const f=ft(D),m=/(\/\/)?([^?#/]+)/.exec(D.substr(f.length));if(!m)return{host:"",port:null};const A=m[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(A);if(z){const se=z[1];return{host:se,port:Hn(A.substr(se.length+1))}}{const[se,ut]=A.split(":");return{host:se,port:Hn(ut)}}}(f);A.config.emulator={url:`${se}//${ut}${null===Ht?"":`:${Ht}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:ut,port:Ht,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function Gn(){function D(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function ft(D){const f=D.indexOf(":");return f<0?"":D.substr(0,f+1)}function Hn(D){if(!D)return null;const f=Number(D);return isNaN(f)?null:f}class Yn{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return St("not implemented")}_getIdTokenResponse(f){return St("not implemented")}_linkToIdToken(f,m){return St("not implemented")}_getReauthenticationResolver(f){return St("not implemented")}}function Dr(D,f){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:resetPassword",Ce(D,f))})).apply(this,arguments)}function kr(D,f){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function jn(D,f){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:update",Ce(D,f))})).apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(D,f){return En(D,"POST","/v1/accounts:signInWithPassword",Ce(D,f))})).apply(this,arguments)}function Wr(D,f){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:sendOobCode",Ce(D,f))})).apply(this,arguments)}function xr(D,f){return ze.apply(this,arguments)}function ze(){return(ze=(0,c.Z)(function*(D,f){return Wr(D,f)})).apply(this,arguments)}function Fe(D,f){return qe.apply(this,arguments)}function qe(){return(qe=(0,c.Z)(function*(D,f){return Wr(D,f)})).apply(this,arguments)}function Nt(D,f){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(D,f){return Wr(D,f)})).apply(this,arguments)}function sn(D,f){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(D,f){return Wr(D,f)})).apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(D,f){return En(D,"POST","/v1/accounts:signInWithEmailLink",Ce(D,f))})).apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(D,f){return En(D,"POST","/v1/accounts:signInWithEmailLink",Ce(D,f))})).apply(this,arguments)}class Nr extends Yn{constructor(f,m,A,z=null){super("password",A),this._email=f,this._password=m,this._tenantId=z}static _fromEmailAndPassword(f,m){return new Nr(f,m,"password")}static _fromEmailAndCode(f,m,A=null){return new Nr(f,m,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function Oi(D,f){return Xr.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function br(D,f){return tr.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:wt(f,"internal-error")}})()}_linkToIdToken(f,m){var A=this;return(0,c.Z)(function*(){switch(A.signInMethod){case"password":return kr(f,{idToken:m,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Wn(D,f){return Lr.apply(this,arguments)}(f,{idToken:m,email:A._email,oobCode:A._password});default:wt(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Gr(D,f){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(D,f){return En(D,"POST","/v1/accounts:signInWithIdp",Ce(D,f))})).apply(this,arguments)}class ei extends Yn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new ei(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):wt("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:A,signInMethod:z}=m,se=(0,ve._T)(m,["providerId","signInMethod"]);if(!A||!z)return null;const ut=new ei(A,z);return ut.idToken=se.idToken||void 0,ut.accessToken=se.accessToken||void 0,ut.secret=se.secret,ut.nonce=se.nonce,ut.pendingToken=se.pendingToken||null,ut}_getIdTokenResponse(f){return Gr(f,this.buildRequest())}_linkToIdToken(f,m){const A=this.buildRequest();return A.idToken=m,Gr(f,A)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Gr(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,w.xO)(m)}return f}}function yi(D,f){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:sendVerificationCode",Ce(D,f))})).apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(D,f){return En(D,"POST","/v1/accounts:signInWithPhoneNumber",Ce(D,f))})).apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(D,f){const m=yield En(D,"POST","/v1/accounts:signInWithPhoneNumber",Ce(D,f));if(m.temporaryProof)throw an(D,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ks={USER_NOT_FOUND:"user-not-found"};function Vi(){return(Vi=(0,c.Z)(function*(D,f){return En(D,"POST","/v1/accounts:signInWithPhoneNumber",Ce(D,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ks)})).apply(this,arguments)}class Ii extends Yn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Ii({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Ii({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Es(D,f){return ts.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Ns(D,f){return Rs.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ps(D,f){return Vi.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:A,verificationCode:z}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:A,code:z}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:A,phoneNumber:z,temporaryProof:se}=f;return A||m||z||se?new Ii({verificationId:m,verificationCode:A,phoneNumber:z,temporaryProof:se}):null}}class Ki{constructor(f){var m,A,z,se,ut,Ht;const wn=(0,w.zd)((0,w.pd)(f)),bn=null!==(m=wn.apiKey)&&void 0!==m?m:null,pr=null!==(A=wn.oobCode)&&void 0!==A?A:null,Er=function xi(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=wn.mode)&&void 0!==z?z:null);Ne(bn&&pr&&Er,"argument-error"),this.apiKey=bn,this.operation=Er,this.code=pr,this.continueUrl=null!==(se=wn.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(ut=wn.languageCode)&&void 0!==ut?ut:null,this.tenantId=null!==(Ht=wn.tenantId)&&void 0!==Ht?Ht:null}static parseLink(f){const m=function ks(D){const f=(0,w.zd)((0,w.pd)(D)).link,m=f?(0,w.zd)((0,w.pd)(f)).deep_link_id:null,A=(0,w.zd)((0,w.pd)(D)).deep_link_id;return(A?(0,w.zd)((0,w.pd)(A)).link:null)||A||m||f||D}(f);try{return new Ki(m)}catch(A){return null}}}let hi=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(m,A){return Nr._fromEmailAndPassword(m,A)}static credentialWithLink(m,A){const z=Ki.parseLink(A);return Ne(z,"argument-error"),Nr._fromEmailAndCode(m,z.code,z.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class _i{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ui extends _i{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class qi extends Ui{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return Ne("providerId"in m&&"signInMethod"in m,"argument-error"),ei._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Ne(f.idToken||f.accessToken,"argument-error"),ei._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return qi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return qi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:A,oauthTokenSecret:z,pendingToken:se,nonce:ut,providerId:Ht}=f;if(!A&&!z&&!m&&!se||!Ht)return null;try{return new qi(Ht)._credential({idToken:m,accessToken:A,nonce:ut,pendingToken:se})}catch(wn){return null}}}let Zi=(()=>{class D extends Ui{constructor(){super("facebook.com")}static credential(m){return ei._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch(A){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),vi=(()=>{class D extends Ui{constructor(){super("google.com"),this.addScope("profile")}static credential(m,A){return ei._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:A})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:A,oauthAccessToken:z}=m;if(!A&&!z)return null;try{return D.credential(A,z)}catch(se){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Vr=(()=>{class D extends Ui{constructor(){super("github.com")}static credential(m){return ei._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch(A){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Qr extends Yn{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Gr(f,this.buildRequest())}_linkToIdToken(f,m){const A=this.buildRequest();return A.idToken=m,Gr(f,A)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Gr(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:A,signInMethod:z,pendingToken:se}=m;return A&&z&&se&&A===z?new Qr(A,se):null}static _create(f,m){return new Qr(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ns extends _i{constructor(f){Ne(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ns.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ns.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Qr.fromJSON(f);return Ne(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:A}=f;if(!m||!A)return null;try{return Qr._create(A,m)}catch(z){return null}}}let _r=(()=>{class D extends Ui{constructor(){super("twitter.com")}static credential(m,A){return ei._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:A})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:A,oauthTokenSecret:z}=m;if(!A||!z)return null;try{return D.credential(A,z)}catch(se){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Bi(D,f){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(D,f){return En(D,"POST","/v1/accounts:signUp",Ce(D,f))})).apply(this,arguments)}class Ur{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,A,z=!1){return(0,c.Z)(function*(){const se=yield ct._fromIdTokenResponse(f,A,z),ut=Ar(A);return new Ur({user:se,providerId:ut,_tokenResponse:A,operationType:m})})()}static _forOperation(f,m,A){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(A,!0);const z=Ar(A);return new Ur({user:f,providerId:z,_tokenResponse:A,operationType:m})})()}}function Ar(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function ji(D){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(D){var f;const m=Ir(D);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new Ur({user:m.currentUser,providerId:null,operationType:"signIn"});const A=yield Bi(m,{returnSecureToken:!0}),z=yield Ur._fromIdTokenResponse(m,"signIn",A,!0);return yield m._updateCurrentUser(z.user),z})).apply(this,arguments)}class bs extends w.ZR{constructor(f,m,A,z){var se;super(m.code,m.message),this.operationType=A,this.user=z,Object.setPrototypeOf(this,bs.prototype),this.customData={appName:f.name,tenantId:null!==(se=f.tenantId)&&void 0!==se?se:void 0,_serverResponse:m.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(f,m,A,z){return new bs(f,m,A,z)}}function $i(D,f,m,A){return("reauthenticate"===f?m._getReauthenticationResolver(D):m._getIdTokenResponse(D)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?bs._fromErrorAndOperation(D,se,f,A):se})}function Is(D){return new Set(D.map(({providerId:f})=>f).filter(f=>!!f))}function fi(D,f){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(D,f){const m=(0,w.m9)(D);yield R(!0,m,f);const{providerUserInfo:A}=yield nn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),z=Is(A||[]);return m.providerData=m.providerData.filter(se=>z.has(se.providerId)),z.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ri(D,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(D,f,m=!1){const A=yield xt(D,f._linkToIdToken(D.auth,yield D.getIdToken()),m);return Ur._forOperation(D,"link",A)})).apply(this,arguments)}function R(D,f,m){return q.apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(D,f,m){yield Bn(f);const z=!1===D?"provider-already-linked":"no-such-provider";Ne(Is(f.providerData).has(m)===D,f.auth,z)})).apply(this,arguments)}function F(D,f){return ee.apply(this,arguments)}function ee(){return(ee=(0,c.Z)(function*(D,f,m=!1){const{auth:A}=D,z="reauthenticate";try{const se=yield xt(D,$i(A,z,f,D),m);Ne(se.idToken,A,"internal-error");const ut=Ut(se.idToken);Ne(ut,A,"internal-error");const{sub:Ht}=ut;return Ne(D.uid===Ht,A,"user-mismatch"),Ur._forOperation(D,z,se)}catch(se){throw"auth/user-not-found"===(null==se?void 0:se.code)&&wt(A,"user-mismatch"),se}})).apply(this,arguments)}function Oe(D,f){return vt.apply(this,arguments)}function vt(){return(vt=(0,c.Z)(function*(D,f,m=!1){const A="signIn",z=yield $i(D,A,f),se=yield Ur._fromIdTokenResponse(D,A,z);return m||(yield D._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Ft(D,f){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(D,f){return Oe(Ir(D),f)})).apply(this,arguments)}function L(D,f){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(function*(D,f){const m=(0,w.m9)(D);return yield R(!1,m,f.providerId),Ri(m,f)})).apply(this,arguments)}function y(D,f){return x.apply(this,arguments)}function x(){return(x=(0,c.Z)(function*(D,f){return F((0,w.m9)(D),f)})).apply(this,arguments)}function ae(D,f){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,c.Z)(function*(D,f){return En(D,"POST","/v1/accounts:signInWithCustomToken",Ce(D,f))})).apply(this,arguments)}function At(D,f){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(D,f){const m=Ir(D),A=yield ae(m,{token:f,returnSecureToken:!0}),z=yield Ur._fromIdTokenResponse(m,"signIn",A);return yield m._updateCurrentUser(z.user),z})).apply(this,arguments)}class hr{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Mr._fromServerResponse(f,m):wt(f,"internal-error")}}class Mr extends hr{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Mr(m)}}function ur(D,f,m){var A;Ne((null===(A=m.url)||void 0===A?void 0:A.length)>0,D,"invalid-continue-uri"),Ne(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ne(m.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(Ne(m.android.packageName.length>0,D,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function fr(D,f,m){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(D,f,m){const A=(0,w.m9)(D),z={requestType:"PASSWORD_RESET",email:f};m&&ur(A,z,m),yield Fe(A,z)})).apply(this,arguments)}function Yi(D,f,m){return is.apply(this,arguments)}function is(){return(is=(0,c.Z)(function*(D,f,m){yield Dr((0,w.m9)(D),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Pt(D,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(D,f){yield jn((0,w.m9)(D),{oobCode:f})})).apply(this,arguments)}function ro(D,f){return zn.apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(D,f){const m=(0,w.m9)(D),A=yield Dr(m,{oobCode:f}),z=A.requestType;switch(Ne(z,m,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ne(A.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ne(A.mfaInfo,m,"internal-error");default:Ne(A.email,m,"internal-error")}let se=null;return A.mfaInfo&&(se=hr._fromServerResponse(Ir(m),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:se},operation:z}})).apply(this,arguments)}function qs(D,f){return ss.apply(this,arguments)}function ss(){return(ss=(0,c.Z)(function*(D,f){const{data:m}=yield ro((0,w.m9)(D),f);return m.email})).apply(this,arguments)}function Zs(D,f,m){return po.apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(D,f,m){const A=Ir(D),z=yield Bi(A,{returnSecureToken:!0,email:f,password:m}),se=yield Ur._fromIdTokenResponse(A,"signIn",z);return yield A._updateCurrentUser(se.user),se})).apply(this,arguments)}function Io(D,f,m){return Ft((0,w.m9)(D),hi.credential(f,m))}function Do(D,f,m){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,c.Z)(function*(D,f,m){const A=(0,w.m9)(D),z={requestType:"EMAIL_SIGNIN",email:f};Ne(m.handleCodeInApp,A,"argument-error"),m&&ur(A,z,m),yield Nt(A,z)})).apply(this,arguments)}function To(D,f){const m=Ki.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Ys(D,f,m){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(D,f,m){const A=(0,w.m9)(D),z=hi.credentialWithLink(f,m||fe());return Ne(z._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Ft(A,z)})).apply(this,arguments)}function Pi(D,f){return aa.apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:createAuthUri",Ce(D,f))})).apply(this,arguments)}function jo(D,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(D,f){const A={identifier:f,continueUri:mt()?fe():"http://localhost"},{signinMethods:z}=yield Pi((0,w.m9)(D),A);return z||[]})).apply(this,arguments)}function go(D,f){return ua.apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(D,f){const m=(0,w.m9)(D),z={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};f&&ur(m.auth,z,f);const{email:se}=yield xr(m.auth,z);se!==D.email&&(yield D.reload())})).apply(this,arguments)}function $o(D,f,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(D,f,m){const A=(0,w.m9)(D),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:f};m&&ur(A.auth,se,m);const{email:ut}=yield sn(A.auth,se);ut!==D.email&&(yield D.reload())})).apply(this,arguments)}function Co(D,f){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(D,f){return Ke(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function So(D,f){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(D,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const A=(0,w.m9)(D),se={idToken:yield A.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},ut=yield xt(A,Co(A.auth,se));A.displayName=ut.displayName||null,A.photoURL=ut.photoUrl||null;const Ht=A.providerData.find(({providerId:wn})=>"password"===wn);Ht&&(Ht.displayName=A.displayName,Ht.photoURL=A.photoURL),yield A._updateTokensIfNecessary(ut)})).apply(this,arguments)}function Au(D,f){return Ho((0,w.m9)(D),f,null)}function io(D,f){return Ho((0,w.m9)(D),null,f)}function Ho(D,f,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(D,f,m){const{auth:A}=D,se={idToken:yield D.getIdToken(),returnSecureToken:!0};f&&(se.email=f),m&&(se.password=m);const ut=yield xt(D,kr(A,se));yield D._updateTokensIfNecessary(ut,!0)})).apply(this,arguments)}class so{constructor(f,m,A={}){this.isNewUser=f,this.providerId=m,this.profile=A}}class la extends so{constructor(f,m,A,z){super(f,m,A),this.username=z}}class oo extends so{constructor(f,m){super(f,"facebook.com",m)}}class Ya extends la{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class xa extends so{constructor(f,m){super(f,"google.com",m)}}class ii extends la{constructor(f,m,A){super(f,"twitter.com",m,A)}}function ao(D){const{user:f,_tokenResponse:m}=D;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Oa(D){var f,m;if(!D)return null;const{providerId:A}=D,z=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},se=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!A&&(null==D?void 0:D.idToken)){const ut=null===(m=null===(f=Ut(D.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(ut)return new so(se,"anonymous"!==ut&&"custom"!==ut?ut:null)}if(!A)return null;switch(A){case"facebook.com":return new oo(se,z);case"github.com":return new Ya(se,z);case"google.com":return new xa(se,z);case"twitter.com":return new ii(se,z,D.screenName||null);case"custom":case"anonymous":return new so(se,null);default:return new so(se,A,z)}}(m)}class Ls{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Ls("enroll",f)}static _fromMfaPendingCredential(f){return new Ls("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,A;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ls._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(A=f.multiFactorSession)||void 0===A?void 0:A.idToken)return Ls._fromIdtoken(f.multiFactorSession.idToken)}return null}}class zo{constructor(f,m,A){this.session=f,this.hints=m,this.signInResolver=A}static _fromError(f,m){const A=Ir(f),z=m.customData._serverResponse,se=(z.mfaInfo||[]).map(Ht=>hr._fromServerResponse(A,Ht));Ne(z.mfaPendingCredential,A,"internal-error");const ut=Ls._fromMfaPendingCredential(z.mfaPendingCredential);return new zo(ut,se,function(){var Ht=(0,c.Z)(function*(wn){const bn=yield wn._process(A,ut);delete z.mfaInfo,delete z.mfaPendingCredential;const pr=Object.assign(Object.assign({},z),{idToken:bn.idToken,refreshToken:bn.refreshToken});switch(m.operationType){case"signIn":const Er=yield Ur._fromIdTokenResponse(A,m.operationType,pr);return yield A._updateCurrentUser(Er.user),Er;case"reauthenticate":return Ne(m.user,A,"internal-error"),Ur._forOperation(m.user,m.operationType,pr);default:wt(A,"internal-error")}});return function(wn){return Ht.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,c.Z)(function*(){return m.signInResolver(f)})()}}function Ci(D,f){var m;const A=(0,w.m9)(D),z=f;return Ne(f.customData.operationType,A,"argument-error"),Ne(null===(m=z.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,A,"argument-error"),zo._fromError(A,z)}function Mu(D,f){return Ke(D,"POST","/v2/accounts/mfaEnrollment:start",Ce(D,f))}class si{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(A=>hr._fromServerResponse(f.auth,A)))})}static _fromUser(f){return new si(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Ls._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var A=this;return(0,c.Z)(function*(){const z=f,se=yield A.getSession(),ut=yield xt(A.user,z._process(A.user.auth,se,m));return yield A.user._updateTokensIfNecessary(ut),A.user.reload()})()}unenroll(f){var m=this;return(0,c.Z)(function*(){const A="string"==typeof f?f:f.uid,z=yield m.user.getIdToken(),se=yield xt(m.user,function Ts(D,f){return Ke(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Ce(D,f))}(m.user.auth,{idToken:z,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ut})=>ut!==A),yield m.user._updateTokensIfNecessary(se);try{yield m.user.reload()}catch(ut){if("auth/user-token-expired"!==ut.code)throw ut}})()}}const gs=new WeakMap;function Wo(D){const f=(0,w.m9)(D);return gs.has(f)||gs.set(f,si._fromUser(f)),gs.get(f)}const Vs="__sak";class oi{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Vs,"1"),this.storage.removeItem(Vs),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Kt=(()=>{class D extends oi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,A)=>this.onStorageEvent(m,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ko(){const D=(0,w.z$)();return U(D)||Yt(D)}()&&function Hr(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=gr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const A of Object.keys(this.listeners)){const z=this.storage.getItem(A),se=this.localCache[A];z!==se&&m(A,se,z)}}onStorageEvent(m,A=!1){if(!m.key)return void this.forAllChangedKeys((Ht,wn,bn)=>{this.notifyListeners(Ht,bn)});const z=m.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ht=this.storage.getItem(z);if(m.newValue!==Ht)null!==m.newValue?this.storage.setItem(z,m.newValue):this.storage.removeItem(z);else if(this.localCache[z]===m.newValue&&!A)return}const se=()=>{const Ht=this.storage.getItem(z);!A&&this.localCache[z]===Ht||this.notifyListeners(z,Ht)},ut=this.storage.getItem(z);!function Rn(){return(0,w.w1)()&&10===document.documentMode}()||ut===m.newValue||m.newValue===m.oldValue?se():setTimeout(se,10)}notifyListeners(m,A){this.localCache[m]=A;const z=this.listeners[m];if(z)for(const se of Array.from(z))se(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,A,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:A,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,A){var z=()=>super._set,se=this;return(0,c.Z)(function*(){yield z().call(se,m,A),se.localCache[m]=JSON.stringify(A)})()}_get(m){var A=()=>super._get,z=this;return(0,c.Z)(function*(){const se=yield A().call(z,m);return z.localCache[m]=JSON.stringify(se),se})()}_remove(m){var A=()=>super._remove,z=this;return(0,c.Z)(function*(){yield A().call(z,m),delete z.localCache[m]})()}}return D.type="LOCAL",D})(),Bs=(()=>{class D extends oi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,A){}_removeListener(m,A){}}return D.type="SESSION",D})();let In=(()=>{class D{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const A=this.receivers.find(se=>se.isListeningto(m));if(A)return A;const z=new D(m);return this.receivers.push(z),z}isListeningto(m){return this.eventTarget===m}handleEvent(m){var A=this;return(0,c.Z)(function*(){const z=m,{eventId:se,eventType:ut,data:Ht}=z.data,wn=A.handlersMap[ut];if(!(null==wn?void 0:wn.size))return;z.ports[0].postMessage({status:"ack",eventId:se,eventType:ut});const bn=Array.from(wn).map(function(){var Er=(0,c.Z)(function*(Tr){return Tr(z.origin,Ht)});return function(Tr){return Er.apply(this,arguments)}}()),pr=yield function Mo(D){return Promise.all(D.map(function(){var f=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(A){return{fulfilled:!1,reason:A}}});return function(m){return f.apply(this,arguments)}}()))}(bn);z.ports[0].postMessage({status:"done",eventId:se,eventType:ut,response:pr})})()}_subscribe(m,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(A)}_unsubscribe(m,A){this.handlersMap[m]&&A&&this.handlersMap[m].delete(A),(!A||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Ln(D="",f=10){let m="";for(let A=0;A<f;A++)m+=Math.floor(10*Math.random());return D+m}class da{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,A=50){var z=this;return(0,c.Z)(function*(){const se="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let ut,Ht;return new Promise((wn,bn)=>{const pr=Ln("",20);se.port1.start();const Er=setTimeout(()=>{bn(new Error("unsupported_event"))},A);Ht={messageChannel:se,onMessage(Tr){const vo=Tr;if(vo.data.eventId===pr)switch(vo.data.status){case"ack":clearTimeout(Er),ut=setTimeout(()=>{bn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ut),wn(vo.data.response);break;default:clearTimeout(Er),clearTimeout(ut),bn(new Error("invalid_response"))}}},z.handlers.add(Ht),se.port1.addEventListener("message",Ht.onMessage),z.target.postMessage({eventType:f,eventId:pr,data:m},[se.port2])}).finally(()=>{Ht&&z.removeMessageHandler(Ht)})})()}}function $t(){return window}function jt(){return void 0!==$t().WorkerGlobalScope&&"function"==typeof $t().importScripts}function Na(){return(Na=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const fa="firebaseLocalStorageDb",uo="firebaseLocalStorage",Oo="fbase_key";class qo{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function S(D,f){return D.transaction([uo],f?"readwrite":"readonly").objectStore(uo)}function b(){const D=indexedDB.open(fa,1);return new Promise((f,m)=>{D.addEventListener("error",()=>{m(D.error)}),D.addEventListener("upgradeneeded",()=>{const A=D.result;try{A.createObjectStore(uo,{keyPath:Oo})}catch(z){m(z)}}),D.addEventListener("success",(0,c.Z)(function*(){const A=D.result;A.objectStoreNames.contains(uo)?f(A):(A.close(),yield function I(){const D=indexedDB.deleteDatabase(fa);return new qo(D).toPromise()}(),f(yield b()))}))})}function P(D,f,m){return V.apply(this,arguments)}function V(){return(V=(0,c.Z)(function*(D,f,m){const A=S(D,!0).put({[Oo]:f,value:m});return new qo(A).toPromise()})).apply(this,arguments)}function ye(){return(ye=(0,c.Z)(function*(D,f){const m=S(D,!1).get(f),A=yield new qo(m).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Ae(D,f){const m=S(D,!0).delete(f);return new qo(m).toPromise()}const Nn=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield b()),m.db})()}_withRetries(m){var A=this;return(0,c.Z)(function*(){let z=0;for(;;)try{const se=yield A._openDb();return yield m(se)}catch(se){if(z++>3)throw se;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return jt()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=In._getInstance(function ha(){return jt()?self:null}()),m.receiver._subscribe("keyChanged",function(){var A=(0,c.Z)(function*(z,se){return{keyProcessed:(yield m._poll()).includes(se.key)}});return function(z,se){return A.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var A=(0,c.Z)(function*(z,se){return["keyChanged"]});return function(z,se){return A.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var A,z;if(m.activeServiceWorker=yield function ai(){return Na.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new da(m.activeServiceWorker);const se=yield m.sender._send("ping",{},800);!se||(null===(A=se[0])||void 0===A?void 0:A.fulfilled)&&(null===(z=se[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var A=this;return(0,c.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function Ou(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:m},A.serviceWorkerReceiverAvailable?800:50)}catch(z){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield b();return yield P(m,Vs,"1"),yield Ae(m,Vs),!0}catch(m){}return!1})()}_withPendingWrite(m){var A=this;return(0,c.Z)(function*(){A.pendingWrites++;try{yield m()}finally{A.pendingWrites--}})()}_set(m,A){var z=this;return(0,c.Z)(function*(){return z._withPendingWrite((0,c.Z)(function*(){return yield z._withRetries(se=>P(se,m,A)),z.localCache[m]=A,z.notifyServiceWorker(m)}))})()}_get(m){var A=this;return(0,c.Z)(function*(){const z=yield A._withRetries(se=>function Y(D,f){return ye.apply(this,arguments)}(se,m));return A.localCache[m]=z,z})()}_remove(m){var A=this;return(0,c.Z)(function*(){return A._withPendingWrite((0,c.Z)(function*(){return yield A._withRetries(z=>Ae(z,m)),delete A.localCache[m],A.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const A=yield m._withRetries(ut=>{const Ht=S(ut,!1).getAll();return new qo(Ht).toPromise()});if(!A)return[];if(0!==m.pendingWrites)return[];const z=[],se=new Set;for(const{fbase_key:ut,value:Ht}of A)se.add(ut),JSON.stringify(m.localCache[ut])!==JSON.stringify(Ht)&&(m.notifyListeners(ut,Ht),z.push(ut));for(const ut of Object.keys(m.localCache))m.localCache[ut]&&!se.has(ut)&&(m.notifyListeners(ut,null),z.push(ut));return z})()}notifyListeners(m,A){this.localCache[m]=A;const z=this.listeners[m];if(z)for(const se of Array.from(z))se(A)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function vr(D,f){return Ke(D,"POST","/v2/accounts/mfaSignIn:start",Ce(D,f))}function Rr(){return(Rr=(0,c.Z)(function*(D){return(yield Ke(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function js(D){return new Promise((f,m)=>{const A=document.createElement("script");A.setAttribute("src",D),A.onload=f,A.onerror=z=>{const se=We("internal-error");se.customData=z,m(se)},A.type="text/javascript",A.charset="UTF-8",function ki(){var D,f;return null!==(f=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==f?f:document}().appendChild(A)})}function Br(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Zr=1e12;class xo{constructor(f){this.auth=f,this.counter=Zr,this._widgets=new Map}render(f,m){const A=this.counter;return this._widgets.set(A,new Zo(f,this.auth.name,m||{})),this.counter++,A}reset(f){var m;const A=f||Zr;null===(m=this._widgets.get(A))||void 0===m||m.delete(),this._widgets.delete(A)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Zr))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,c.Z)(function*(){var A;return null===(A=m._widgets.get(f||Zr))||void 0===A||A.execute(),""})()}}class Zo{constructor(f,m,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof f?document.getElementById(f):f;Ne(z,"argument-error",{appName:m}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Jl(D){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<D;A++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ra=Br("rcb"),ui=new qt(3e4,6e4);class Pa{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!$t().grecaptcha}load(f,m=""){return Ne(function tu(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve($t().grecaptcha):new Promise((A,z)=>{const se=$t().setTimeout(()=>{z(We(f,"network-request-failed"))},ui.get());$t()[Ra]=()=>{$t().clearTimeout(se),delete $t()[Ra];const Ht=$t().grecaptcha;if(!Ht)return void z(We(f,"internal-error"));const wn=Ht.render;Ht.render=(bn,pr)=>{const Er=wn(bn,pr);return this.counter++,Er},this.hostLanguage=m,A(Ht)},js(`https://www.google.com/recaptcha/api.js??${(0,w.xO)({onload:Ra,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(se),z(We(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!$t().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Lc{load(f){return(0,c.Z)(function*(){return new xo(f)})()}clearedOneInstance(){}}const on="recaptcha",Vc={theme:"light",type:"image"};class Xl{constructor(f,m=Object.assign({},Vc),A){this.parameters=m,this.type=on,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ir(A),this.isInvisible="invisible"===this.parameters.size,Ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof f?document.getElementById(f):f;Ne(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lc:new Pa,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),A=f.getAssertedRecaptcha();return A.getResponse(m)||new Promise(se=>{const ut=Ht=>{!Ht||(f.tokenChangeListeners.delete(ut),se(Ht))};f.tokenChangeListeners.add(ut),f.isInvisible&&A.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Ne(!this.parameters.sitekey,this.auth,"argument-error"),Ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(A=>A(m)),"function"==typeof f)f(m);else if("string"==typeof f){const A=$t()[f];"function"==typeof A&&A(m)}}}assertNotDestroyed(){Ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const A=document.createElement("div");m.appendChild(A),m=A}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){Ne(mt()&&!jt(),f.auth,"internal-error"),yield function Cs(){let D=null;return new Promise(f=>{"complete"!==document.readyState?(D=()=>f(),window.addEventListener("load",D)):f()}).catch(f=>{throw D&&window.removeEventListener("load",D),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Qs(D){return Rr.apply(this,arguments)}(f.auth);Ne(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Js{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Ii._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function li(D,f,m){return $s.apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(D,f,m){const A=Ir(D),z=yield ms(A,f,(0,w.m9)(m));return new Js(z,se=>Ft(A,se))})).apply(this,arguments)}function ka(D,f,m){return pa.apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(D,f,m){const A=(0,w.m9)(D);yield R(!1,A,"phone");const z=yield ms(A.auth,f,(0,w.m9)(m));return new Js(z,se=>L(A,se))})).apply(this,arguments)}function Dl(D,f,m){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(D,f,m){const A=(0,w.m9)(D),z=yield ms(A.auth,f,(0,w.m9)(m));return new Js(z,se=>y(A,se))})).apply(this,arguments)}function ms(D,f,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(D,f,m){var A;const z=yield m.verify();try{let se;if(Ne("string"==typeof z,D,"argument-error"),Ne(m.type===on,D,"argument-error"),se="string"==typeof f?{phoneNumber:f}:f,"session"in se){const ut=se.session;if("phoneNumber"in se)return Ne("enroll"===ut.type,D,"internal-error"),(yield Mu(D,{idToken:ut.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{Ne("signin"===ut.type,D,"internal-error");const Ht=(null===(A=se.multiFactorHint)||void 0===A?void 0:A.uid)||se.multiFactorUid;return Ne(Ht,D,"missing-multi-factor-info"),(yield vr(D,{mfaPendingCredential:ut.credential,mfaEnrollmentId:Ht,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ut}=yield yi(D,{phoneNumber:se.phoneNumber,recaptchaToken:z});return ut}}finally{m._reset()}})).apply(this,arguments)}function nu(D,f){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(D,f){yield Ri((0,w.m9)(D),f)})).apply(this,arguments)}let Fa=(()=>{class D{constructor(m){this.providerId=D.PROVIDER_ID,this.auth=Ir(m)}verifyPhoneNumber(m,A){return ms(this.auth,m,(0,w.m9)(A))}static credential(m,A){return Ii._fromVerification(m,A)}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:A,temporaryProof:z}=m;return A&&z?Ii._fromTokenResponse(A,z):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Xs(D,f){return f?_e(f):(Ne(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Nu extends Yn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Gr(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Gr(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Gr(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function $d(D){return Oe(D.auth,new Nu(D),D.bypassAuthState)}function tf(D){const{auth:f,user:m}=D;return Ne(m,f,"internal-error"),F(m,new Nu(D),D.bypassAuthState)}function Ru(D){return os.apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(D){const{auth:f,user:m}=D;return Ne(m,f,"internal-error"),Ri(m,new Nu(D),D.bypassAuthState)})).apply(this,arguments)}class Hi{constructor(f,m,A,z,se=!1){this.auth=f,this.resolver=A,this.user=z,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,c.Z)(function*(A,z){f.pendingPromise={resolve:A,reject:z};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(se){f.reject(se)}});return function(A,z){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,c.Z)(function*(){const{urlResponse:A,sessionId:z,postBody:se,tenantId:ut,error:Ht,type:wn}=f;if(Ht)return void m.reject(Ht);const bn={auth:m.auth,requestUri:A,sessionId:z,tenantId:ut||void 0,postBody:se||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(wn)(bn))}catch(pr){m.reject(pr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return $d;case"linkViaPopup":case"linkViaRedirect":return Ru;case"reauthViaPopup":case"reauthViaRedirect":return tf;default:wt(this.auth,"internal-error")}}resolve(f){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const La=new qt(2e3,1e4);function ci(D,f,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,c.Z)(function*(D,f,m){const A=Ir(D);at(D,f,_i);const z=Xs(A,m);return new Ba(A,"signInViaPopup",f,z).executeNotNull()})).apply(this,arguments)}function Pu(D,f,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(D,f,m){const A=(0,w.m9)(D);at(A.auth,f,_i);const z=Xs(A.auth,m);return new Ba(A.auth,"reauthViaPopup",f,z,A).executeNotNull()})).apply(this,arguments)}function ru(D,f,m){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,c.Z)(function*(D,f,m){const A=(0,w.m9)(D);at(A.auth,f,_i);const z=Xs(A.auth,m);return new Ba(A.auth,"linkViaPopup",f,z,A).executeNotNull()})).apply(this,arguments)}let Ba=(()=>{class D extends Hi{constructor(m,A,z,se,ut){super(m,A,se,ut),this.provider=z,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const A=yield m.execute();return Ne(A,m.auth,"internal-error"),A})()}onExecution(){var m=this;return(0,c.Z)(function*(){ue(1===m.filter.length,"Popup operations only handle one event");const A=Ln();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],A),m.authWindow.associatedEvent=A,m.resolver._originValidation(m.auth).catch(z=>{m.reject(z)}),m.resolver._isIframeWebStorageSupported(m.auth,z=>{z||m.reject(We(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(We(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const m=()=>{var A,z;this.pollId=(null===(z=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===z?void 0:z.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(We(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,La.get())};m()}}return D.currentPopupAction=null,D})();const As=new Map;class ku extends Hi{constructor(f,m,A=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,A),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,c.Z)(function*(){let A=As.get(m.auth._key());if(!A){try{const se=(yield function Hd(D,f){return Qo.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;A=()=>Promise.resolve(se)}catch(z){A=()=>Promise.reject(z)}As.set(m.auth._key(),A)}return m.bypassAuthState||As.set(m.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,A=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(A,f);if("unknown"!==f.type){if(f.eventId){const z=yield A.auth._redirectUserForId(f.eventId);if(z)return A.user=z,m().call(A,f);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Qo(){return(Qo=(0,c.Z)(function*(D,f){const m=Vu(f),A=Lu(D);if(!(yield A._isAvailable()))return!1;const z="true"===(yield A._get(m));return yield A._remove(m),z})).apply(this,arguments)}function co(D,f){return iu.apply(this,arguments)}function iu(){return(iu=(0,c.Z)(function*(D,f){return Lu(D)._set(Vu(f),"true")})).apply(this,arguments)}function Fu(){As.clear()}function Lu(D){return _e(D._redirectPersistence)}function Vu(D){return ce("pendingRedirect",D.config.apiKey,D.name)}function tc(D,f,m){return function Uc(D,f,m){return pi.apply(this,arguments)}(D,f,m)}function pi(){return(pi=(0,c.Z)(function*(D,f,m){const A=Ir(D);at(D,f,_i);const z=Xs(A,m);return yield co(z,A),z._openRedirect(A,f,"signInViaRedirect")})).apply(this,arguments)}function Bc(D,f,m){return function Gd(D,f,m){return Gi.apply(this,arguments)}(D,f,m)}function Gi(){return(Gi=(0,c.Z)(function*(D,f,m){const A=(0,w.m9)(D);at(A.auth,f,_i);const z=Xs(A.auth,m);yield co(z,A.auth);const se=yield su(A);return z._openRedirect(A.auth,f,"reauthViaRedirect",se)})).apply(this,arguments)}function nc(D,f,m){return function zd(D,f,m){return Uu.apply(this,arguments)}(D,f,m)}function Uu(){return(Uu=(0,c.Z)(function*(D,f,m){const A=(0,w.m9)(D);at(A.auth,f,_i);const z=Xs(A.auth,m);yield R(!1,A,f.providerId),yield co(z,A.auth);const se=yield su(A);return z._openRedirect(A.auth,f,"linkViaRedirect",se)})).apply(this,arguments)}function Bu(D,f){return rc.apply(this,arguments)}function rc(){return(rc=(0,c.Z)(function*(D,f){return yield Ir(D)._initializationPromise,Po(D,f,!1)})).apply(this,arguments)}function Po(D,f){return ga.apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(D,f,m=!1){const A=Ir(D),z=Xs(A,f),ut=yield new ku(A,z,m).execute();return ut&&!m&&(delete ut.user._redirectEventId,yield A._persistUserIfCurrent(ut.user),yield A._setRedirectUser(null,f)),ut})).apply(this,arguments)}function su(D){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(D){const f=Ln(`${D.uid}:::`);return D._redirectEventId=f,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),f})).apply(this,arguments)}class Ss{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(f,A)&&(m=!0,this.sendToConsumer(f,A),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ou(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ma(D);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var A;if(f.error&&!ma(f)){const z=(null===(A=f.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";m.onError(We(this.auth,z))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const A=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&A}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sc(f))}saveEventToCache(f){this.cachedEventUids.add(sc(f)),this.lastProcessedEventTime=Date.now()}}function sc(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(f=>f).join("-")}function ma({type:D,error:f}){return"unknown"===D&&"auth/no-auth-event"===(null==f?void 0:f.code)}function ya(D){return au.apply(this,arguments)}function au(){return(au=(0,c.Z)(function*(D,f={}){return Ke(D,"GET","/v1/projects",f)})).apply(this,arguments)}const oc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ac=/^https?/;function Ji(){return(Ji=(0,c.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:f}=yield ya(D);for(const m of f)try{if(jc(m))return}catch(A){}wt(D,"unauthorized-domain")})).apply(this,arguments)}function jc(D){const f=fe(),{protocol:m,hostname:A}=new URL(f);if(D.startsWith("chrome-extension://")){const ut=new URL(D);return""===ut.hostname&&""===A?"chrome-extension:"===m&&D.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&ut.hostname===A}if(!ac.test(m))return!1;if(oc.test(D))return A===D;const z=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(A)}const Tl=new qt(3e4,6e4);function Cl(){const D=$t().___jsl;if(null==D?void 0:D.H)for(const f of Object.keys(D.H))if(D.H[f].r=D.H[f].r||[],D.H[f].L=D.H[f].L||[],D.H[f].r=[...D.H[f].L],D.CP)for(let m=0;m<D.CP.length;m++)D.CP[m]=null}let ju=null;function $c(D){return ju=ju||function uc(D){return new Promise((f,m)=>{var A,z,se;function ut(){Cl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Cl(),m(We(D,"network-request-failed"))},timeout:Tl.get()})}if(null===(z=null===(A=$t().gapi)||void 0===A?void 0:A.iframes)||void 0===z?void 0:z.Iframe)f(gapi.iframes.getContext());else{if(!(null===(se=$t().gapi)||void 0===se?void 0:se.load)){const Ht=Br("iframefcb");return $t()[Ht]=()=>{gapi.load?ut():m(We(D,"network-request-failed"))},js(`https://apis.google.com/js/api.js?onload=${Ht}`).catch(wn=>m(wn))}ut()}}).catch(f=>{throw ju=null,f})}(D),ju}const Hc=new qt(5e3,15e3),Al={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ja=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sl(D){const f=D.config;Ne(f.authDomain,D,"auth-domain-config-required");const m=f.emulator?Jt(f,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,A={apiKey:f.apiKey,appName:D.name,v:G.SDK_VERSION},z=ja.get(D.config.apiHost);z&&(A.eid=z);const se=D._getFrameworks();return se.length&&(A.fw=se.join(",")),`${m}?${(0,w.xO)(A).slice(1)}`}function Gc(){return Gc=(0,c.Z)(function*(D){const f=yield $c(D),m=$t().gapi;return Ne(m,D,"internal-error"),f.open({where:document.body,url:Sl(D),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Al,dontclear:!0},A=>new Promise(function(){var z=(0,c.Z)(function*(se,ut){yield A.restyle({setHideOnLeave:!1});const Ht=We(D,"network-request-failed"),wn=$t().setTimeout(()=>{ut(Ht)},Hc.get());function bn(){$t().clearTimeout(wn),se(A)}A.ping(bn).then(bn,()=>{ut(Ht)})});return function(se,ut){return z.apply(this,arguments)}}()))}),Gc.apply(this,arguments)}const Hu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jo{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function cu(D,f,m,A,z,se){Ne(D.config.authDomain,D,"auth-domain-config-required"),Ne(D.config.apiKey,D,"invalid-api-key");const ut={apiKey:D.config.apiKey,appName:D.name,authType:m,redirectUrl:A,v:G.SDK_VERSION,eventId:z};if(f instanceof _i){f.setDefaultLanguage(D.languageCode),ut.providerId=f.providerId||"",(0,w.xb)(f.getCustomParameters())||(ut.customParameters=JSON.stringify(f.getCustomParameters()));for(const[wn,bn]of Object.entries(se||{}))ut[wn]=bn}if(f instanceof Ui){const wn=f.getScopes().filter(bn=>""!==bn);wn.length>0&&(ut.scopes=wn.join(","))}D.tenantId&&(ut.tid=D.tenantId);const Ht=ut;for(const wn of Object.keys(Ht))void 0===Ht[wn]&&delete Ht[wn];return`${function _o({config:D}){return D.emulator?Jt(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,w.xO)(Ht).slice(1)}`}const Yr="webStorageSupport",wa=class Gu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bs,this._completeRedirectFn=Po}_openPopup(f,m,A,z){var se=this;return(0,c.Z)(function*(){var ut;ue(null===(ut=se.eventManagers[f._key()])||void 0===ut?void 0:ut.manager,"_initialize() not called before _openPopup()");const Ht=cu(f,m,A,fe(),z);return function uu(D,f,m,A=500,z=600){const se=Math.max((window.screen.availHeight-z)/2,0).toString(),ut=Math.max((window.screen.availWidth-A)/2,0).toString();let Ht="";const wn=Object.assign(Object.assign({},Hu),{width:A.toString(),height:z.toString(),top:se,left:ut}),bn=(0,w.z$)().toLowerCase();m&&(Ht=J(bn)?"_blank":m),ie(bn)&&(f=f||"http://localhost",wn.scrollbars="yes");const pr=Object.entries(wn).reduce((Tr,[vo,Eo])=>`${Tr}${vo}=${Eo},`,"");if(function Fn(D=(0,w.z$)()){var f;return Yt(D)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(bn)&&"_self"!==Ht)return function zc(D,f){const m=document.createElement("a");m.href=D,m.target=f;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(A)}(f||"",Ht),new Jo(null);const Er=window.open(f||"",Ht,pr);Ne(Er,D,"popup-blocked");try{Er.focus()}catch(Tr){}return new Jo(Er)}(f,Ht,Ln())})()}_openRedirect(f,m,A,z){var se=this;return(0,c.Z)(function*(){return yield se._originValidation(f),function ht(D){$t().location.href=D}(cu(f,m,A,fe(),z)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:z,promise:se}=this.eventManagers[m];return z?Promise.resolve(z):(ue(se,"If manager is not set, promise should be"),se)}const A=this.initAndGetManager(f);return this.eventManagers[m]={promise:A},A.catch(()=>{delete this.eventManagers[m]}),A}initAndGetManager(f){var m=this;return(0,c.Z)(function*(){const A=yield function Kd(D){return Gc.apply(this,arguments)}(f),z=new Ss(f);return A.register("authEvent",se=>(Ne(null==se?void 0:se.authEvent,f,"invalid-auth-event"),{status:z.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:z},m.iframes[f._key()]=A,z})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Yr,{type:Yr},z=>{var se;const ut=null===(se=null==z?void 0:z[0])||void 0===se?void 0:se[Yr];void 0!==ut&&m(!!ut),wt(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function yo(D){return Ji.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return gr()||U()||Yt()}};class du extends class Kc{constructor(f){this.factorId=f}_process(f,m,A){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,A);case"signin":return this._finalizeSignIn(f,m.credential);default:return St("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new du(f)}_finalizeEnroll(f,m,A){return function ca(D,f){return Ke(D,"POST","/v2/accounts/mfaEnrollment:finalize",Ce(D,f))}(f,{idToken:m,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Sn(D,f){return Ke(D,"POST","/v2/accounts/mfaSignIn:finalize",Ce(D,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qc=(()=>{class D{constructor(){}static assertion(m){return du._fromCredential(m)}}return D.FACTOR_ID="phone",D})();var Ml="@firebase/auth",zu="0.19.12";class hu{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(A=>{var z;f((null===(z=A)||void 0===z?void 0:z.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yc(D=(0,G.getApp)()){const f=(0,G._getProvider)(D,"auth");return f.isInitialized()?f.getImmediate():function xe(D,f){const m=(0,G._getProvider)(D,"auth");if(m.isInitialized()){const z=m.getImmediate(),se=m.getOptions();if((0,w.vZ)(se,null!=f?f:{}))return z;wt(z,"already-initialized")}return m.initialize({options:f})}(D,{popupRedirectResolver:wa,persistence:[Nn,Kt,Bs]})}!function Zc(D){(0,G._registerComponent)(new Te.wA("auth",(f,{options:m})=>{const A=f.getProvider("app").getImmediate(),z=f.getProvider("heartbeat"),{apiKey:se,authDomain:ut}=A.options;return((Ht,wn)=>{Ne(se&&!se.includes(":"),"invalid-api-key",{appName:Ht.name}),Ne(!(null==ut?void 0:ut.includes(":")),"argument-error",{appName:Ht.name});const bn={apiKey:se,authDomain:ut,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jr(D)},pr=new mr(Ht,wn,bn);return function He(D,f){const m=(null==f?void 0:f.persistence)||[],A=(Array.isArray(m)?m:[m]).map(_e);(null==f?void 0:f.errorMap)&&D._updateErrorMap(f.errorMap),D._initializeWithPersistence(A,null==f?void 0:f.popupRedirectResolver)}(pr,m),pr})(A,z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,A)=>{f.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new Te.wA("auth-internal",f=>{const m=Ir(f.getProvider("auth").getImmediate());return new hu(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(Ml,zu,function $a(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,G.registerVersion)(Ml,zu,"esm2017")}("Browser")},5525:(Qt,nt,k)=>{k.d(nt,{u7:()=>oa,Jj:()=>Iu,IX:()=>Qg,my:()=>es,xU:()=>yl,Lz:()=>Yl,WA:()=>jt,F8:()=>Sc,$q:()=>Rc,W:()=>_l,EK:()=>Ae,PU:()=>Ta,l7:()=>No,Ky:()=>on,Xb:()=>Rr,Cf:()=>$r,K9:()=>da,Me:()=>js,yq:()=>Bs,Wi:()=>Kg,ET:()=>mm,Ab:()=>Em,vr:()=>Kh,Fc:()=>tm,hJ:()=>vy,B$:()=>Yg,at:()=>_y,oe:()=>$y,AK:()=>vm,TF:()=>rm,JU:()=>Ey,ST:()=>Dy,fH:()=>Ty,Ix:()=>nm,Wu:()=>Fy,Lx:()=>fm,qY:()=>ls,GL:()=>Ql,QT:()=>Ca,kl:()=>gm,Xk:()=>Vy,PL:()=>Uy,UQ:()=>By,zN:()=>jy,ad:()=>Jg,nP:()=>wm,b9:()=>Py,vh:()=>dm,Pb:()=>Q_,L$:()=>lp,cf:()=>Hy,sc:()=>ym,Xo:()=>Ry,IO:()=>xy,iE:()=>Zl,Eo:()=>wy,i3:()=>_m,Bt:()=>Tp,pl:()=>Dp,Ub:()=>Il,qK:()=>Oy,TQ:()=>ky,e0:()=>kc,r7:()=>Vd,Mx:()=>Cy,ar:()=>cm});var oe,c=k(5861),w=k(9681),G=k(4859),ve=k(1877),Ie=k(2090),Te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},De={},Me=Me||{},ne=Te||self;function de(){}function Le(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ot(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Dt="closure_uid_"+(1e9*Math.random()>>>0),Ot=0;function Pe(i,e,n){return i.call.apply(i.bind,arguments)}function Je(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function lt(i,e,n){return(lt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pe:Je).apply(null,arguments)}function wt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function We(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,u,h){for(var v=Array(arguments.length-2),M=2;M<arguments.length;M++)v[M-2]=arguments[M];return e.prototype[u].apply(o,v)}}function Re(){this.s=this.s,this.o=this.o}var It={};Re.prototype.s=!1,Re.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function it(i){return Object.prototype.hasOwnProperty.call(i,Dt)&&i[Dt]||(i[Dt]=++Ot)}(this);delete It[i]}},Re.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ne=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},St=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,u="string"==typeof i?i.split(""):i;for(let h=0;h<o;h++)h in u&&e.call(n,u[h],h,i)};function me(i){return Array.prototype.concat.apply([],arguments)}function _e(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function xe(i){return/^[\s\xa0]*$/.test(i)}var Vt,He=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function fe(i,e){return-1!=i.indexOf(e)}function mt(i,e){return i<e?-1:i>e?1:0}e:{var cn=ne.navigator;if(cn){var bt=cn.userAgent;if(bt){Vt=bt;break e}}Vt=""}function qt(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Jt(i){const e={};for(const n in i)e[n]=i[n];return e}var rn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let h=0;h<rn.length;h++)n=rn[h],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function pt(i){return pt[" "](i),i}pt[" "]=de;var Un,i,Ke=fe(Vt,"Opera"),Ct=fe(Vt,"Trident")||fe(Vt,"MSIE"),en=fe(Vt,"Edge"),vn=en||Ct,En=fe(Vt,"Gecko")&&!(fe(Vt.toLowerCase(),"webkit")&&!fe(Vt,"Edge"))&&!(fe(Vt,"Trident")||fe(Vt,"MSIE"))&&!fe(Vt,"Edge"),ir=fe(Vt.toLowerCase(),"webkit")&&!fe(Vt,"Edge");function sr(){var i=ne.document;return i?i.documentMode:void 0}e:{var an="",An=(i=Vt,En?/rv:([^\);]+)(\)|;)/.exec(i):en?/Edge\/([\d\.]+)/.exec(i):Ct?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ir?/WebKit\/(\S+)/.exec(i):Ke?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(An&&(an=An?An[1]:""),Ct){var or=sr();if(null!=or&&or>parseFloat(an)){Un=String(or);break e}}Un=an}var nn={};var Et=ne.document&&Ct&&(sr()||parseInt(Un,10))||void 0,ke=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ne.addEventListener("test",de,e),ne.removeEventListener("test",de,e)}catch(n){}return i}();function Se(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function tt(i,e){if(Se.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(En){e:{try{pt(e.nodeName);var u=!0;break e}catch(h){}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Mt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&tt.Z.h.call(this)}}Se.prototype.h=function(){this.defaultPrevented=!0},We(tt,Se);var Mt={2:"touch",3:"pen",4:"mouse"};tt.prototype.h=function(){tt.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),kt=0;function xt(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=u,this.key=++kt,this.ca=this.fa=!1}function Dn(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Jn(i){this.src=i,this.g={},this.h=0}function Xn(i,e){var n=e.type;if(n in i.g){var h,o=i.g[n],u=Ne(o,e);(h=0<=u)&&Array.prototype.splice.call(o,u,1),h&&(Dn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function yn(i,e,n,o){for(var u=0;u<i.length;++u){var h=i[u];if(!h.ca&&h.listener==e&&h.capture==!!n&&h.ia==o)return u}return-1}Jn.prototype.add=function(i,e,n,o,u){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var v=yn(i,e,o,u);return-1<v?(e=i[v],n||(e.fa=!1)):((e=new xt(e,this.src,h,!!o,u)).fa=n,i.push(e)),e};var Bn="closure_lm_"+(1e6*Math.random()|0),ln={};function fn(i,e,n,o,u){if(o&&o.once)return j(i,e,n,o,u);if(Array.isArray(e)){for(var h=0;h<e.length;h++)fn(i,e[h],n,o,u);return null}return n=re(n),i&&i[Ut]?i.N(e,n,ot(o)?!!o.capture:!!o,u):Tn(i,e,n,!1,o,u)}function Tn(i,e,n,o,u,h){if(!e)throw Error("Invalid event type");var v=ot(u)?!!u.capture:!!u,M=ct(i);if(M||(i[Bn]=M=new Jn(i)),(n=M.add(e,n,o,v,h)).proxy)return n;if(o=function rt(){var e=Ye;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)ke||(u=v),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(pe(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function j(i,e,n,o,u){if(Array.isArray(e)){for(var h=0;h<e.length;h++)j(i,e[h],n,o,u);return null}return n=re(n),i&&i[Ut]?i.O(e,n,ot(o)?!!o.capture:!!o,u):Tn(i,e,n,!0,o,u)}function Z(i,e,n,o,u){if(Array.isArray(e))for(var h=0;h<e.length;h++)Z(i,e[h],n,o,u);else o=ot(o)?!!o.capture:!!o,n=re(n),i&&i[Ut]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=yn(h=i.g[e],n,o,u))&&(Dn(h[n]),Array.prototype.splice.call(h,n,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=ct(i))&&(e=i.g[e.toString()],i=-1,e&&(i=yn(e,n,o,u)),(n=-1<i?e[i]:null)&&$e(n))}function $e(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Ut])Xn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(pe(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=ct(e))?(Xn(n,i),0==n.h&&(n.src=null,e[Bn]=null)):Dn(i)}}}function pe(i){return i in ln?ln[i]:ln[i]="on"+i}function Ye(i,e){if(i.ca)i=!0;else{e=new tt(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&$e(i),i=n.call(o,e)}return i}function ct(i){return(i=i[Bn])instanceof Jn?i:null}var le="__closure_events_fn_"+(1e9*Math.random()>>>0);function re(i){return"function"==typeof i?i:(i[le]||(i[le]=function(e){return i.handleEvent(e)}),i[le])}function ce(){Re.call(this),this.i=new Jn(this),this.P=this,this.I=null}function Be(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Se(e,i);else if(e instanceof Se)e.target=e.target||i;else{var u=e;dt(e=new Se(o,i),u)}if(u=!0,n)for(var h=n.length-1;0<=h;h--){var v=e.g=n[h];u=X(v,o,!0,e)&&u}if(u=X(v=e.g=i,o,!0,e)&&u,u=X(v,o,!1,e)&&u,n)for(h=0;h<n.length;h++)u=X(v=e.g=n[h],o,!1,e)&&u}function X(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,h=0;h<e.length;++h){var v=e[h];if(v&&!v.ca&&v.capture==n){var M=v.listener,$=v.ia||v.src;v.fa&&Xn(i.i,v),u=!1!==M.call($,o)&&u}}return u&&!o.defaultPrevented}We(ce,Re),ce.prototype[Ut]=!0,ce.prototype.removeEventListener=function(i,e,n,o){Z(this,i,e,n,o)},ce.prototype.M=function(){if(ce.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Dn(n[o]);delete i.g[e],i.h--}}this.I=null},ce.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},ce.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var ie=ne.JSON.stringify;function U(){var i=Rn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Yt,Q=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new be,i=>i.reset());class be{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Xe(i){ne.setTimeout(()=>{throw i},0)}function Tt(i,e){Yt||function Cn(){var i=ne.Promise.resolve(void 0);Yt=function(){i.then(gr)}}(),Fn||(Yt(),Fn=!0),Rn.add(i,e)}var Fn=!1,Rn=new class J{constructor(){this.h=this.g=null}add(e,n){const o=Q.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function gr(){for(var i;i=U();){try{i.h.call(i.g)}catch(n){Xe(n)}var e=Q;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Fn=!1}function Hr(i,e){ce.call(this),this.h=i||1,this.g=e||ne,this.j=lt(this.kb,this),this.l=Date.now()}function Jr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function mr(i,e,n){if("function"==typeof i)n&&(i=lt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=lt(i.handleEvent,i)}return 2147483647<Number(e)?-1:ne.setTimeout(i,e||0)}function Ir(i){i.g=mr(()=>{i.g=null,i.i&&(i.i=!1,Ir(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}We(Hr,ce),(oe=Hr.prototype).da=!1,oe.S=null,oe.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Be(this,"tick"),this.da&&(Jr(this),this.start()))}},oe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},oe.M=function(){Hr.Z.M.call(this),Jr(this),delete this.g};class Ge extends Re{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ir(this)}M(){super.M(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ve(i){Re.call(this),this.h=i,this.g={}}We(Ve,Re);var ft=[];function Xt(i,e,n,o){Array.isArray(n)||(n&&(ft[0]=n.toString()),n=ft);for(var u=0;u<n.length;u++){var h=fn(e,n[u],o||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function Hn(i){qt(i.g,function(e,n){this.g.hasOwnProperty(n)&&$e(e)},i),i.g={}}function Gn(){this.g=!0}function Qn(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Mi(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var h=u[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var v=1;v<u.length;v++)u[v]=""}}}return ie(n)}catch(M){return e}}(i,n)+(o?" "+o:"")})}Ve.prototype.M=function(){Ve.Z.M.call(this),Hn(this)},Ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gn.prototype.Aa=function(){this.g=!1},Gn.prototype.info=function(){};var jn={},bi=null;function Oi(){return bi=bi||new ce}function Xr(i){Se.call(this,jn.Ma,i)}function Wr(i){const e=Oi();Be(e,new Xr(e,i))}function Fr(i,e){Se.call(this,jn.STAT_EVENT,i),this.stat=e}function xr(i){const e=Oi();Be(e,new Fr(e,i))}function ze(i,e){Se.call(this,jn.Na,i),this.size=e}function Fe(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){i()},e)}jn.Ma="serverreachability",We(Xr,Se),jn.STAT_EVENT="statevent",We(Fr,Se),jn.Na="timingevent",We(ze,Se);var qe={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Nt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Bt(){}function er(){}Bt.prototype.h=null;var Lr,br={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function tr(){Se.call(this,"d")}function Wn(){Se.call(this,"c")}function Nr(){}function Gr(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new Ve(this),this.P=Ws,this.W=new Hr(i=vn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}We(tr,Se),We(Wn,Se),We(Nr,Bt),Nr.prototype.g=function(){return new XMLHttpRequest},Nr.prototype.i=function(){return{}},Lr=new Nr;var Ws=45e3,ei={},yi={};function Kr(i,e,n){i.K=1,i.v=Bi(Vr(e)),i.s=n,i.U=!0,Es(i,null)}function Es(i,e){i.F=Date.now(),Ks(i),i.A=Vr(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),F(n.h,"t",o),i.C=0,n=i.l.H,i.h=new ri,i.g=Qa(i.l,n?e:null,!i.s),0<i.O&&(i.L=new Ge(lt(i.Ia,i,i.g),i.O)),Xt(i.V,i.g,"readystatechange",i.gb),e=i.H?Jt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Wr(1),function Yn(i,e,n,o,u,h){i.info(function(){if(i.g)if(h)for(var v="",M=h.split("&"),$=0;$<M.length;$++){var K=M[$].split("=");if(1<K.length){var Ee=K[0];K=K[1];var je=Ee.split("_");v=2<=je.length&&"type"==je[1]?v+(Ee+"=")+K+"&":v+(Ee+"=redacted&")}}else v=null;else v=h;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+v})}(i.j,i.u,i.A,i.m,i.X,i.s)}function ts(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Ns(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=Rs(i,n),u==yi){4==e&&(i.o=4,xr(14),o=!1),Qn(i.j,i.m,null,"[Incomplete Response]");break}if(u==ei){i.o=4,xr(15),Qn(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Qn(i.j,i.m,u,null),ks(i,u)}ts(i)&&u!=yi&&u!=ei&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,xr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),so(e),e.L=!0,xr(11))):(Qn(i.j,i.m,n,"[Invalid Chunked Response]"),xi(i),Ii(i))}function Rs(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?yi:(n=Number(e.substring(n,o)),isNaN(n)?ei:(o+=1)+n>e.length?yi:(e=e.substr(o,n),i.C=o+n,e))}function Ks(i){i.Y=Date.now()+i.P,Ps(i,i.P)}function Ps(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Fe(lt(i.eb,i),e)}function Vi(i){i.B&&(ne.clearTimeout(i.B),i.B=null)}function Ii(i){0==i.l.G||i.I||Ya(i.l,i)}function xi(i){Vi(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Jr(i.W),Hn(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ks(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||y(n.i,i)))if(n.I=i.N,!i.J&&y(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch(K){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(n.u)n.ta=u[1],0<n.ta-n.U&&37500>u[2]&&n.N&&0==n.A&&!n.v&&(n.v=Fe(lt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<i.F))break e;oo(n),mo(n)}Oa(n),xr(18)}if(1>=E(n.i)&&n.ka){try{n.ka()}catch(K){}n.ka=void 0}}else ii(n,11)}else if((i.J||n.g==i)&&oo(n),!xe(e))for(u=n.Ca.g.parse(e),e=0;e<u.length;e++){let K=u[e];if(n.U=K[0],K=K[1],2==n.G)if("c"==K[0]){n.J=K[1],n.la=K[2];const Ee=K[3];null!=Ee&&(n.ma=Ee,n.h.info("VER="+n.ma));const je=K[4];null!=je&&(n.za=je,n.h.info("SVER="+n.za));const _t=K[5];null!=_t&&"number"==typeof _t&&0<_t&&(n.K=o=1.5*_t,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const Gt=i.g;if(Gt){const Wt=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wt){var h=o.i;!h.g&&(fe(Wt,"spdy")||fe(Wt,"quic")||fe(Wt,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(x(h,h.h),h.h=null))}if(o.D){const On=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;On&&(o.sa=On,_r(o.F,o.D,On))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var v=i;if((o=n).oa=ti(o,o.H?o.la:null,o.W),v.J){ae(o.i,v);var M=v,$=o.K;$&&M.setTimeout($),M.B&&(Vi(M),Ks(M)),o.g=v}else Go(o);0<n.l.length&&So(n)}else"stop"!=K[0]&&"close"!=K[0]||ii(n,7);else 3==n.G&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?ii(n,7):$o(n):"noop"!=K[0]&&n.j&&n.j.wa(K),n.A=0)}Wr(4)}catch(K){}}function Fs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Le(i)||"string"==typeof i)St(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(Le(i)||"string"==typeof i){n=[];for(var o=i.length,u=0;u<o;u++)n.push(u)}else for(u in n=[],o=0,i)n[o++]=u;o=function Ki(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Le(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length;for(var h=0;h<u;h++)e.call(void 0,o[h],n&&n[h],i)}}function hi(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof hi)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function _i(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];Ui(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var u={};for(n=e=0;e<i.g.length;)Ui(u,o=i.g[e])||(i.g[n++]=o,u[o]=1),e++;i.g.length=n}}function Ui(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(oe=Gr.prototype).setTimeout=function(i){this.P=i},oe.gb=function(i){i=i.target;const e=this.L;e&&3==Pi(i)?e.l():this.Ia(i)},oe.Ia=function(i){try{if(i==this.g)e:{const Ee=Pi(this.g);var e=this.g.Da();const je=this.g.ba();if(!(3>Ee)&&(3!=Ee||vn||this.g&&(this.h.h||this.g.ga()||aa(this.g)))){this.I||4!=Ee||7==e||Wr(8==e||0>=je?3:2),Vi(this);var n=this.g.ba();this.N=n;t:if(ts(this)){var o=aa(this.g);i="";var u=o.length,h=4==Pi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xi(this),Ii(this);var v="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:h&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==n,function Dr(i,e,n,o,u,h,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+h+" "+v})}(this.j,this.u,this.A,this.m,this.X,Ee,n),this.i){if(this.$&&!this.J){t:{if(this.g){var M,$=this.g;if((M=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xe(M)){var K=M;break t}}K=null}if(!(n=K)){this.i=!1,this.o=3,xr(12),xi(this),Ii(this);break e}Qn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ks(this,n)}this.U?(Ns(this,Ee,v),vn&&this.i&&3==Ee&&(Xt(this.V,this.W,"tick",this.fb),this.W.start())):(Qn(this.j,this.m,v,null),ks(this,v)),4==Ee&&xi(this),this.i&&!this.I&&(4==Ee?Ya(this.l,this):(this.i=!1,Ks(this)))}else 400==n&&0<v.indexOf("Unknown SID")?(this.o=3,xr(12)):(this.o=0,xr(13)),xi(this),Ii(this)}}}catch(Ee){}},oe.fb=function(){if(this.g){var i=Pi(this.g),e=this.g.ga();this.C<e.length&&(Vi(this),Ns(this,i,e),this.i&&4!=i&&Ks(this))}},oe.cancel=function(){this.I=!0,xi(this)},oe.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function kr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Wr(3),xr(17)),xi(this),this.o=2,Ii(this)):Ps(this,this.Y-i)},(oe=hi.prototype).R=function(){_i(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},oe.T=function(){return _i(this),this.g.concat()},oe.get=function(i,e){return Ui(this.h,i)?this.h[i]:e},oe.set=function(i,e){Ui(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},oe.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var u=n[o],h=this.get(u);i.call(e,h,u,this)}};var qi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof vi){this.g=void 0!==e?e:i.g,Ni(this,i.j),this.s=i.s,Qr(this,i.i),ws(this,i.m),this.l=i.l,e=i.h;var n=new Ri;n.i=e.i,e.g&&(n.g=new hi(e.g),n.h=e.h),ns(this,n),this.o=i.o}else i&&(n=String(i).match(qi))?(this.g=!!e,Ni(this,n[1]||"",!0),this.s=Ar(n[2]||""),Qr(this,n[3]||"",!0),ws(this,n[4]),this.l=Ar(n[5]||"",!0),ns(this,n[6]||"",!0),this.o=Ar(n[7]||"")):(this.g=!!e,this.h=new Ri(null,this.g))}function Vr(i){return new vi(i)}function Ni(i,e,n){i.j=n?Ar(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Qr(i,e,n){i.i=n?Ar(e,!0):e}function ws(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ns(i,e,n){e instanceof Ri?(i.h=e,function Oe(i,e){e&&!i.j&&(wr(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(R(this,o),F(this,u,n))},i)),i.j=e}(i.h,i.g)):(n||(e=ji(e,fi)),i.h=new Ri(e,i.g))}function _r(i,e,n){i.h.set(e,n)}function Bi(i){return _r(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ar(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ji(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,rs),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function rs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}vi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ji(e,bs,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ji(e,bs,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(ji(n,"/"==n.charAt(0)?Is:$i,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",ji(n,Sr)),i.join("")};var bs=/[#\/\?@]/g,$i=/[#\?:]/g,Is=/[#\?]/g,fi=/[#\?@]/g,Sr=/#/g;function Ri(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function wr(i){i.g||(i.g=new hi,i.h=0,i.i&&function Zi(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var h=i[n].substring(0,o);u=i[n].substring(o+1)}else h=i[n];e(h,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function R(i,e){wr(i),e=ee(i,e),Ui(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Ui((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&_i(i)))}function q(i,e){return wr(i),e=ee(i,e),Ui(i.g.h,e)}function F(i,e,n){R(i,e),0<n.length&&(i.i=null,i.g.set(ee(i,e),_e(n)),i.h+=n.length)}function ee(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ft(i){this.l=i||gn,i=ne.PerformanceNavigationTiming?0<(i=ne.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ne.g&&ne.g.Ea&&ne.g.Ea()&&ne.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(oe=Ri.prototype).add=function(i,e){wr(this),this.i=null,i=ee(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},oe.forEach=function(i,e){wr(this),this.g.forEach(function(n,o){St(n,function(u){i.call(e,u,o,this)},this)},this)},oe.T=function(){wr(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var u=i[o],h=0;h<u.length;h++)n.push(e[o]);return n},oe.R=function(i){wr(this);var e=[];if("string"==typeof i)q(this,i)&&(e=me(e,this.g.get(ee(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=me(e,i[n])}return e},oe.set=function(i,e){return wr(this),this.i=null,q(this,i=ee(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},oe.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],u=encodeURIComponent(String(o));o=this.R(o);for(var h=0;h<o.length;h++){var v=u;""!==o[h]&&(v+="="+encodeURIComponent(String(o[h]))),i.push(v)}}return this.i=i.join("&")};var gn=10;function L(i){return!!i.h||!!i.g&&i.g.size>=i.j}function E(i){return i.h?1:i.g?i.g.size:0}function y(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function x(i,e){i.g?i.g.add(e):i.h=e}function ae(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ze(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return _e(i.i)}function At(){}function Lt(){this.g=new At}function hr(i,e,n){const o=n||"";try{Fs(i,function(u,h){let v=u;ot(u)&&(v=ie(u)),e.push(o+h+"="+encodeURIComponent(v))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ur(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(h){}}function fr(i){this.l=i.$b||null,this.j=i.ib||!1}function $n(i,e){ce.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Yi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft.prototype.cancel=function(){if(this.i=Ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},At.prototype.stringify=function(i){return ne.JSON.stringify(i,void 0)},At.prototype.parse=function(i){return ne.JSON.parse(i,void 0)},We(fr,Bt),fr.prototype.g=function(){return new $n(this.l,this.j)},fr.prototype.i=function(i){return function(){return i}}({}),We($n,ce);var Yi=0;function is(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Pt(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ar(i)}function ar(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(oe=$n.prototype).open=function(i,e){if(this.readyState!=Yi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ar(this)},oe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ne).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=Yi},oe.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ne.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;is(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},oe.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Pt(this):ar(this),3==this.readyState&&is(this)}},oe.Ua=function(i){this.g&&(this.response=this.responseText=i,Pt(this))},oe.Ta=function(i){this.g&&(this.response=i,Pt(this))},oe.ha=function(){this.g&&Pt(this)},oe.setRequestHeader=function(i,e){this.v.append(i,e)},oe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},oe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty($n.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ro=ne.JSON.parse;function zn(i){ce.call(this),this.headers=new hi,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qs,this.K=this.L=!1}We(zn,ce);var qs="",ss=/^https?$/i,Zs=["POST","PUT"];function Io(i){return"content-type"==i.toLowerCase()}function Do(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Bo(i),Ys(i)}function Bo(i){i.D||(i.D=!0,Be(i,"complete"),Be(i,"error"))}function To(i){if(i.h&&void 0!==Me&&(!i.C[1]||4!=Pi(i)||2!=i.ba()))if(i.v&&4==Pi(i))mr(i.Fa,0,i);else if(Be(i,"readystatechange"),4==Pi(i)){i.h=!1;try{const M=i.ba();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===M){var u=String(i.H).match(qi)[1]||null;if(!u&&ne.self&&ne.self.location){var h=ne.self.location.protocol;u=h.substr(0,h.length-1)}o=!ss.test(u?u.toLowerCase():"")}n=o}if(n)Be(i,"complete"),Be(i,"success");else{i.m=6;try{var v=2<Pi(i)?i.g.statusText:""}catch($){v=""}i.j=v+" ["+i.ba()+"]",Bo(i)}}finally{Ys(i)}}}function Ys(i,e){if(i.g){Ti(i);const n=i.g,o=i.C[0]?de:null;i.g=null,i.C=null,e||Be(i,"ready");try{n.onreadystatechange=o}catch(u){}}}function Ti(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ne.clearTimeout(i.A),i.A=null)}function Pi(i){return i.g?i.g.readyState:0}function aa(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case qs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function fs(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function jo(i){let e="";return qt(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):_r(i,e,n))}function go(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function ua(i){this.za=0,this.l=[],this.h=new Gn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=go("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=go("baseRetryDelayMs",5e3,i),this.$a=go("retryDelaySeedMs",1e4,i),this.Ya=go("forwardChannelMaxRetries",2,i),this.ra=go("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Ft(i&&i.concurrentRequestLimit),this.Ca=new Lt,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function $o(i){if(Co(i),3==i.G){var e=i.V++,n=Vr(i.F);_r(n,"SID",i.J),_r(n,"RID",e),_r(n,"TYPE","terminate"),io(i,n),(e=new Gr(i,i.h,e,void 0)).K=2,e.v=Bi(Vr(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon&&(n=ne.navigator.sendBeacon(e.v.toString(),"")),!n&&ne.Image&&((new Image).src=e.v,n=!0),n||(e.g=Qa(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ks(e)}ao(i)}function mo(i){i.g&&(so(i),i.g.cancel(),i.g=null)}function Co(i){mo(i),i.u&&(ne.clearTimeout(i.u),i.u=null),oo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ne.clearTimeout(i.m),i.m=null)}function Ao(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&So(i)}function So(i){L(i.i)||i.m||(i.m=!0,Tt(i.Ha,i),i.C=0)}function Au(i,e){var n;n=e?e.m:i.V++;const o=Vr(i.F);_r(o,"SID",i.J),_r(o,"RID",n),_r(o,"AID",i.U),io(i,o),i.o&&i.s&&fs(o,i.o,i.s),n=new Gr(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Ho(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),x(i.i,n),Kr(n,o,e)}function io(i,e){i.j&&Fs({},function(n,o){_r(e,o,n)})}function Ho(i,e,n){n=Math.min(i.l.length,n);var o=i.j?lt(i.j.Oa,i.j,i):null;e:{var u=i.l;let h=-1;for(;;){const v=["count="+n];-1==h?0<n?(h=u[0].h,v.push("ofs="+h)):h=0:v.push("ofs="+h);let M=!0;for(let $=0;$<n;$++){let K=u[$].h;const Ee=u[$].g;if(K-=h,0>K)h=Math.max(0,u[$].h-100),M=!1;else try{hr(Ee,v,"req"+K+"_")}catch(je){o&&o(Ee)}}if(M){o=v.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function Go(i){i.g||i.u||(i.Y=1,Tt(i.Ga,i),i.A=0)}function Oa(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Fe(lt(i.Ga,i),xa(i,i.A)),i.A++,0))}function so(i){null!=i.B&&(ne.clearTimeout(i.B),i.B=null)}function la(i){i.g=new Gr(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Vr(i.oa);_r(e,"RID","rpc"),_r(e,"SID",i.J),_r(e,"CI",i.N?"0":"1"),_r(e,"AID",i.U),io(i,e),_r(e,"TYPE","xmlhttp"),i.o&&i.s&&fs(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=Bi(Vr(e)),n.s=null,n.U=!0,Es(n,i)}function oo(i){null!=i.v&&(ne.clearTimeout(i.v),i.v=null)}function Ya(i,e){var n=null;if(i.g==e){oo(i),so(i),i.g=null;var o=2}else{if(!y(i.i,e))return;n=e.D,ae(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Be(o=Oi(),new ze(o,n,e,u)),So(i)}else Go(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Ma(i,e){return!(E(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Fe(lt(i.Ha,i,e),xa(i,i.C)),i.C++,0)))}(i,e)||2==o&&Oa(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:ii(i,5);break;case 4:ii(i,10);break;case 3:ii(i,6);break;default:ii(i,2)}}function xa(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function ii(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=lt(i.jb,i);n||(n=new vi("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||Ni(n,"https"),Bi(n)),function Mr(i,e){const n=new Gn;if(ne.Image){const o=new Image;o.onload=wt(ur,n,o,"TestLoadImage: loaded",!0,e),o.onerror=wt(ur,n,o,"TestLoadImage: error",!1,e),o.onabort=wt(ur,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=wt(ur,n,o,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else xr(2);i.G=0,i.j&&i.j.va(e),ao(i),Co(i)}function ao(i){i.G=0,i.I=-1,i.j&&((0!=Ze(i.i).length||0!=i.l.length)&&(i.i.i.length=0,_e(i.l),i.l.length=0),i.j.ua())}function ti(i,e,n){let o=function Di(i){return i instanceof vi?Vr(i):new vi(i,void 0)}(n);if(""!=o.i)e&&Qr(o,e+"."+o.i),ws(o,o.m);else{const u=ne.location;o=function Ur(i,e,n,o){var u=new vi(null,void 0);return i&&Ni(u,i),e&&Qr(u,e),n&&ws(u,n),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,n)}return i.aa&&qt(i.aa,function(u,h){_r(o,h,u)}),n=i.sa,(e=i.D)&&n&&_r(o,e,n),_r(o,"VER",i.ma),io(i,o),o}function Qa(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zn(n&&i.Ba&&!i.qa?new fr({ib:!0}):i.qa)).L=i.H,e}function Ja(){}function Xa(){if(Ct&&!(10<=Number(Et)))throw Error("Environmental error: no available transport.")}function Ds(i,e){ce.call(this),this.g=new ua(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!xe(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xe(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ps(this)}function Su(i){tr.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function bl(){Wn.call(this),this.status=1}function ps(i){this.g=i}(oe=zn.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lr.g(),this.C=function sn(i){return i.h||(i.h=i.i())}(this.u?this.u:Lr),this.g.onreadystatechange=lt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void Do(this,h)}i=n||"";const u=new hi(this.headers);o&&Fs(o,function(h,v){u.set(v,h)}),o=function ue(i){e:{var e=Io;const n=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<n;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),n=ne.FormData&&i instanceof ne.FormData,!(0<=Ne(Zs,e))||o||n||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(h,v){this.g.setRequestHeader(v,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ti(this),0<this.B&&((this.K=function po(i){return Ct&&function kn(){return function Ce(i){var e=nn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=He(String(Un)).split("."),n=He("9").split("."),o=Math.max(e.length,n.length);for(let v=0;0==i&&v<o;v++){var u=e[v]||"",h=n[v]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==u[0].length&&0==h[0].length)break;i=mt(0==u[1].length?0:parseInt(u[1],10),0==h[1].length?0:parseInt(h[1],10))||mt(0==u[2].length,0==h[2].length)||mt(u[2],h[2]),u=u[3],h=h[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lt(this.pa,this)):this.A=mr(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){Do(this,h)}},oe.pa=function(){void 0!==Me&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Be(this,"timeout"),this.abort(8))},oe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Be(this,"complete"),Be(this,"abort"),Ys(this))},oe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ys(this,!0)),zn.Z.M.call(this)},oe.Fa=function(){this.s||(this.F||this.v||this.l?To(this):this.cb())},oe.cb=function(){To(this)},oe.ba=function(){try{return 2<Pi(this)?this.g.status:-1}catch(i){return-1}},oe.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},oe.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ro(e)}},oe.Da=function(){return this.m},oe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(oe=ua.prototype).ma=8,oe.G=1,oe.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},oe.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new Gr(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=Jt(h),dt(h,this.P)):h=this.P),null===this.o&&(u.H=h),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ho(this,u,e),_r(n=Vr(this.F),"RID",i),_r(n,"CVER",22),this.D&&_r(n,"X-HTTP-Session-Id",this.D),io(this,n),this.o&&h&&fs(n,this.o,h),x(this.i,u),this.Ra&&_r(n,"TYPE","init"),this.ja?(_r(n,"$req",e),_r(n,"SID","null"),u.$=!0,Kr(u,n,null)):Kr(u,n,e),this.G=2}}else 3==this.G&&(i?Au(this,i):0==this.l.length||L(this.i)||Au(this))},oe.Ga=function(){if(this.u=null,la(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Fe(lt(this.bb,this),i)}},oe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xr(10),mo(this),la(this))},oe.ab=function(){null!=this.v&&(this.v=null,mo(this),Oa(this),xr(19))},oe.jb=function(i){i?(this.h.info("Successfully pinged google.com"),xr(2)):(this.h.info("Failed to ping google.com"),xr(1))},(oe=Ja.prototype).xa=function(){},oe.wa=function(){},oe.va=function(){},oe.ua=function(){},oe.Oa=function(){},Xa.prototype.g=function(i,e){return new Ds(i,e)},We(Ds,ce),Ds.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Tt(lt(i.hb,i,e))),xr(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=ti(i,null,i.W),So(i)},Ds.prototype.close=function(){$o(this.g)},Ds.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Ao(this.g,e)}else this.v?((e={}).__data__=ie(i),Ao(this.g,e)):Ao(this.g,i)},Ds.prototype.M=function(){this.g.j=null,delete this.j,$o(this.g),delete this.g,Ds.Z.M.call(this)},We(Su,tr),We(bl,Wn),We(ps,Ja),ps.prototype.xa=function(){Be(this.g,"a")},ps.prototype.wa=function(i){Be(this.g,new Su(i))},ps.prototype.va=function(i){Be(this.g,new bl(i))},ps.prototype.ua=function(){Be(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,Ds.prototype.send=Ds.prototype.u,Ds.prototype.open=Ds.prototype.m,Ds.prototype.close=Ds.prototype.close,qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,Nt.COMPLETE="complete",er.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",ce.prototype.listen=ce.prototype.N,zn.prototype.listenOnce=zn.prototype.O,zn.prototype.getLastError=zn.prototype.La,zn.prototype.getLastErrorCode=zn.prototype.Da,zn.prototype.getStatus=zn.prototype.ba,zn.prototype.getResponseJson=zn.prototype.Qa,zn.prototype.getResponseText=zn.prototype.ga,zn.prototype.send=zn.prototype.ea;var Ls=De.createWebChannelTransport=function(){return new Xa},zo=De.getStatEventTarget=function(){return Oi()},Ci=De.ErrorCode=qe,Mu=De.EventType=Nt,ca=De.Event=jn,Ts=De.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},si=De.FetchXmlHttpFactory=fr,gs=De.WebChannel=er,Wo=De.XhrIo=zn;const Vs="@firebase/firestore";class oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oi.UNAUTHENTICATED=new oi(null),oi.GOOGLE_CREDENTIALS=new oi("google-credentials-uid"),oi.FIRST_PARTY=new oi("first-party-uid"),oi.MOCK_USER=new oi("mock-user");let Ko="9.6.11";const Us=new ve.Yd("@firebase/firestore");function eu(){return Us.logLevel}function Il(i){Us.setLogLevel(i)}function Kt(i,...e){if(Us.logLevel<=ve.in.DEBUG){const n=e.map(Mo);Us.debug(`Firestore (${Ko}): ${i}`,...n)}}function qr(i,...e){if(Us.logLevel<=ve.in.ERROR){const n=e.map(Mo);Us.error(`Firestore (${Ko}): ${i}`,...n)}}function Bs(i,...e){if(Us.logLevel<=ve.in.WARN){const n=e.map(Mo);Us.warn(`Firestore (${Ko}): ${i}`,...n)}}function Mo(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(n){return i}}function In(i="Unexpected state"){const e=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: `+i;throw qr(e),new Error(e)}function Ln(i,e){i||In()}function da(i,e){i||In()}function $t(i,e){return i}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jt extends Ie.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Na{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ou{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(oi.UNAUTHENTICATED))}shutdown(){}}class ha{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fa{constructor(e){this.t=e,this.currentUser=oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const h=K=>this.i!==u?(u=this.i,n(K)):Promise.resolve();let v=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new ai,e.enqueueRetryable(()=>h(this.currentUser))};const M=()=>{const K=v;e.enqueueRetryable((0,c.Z)(function*(){yield K.promise,yield h(o.currentUser)}))},$=K=>{Kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(K=>$(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?$(K):(Kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new ai)}},0),M()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ln("string"==typeof o.accessToken),new Na(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ln(null===e||"string"==typeof e),new oi(e)}}class xu{constructor(e,n,o){this.type="FirstParty",this.user=oi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class uo{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new xu(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Oo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qo{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const o=h=>{null!=h.error&&Kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const v=h.token!==this.p;return this.p=h.token,Kt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?n(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const u=h=>{Kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.g.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.g.getImmediate({optional:!0});h?u(h):Kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ln("string"==typeof n.token),this.p=n.token,new Oo(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class I{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.I(o),this.T=o=>n.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function b(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}I.A=-1;class P{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=b(40);for(let h=0;h<u.length;++h)o.length<20&&u[h]<n&&(o+=e.charAt(u[h]%e.length))}return o}}function V(i,e){return i<e?-1:i>e?1:0}function Y(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}function ye(i){return i+"\0"}class Ae{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new jt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new jt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new jt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new jt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Ae(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?V(this.nanoseconds,e.nanoseconds):V(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new et(e)}static min(){return new et(new Ae(0,0))}static max(){return new et(new Ae(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function hn(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function nr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Nn(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class vr{constructor(e,n,o){void 0===n?n=0:n>e.length&&In(),void 0===o?o=e.length-n:o>e.length-n&&In(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===vr.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const h=e.get(u),v=n.get(u);if(h<v)return-1;if(h>v)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Sn extends vr{construct(e,n,o){return new Sn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new jt(ht.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Sn(n)}static emptyPath(){return new Sn([])}}const Qs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rr extends vr{construct(e,n,o){return new Rr(e,n,o)}static isValidIdentifier(e){return Qs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const h=()=>{if(0===o.length)throw new jt(ht.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let v=!1;for(;u<e.length;){const M=e[u];if("\\"===M){if(u+1===e.length)throw new jt(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[u+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new jt(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=$,u+=2}else"`"===M?(v=!v,u++):"."!==M||v?(o+=M,u++):(h(),u++)}if(h(),v)throw new jt(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rr(n)}static emptyPath(){return new Rr([])}}class ki{constructor(e){this.fields=e,e.sort(Rr.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Y(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function js(){return"undefined"!=typeof atob}class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Br(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Br(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return V(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const Qi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(i){if(Ln(!!i),"string"==typeof i){let e=0;const n=Qi.exec(i);if(Ln(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Zr(i.seconds),nanos:Zr(i.nanos)}}function Zr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function xo(i){return"string"==typeof i?Br.fromBase64String(i):Br.fromUint8Array(i)}function Zo(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Jl(i){const e=i.mapValue.fields.__previous_value__;return Zo(e)?Jl(e):e}function Ra(i){const e=Ei(i.mapValue.fields.__local_write_time__.timestampValue);return new Ae(e.seconds,e.nanos)}class ui{constructor(e,n,o,u,h,v,M,$){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=h,this.forceLongPolling=v,this.autoDetectLongPolling=M,this.useFetchStreams=$}}class No{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new No("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof No&&e.projectId===this.projectId&&e.database===this.database}}function Pa(i){return null==i}function tu(i){return 0===i&&1/i==-1/0}function Lc(i){return"number"==typeof i&&Number.isInteger(i)&&!tu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class on{constructor(e){this.path=e}static fromPath(e){return new on(Sn.fromString(e))}static fromName(e){return new on(Sn.fromString(e).popFirst(5))}static empty(){return new on(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Sn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new on(new Sn(e.slice()))}}const Vc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xl={nullValue:"NULL_VALUE"};function Cs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Zo(i)?4:Nu(i)?9:10:In()}function Js(i,e){if(i===e)return!0;const n=Cs(i);if(n!==Cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ra(i).isEqual(Ra(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ei(o.timestampValue),v=Ei(u.timestampValue);return h.seconds===v.seconds&&h.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,xo(i.bytesValue).isEqual(xo(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Zr(o.geoPointValue.latitude)===Zr(u.geoPointValue.latitude)&&Zr(o.geoPointValue.longitude)===Zr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Zr(o.integerValue)===Zr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Zr(o.doubleValue),v=Zr(u.doubleValue);return h===v?tu(h)===tu(v):isNaN(h)&&isNaN(v)}return!1}(i,e);case 9:return Y(i.arrayValue.values||[],e.arrayValue.values||[],Js);case 10:return function(o,u){const h=o.mapValue.fields||{},v=u.mapValue.fields||{};if(hn(h)!==hn(v))return!1;for(const M in h)if(h.hasOwnProperty(M)&&(void 0===v[M]||!Js(h[M],v[M])))return!1;return!0}(i,e);default:return In()}var u}function li(i,e){return void 0!==(i.values||[]).find(n=>Js(n,e))}function $s(i,e){if(i===e)return 0;const n=Cs(i),o=Cs(e);if(n!==o)return V(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return V(i.booleanValue,e.booleanValue);case 2:return function(u,h){const v=Zr(u.integerValue||u.doubleValue),M=Zr(h.integerValue||h.doubleValue);return v<M?-1:v>M?1:v===M?0:isNaN(v)?isNaN(M)?0:-1:1}(i,e);case 3:return ka(i.timestampValue,e.timestampValue);case 4:return ka(Ra(i),Ra(e));case 5:return V(i.stringValue,e.stringValue);case 6:return function(u,h){const v=xo(u),M=xo(h);return v.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const v=u.split("/"),M=h.split("/");for(let $=0;$<v.length&&$<M.length;$++){const K=V(v[$],M[$]);if(0!==K)return K}return V(v.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const v=V(Zr(u.latitude),Zr(h.latitude));return 0!==v?v:V(Zr(u.longitude),Zr(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,h){const v=u.values||[],M=h.values||[];for(let $=0;$<v.length&&$<M.length;++$){const K=$s(v[$],M[$]);if(K)return K}return V(v.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,h){const v=u.fields||{},M=Object.keys(v),$=h.fields||{},K=Object.keys($);M.sort(),K.sort();for(let Ee=0;Ee<M.length&&Ee<K.length;++Ee){const je=V(M[Ee],K[Ee]);if(0!==je)return je;const _t=$s(v[M[Ee]],$[K[Ee]]);if(0!==_t)return _t}return V(M.length,K.length)}(i.mapValue,e.mapValue);default:throw In()}}function ka(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return V(i,e);const n=Ei(i),o=Ei(e),u=V(n.seconds,o.seconds);return 0!==u?u:V(n.nanos,o.nanos)}function pa(i){return Dl(i)}function Dl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Ei(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?xo(i.bytesValue).toBase64():"referenceValue"in i?on.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",h=!0;for(const v of o.values||[])h?h=!1:u+=",",u+=Dl(v);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let h="{",v=!0;for(const M of u)v?v=!1:h+=",",h+=`${M}:${Dl(o.fields[M])}`;return h+"}"}(i.mapValue):In();var e}function Ai(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ms(i){return!!i&&"integerValue"in i}function Yo(i){return!!i&&"arrayValue"in i}function nu(i){return!!i&&"nullValue"in i}function Ro(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Fa(i){return!!i&&"mapValue"in i}function Xs(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return nr(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Xs(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xs(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Nu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function $d(i){return"nullValue"in i?Xl:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ai(No.empty(),on.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:In()}function tf(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ai(No.empty(),on.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Vc:In()}function Ru(i,e){return void 0===i?e:void 0===e||$s(i,e)>0?i:e}function os(i,e){return void 0===i?e:void 0===e||$s(i,e)<0?i:e}class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Fa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xs(n)}setAll(e){let n=Rr.emptyPath(),o={},u=[];e.forEach((v,M)=>{if(!n.isImmediateParentOf(M)){const $=this.getFieldsMap(n);this.applyChanges($,o,u),o={},u=[],n=M.popLast()}v?o[M.lastSegment()]=Xs(v):u.push(M.lastSegment())});const h=this.getFieldsMap(n);this.applyChanges(h,o,u)}delete(e){const n=this.field(e.popLast());Fa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Js(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Fa(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){nr(n,(u,h)=>e[u]=h);for(const u of o)delete e[u]}clone(){return new Hi(Xs(this.value))}}function La(i){const e=[];return nr(i.fields,(n,o)=>{const u=new Rr([n]);if(Fa(o)){const h=La(o.mapValue).fields;if(0===h.length)e.push(u);else for(const v of h)e.push(u.child(v))}else e.push(u)}),new ki(e)}class ci{constructor(e,n,o,u,h,v){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=h,this.documentState=v}static newInvalidDocument(e){return new ci(e,0,et.min(),et.min(),Hi.empty(),0)}static newFoundDocument(e,n,o){return new ci(e,1,n,et.min(),o,0)}static newNoDocument(e,n){return new ci(e,2,n,et.min(),Hi.empty(),0)}static newUnknownDocument(e,n){return new ci(e,3,n,et.min(),Hi.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Va{constructor(e,n,o,u){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=u}}function Pu(i){return i.fields.find(e=>2===e.kind)}function lo(i){return i.fields.filter(e=>2!==e.kind)}Va.UNKNOWN_ID=-1;class ru{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ua{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ua(0,As.min())}}function Ba(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=et.fromTimestamp(1e9===o?new Ae(n+1,0):new Ae(n,o));return new As(u,on.empty(),e)}function ec(i){return new As(i.readTime,i.key,-1)}class As{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new As(et.min(),on.empty(),-1)}static max(){return new As(et.max(),on.empty(),-1)}}function ku(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=on.comparator(i.documentKey,e.documentKey),0!==n?n:V(i.largestBatchId,e.largestBatchId))}class Hd{constructor(e,n=null,o=[],u=[],h=null,v=null,M=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=h,this.startAt=v,this.endAt=M,this.P=null}}function Qo(i,e=null,n=[],o=[],u=null,h=null,v=null){return new Hd(i,e,n,o,u,h,v)}function co(i){const e=$t(i);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+pa(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Pa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>pa(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>pa(o)).join(",")),e.P=n}return e.P}function Fu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!su(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!Js(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ic(i.startAt,e.startAt)&&ic(i.endAt,e.endAt)}function Lu(i){return on.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Vu(i,e){return i.filters.filter(n=>n instanceof pi&&n.field.isEqual(e))}function tc(i,e,n){let o,u=!0;for(const h of Vu(i,e)){let v,M=!0;switch(h.op){case"<":case"<=":v=$d(h.value);break;case"==":case"in":case">=":v=h.value;break;case">":v=h.value,M=!1;break;case"!=":case"not-in":v=Xl}Ru(o,v)===v&&(o=v,u=M)}if(null!==n)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const v=n.position[h];Ru(o,v)===v&&(o=v,u=n.inclusive);break}return{value:o,inclusive:u}}function Uc(i,e,n){let o,u=!0;for(const h of Vu(i,e)){let v,M=!0;switch(h.op){case">=":case">":v=tf(h.value),M=!1;break;case"==":case"in":case"<=":v=h.value;break;case"<":v=h.value,M=!1;break;case"!=":case"not-in":v=Vc}os(o,v)===v&&(o=v,u=M)}if(null!==n)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const v=n.position[h];os(o,v)===v&&(o=v,u=n.inclusive);break}return{value:o,inclusive:u}}class pi extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,o):new Bc(e,n,o):"array-contains"===n?new zd(e,o):"in"===n?new Uu(e,o):"not-in"===n?new Bu(e,o):"array-contains-any"===n?new rc(e,o):new pi(e,n,o)}static V(e,n,o){return"in"===n?new Gd(e,o):new Gi(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v($s(n,this.value)):null!==n&&Cs(this.value)===Cs(n)&&this.v($s(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return In()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Bc extends pi{constructor(e,n,o){super(e,n,o),this.key=on.fromName(o.referenceValue)}matches(e){const n=on.comparator(e.key,this.key);return this.v(n)}}class Gd extends pi{constructor(e,n){super(e,"in",n),this.keys=nc(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Gi extends pi{constructor(e,n){super(e,"not-in",n),this.keys=nc(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nc(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>on.fromName(o.referenceValue))}class zd extends pi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yo(n)&&li(n.arrayValue,this.value)}}class Uu extends pi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&li(this.value.arrayValue,n)}}class Bu extends pi{constructor(e,n){super(e,"not-in",n)}matches(e){if(li(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!li(this.value.arrayValue,n)}}class rc extends pi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>li(this.value.arrayValue,o))}}class Po{constructor(e,n){this.position=e,this.inclusive=n}}class ga{constructor(e,n="asc"){this.field=e,this.dir=n}}function su(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function ko(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const h=e[u],v=i.position[u];if(o=h.field.isKeyField()?on.comparator(on.fromName(v.referenceValue),n.key):$s(v,n.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function ic(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Js(i.position[n],e.position[n]))return!1;return!0}class Ss{constructor(e,n=null,o=[],u=[],h=null,v="F",M=null,$=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=h,this.limitType=v,this.startAt=M,this.endAt=$,this.D=null,this.C=null}}function sc(i,e,n,o,u,h,v,M){return new Ss(i,e,n,o,u,h,v,M)}function ma(i){return new Ss(i)}function ou(i){return!Pa(i.limit)&&"F"===i.limitType}function ya(i){return!Pa(i.limit)&&"L"===i.limitType}function au(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function oc(i){for(const e of i.filters)if(e.S())return e.field;return null}function ac(i){return null!==i.collectionGroup}function yo(i){const e=$t(i);if(null===e.D){e.D=[];const n=oc(e),o=au(e);if(null!==n&&null===o)n.isKeyField()||e.D.push(new ga(n)),e.D.push(new ga(Rr.keyField(),"asc"));else{let u=!1;for(const h of e.explicitOrderBy)e.D.push(h),h.field.isKeyField()&&(u=!0);if(!u){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new ga(Rr.keyField(),h))}}}return e.D}function Ji(i){const e=$t(i);if(!e.C)if("F"===e.limitType)e.C=Qo(e.path,e.collectionGroup,yo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const h of yo(e))n.push(new ga(h.field,"desc"===h.dir?"asc":"desc"));const o=e.endAt?new Po(e.endAt.position,!e.endAt.inclusive):null,u=e.startAt?new Po(e.startAt.position,!e.startAt.inclusive):null;e.C=Qo(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.C}function jc(i,e,n){return new Ss(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Tl(i,e){return Fu(Ji(i),Ji(e))&&i.limitType===e.limitType}function Cl(i){return`${co(Ji(i))}|lt:${i.limitType}`}function uc(i){return`Query(target=${function iu(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${pa(o.value)}`;var o}).join(", ")}]`),Pa(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>pa(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>pa(n)).join(",")),`Target(${e})`}(Ji(i))}; limitType=${i.limitType})`}function ju(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):on.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,h,v){const M=ko(u,h,v);return u.inclusive?M<=0:M<0}(n.startAt,yo(n),o)||n.endAt&&!function(u,h,v){const M=ko(u,h,v);return u.inclusive?M>=0:M>0}(n.endAt,yo(n),o)));var n,o}function $c(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Hc(i){return(e,n)=>{let o=!1;for(const u of yo(i)){const h=Wd(u,e,n);if(0!==h)return h;o=o||u.field.isKeyField()}return 0}}function Wd(i,e,n){const o=i.field.isKeyField()?on.comparator(e.key,n.key):function(u,h,v){const M=h.data.field(u),$=v.data.field(u);return null!==M&&null!==$?$s(M,$):In()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return In()}}function $u(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(e)?"-0":e}}function Al(i){return{integerValue:""+i}}function ja(i,e){return Lc(e)?Al(e):$u(i,e)}class Sl{constructor(){this._=void 0}}function Kd(i,e,n){return i instanceof _a?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(h.fields.__previous_value__=u),{mapValue:h}}(n,e):i instanceof va?lc(i,e):i instanceof Ea?Jo(i,e):function(o,u){const h=Hu(o,u),v=zc(h)+zc(o.k);return ms(h)&&ms(o.k)?Al(v):$u(o.M,v)}(i,e)}function Gc(i,e,n){return i instanceof va?lc(i,e):i instanceof Ea?Jo(i,e):n}function Hu(i,e){return i instanceof uu?ms(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class _a extends Sl{}class va extends Sl{constructor(e){super(),this.elements=e}}function lc(i,e){const n=Wc(e);for(const o of i.elements)n.some(u=>Js(u,o))||n.push(o);return{arrayValue:{values:n}}}class Ea extends Sl{constructor(e){super(),this.elements=e}}function Jo(i,e){let n=Wc(e);for(const o of i.elements)n=n.filter(u=>!Js(u,o));return{arrayValue:{values:n}}}class uu extends Sl{constructor(e,n){super(),this.M=e,this.k=n}}function zc(i){return Zr(i.integerValue||i.doubleValue)}function Wc(i){return Yo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class lu{constructor(e,n){this.field=e,this.transform=n}}class _o{constructor(e,n){this.version=e,this.transformResults=n}}class Yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class wa{}function Kc(i,e,n){i instanceof hu?function(o,u,h){const v=o.value.clone(),M=Yc(o.fieldTransforms,u,h.transformResults);v.setAll(M),u.convertToFoundDocument(h.version,v).setHasCommittedMutations()}(i,e,n):i instanceof $a?function(o,u,h){if(!Gu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const v=Yc(o.fieldTransforms,u,h.transformResults),M=u.data;M.setAll(Zc(o)),M.setAll(v),u.convertToFoundDocument(h.version,M).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function du(i,e,n){var u;i instanceof hu?function(o,u,h){if(!Gu(o.precondition,u))return;const v=o.value.clone(),M=D(o.fieldTransforms,h,u);v.setAll(M),u.convertToFoundDocument(zu(u),v).setHasLocalMutations()}(i,e,n):i instanceof $a?function(o,u,h){if(!Gu(o.precondition,u))return;const v=D(o.fieldTransforms,h,u),M=u.data;M.setAll(Zc(o)),M.setAll(v),u.convertToFoundDocument(zu(u),M).setHasLocalMutations()}(i,e,n):Gu(i.precondition,u=e)&&u.convertToNoDocument(et.min())}function qc(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),h=Hu(o.transform,u||null);null!=h&&(null==n&&(n=Hi.empty()),n.set(o.field,h))}return n||null}function Ml(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Y(n,o,(u,h)=>function cu(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof va&&o instanceof va||n instanceof Ea&&o instanceof Ea?Y(n.elements,o.elements,Js):n instanceof uu&&o instanceof uu?Js(n.k,o.k):n instanceof _a&&o instanceof _a);var n,o}(u,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}function zu(i){return i.isFoundDocument()?i.version:et.min()}class hu extends wa{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}}class $a extends wa{constructor(e,n,o,u,h=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=h,this.type=1}}function Zc(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Yc(i,e,n){const o=new Map;Ln(i.length===n.length);for(let u=0;u<n.length;u++){const h=i[u],v=h.transform,M=e.data.field(h.field);o.set(h.field,Gc(v,M,n[u]))}return o}function D(i,e,n){const o=new Map;for(const u of i){const h=u.transform,v=n.data.field(u.field);o.set(u.field,Kd(h,v,e))}return o}class f extends wa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class m extends wa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class A{constructor(e){this.count=e}}var z,se;function ut(i){switch(i){default:return In();case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0}}function Ht(i){if(void 0===i)return qr("GRPC error has no .code"),ht.UNKNOWN;switch(i){case z.OK:return ht.OK;case z.CANCELLED:return ht.CANCELLED;case z.UNKNOWN:return ht.UNKNOWN;case z.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case z.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case z.INTERNAL:return ht.INTERNAL;case z.UNAVAILABLE:return ht.UNAVAILABLE;case z.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case z.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case z.NOT_FOUND:return ht.NOT_FOUND;case z.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case z.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case z.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case z.ABORTED:return ht.ABORTED;case z.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case z.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case z.DATA_LOSS:return ht.DATA_LOSS;default:return In()}}(se=z||(z={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";class wn{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,h]of o)if(this.equalsFn(u,e))return h}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){nr(this.inner,(n,o)=>{for(const[u,h]of o)e(u,h)})}isEmpty(){return Nn(this.inner)}size(){return this.innerSize}}class bn{constructor(e,n){this.comparator=e,this.root=n||Er.EMPTY}insert(e,n){return new bn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pr(this.root,e,this.comparator,!1)}getReverseIterator(){return new pr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pr(this.root,e,this.comparator,!0)}}class pr{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=n?o(e.key,n):1,n&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,n,o,u,h){this.key=e,this.value=n,this.color=null!=o?o:Er.RED,this.left=null!=u?u:Er.EMPTY,this.right=null!=h?h:Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,h){return new Er(null!=e?e:this.key,null!=n?n:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const h=o(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===h?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Er.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw In();const e=this.left.check();if(e!==this.right.check())throw In();return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1,Er.EMPTY=new class{constructor(){this.size=0}get key(){throw In()}get value(){throw In()}get color(){throw In()}get left(){throw In()}get right(){throw In()}copy(i,e,n,o,u){return this}insert(i,e,n){return new Er(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tr{constructor(e){this.comparator=e,this.data=new bn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vo(this.data.getIterator())}getIteratorFrom(e){return new vo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,h=o.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tr(this.comparator);return n.data=e,n}}class vo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Eo(i){return i.hasNext()?i.getNext():void 0}const qd=new bn(on.comparator);function eo(){return qd}const cc=new bn(on.comparator);function Ol(){return cc}function Ha(){return new wn(i=>i.toString(),(i,e)=>i.isEqual(e))}const Qc=new bn(on.comparator),Jc=new Tr(on.comparator);function Or(...i){let e=Jc;for(const n of i)e=e.add(n);return e}const Wu=new Tr(V);function Ku(){return Wu}class Xo{constructor(e,n,o,u,h){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n)),new Xo(et.min(),o,Ku(),eo(),Or())}}class qu{constructor(e,n,o,u,h){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,n){return new qu(Br.EMPTY_BYTE_STRING,n,Or(),Or(),Or())}}class wi{constructor(e,n,o,u){this.O=e,this.removedTargetIds=n,this.key=o,this.F=u}}class Zd{constructor(e,n){this.targetId=e,this.$=n}}class Yd{constructor(e,n,o=Br.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Xc{constructor(){this.B=0,this.L=sf(),this.U=Br.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Or(),n=Or(),o=Or();return this.L.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:In()}}),new qu(this.U,this.q,e,n,o)}J(){this.K=!1,this.L=sf()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class nf{constructor(e){this.nt=e,this.st=new Map,this.it=eo(),this.rt=rf(),this.ot=new Tr(V)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const o=this.lt(n);switch(e.state){case 0:this.ft(n)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(n);break;case 3:this.ft(n)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),o.W(e.resumeToken));break;default:In()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((o,u)=>{this.ft(u)&&n(u)})}_t(e){const n=e.targetId,o=e.$.count,u=this.wt(n);if(u){const h=u.target;if(Lu(h))if(0===o){const v=new on(h.path);this.ct(n,v,ci.newNoDocument(v,et.min()))}else Ln(1===o);else this.gt(n)!==o&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((h,v)=>{const M=this.wt(v);if(M){if(h.current&&Lu(M.target)){const $=new on(M.target.path);null!==this.it.get($)||this.It(v,$)||this.ct(v,$,ci.newNoDocument($,e))}h.j&&(n.set(v,h.H()),h.J())}});let o=Or();this.rt.forEach((h,v)=>{let M=!0;v.forEachWhile($=>{const K=this.wt($);return!K||2===K.purpose||(M=!1,!1)}),M&&(o=o.add(h))}),this.it.forEach((h,v)=>v.setReadTime(e));const u=new Xo(e,n,this.ot,this.it,o);return this.it=eo(),this.rt=rf(),this.ot=new Tr(V),u}at(e,n){if(!this.ft(e))return;const o=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,o),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,o){if(!this.ft(e))return;const u=this.lt(e);this.It(e,n)?u.Y(n,1):u.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),o&&(this.it=this.it.insert(n,o))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new Xc,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Tr(V),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||Kt("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Xc),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function rf(){return new bn(on.comparator)}function sf(){return new bn(on.comparator)}const Up={asc:"ASCENDING",desc:"DESCENDING"},Bp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class jp{constructor(e,n){this.databaseId=e,this.N=n}}function ed(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $p(i,e){return i.N?e.toBase64():e.toUint8Array()}function dc(i,e){return ed(i,e.toTimestamp())}function zr(i){return Ln(!!i),et.fromTimestamp(function(e){const n=Ei(e);return new Ae(n.seconds,n.nanos)}(i))}function hc(i,e){return(n=i,new Sn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Qd(i){const e=Sn.fromString(i);return Ln(_n(e)),e}function xl(i,e){return hc(i.databaseId,e.path)}function gi(i,e){const n=Qd(e);if(n.get(1)!==i.databaseId.projectId)throw new jt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new jt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new on(of(n))}function Zu(i,e){return hc(i.databaseId,e)}function td(i){const e=Qd(i);return 4===e.length?Sn.emptyPath():of(e)}function fc(i){return new Sn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function of(i){return Ln(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Jd(i,e,n){return{name:xl(i,e),fields:n.value.mapValue.fields}}function af(i,e,n){const o=gi(i,e.name),u=zr(e.updateTime),h=new Hi({mapValue:{fields:e.fields}}),v=ci.newFoundDocument(o,u,h);return n&&v.setHasCommittedMutations(),n?v.setHasCommittedMutations():v}function Nl(i,e){let n;if(e instanceof hu)n={update:Jd(i,e.key,e.value)};else if(e instanceof f)n={delete:xl(i,e.key)};else if(e instanceof $a)n={update:Jd(i,e.key,e.data),updateMask:dn(e.fieldMask)};else{if(!(e instanceof m))return In();n={verify:xl(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,h){const v=h.transform;if(v instanceof _a)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof va)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Ea)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof uu)return{fieldPath:h.field.canonicalString(),increment:v.k};throw In()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:dc(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:In()),n;var u}function nd(i,e){const n=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Yr.updateTime(zr(u.updateTime)):void 0!==u.exists?Yr.exists(u.exists):Yr.none():Yr.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(h,v){let M=null;"setToServerValue"in v?(Ln("REQUEST_TIME"===v.setToServerValue),M=new _a):"appendMissingElements"in v?M=new va(v.appendMissingElements.values||[]):"removeAllFromArray"in v?M=new Ea(v.removeAllFromArray.values||[]):"increment"in v?M=new uu(h,v.increment):In();const $=Rr.fromServerFormat(v.fieldPath);return new lu($,M)}(i,u)):[];var u;if(e.update){const u=gi(i,e.update.name),h=new Hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new ki((e.updateMask.fieldPaths||[]).map(K=>Rr.fromServerFormat(K)));return new $a(u,h,v,n,o)}return new hu(u,h,n,o)}if(e.delete){const u=gi(i,e.delete);return new f(u,n)}if(e.verify){const u=gi(i,e.verify);return new m(u,n)}return In()}function p(i,e){return{documents:[Zu(i,e.path)]}}function g(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Zu(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Zu(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function($){if(0===$.length)return;const K=$.map(Ee=>function(je){if("=="===je.op){if(Ro(je.value))return{unaryFilter:{field:Qe(je.field),op:"IS_NAN"}};if(nu(je.value))return{unaryFilter:{field:Qe(je.field),op:"IS_NULL"}}}else if("!="===je.op){if(Ro(je.value))return{unaryFilter:{field:Qe(je.field),op:"IS_NOT_NAN"}};if(nu(je.value))return{unaryFilter:{field:Qe(je.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qe(je.field),op:we(je.op),value:je.value}}}(Ee));return 1===K.length?K[0]:{compositeFilter:{op:"AND",filters:K}}}(e.filters);u&&(n.structuredQuery.where=u);const h=function($){if(0!==$.length)return $.map(K=>{return{field:Qe((Ee=K).field),direction:ge(Ee.dir)};var Ee})}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const v=(K=e.limit,i.N||Pa(K)?K:{value:K});var K,M,$;return null!==v&&(n.structuredQuery.limit=v),e.startAt&&(n.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(n.structuredQuery.endAt={before:!($=e.endAt).inclusive,values:$.position}),n}function C(i){let e=td(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Ln(1===o);const Ee=n.from[0];Ee.allDescendants?u=Ee.collectionId:e=e.child(Ee.collectionId)}let h=[];n.where&&(h=te(n.where));let v=[];n.orderBy&&(v=n.orderBy.map(Ee=>{return new ga(yt((je=Ee).field),function(_t){switch(_t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(je.direction));var je}));let M=null;n.limit&&(M=function(Ee){let je;return je="object"==typeof Ee?Ee.value:Ee,Pa(je)?null:je}(n.limit));let $=null;var Ee;n.startAt&&($=new Po((Ee=n.startAt).values||[],!!Ee.before));let K=null;return n.endAt&&(K=function(Ee){return new Po(Ee.values||[],!Ee.before)}(n.endAt)),sc(e,u,v,h,M,"F",$,K)}function te(i){return i?void 0!==i.unaryFilter?[mn(i)]:void 0!==i.fieldFilter?[Zt(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>te(e)).reduce((e,n)=>e.concat(n)):In():[]}function ge(i){return Up[i]}function we(i){return Bp[i]}function Qe(i){return{fieldPath:i.canonicalString()}}function yt(i){return Rr.fromServerFormat(i.fieldPath)}function Zt(i){return pi.create(yt(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return In()}}(i.fieldFilter.op),i.fieldFilter.value)}function mn(i){switch(i.unaryFilter.op){case"IS_NAN":const e=yt(i.unaryFilter.field);return pi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=yt(i.unaryFilter.field);return pi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=yt(i.unaryFilter.field);return pi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=yt(i.unaryFilter.field);return pi.create(u,"!=",{nullValue:"NULL_VALUE"});default:return In()}}function dn(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _n(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function un(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=qn(e)),e=Vn(i.get(n),e);return qn(e)}function Vn(i,e){let n=e;const o=i.length;for(let u=0;u<o;u++){const h=i.charAt(u);switch(h){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=h}}return n}function qn(i){return i+"\x01\x01"}function jr(i){const e=i.length;if(Ln(e>=2),2===e)return Ln("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Sn.emptyPath();const n=e-2,o=[];let u="";for(let h=0;h<e;){const v=i.indexOf("\x01",h);switch((v<0||v>n)&&In(),i.charAt(v+1)){case"\x01":const M=i.substring(h,v);let $;0===u.length?$=M:(u+=M,$=u,u=""),o.push($);break;case"\x10":u+=i.substring(h,v),u+="\0";break;case"\x11":u+=i.substring(h,v+1);break;default:In()}h=v+2}return new Sn(o)}const Si=["userId","batchId"];function as(i,e){return[i,un(e)]}function Xi(i,e,n){return[i,un(e),n]}const Yu={},ea=["prefixPath","collectionGroup","readTime","documentId"],Hs=["prefixPath","collectionGroup","documentId"],to=["collectionGroup","readTime","prefixPath","documentId"],us=["canonicalId","targetId"],Ga=["targetId","path"],lf=["path","targetId"],Qu=["collectionId","parent"],Ju=["indexId","uid"],Fo=["uid","sequenceNumber"],pc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Mn=["indexId","uid","orderedDocumentKey"],Zn=["userId","collectionPath","documentId"],dr=["userId","collectionPath","largestBatchId"],Cr=["userId","collectionGroup","largestBatchId"],zi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Lo=[...zi,"documentOverlays"],Ms=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ta=[...Ms,"indexConfiguration","indexState","indexEntries"],mi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class gt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&In(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new gt((o,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,u)},this.catchCallback=h=>{this.wrapFailure(n,h).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof gt?n:gt.resolve(n)}catch(n){return gt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):gt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):gt.reject(n)}static resolve(e){return new gt((n,o)=>{n(e)})}static reject(e){return new gt((n,o)=>{o(e)})}static waitFor(e){return new gt((n,o)=>{let u=0,h=0,v=!1;e.forEach(M=>{++u,M.next(()=>{++h,v&&h===u&&n()},$=>o($))}),v=!0,h===u&&n()})}static or(e){let n=gt.resolve(!1);for(const o of e)n=n.next(u=>u?gt.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,h)=>{o.push(n.call(this,u,h))}),this.waitFor(o)}}class na{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.At=new ai,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{n.error?this.At.reject(new ba(e,n.error)):this.At.resolve()},this.transaction.onerror=o=>{const u=df(o.target.error);this.At.reject(new ba(e,u))}}static open(e,n,o,u){try{return new na(n,e.transaction(u,o))}catch(h){throw new ba(n,h)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Kt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Lm(n)}}class Gs{constructor(e,n,o){this.name=e,this.version=n,this.bt=o,12.2===Gs.Vt((0,Ie.z$)())&&qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Kt("SimpleDb","Removing database:",e),Pl(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Ie.hl)())return!1;if(Gs.St())return!0;const e=(0,Ie.z$)(),n=Gs.Vt(e),o=0<n&&n<10,u=Gs.Dt(e),h=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||h)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,n){return e.store(n)}static Vt(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var n=this;return(0,c.Z)(function*(){return n.db||(Kt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,u)=>{const h=indexedDB.open(n.name,n.version);h.onsuccess=v=>{o(v.target.result)},h.onblocked=()=>{u(new ba(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=v=>{const M=v.target.error;u("VersionError"===M.name?new jt(ht.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new jt(ht.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new ba(e,M))},h.onupgradeneeded=v=>{Kt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',v.oldVersion),n.bt.kt(v.target.result,h.transaction,v.oldVersion,n.version).next(()=>{Kt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Mt&&(n.db.onversionchange=o=>n.Mt(o)),n.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,u){var h=this;return(0,c.Z)(function*(){const v="readonly"===n;let M=0;for(;;){++M;try{h.db=yield h.Nt(e);const $=na.open(h.db,e,v?"readonly":"readwrite",o),K=u($).next(Ee=>($.Pt(),Ee)).catch(Ee=>($.abort(Ee),gt.reject(Ee))).toPromise();return K.catch(()=>{}),yield $.Rt,K}catch($){const K="FirebaseError"!==$.name&&M<3;if(Kt("SimpleDb","Transaction failed with error:",$.message,"Retrying:",K),h.close(),!K)return Promise.reject($)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fu{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Pl(this.Ft.delete())}}class ba extends jt{constructor(e,n){super(ht.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Rl(i){return"IndexedDbTransactionError"===i.name}class Lm{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Kt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Kt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Pl(o)}add(e){return Kt("SimpleDb","ADD",this.store.name,e,e),Pl(this.store.add(e))}get(e){return Pl(this.store.get(e)).next(n=>(void 0===n&&(n=null),Kt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Kt("SimpleDb","DELETE",this.store.name,e),Pl(this.store.delete(e))}count(){return Kt("SimpleDb","COUNT",this.store.name),Pl(this.store.count())}qt(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),h=[];return this.Kt(u,(v,M)=>{h.push(M)}).next(()=>h)}{const u=this.store.getAll(o.range);return new gt((h,v)=>{u.onerror=M=>{v(M.target.error)},u.onsuccess=M=>{h(M.target.result)}})}}Gt(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new gt((u,h)=>{o.onerror=v=>{h(v.target.error)},o.onsuccess=v=>{u(v.target.result)}})}Qt(e,n){Kt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.jt=!1;const u=this.cursor(o);return this.Kt(u,(h,v,M)=>M.delete())}Wt(e,n){let o;n?o=e:(o={},n=e);const u=this.cursor(o);return this.Kt(u,n)}zt(e){const n=this.cursor({});return new gt((o,u)=>{n.onerror=h=>{const v=df(h.target.error);u(v)},n.onsuccess=h=>{const v=h.target.result;v?e(v.primaryKey,v.value).next(M=>{M?v.continue():o()}):o()}})}Kt(e,n){const o=[];return new gt((u,h)=>{e.onerror=v=>{h(v.target.error)},e.onsuccess=v=>{const M=v.target.result;if(!M)return void u();const $=new fu(M),K=n(M.primaryKey,M.value,$);if(K instanceof gt){const Ee=K.catch(je=>($.done(),gt.reject(je)));o.push(Ee)}$.isDone?u():null===$.Lt?M.continue():M.continue($.Lt)}}).next(()=>gt.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Pl(i){return new gt((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=df(o.target.error);n(u)}})}let Gp=!1;function df(i){const e=Gs.Vt((0,Ie.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new jt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Gp||(Gp=!0,setTimeout(()=>{throw o},0)),o}}return i}class zp extends cf{constructor(e,n){super(),this.Ht=e,this.currentSequenceNumber=n}}function ys(i,e){const n=$t(i);return Gs.xt(n.Ht,e)}class rd{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&Kc(h,e,o[u])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&du(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&du(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const o=e.get(n.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(et.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Or())}isEqual(e){return this.batchId===e.batchId&&Y(this.mutations,e.mutations,(n,o)=>Ml(n,o))&&Y(this.baseMutations,e.baseMutations,(n,o)=>Ml(n,o))}}class Xd{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Ln(e.mutations.length===o.length);let u=Qc;const h=e.mutations;for(let v=0;v<h.length;v++)u=u.insert(h[v].key,o[v].version);return new Xd(e,n,o,u)}}class id{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xu{constructor(e,n,o,u,h=et.min(),v=et.min(),M=Br.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=M}withSequenceNumber(e){return new Xu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Wp{constructor(e){this.Jt=e}}function hf(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:za(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:xl(u=i.Jt,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:ed(u,h.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:el(e.version)};else{if(!e.isUnknownDocument())return In();o.unknownDocument={path:n.path.toArray(),version:el(e.version)}}var u,h;return o}function za(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function el(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function tl(i){const e=new Ae(i.seconds,i.nanoseconds);return et.fromTimestamp(e)}function gc(i,e){const n=(e.baseMutations||[]).map(h=>nd(i.Jt,h));for(let h=0;h<e.mutations.length-1;++h){const v=e.mutations[h];h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(v.updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h)}const o=e.mutations.map(h=>nd(i.Jt,h)),u=Ae.fromMillis(e.localWriteTimeMs);return new rd(e.batchId,u,n,o)}function nl(i){const e=tl(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?tl(i.lastLimboFreeSnapshotVersion):et.min();let o;var u;return void 0!==i.query.documents?(Ln(1===(u=i.query).documents.length),o=Ji(ma(td(u.documents[0])))):o=Ji(C(i.query)),new Xu(o,i.targetId,0,i.lastListenSequenceNumber,e,n,Br.fromBase64String(i.resumeToken))}function qp(i,e){const n=el(e.snapshotVersion),o=el(e.lastLimboFreeSnapshotVersion);let u;u=Lu(e.target)?p(i.Jt,e.target):g(i.Jt,e.target);const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:co(e.target),readTime:n,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function eh(i){const e=C({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?jc(e,e.limit,"L"):e}function th(i,e){return new id(e.largestBatchId,nd(i.Jt,e.overlayMutation))}function ff(i,e){const n=e.path.lastSegment();return[i,un(e.path.popLast()),n]}class pf{getBundleMetadata(e,n){return gf(e).get(n).next(o=>{if(o)return{id:(u=o).bundleId,createTime:tl(u.createTime),version:u.version};var u})}saveBundleMetadata(e,n){return gf(e).put({bundleId:(o=n).id,createTime:el(zr(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return sd(e).get(n).next(o=>{if(o)return{name:(u=o).name,query:eh(u.bundledQuery),readTime:tl(u.readTime)};var u})}saveNamedQuery(e,n){return sd(e).put({name:(o=n).name,readTime:el(zr(o.readTime)),bundledQuery:o.bundledQuery});var o}}function gf(i){return ys(i,"bundles")}function sd(i){return ys(i,"namedQueries")}class mc{constructor(e,n){this.M=e,this.userId=n}static Yt(e,n){return new mc(e,n.uid||"")}getOverlay(e,n){return yc(e).get(ff(this.userId,n)).next(o=>o?th(this.M,o):null)}saveOverlays(e,n,o){const u=[];return o.forEach((h,v)=>{const M=new id(n,v);u.push(this.Xt(e,M))}),gt.waitFor(u)}removeOverlaysForBatchId(e,n,o){const u=new Set;n.forEach(v=>u.add(un(v.getCollectionPath())));const h=[];return u.forEach(v=>{const M=IDBKeyRange.bound([this.userId,v,o],[this.userId,v,o+1],!1,!0);h.push(yc(e).Qt("collectionPathOverlayIndex",M))}),gt.waitFor(h)}getOverlaysForCollection(e,n,o){const u=Ha(),h=un(n),v=IDBKeyRange.bound([this.userId,h,o],[this.userId,h,Number.POSITIVE_INFINITY],!0);return yc(e).qt("collectionPathOverlayIndex",v).next(M=>{for(const $ of M){const K=th(this.M,$);u.set(K.getKey(),K)}return u})}getOverlaysForCollectionGroup(e,n,o,u){const h=Ha();let v;const M=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return yc(e).Wt({index:"collectionGroupOverlayIndex",range:M},($,K,Ee)=>{const je=th(this.M,K);h.size()<u||je.largestBatchId===v?(h.set(je.getKey(),je),v=je.largestBatchId):Ee.done()}).next(()=>h)}Xt(e,n){return yc(e).put(function(o,u,h){const[v,M,$]=ff(u,h.mutation.key);return{userId:u,collectionPath:M,documentId:$,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:Nl(o.Jt,h.mutation)}}(this.M,this.userId,n))}}function yc(i){return ys(i,"documentOverlays")}class pu{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(Zr(e.integerValue));else if("doubleValue"in e){const o=Zr(e.doubleValue);isNaN(o)?this.ne(n,13):(this.ne(n,15),tu(o)?n.se(0):n.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(n,20),"string"==typeof o?n.ie(o):(n.ie(`${o.seconds||""}`),n.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(xo(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(n,45),n.se(o.latitude||0),n.se(o.longitude||0)}else"mapValue"in e?Nu(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):In()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const o=e.fields||{};this.ne(n,55);for(const u of Object.keys(o))this.re(u,n),this.te(o[u],n)}he(e,n){const o=e.values||[];this.ne(n,50);for(const u of o)this.te(u,n)}ae(e,n){this.ne(n,37),on.fromName(e).path.forEach(o=>{this.ne(n,60),this.le(o,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}function Zp(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function nh(i){const e=64-function(n){let o=0;for(let u=0;u<8;++u){const h=Zp(255&n[u]);if(o+=h,8!==h)break}return o}(i);return Math.ceil(e/8)}pu.fe=new pu;class od{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this._e(o.value),o=n.next();this.we()}me(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.ge(o.value),o=n.next();this.ye()}pe(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(n<"\ud800"||"\udbff"<n)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const u=n.codePointAt(0);this._e(240|u>>>18),this._e(128|63&u>>>12),this._e(128|63&u>>>6),this._e(128|63&u)}}this.we()}Ie(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const u=n.codePointAt(0);this.ge(240|u>>>18),this.ge(128|63&u>>>12),this.ge(128|63&u>>>6),this.ge(128|63&u)}}this.ye()}Te(e){const n=this.Ee(e),o=nh(n);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=255&n[u]}Re(e){const n=this.Ee(e),o=nh(n);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=~(255&n[u])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const n=function(u){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,u,!1),new Uint8Array(h.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let u=1;u<n.length;++u)n[u]^=o?255:0;return n}_e(e){const n=255&e;0===n?(this.be(0),this.be(255)):255===n?(this.be(255),this.be(0)):this.be(n)}ge(e){const n=255&e;0===n?(this.ve(0),this.ve(255)):255===n?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Vm{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Yp{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class ad{constructor(){this.De=new od,this.Ce=new Vm(this.De),this.xe=new Yp(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class rl{constructor(e,n,o,u){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=u}ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new rl(this.indexId,this.documentKey,this.arrayValue,o)}}function il(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=rh(i.arrayValue,e.arrayValue),0!==n?n:(n=rh(i.directionalValue,e.directionalValue),0!==n?n:on.comparator(i.documentKey,e.documentKey)))}function rh(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class Qp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const n of e.filters){const o=n;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const n=Pu(e);if(void 0!==n&&!this.Be(n))return!1;const o=lo(e);let u=0,h=0;for(;u<o.length&&this.Be(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Fe){const v=o[u];if(!this.Le(this.Fe,v)||!this.Ue(this.Me[h++],v))return!1;++u}for(;u<o.length;++u){const v=o[u];if(h>=this.Me.length||!this.Ue(this.Me[h++],v))return!1}return!0}Be(e){for(const n of this.Oe)if(this.Le(n,e))return!0;return!1}Le(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class V_{constructor(){this.qe=new ih}addToCollectionParentIndex(e,n){return this.qe.add(n),gt.resolve()}getCollectionParents(e,n){return gt.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return gt.resolve()}deleteFieldIndex(e,n){return gt.resolve()}getDocumentsMatchingTarget(e,n){return gt.resolve(null)}getFieldIndex(e,n){return gt.resolve(null)}getFieldIndexes(e,n){return gt.resolve([])}getNextCollectionGroupToUpdate(e){return gt.resolve(null)}updateCollectionGroup(e,n,o){return gt.resolve()}updateIndexEntries(e,n){return gt.resolve()}}class ih{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Tr(Sn.comparator),h=!u.has(o);return this.index[n]=u.add(o),h}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Tr(Sn.comparator)).toArray()}}const _c=new Uint8Array(0);class Jp{constructor(e,n){this.user=e,this.databaseId=n,this.Ke=new ih,this.Ge=new wn(o=>co(o),(o,u)=>Fu(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ke.has(n)){const o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(()=>{this.Ke.add(n)});const h={collectionId:o,parent:un(u)};return Xp(e).put(h)}return gt.resolve()}getCollectionParents(e,n){const o=[],u=IDBKeyRange.bound([n,""],[ye(n),""],!1,!0);return Xp(e).qt(u).next(h=>{for(const v of h){if(v.collectionId!==n)break;o.push(jr(v.parent))}return o})}addFieldIndex(e,n){const o=wo(e),u={indexId:(h=n).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(v=>[v.fieldPath.canonicalString(),v.kind])};var h;return delete u.indexId,o.add(u).next()}deleteFieldIndex(e,n){const o=wo(e),u=sh(e),h=ud(e);return o.delete(n.indexId).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=ud(e);let u=!0;const h=new Map;return gt.forEach(this.Qe(n),v=>this.getFieldIndex(e,v).next(M=>{u&&(u=!!M),h.set(v,M)})).next(()=>{if(u){let v=Or();const M=[];return gt.forEach(h,($,K)=>{var Ee;Kt("IndexedDbIndexManager",`Using index ${Ee=$,`id=${Ee.indexId}|cg=${Ee.collectionGroup}|f=${Ee.fields.map(Li=>`${Li.fieldPath}:${Li.kind}`).join(",")}`} to execute ${co(n)}`);const je=function(Li,no){const ds=Pu(no);if(void 0===ds)return null;for(const Wi of Vu(Li,ds.fieldPath))switch(Wi.op){case"array-contains-any":return Wi.value.arrayValue.values||[];case"array-contains":return[Wi.value]}return null}(K,$),_t=function(Li,no){const ds=new Map;for(const Wi of lo(no))for(const fo of Vu(Li,Wi.fieldPath))switch(fo.op){case"==":case"in":ds.set(Wi.fieldPath.canonicalString(),fo.value);break;case"not-in":case"!=":return ds.set(Wi.fieldPath.canonicalString(),fo.value),Array.from(ds.values())}return null}(K,$),Gt=function(Li,no){const ds=[];let Wi=!0;for(const fo of lo(no)){const El=0===fo.kind?tc(Li,fo.fieldPath,Li.startAt):Uc(Li,fo.fieldPath,Li.startAt);if(!El.value)return null;ds.push(El.value),Wi&&(Wi=El.inclusive)}return new Po(ds,Wi)}(K,$),Wt=function(Li,no){const ds=[];let Wi=!0;for(const fo of lo(no)){const El=0===fo.kind?Uc(Li,fo.fieldPath,Li.endAt):tc(Li,fo.fieldPath,Li.endAt);if(!El.value)return null;ds.push(El.value),Wi&&(Wi=El.inclusive)}return new Po(ds,Wi)}(K,$),On=this.je($,K,Gt),yr=this.je($,K,Wt),Fi=this.We($,K,_t),cs=this.ze($.indexId,je,On,!!Gt&&Gt.inclusive,yr,!!Wt&&Wt.inclusive,Fi);return gt.forEach(cs,Li=>o.Gt(Li,n.limit).next(no=>{no.forEach(ds=>{const Wi=on.fromSegments(ds.documentKey);v.has(Wi)||(v=v.add(Wi),M.push(Wi))})}))}).next(()=>M)}return gt.resolve(null)})}Qe(e){let n=this.Ge.get(e);return n||(n=[e],this.Ge.set(e,n),n)}ze(e,n,o,u,h,v,M){const $=(null!=n?n.length:1)*Math.max(null!=o?o.length:1,null!=h?h.length:1),K=$/(null!=n?n.length:1),Ee=[];for(let je=0;je<$;++je){const _t=n?this.He(n[je/K]):_c,Gt=o?this.Je(e,_t,o[je%K],u):this.Ye(e),Wt=h?this.Xe(e,_t,h[je%K],v):this.Ye(e+1);Ee.push(...this.createRange(Gt,Wt,M.map(On=>this.Je(e,_t,On,!0))))}return Ee}Je(e,n,o,u){const h=new rl(e,on.empty(),n,o);return u?h:h.ke()}Xe(e,n,o,u){const h=new rl(e,on.empty(),n,o);return u?h.ke():h}Ye(e){return new rl(e,on.empty(),_c,_c)}getFieldIndex(e,n){const o=new Qp(n),u=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,u).next(h=>{const v=h.filter(M=>o.$e(M));return v.sort((M,$)=>$.fields.length-M.fields.length),v.length>0?v[0]:null})}Ze(e,n){const o=new ad;for(const u of lo(e)){const h=n.data.field(u.fieldPath);if(null==h)return null;const v=o.Ne(u.kind);pu.fe.Zt(h,v)}return o.Se()}He(e){const n=new ad;return pu.fe.Zt(e,n.Ne(0)),n.Se()}tn(e,n){const o=new ad;return pu.fe.Zt(Ai(this.databaseId,n),o.Ne(function(u){const h=lo(u);return 0===h.length?0:h[h.length-1].kind}(e))),o.Se()}We(e,n,o){if(null===o)return[];let u=[];u.push(new ad);let h=0;for(const v of lo(e)){const M=o[h++];for(const $ of u)if(this.en(n,v.fieldPath)&&Yo(M))u=this.nn(u,v,M);else{const K=$.Ne(v.kind);pu.fe.Zt(M,K)}}return this.sn(u)}je(e,n,o){return null==o?null:this.We(e,n,o.position)}sn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Se();return n}nn(e,n,o){const u=[...e],h=[];for(const v of o.arrayValue.values||[])for(const M of u){const $=new ad;$.seed(M.Se()),pu.fe.Zt(v,$.Ne(n.kind)),h.push($)}return h}en(e,n){return!!e.filters.find(o=>o instanceof pi&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=wo(e),u=sh(e);return(n?o.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.qt()).next(h=>{const v=[];return gt.forEach(h,M=>u.get([M.indexId,this.uid]).next($=>{v.push(function(K,Ee){const je=Ee?new Ua(Ee.sequenceNumber,new As(tl(Ee.readTime),new on(jr(Ee.documentKey)),Ee.largestBatchId)):Ua.empty(),_t=K.fields.map(([Gt,Wt])=>new ru(Rr.fromServerFormat(Gt),Wt));return new Va(K.indexId,K.collectionGroup,_t,je)}(M,$))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,u)=>{const h=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==h?h:V(o.collectionGroup,u.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const u=wo(e),h=sh(e);return this.rn(e).next(v=>u.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(M=>gt.forEach(M,$=>{return h.put({indexId:$.indexId,uid:this.user.uid||"",sequenceNumber:v,readTime:el((_t=o).readTime),documentKey:un(_t.documentKey.path),largestBatchId:_t.largestBatchId});var _t})))}updateIndexEntries(e,n){const o=new Map;return gt.forEach(n,(u,h)=>{const v=o.get(u.collectionGroup);return(v?gt.resolve(v):this.getFieldIndexes(e,u.collectionGroup)).next(M=>(o.set(u.collectionGroup,M),gt.forEach(M,$=>this.on(e,u,$).next(K=>{const Ee=this.un(h,$);return K.isEqual(Ee)?gt.resolve():this.an(e,h,$,K,Ee)}))))})}cn(e,n,o,u){return ud(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.tn(o,n.key),documentKey:n.key.path.toArray()})}hn(e,n,o,u){return ud(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.tn(o,n.key),n.key.path.toArray()])}on(e,n,o){const u=ud(e);let h=new Tr(il);return u.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,n)])},(v,M)=>{h=h.add(new rl(o.indexId,n,M.arrayValue,M.directionalValue))}).next(()=>h)}un(e,n){let o=new Tr(il);const u=this.Ze(n,e);if(null==u)return o;const h=Pu(n);if(null!=h){const v=e.data.field(h.fieldPath);if(Yo(v))for(const M of v.arrayValue.values||[])o=o.add(new rl(n.indexId,e.key,this.He(M),u))}else o=o.add(new rl(n.indexId,e.key,_c,u));return o}an(e,n,o,u,h){Kt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const v=[];return function(M,$,K,Ee,je){const _t=M.getIterator(),Gt=$.getIterator();let Wt=Eo(_t),On=Eo(Gt);for(;Wt||On;){let yr=!1,Fi=!1;if(Wt&&On){const cs=K(Wt,On);cs<0?Fi=!0:cs>0&&(yr=!0)}else null!=Wt?Fi=!0:yr=!0;yr?(Ee(On),On=Eo(Gt)):Fi?(je(Wt),Wt=Eo(_t)):(Wt=Eo(_t),On=Eo(Gt))}}(u,h,il,M=>{v.push(this.cn(e,n,o,M))},M=>{v.push(this.hn(e,n,o,M))}),gt.waitFor(v)}rn(e){let n=1;return sh(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,h)=>{h.done(),n=u.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((v,M)=>il(v,M)).filter((v,M,$)=>!M||0!==il(v,$[M-1]));const u=[];u.push(e);for(const v of o){const M=il(v,e),$=il(v,n);if(0===M)u[0]=e.ke();else if(M>0&&$<0)u.push(v),u.push(v.ke());else if($>0)break}u.push(n);const h=[];for(let v=0;v<u.length;v+=2)h.push(IDBKeyRange.bound([u[v].indexId,this.uid,u[v].arrayValue,u[v].directionalValue,_c,[]],[u[v+1].indexId,this.uid,u[v+1].arrayValue,u[v+1].directionalValue,_c,[]]));return h}}function Xp(i){return ys(i,"collectionParents")}function ud(i){return ys(i,"indexEntries")}function wo(i){return ys(i,"indexConfiguration")}function sh(i){return ys(i,"indexState")}const mf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bo{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new bo(e,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function eg(i,e,n){const o=i.store("mutations"),u=i.store("documentMutations"),h=[],v=IDBKeyRange.only(n.batchId);let M=0;const $=o.Wt({range:v},(Ee,je,_t)=>(M++,_t.delete()));h.push($.next(()=>{Ln(1===M)}));const K=[];for(const Ee of n.mutations){const je=Xi(e,Ee.key.path,n.batchId);h.push(u.delete(je)),K.push(Ee.key)}return gt.waitFor(h).next(()=>K)}function oh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw In();e=i.noDocument}return JSON.stringify(e).length}bo.DEFAULT_COLLECTION_PERCENTILE=10,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bo.DEFAULT=new bo(41943040,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bo.DISABLED=new bo(-1,0,0);class yf{constructor(e,n,o,u){this.userId=e,this.M=n,this.indexManager=o,this.referenceDelegate=u,this.ln={}}static Yt(e,n,o,u){Ln(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new yf(h,n,o,u)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sl(e).Wt({index:"userMutationsIndex",range:o},(u,h,v)=>{n=!1,v.done()}).next(()=>n)}addMutationBatch(e,n,o,u){const h=vc(e),v=sl(e);return v.add({}).next(M=>{Ln("number"==typeof M);const $=new rd(M,n,o,u),K=function(_t,Gt,Wt){const On=Wt.baseMutations.map(Fi=>Nl(_t.Jt,Fi)),yr=Wt.mutations.map(Fi=>Nl(_t.Jt,Fi));return{userId:Gt,batchId:Wt.batchId,localWriteTimeMs:Wt.localWriteTime.toMillis(),baseMutations:On,mutations:yr}}(this.M,this.userId,$),Ee=[];let je=new Tr((_t,Gt)=>V(_t.canonicalString(),Gt.canonicalString()));for(const _t of u){const Gt=Xi(this.userId,_t.key.path,M);je=je.add(_t.key.path.popLast()),Ee.push(v.put(K)),Ee.push(h.put(Gt,Yu))}return je.forEach(_t=>{Ee.push(this.indexManager.addToCollectionParentIndex(e,_t))}),e.addOnCommittedListener(()=>{this.ln[M]=$.keys()}),gt.waitFor(Ee).next(()=>$)})}lookupMutationBatch(e,n){return sl(e).get(n).next(o=>o?(Ln(o.userId===this.userId),gc(this.M,o)):null)}fn(e,n){return this.ln[n]?gt.resolve(this.ln[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const u=o.keys();return this.ln[n]=u,u}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return sl(e).Wt({index:"userMutationsIndex",range:u},(v,M,$)=>{M.userId===this.userId&&(Ln(M.batchId>=o),h=gc(this.M,M)),$.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return sl(e).Wt({index:"userMutationsIndex",range:n,reverse:!0},(u,h,v)=>{o=h.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sl(e).qt("userMutationsIndex",n).next(o=>o.map(u=>gc(this.M,u)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=as(this.userId,n.path),u=IDBKeyRange.lowerBound(o),h=[];return vc(e).Wt({range:u},(v,M,$)=>{const[K,Ee,je]=v,_t=jr(Ee);if(K===this.userId&&n.path.isEqual(_t))return sl(e).get(je).next(Gt=>{if(!Gt)throw In();Ln(Gt.userId===this.userId),h.push(gc(this.M,Gt))});$.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Tr(V);const u=[];return n.forEach(h=>{const v=as(this.userId,h.path),M=IDBKeyRange.lowerBound(v),$=vc(e).Wt({range:M},(K,Ee,je)=>{const[_t,Gt,Wt]=K,On=jr(Gt);_t===this.userId&&h.path.isEqual(On)?o=o.add(Wt):je.done()});u.push($)}),gt.waitFor(u).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1,h=as(this.userId,o),v=IDBKeyRange.lowerBound(h);let M=new Tr(V);return vc(e).Wt({range:v},($,K,Ee)=>{const[je,_t,Gt]=$,Wt=jr(_t);je===this.userId&&o.isPrefixOf(Wt)?Wt.length===u&&(M=M.add(Gt)):Ee.done()}).next(()=>this.dn(e,M))}dn(e,n){const o=[],u=[];return n.forEach(h=>{u.push(sl(e).get(h).next(v=>{if(null===v)throw In();Ln(v.userId===this.userId),o.push(gc(this.M,v))}))}),gt.waitFor(u).next(()=>o)}removeMutationBatch(e,n){return eg(e.Ht,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this._n(n.batchId)}),gt.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return gt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return vc(e).Wt({range:o},(h,v,M)=>{if(h[0]===this.userId){const $=jr(h[1]);u.push($)}else M.done()}).next(()=>{Ln(0===u.length)})})}containsKey(e,n){return _f(e,this.userId,n)}wn(e){return tg(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _f(i,e,n){const o=as(e,n.path),u=o[1],h=IDBKeyRange.lowerBound(o);let v=!1;return vc(i).Wt({range:h,jt:!0},(M,$,K)=>{const[Ee,je,_t]=M;Ee===e&&je===u&&(v=!0),K.done()}).next(()=>v)}function sl(i){return ys(i,"mutations")}function vc(i){return ys(i,"documentMutations")}function tg(i){return ys(i,"mutationQueues")}class lr{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new lr(0)}static yn(){return new lr(-1)}}class ng{constructor(e,n){this.referenceDelegate=e,this.M=n}allocateTargetId(e){return this.pn(e).next(n=>{const o=new lr(n.highestTargetId);return n.highestTargetId=o.next(),this.In(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(n=>et.fromTimestamp(new Ae(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.pn(e).next(u=>(u.highestListenSequenceNumber=n,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),this.In(e,u)))}addTargetData(e,n){return this.Tn(e,n).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(n,o),this.In(e,o))))}updateTargetData(e,n){return this.Tn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>kl(e).delete(n.targetId)).next(()=>this.pn(e)).next(o=>(Ln(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,n,o){let u=0;const h=[];return kl(e).Wt((v,M)=>{const $=nl(M);$.sequenceNumber<=n&&null===o.get($.targetId)&&(u++,h.push(this.removeTargetData(e,$)))}).next(()=>gt.waitFor(h)).next(()=>u)}forEachTarget(e,n){return kl(e).Wt((o,u)=>{const h=nl(u);n(h)})}pn(e){return vf(e).get("targetGlobalKey").next(n=>(Ln(null!==n),n))}In(e,n){return vf(e).put("targetGlobalKey",n)}Tn(e,n){return kl(e).put(qp(this.M,n))}En(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=co(n),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return kl(e).Wt({range:u,index:"queryTargetsIndex"},(v,M,$)=>{const K=nl(M);Fu(n,K.target)&&(h=K,$.done())}).next(()=>h)}addMatchingKeys(e,n,o){const u=[],h=Ia(e);return n.forEach(v=>{const M=un(v.path);u.push(h.put({targetId:o,path:M})),u.push(this.referenceDelegate.addReference(e,o,v))}),gt.waitFor(u)}removeMatchingKeys(e,n,o){const u=Ia(e);return gt.forEach(n,h=>{const v=un(h.path);return gt.waitFor([u.delete([o,v]),this.referenceDelegate.removeReference(e,o,h)])})}removeMatchingKeysForTargetId(e,n){const o=Ia(e),u=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),u=Ia(e);let h=Or();return u.Wt({range:o,jt:!0},(v,M,$)=>{const K=jr(v[1]),Ee=new on(K);h=h.add(Ee)}).next(()=>h)}containsKey(e,n){const o=un(n.path),u=IDBKeyRange.bound([o],[ye(o)],!1,!0);let h=0;return Ia(e).Wt({index:"documentTargetsIndex",jt:!0,range:u},([v,M],$,K)=>{0!==v&&(h++,K.done())}).next(()=>h>0)}Et(e,n){return kl(e).get(n).next(o=>o?nl(o):null)}}function kl(i){return ys(i,"targets")}function vf(i){return ys(i,"targetGlobal")}function Ia(i){return ys(i,"targetDocuments")}function zs(i){return ah.apply(this,arguments)}function ah(){return ah=(0,c.Z)(function*(i){if(i.code!==ht.FAILED_PRECONDITION||i.message!==mi)throw i;Kt("LocalStore","Unexpectedly lost primary lease")}),ah.apply(this,arguments)}function rg([i,e],[n,o]){const u=V(i,n);return 0===u?V(e,o):u}class Ef{constructor(e){this.An=e,this.buffer=new Tr(rg),this.Rn=0}Pn(){return++this.Rn}bn(e){const n=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();rg(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gu{constructor(e,n){this.garbageCollector=e,this.asyncQueue=n,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var n=this;const o=this.Vn?3e5:6e4;Kt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,c.Z)(function*(){n.vn=null,n.Vn=!0;try{yield e.collectGarbage(n.garbageCollector)}catch(u){Rl(u)?Kt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield zs(u)}yield n.Sn(e)}))}}class wf{constructor(e,n){this.Dn=e,this.params=n}calculateTargetCount(e,n){return this.Dn.Cn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return gt.resolve(I.A);const o=new Ef(n);return this.Dn.forEachTarget(e,u=>o.bn(u.sequenceNumber)).next(()=>this.Dn.xn(e,u=>o.bn(u))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.Dn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.Dn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(mf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mf):this.Nn(e,n))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,n){let o,u,h,v,M,$,K;const Ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(je=>(je>this.params.maximumSequenceNumbersToCollect?(Kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${je}`),u=this.params.maximumSequenceNumbersToCollect):u=je,v=Date.now(),this.nthSequenceNumber(e,u))).next(je=>(o=je,M=Date.now(),this.removeTargets(e,o,n))).next(je=>(h=je,$=Date.now(),this.removeOrphanedDocuments(e,o))).next(je=>(K=Date.now(),eu()<=ve.in.DEBUG&&Kt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-Ee}ms\n\tDetermined least recently used ${u} in `+(M-v)+`ms\n\tRemoved ${h} targets in `+($-M)+`ms\n\tRemoved ${je} documents in `+(K-$)+`ms\nTotal Duration: ${K-Ee}ms`),gt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:je})))}}class ig{constructor(e,n){this.db=e,this.garbageCollector=new wf(this,n)}Cn(e){const n=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(u=>o+u))}kn(e){let n=0;return this.xn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}xn(e,n){return this.Mn(e,(o,u)=>n(u))}addReference(e,n,o){return Ec(e,o)}removeReference(e,n,o){return Ec(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Ec(e,n)}On(e,n){return function(o,u){let h=!1;return tg(o).zt(v=>_f(o,v,u).next(M=>(M&&(h=!0),gt.resolve(!M)))).next(()=>h)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let h=0;return this.Mn(e,(v,M)=>{if(M<=n){const $=this.On(e,v).next(K=>{if(!K)return h++,o.getEntry(e,v).next(()=>(o.removeEntry(v,et.min()),Ia(e).delete([0,un(v.path)])))});u.push($)}}).next(()=>gt.waitFor(u)).next(()=>o.apply(e)).next(()=>h)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Ec(e,n)}Mn(e,n){const o=Ia(e);let u,h=I.A;return o.Wt({index:"documentTargetsIndex"},([v,M],{path:$,sequenceNumber:K})=>{0===v?(h!==I.A&&n(new on(jr(u)),h),h=K,u=$):h=I.A}).next(()=>{h!==I.A&&n(new on(jr(u)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ec(i,e){return Ia(i).put((o=i.currentSequenceNumber,{targetId:0,path:un(e.path),sequenceNumber:o}));var o}class Um{constructor(){this.changes=new wn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ci.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?gt.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sg{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return Wa(e).put(o)}removeEntry(e,n,o){return Wa(e).delete(function(u,h){const v=u.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],za(h),v[v.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.Fn(e,o)))}getEntry(e,n){let o=ci.newInvalidDocument(n);return Wa(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Fl(n))},(u,h)=>{o=this.$n(n,h)}).next(()=>o)}Bn(e,n){let o={size:0,document:ci.newInvalidDocument(n)};return Wa(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Fl(n))},(u,h)=>{o={document:this.$n(n,h),size:oh(h)}}).next(()=>o)}getEntries(e,n){let o=eo();return this.Ln(e,n,(u,h)=>{const v=this.$n(u,h);o=o.insert(u,v)}).next(()=>o)}Un(e,n){let o=eo(),u=new bn(on.comparator);return this.Ln(e,n,(h,v)=>{const M=this.$n(h,v);o=o.insert(h,M),u=u.insert(h,oh(v))}).next(()=>({documents:o,qn:u}))}Ln(e,n,o){if(n.isEmpty())return gt.resolve();let u=new Tr(lh);n.forEach($=>u=u.add($));const h=IDBKeyRange.bound(Fl(u.first()),Fl(u.last())),v=u.getIterator();let M=v.getNext();return Wa(e).Wt({index:"documentKeyIndex",range:h},($,K,Ee)=>{const je=on.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;M&&lh(M,je)<0;)o(M,null),M=v.getNext();M&&M.isEqual(je)&&(o(M,K),M=v.hasNext()?v.getNext():null),M?Ee.Ut(Fl(M)):Ee.done()}).next(()=>{for(;M;)o(M,null),M=v.hasNext()?v.getNext():null})}getAllFromCollection(e,n,o){const u=[n.popLast().toArray(),n.lastSegment(),za(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],h=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wa(e).qt(IDBKeyRange.bound(u,h,!0)).next(v=>{let M=eo();for(const $ of v){const K=this.$n(on.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);M=M.insert(K.key,K)}return M})}getAllFromCollectionGroup(e,n,o,u){let h=eo();const v=uh(n,o),M=uh(n,As.max());return Wa(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,M,!0)},($,K,Ee)=>{const je=this.$n(on.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);h=h.insert(je.key,je),h.size===u&&Ee.done()}).next(()=>h)}newChangeBuffer(e){return new U_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return ld(e).get("remoteDocumentGlobalKey").next(n=>(Ln(!!n),n))}Fn(e,n){return ld(e).put("remoteDocumentGlobalKey",n)}$n(e,n){if(n){const o=function Kp(i,e){let n;if(e.document)n=af(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=on.fromSegments(e.noDocument.path),u=tl(e.noDocument.readTime);n=ci.newNoDocument(o,u),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return In();{const o=on.fromSegments(e.unknownDocument.path),u=tl(e.unknownDocument.version);n=ci.newUnknownDocument(o,u)}}return e.readTime&&n.setReadTime(function(o){const u=new Ae(o[0],o[1]);return et.fromTimestamp(u)}(e.readTime)),n}(this.M,n);if(!o.isNoDocument()||!o.version.isEqual(et.min()))return o}return ci.newInvalidDocument(e)}}class U_ extends Um{constructor(e,n){super(),this.Kn=e,this.trackRemovals=n,this.Gn=new wn(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const n=[];let o=0,u=new Tr((h,v)=>V(h.canonicalString(),v.canonicalString()));return this.changes.forEach((h,v)=>{const M=this.Gn.get(h);if(n.push(this.Kn.removeEntry(e,h,M.readTime)),v.isValidDocument()){const $=hf(this.Kn.M,v);u=u.add(h.path.popLast()),o+=oh($)-M.size,n.push(this.Kn.addEntry(e,h,$))}else if(o-=M.size,this.trackRemovals){const $=hf(this.Kn.M,v.convertToNoDocument(et.min()));n.push(this.Kn.addEntry(e,h,$))}}),u.forEach(h=>{n.push(this.Kn.indexManager.addToCollectionParentIndex(e,h))}),n.push(this.Kn.updateMetadata(e,o)),gt.waitFor(n)}getFromCache(e,n){return this.Kn.Bn(e,n).next(o=>(this.Gn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.Kn.Un(e,n).next(({documents:o,qn:u})=>(u.forEach((h,v)=>{this.Gn.set(h,{size:v,readTime:o.get(h).readTime})}),o))}}function ld(i){return ys(i,"remoteDocumentGlobal")}function Wa(i){return ys(i,"remoteDocumentsV14")}function Fl(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function uh(i,e){const n=e.documentKey.path.toArray();return[i,za(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function lh(i,e){const n=i.path.toArray(),o=e.path.toArray();let u=0;for(let h=0;h<n.length-2&&h<o.length-2;++h)if(u=V(n[h],o[h]),u)return u;return u=V(n.length,o.length),u||(u=V(n[n.length-2],o[o.length-2]),u||V(n[n.length-1],o[o.length-1]))}class B_{constructor(e){this.M=e}kt(e,n,o,u){const h=new na("createOrUpgrade",n);var M;o<1&&u>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Si,{unique:!0}),M.createObjectStore("documentMutations"),og(e),function(M){M.createObjectStore("remoteDocuments")}(e));let v=gt.resolve();return o<3&&u>=3&&(0!==o&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),og(e)),v=v.next(()=>function(M){const $=M.store("targetGlobal"),K={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:et.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",K)}(h))),o<4&&u>=4&&(0!==o&&(v=v.next(()=>function(M,$){return $.store("mutations").qt().next(K=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Si,{unique:!0});const Ee=$.store("mutations"),je=K.map(_t=>Ee.put(_t));return gt.waitFor(je)})}(e,h))),v=v.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(v=v.next(()=>this.Qn(h))),o<6&&u>=6&&(v=v.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.jn(h)))),o<7&&u>=7&&(v=v.next(()=>this.Wn(h))),o<8&&u>=8&&(v=v.next(()=>this.zn(e,h))),o<9&&u>=9&&(v=v.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(v=v.next(()=>this.Hn(h))),o<11&&u>=11&&(v=v.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(v=v.next(()=>{!function(M){const $=M.createObjectStore("documentOverlays",{keyPath:Zn});$.createIndex("collectionPathOverlayIndex",dr,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",Cr,{unique:!1})}(e)})),o<13&&u>=13&&(v=v.next(()=>function(M){const $=M.createObjectStore("remoteDocumentsV14",{keyPath:ea});$.createIndex("documentKeyIndex",Hs),$.createIndex("collectionGroupIndex",to)}(e)).next(()=>this.Jn(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(v=v.next(()=>{!function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Ju}).createIndex("sequenceNumberIndex",Fo,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:pc}).createIndex("documentKeyIndex",Mn,{unique:!1})}(e)})),v}jn(e){let n=0;return e.store("remoteDocuments").Wt((o,u)=>{n+=oh(u)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.qt().next(u=>gt.forEach(u,h=>{const v=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",v).next(M=>gt.forEach(M,$=>{Ln($.userId===h.userId);const K=gc(this.M,$);return eg(e,h.userId,K).next(()=>{})}))}))}Wn(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const h=[];return o.Wt((v,M)=>{const $=new Sn(v),K=[0,un($)];h.push(n.get(K).next(Ee=>Ee?gt.resolve():n.put({targetId:0,path:un($),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>gt.waitFor(h))})}zn(e,n){e.createObjectStore("collectionParents",{keyPath:Qu});const o=n.store("collectionParents"),u=new ih,h=v=>{if(u.add(v)){const M=v.lastSegment(),$=v.popLast();return o.put({collectionId:M,parent:un($)})}};return n.store("remoteDocuments").Wt({jt:!0},(v,M)=>{const $=new Sn(v);return h($.popLast())}).next(()=>n.store("documentMutations").Wt({jt:!0},([v,M,$],K)=>{const Ee=jr(M);return h(Ee.popLast())}))}Hn(e){const n=e.store("targets");return n.Wt((o,u)=>{const h=nl(u),v=qp(this.M,h);return n.put(v)})}Jn(e,n){const o=n.store("remoteDocuments"),u=[];return o.Wt((h,v)=>{const M=n.store("remoteDocumentsV14"),$=(K=v,K.document?new on(Sn.fromString(K.document.name).popFirst(5)):K.noDocument?on.fromSegments(K.noDocument.path):K.unknownDocument?on.fromSegments(K.unknownDocument.path):In()).path.toArray();var K;const Ee={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};u.push(M.put(Ee))}).next(()=>gt.waitFor(u))}}function og(i){i.createObjectStore("targetDocuments",{keyPath:Ga}).createIndex("documentTargetsIndex",lf,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",us,{unique:!0}),i.createObjectStore("targetGlobal")}const bf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class If{constructor(e,n,o,u,h,v,M,$,K,Ee,je=13){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Yn=h,this.window=v,this.document=M,this.Xn=K,this.Zn=Ee,this.ts=je,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=_t=>Promise.resolve(),!If.vt())throw new jt(ht.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ig(this,u),this.hs=n+"main",this.M=new Wp($),this.ls=new Gs(this.hs,this.ts,new B_(this.M)),this.fs=new ng(this.referenceDelegate,this.M),this.ds=new sg(this.M),this._s=new pf,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===Ee&&qr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new jt(ht.FAILED_PRECONDITION,bf);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new I(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var n=this;return this.cs=function(){var o=(0,c.Z)(function*(u){if(n.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var n=(0,c.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,c.Z)(function*(){n.started&&(yield n.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(n=>{n||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(n=>this.isPrimary&&!n?this.Rs(e).next(()=>!1):!!n&&this.Ps(e).next(()=>!0))).catch(e=>{if(Rl(e))return Kt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Kt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return cd(e).get("owner").next(n=>gt.resolve(this.bs(n)))}Vs(e){return dd(e).delete(this.clientId)}vs(){var e=this;return(0,c.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=ys(o,"clientMetadata");return u.qt().next(h=>{const v=e.Ds(h,18e5),M=h.filter($=>-1===v.indexOf($));return gt.forEach(M,$=>u.delete($.clientId)).next(()=>M)})}).catch(()=>[]);if(e.ws)for(const o of n)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?gt.resolve(!0):cd(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)){if(this.bs(n)&&this.networkEnabled)return!0;if(!this.bs(n)){if(!n.allowTabSynchronization)throw new jt(ht.FAILED_PRECONDITION,bf);return!1}}return!(!this.networkEnabled||!this.inForeground)||dd(e).qt().next(o=>void 0===this.Ds(o,5e3).find(u=>{if(this.clientId!==u.clientId){const v=!this.inForeground&&u.inForeground,M=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||v&&M)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Kt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,c.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new zp(n,I.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,n){return e.filter(o=>this.Ss(o.updateTimeMs,n)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>dd(e).qt().next(n=>this.Ds(n,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,n){return yf.Yt(e,this.M,n,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Jp(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return mc.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,n,o){Kt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===n?"readonly":"readwrite",h=14===(v=this.ts)?ta:13===v?Ms:12===v?Lo:11===v?zi:void In();var v;let M;return this.ls.runTransaction(e,u,h,$=>(M=new zp($,this.es?this.es.next():I.A),"readwrite-primary"===n?this.Es(M).next(K=>!!K||this.As(M)).next(K=>{if(!K)throw qr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new jt(ht.FAILED_PRECONDITION,mi);return o(M)}).next(K=>this.Ps(M).next(()=>K)):this.$s(M).next(()=>o(M)))).then($=>(M.raiseOnCommittedEvent(),$))}$s(e){return cd(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)&&!this.bs(n)&&!(this.Zn||this.allowTabSynchronization&&n.allowTabSynchronization))throw new jt(ht.FAILED_PRECONDITION,bf)})}Ps(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cd(e).put("owner",n)}static vt(){return Gs.vt()}Rs(e){const n=cd(e);return n.get("owner").next(o=>this.bs(o)?(Kt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):gt.resolve())}Ss(e,n){const o=Date.now();return!(e<o-n||e>o&&(qr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Ie.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var n;try{const o=null!==(null===(n=this.ws)||void 0===n?void 0:n.getItem(this.Cs(e)));return Kt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return qr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){qr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cd(i){return ys(i,"owner")}function dd(i){return ys(i,"clientMetadata")}function ag(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Bm{constructor(e,n,o){this.ds=e,this.Bs=n,this.indexManager=o}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(o=>this.Us(e,n,o))}Us(e,n,o){return this.ds.getEntry(e,n).next(u=>{for(const h of o)h.applyToLocalView(u);return u})}qs(e,n){e.forEach((o,u)=>{for(const h of n)h.applyToLocalView(u)})}Ks(e,n){return this.ds.getEntries(e,n).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>this.qs(n,o))}Qs(e,n,o){return on.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.js(e,n.path):ac(n)?this.Ws(e,n,o):this.zs(e,n,o);var u}js(e,n){return this.Ls(e,new on(n)).next(o=>{let u=Ol();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Ws(e,n,o){const u=n.collectionGroup;let h=Ol();return this.indexManager.getCollectionParents(e,u).next(v=>gt.forEach(v,M=>{const $=(K=n,Ee=M.child(u),new Ss(Ee,null,K.explicitOrderBy.slice(),K.filters.slice(),K.limit,K.limitType,K.startAt,K.endAt));var K,Ee;return this.zs(e,$,o).next(K=>{K.forEach((Ee,je)=>{h=h.insert(Ee,je)})})}).next(()=>h))}zs(e,n,o){let u;return this.ds.getAllFromCollection(e,n.path,o).next(h=>(u=h,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(h=>{for(const v of h)for(const M of v.mutations){const $=M.key;let K=u.get($);null==K&&(K=ci.newInvalidDocument($),u=u.insert($,K)),du(M,K,v.localWriteTime),K.isFoundDocument()||(u=u.remove($))}}).next(()=>(u.forEach((h,v)=>{ju(n,v)||(u=u.remove(h))}),u))}}class ug{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Hs=o,this.Js=u}static Ys(e,n){let o=Or(),u=Or();for(const h of n.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new ug(e,n.fromCache,o,u)}}class Df{Xs(e){this.Zs=e}Qs(e,n,o,u){return 0===(h=n).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||o.isEqual(et.min())?this.ti(e,n):this.Zs.Ks(e,u).next(h=>{const v=this.ei(n,h);return(ou(n)||ya(n))&&this.ni(n.limitType,v,u,o)?this.ti(e,n):(eu()<=ve.in.DEBUG&&Kt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uc(n)),this.Zs.Qs(e,n,Ba(o,-1)).next(M=>(v.forEach($=>{M=M.insert($.key,$)}),M)))});var h}ei(e,n){let o=new Tr(Hc(e));return n.forEach((u,h)=>{ju(e,h)&&(o=o.add(h))}),o}ni(e,n,o,u){if(o.size!==n.size)return!0;const h="F"===e?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}ti(e,n){return eu()<=ve.in.DEBUG&&Kt("QueryEngine","Using full collection scan to execute query:",uc(n)),this.Zs.Qs(e,n,As.min())}}class lg{constructor(e,n,o,u){this.persistence=e,this.si=n,this.M=u,this.ii=new bn(V),this.ri=new wn(h=>co(h),Fu),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(o)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Bm(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ii))}}function cg(i,e,n,o){return new lg(i,e,n,o)}function ch(i,e){return dg.apply(this,arguments)}function dg(){return dg=(0,c.Z)(function*(i,e){const n=$t(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.Bs.getAllMutationBatches(o).next(h=>(u=h,n.ai(e),n.Bs.getAllMutationBatches(o))).next(h=>{const v=[],M=[];let $=Or();for(const K of u){v.push(K.batchId);for(const Ee of K.mutations)$=$.add(Ee.key)}for(const K of h){M.push(K.batchId);for(const Ee of K.mutations)$=$.add(Ee.key)}return n.ci.Ks(o,$).next(K=>({hi:K,removedBatchIds:v,addedBatchIds:M}))})})}),dg.apply(this,arguments)}function j_(i,e){const n=$t(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),h=n.ui.newChangeBuffer({trackRemovals:!0});return function(v,M,$,K){const Ee=$.batch,je=Ee.keys();let _t=gt.resolve();return je.forEach(Gt=>{_t=_t.next(()=>K.getEntry(M,Gt)).next(Wt=>{const On=$.docVersions.get(Gt);Ln(null!==On),Wt.version.compareTo(On)<0&&(Ee.applyToRemoteDocument(Wt,$),Wt.isValidDocument()&&(Wt.setReadTime($.commitVersion),K.addEntry(Wt)))})}),_t.next(()=>v.Bs.removeMutationBatch(M,Ee))}(n,o,e,h).next(()=>h.apply(o)).next(()=>n.Bs.performConsistencyCheck(o)).next(()=>n.ci.Ks(o,u))})}function jm(i){const e=$t(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function $_(i,e){const n=$t(i),o=e.snapshotVersion;let u=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const v=n.ui.newChangeBuffer({trackRemovals:!0});u=n.ii;const M=[];e.targetChanges.forEach((K,Ee)=>{const je=u.get(Ee);if(!je)return;M.push(n.fs.removeMatchingKeys(h,K.removedDocuments,Ee).next(()=>n.fs.addMatchingKeys(h,K.addedDocuments,Ee)));let _t=je.withSequenceNumber(h.currentSequenceNumber);var Gt,Wt,On;e.targetMismatches.has(Ee)?_t=_t.withResumeToken(Br.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):K.resumeToken.approximateByteSize()>0&&(_t=_t.withResumeToken(K.resumeToken,o)),u=u.insert(Ee,_t),Wt=_t,On=K,(0===(Gt=je).resumeToken.approximateByteSize()||Wt.snapshotVersion.toMicroseconds()-Gt.snapshotVersion.toMicroseconds()>=3e8||On.addedDocuments.size+On.modifiedDocuments.size+On.removedDocuments.size>0)&&M.push(n.fs.updateTargetData(h,_t))});let $=eo();if(e.documentUpdates.forEach(K=>{e.resolvedLimboDocuments.has(K)&&M.push(n.persistence.referenceDelegate.updateLimboDocument(h,K))}),M.push($m(h,v,e.documentUpdates).next(K=>{$=K})),!o.isEqual(et.min())){const K=n.fs.getLastRemoteSnapshotVersion(h).next(Ee=>n.fs.setTargetsMetadata(h,h.currentSequenceNumber,o));M.push(K)}return gt.waitFor(M).next(()=>v.apply(h)).next(()=>n.ci.Gs(h,$)).next(()=>$)}).then(h=>(n.ii=u,h))}function $m(i,e,n){let o=Or();return n.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let h=eo();return n.forEach((v,M)=>{const $=u.get(v);M.isNoDocument()&&M.version.isEqual(et.min())?(e.removeEntry(v,M.readTime),h=h.insert(v,M)):!$.isValidDocument()||M.version.compareTo($.version)>0||0===M.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(M),h=h.insert(v,M)):Kt("LocalStore","Ignoring outdated watch update for ",v,". Current version:",$.version," Watch version:",M.version)}),h})}function H_(i,e){const n=$t(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(o,e)))}function hd(i,e){const n=$t(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.fs.getTargetData(o,e).next(h=>h?(u=h,gt.resolve(u)):n.fs.allocateTargetId(o).next(v=>(u=new Xu(e,v,0,o.currentSequenceNumber),n.fs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.ii.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ii=n.ii.insert(o.targetId,o),n.ri.set(e,o.targetId)),o})}function fd(i,e,n){return hg.apply(this,arguments)}function hg(){return hg=(0,c.Z)(function*(i,e,n){const o=$t(i),u=o.ii.get(e),h=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",h,v=>o.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!Rl(v))throw v;Kt("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.ii=o.ii.remove(e),o.ri.delete(u.target)}),hg.apply(this,arguments)}function Tf(i,e,n){const o=$t(i);let u=et.min(),h=Or();return o.persistence.runTransaction("Execute query","readonly",v=>function(M,$,K){const Ee=$t(M),je=Ee.ri.get(K);return void 0!==je?gt.resolve(Ee.ii.get(je)):Ee.fs.getTargetData($,K)}(o,v,Ji(e)).next(M=>{if(M)return u=M.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(v,M.targetId).next($=>{h=$})}).next(()=>o.si.Qs(v,e,n?u:et.min(),n?h:Or())).next(M=>(fg(o,$c(e),M),{documents:M,li:h})))}function mu(i,e){const n=$t(i),o=$t(n.fs),u=n.ii.get(e);return u?Promise.resolve(u.target):n.persistence.runTransaction("Get target data","readonly",h=>o.Et(h,e).next(v=>v?v.target:null))}function dh(i,e){const n=$t(i),o=n.oi.get(e)||et.min();return n.persistence.runTransaction("Get new document changes","readonly",u=>n.ui.getAllFromCollectionGroup(u,e,Ba(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(fg(n,e,u),u))}function fg(i,e,n){let o=et.min();n.forEach((u,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),i.oi.set(e,o)}function pd(){return pd=(0,c.Z)(function*(i,e,n,o){const u=$t(i);let h=Or(),v=eo();for(const K of n){const Ee=e.fi(K.metadata.name);K.document&&(h=h.add(Ee));const je=e.di(K);je.setReadTime(e._i(K.metadata.readTime)),v=v.insert(Ee,je)}const M=u.ui.newChangeBuffer({trackRemovals:!0}),$=yield hd(u,(K=o,Ji(ma(Sn.fromString(`__bundle__/docs/${K}`)))));var K;return u.persistence.runTransaction("Apply bundle documents","readwrite",K=>$m(K,M,v).next(Ee=>(M.apply(K),Ee)).next(Ee=>u.fs.removeMatchingKeysForTargetId(K,$.targetId).next(()=>u.fs.addMatchingKeys(K,h,$.targetId)).next(()=>u.ci.Gs(K,Ee)).next(()=>Ee)))}),pd.apply(this,arguments)}function gg(i,e){return gd.apply(this,arguments)}function gd(){return gd=(0,c.Z)(function*(i,e,n=Or()){const o=yield hd(i,Ji(eh(e.bundledQuery))),u=$t(i);return u.persistence.runTransaction("Save named query","readwrite",h=>{const v=zr(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return u._s.saveNamedQuery(h,e);const M=o.withResumeToken(Br.EMPTY_BYTE_STRING,v);return u.ii=u.ii.insert(M.targetId,M),u.fs.updateTargetData(h,M).next(()=>u.fs.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>u.fs.addMatchingKeys(h,n,o.targetId)).next(()=>u._s.saveNamedQuery(h,e))})}),gd.apply(this,arguments)}class Hm{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,n){return gt.resolve(this.wi.get(n))}saveBundleMetadata(e,n){var o;return this.wi.set(n.id,{id:(o=n).id,version:o.version,createTime:zr(o.createTime)}),gt.resolve()}getNamedQuery(e,n){return gt.resolve(this.mi.get(n))}saveNamedQuery(e,n){return this.mi.set(n.name,{name:(o=n).name,query:eh(o.bundledQuery),readTime:zr(o.readTime)}),gt.resolve();var o}}class ol{constructor(){this.overlays=new bn(on.comparator),this.gi=new Map}getOverlay(e,n){return gt.resolve(this.overlays.get(n))}saveOverlays(e,n,o){return o.forEach((u,h)=>{this.Xt(e,n,h)}),gt.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.gi.get(o);return void 0!==u&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.gi.delete(o)),gt.resolve()}getOverlaysForCollection(e,n,o){const u=Ha(),h=n.length+1,v=new on(n.child("")),M=this.overlays.getIteratorFrom(v);for(;M.hasNext();){const $=M.getNext().value,K=$.getKey();if(!n.isPrefixOf(K.path))break;K.path.length===h&&$.largestBatchId>o&&u.set($.getKey(),$)}return gt.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let h=new bn((K,Ee)=>K-Ee);const v=this.overlays.getIterator();for(;v.hasNext();){const K=v.getNext().value;if(K.getKey().getCollectionGroup()===n&&K.largestBatchId>o){let Ee=h.get(K.largestBatchId);null===Ee&&(Ee=Ha(),h=h.insert(K.largestBatchId,Ee)),Ee.set(K.getKey(),K)}}const M=Ha(),$=h.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((K,Ee)=>M.set(K,Ee)),!(M.size()>=u)););return gt.resolve(M)}Xt(e,n,o){if(null===o)return;const u=this.overlays.get(o.key);if(null!==u){const v=this.gi.get(u.largestBatchId).delete(o.key);this.gi.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new id(n,o));let h=this.gi.get(n);void 0===h&&(h=Or(),this.gi.set(n,h)),this.gi.set(n,h.add(o.key))}}class hh{constructor(){this.yi=new Tr(Os.pi),this.Ii=new Tr(Os.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,n){const o=new Os(e,n);this.yi=this.yi.add(o),this.Ii=this.Ii.add(o)}Ei(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.Ai(new Os(e,n))}Ri(e,n){e.forEach(o=>this.removeReference(o,n))}Pi(e){const n=new on(new Sn([])),o=new Os(n,e),u=new Os(n,e+1),h=[];return this.Ii.forEachInRange([o,u],v=>{this.Ai(v),h.push(v.key)}),h}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const n=new on(new Sn([])),o=new Os(n,e),u=new Os(n,e+1);let h=Or();return this.Ii.forEachInRange([o,u],v=>{h=h.add(v.key)}),h}containsKey(e){const n=new Os(e,0),o=this.yi.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Os{constructor(e,n){this.key=e,this.vi=n}static pi(e,n){return on.comparator(e.key,n.key)||V(e.vi,n.vi)}static Ti(e,n){return V(e.vi,n.vi)||on.comparator(e.key,n.key)}}class Cf{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Tr(Os.pi)}checkEmpty(e){return gt.resolve(0===this.Bs.length)}addMutationBatch(e,n,o,u){const h=this.Si;this.Si++;const v=new rd(h,n,o,u);this.Bs.push(v);for(const M of u)this.Di=this.Di.add(new Os(M.key,h)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return gt.resolve(v)}lookupMutationBatch(e,n){return gt.resolve(this.Ci(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.xi(n+1),h=u<0?0:u;return gt.resolve(this.Bs.length>h?this.Bs[h]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return gt.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Os(n,0),u=new Os(n,Number.POSITIVE_INFINITY),h=[];return this.Di.forEachInRange([o,u],v=>{const M=this.Ci(v.vi);h.push(M)}),gt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Tr(V);return n.forEach(u=>{const h=new Os(u,0),v=new Os(u,Number.POSITIVE_INFINITY);this.Di.forEachInRange([h,v],M=>{o=o.add(M.vi)})}),gt.resolve(this.Ni(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let h=o;on.isDocumentKey(h)||(h=h.child(""));const v=new Os(new on(h),0);let M=new Tr(V);return this.Di.forEachWhile($=>{const K=$.key.path;return!!o.isPrefixOf(K)&&(K.length===u&&(M=M.add($.vi)),!0)},v),gt.resolve(this.Ni(M))}Ni(e){const n=[];return e.forEach(o=>{const u=this.Ci(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Ln(0===this.ki(n.batchId,"removed")),this.Bs.shift();let o=this.Di;return gt.forEach(n.mutations,u=>{const h=new Os(u.key,n.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Di=o})}_n(e){}containsKey(e,n){const o=new Os(n,0),u=this.Di.firstAfterOrEqual(o);return gt.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return gt.resolve()}ki(e,n){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const n=this.xi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class Gm{constructor(e){this.Mi=e,this.docs=new bn(on.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),h=u?u.size:0,v=this.Mi(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:v}),this.size+=v-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return gt.resolve(o?o.document.mutableCopy():ci.newInvalidDocument(n))}getEntries(e,n){let o=eo();return n.forEach(u=>{const h=this.docs.get(u);o=o.insert(u,h?h.document.mutableCopy():ci.newInvalidDocument(u))}),gt.resolve(o)}getAllFromCollection(e,n,o){let u=eo();const h=new on(n.child("")),v=this.docs.getIteratorFrom(h);for(;v.hasNext();){const{key:M,value:{document:$}}=v.getNext();if(!n.isPrefixOf(M.path))break;M.path.length>n.length+1||ku(ec($),o)<=0||(u=u.insert($.key,$.mutableCopy()))}return gt.resolve(u)}getAllFromCollectionGroup(e,n,o,u){In()}Oi(e,n){return gt.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new mg(this)}getSize(e){return gt.resolve(this.size)}}class mg extends Um{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Kn.addEntry(e,u)):this.Kn.removeEntry(o)}),gt.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class zm{constructor(e){this.persistence=e,this.Fi=new wn(n=>co(n),Fu),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.$i=0,this.Bi=new hh,this.targetCount=0,this.Li=lr.gn()}forEachTarget(e,n){return this.Fi.forEach((o,u)=>n(u)),gt.resolve()}getLastRemoteSnapshotVersion(e){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return gt.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.$i&&(this.$i=n),gt.resolve()}Tn(e){this.Fi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Li=new lr(n),this.highestTargetId=n),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,gt.resolve()}updateTargetData(e,n){return this.Tn(n),gt.resolve()}removeTargetData(e,n){return this.Fi.delete(n.target),this.Bi.Pi(n.targetId),this.targetCount-=1,gt.resolve()}removeTargets(e,n,o){let u=0;const h=[];return this.Fi.forEach((v,M)=>{M.sequenceNumber<=n&&null===o.get(M.targetId)&&(this.Fi.delete(v),h.push(this.removeMatchingKeysForTargetId(e,M.targetId)),u++)}),gt.waitFor(h).next(()=>u)}getTargetCount(e){return gt.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fi.get(n)||null;return gt.resolve(o)}addMatchingKeys(e,n,o){return this.Bi.Ei(n,o),gt.resolve()}removeMatchingKeys(e,n,o){this.Bi.Ri(n,o);const u=this.persistence.referenceDelegate,h=[];return u&&n.forEach(v=>{h.push(u.markPotentiallyOrphaned(e,v))}),gt.waitFor(h)}removeMatchingKeysForTargetId(e,n){return this.Bi.Pi(n),gt.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Bi.Vi(n);return gt.resolve(o)}containsKey(e,n){return gt.resolve(this.Bi.containsKey(n))}}class Wm{constructor(e,n){this.Ui={},this.overlays={},this.es=new I(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new zm(this),this.indexManager=new V_,this.ds=new Gm(o=>this.referenceDelegate.qi(o)),this.M=new Wp(n),this._s=new Hm(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ol,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Ui[e.toKey()];return o||(o=new Cf(n,this.referenceDelegate),this.Ui[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,o){Kt("MemoryPersistence","Starting transaction:",e);const u=new md(this.es.next());return this.referenceDelegate.Ki(),o(u).next(h=>this.referenceDelegate.Gi(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Qi(e,n){return gt.or(Object.values(this.Ui).map(o=>()=>o.containsKey(e,n)))}}class md extends cf{constructor(e){super(),this.currentSequenceNumber=e}}class al{constructor(e){this.persistence=e,this.ji=new hh,this.Wi=null}static zi(e){return new al(e)}get Hi(){if(this.Wi)return this.Wi;throw In()}addReference(e,n,o){return this.ji.addReference(o,n),this.Hi.delete(o.toString()),gt.resolve()}removeReference(e,n,o){return this.ji.removeReference(o,n),this.Hi.add(o.toString()),gt.resolve()}markPotentiallyOrphaned(e,n){return this.Hi.add(n.toString()),gt.resolve()}removeTarget(e,n){this.ji.Pi(n.targetId).forEach(u=>this.Hi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(h=>this.Hi.add(h.toString()))}).next(()=>o.removeTargetData(e,n))}Ki(){this.Wi=new Set}Gi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.Hi,o=>{const u=on.fromPath(o);return this.Ji(e,u).next(h=>{h||n.removeEntry(u,et.min())})}).next(()=>(this.Wi=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ji(e,n).next(o=>{o?this.Hi.delete(n.toString()):this.Hi.add(n.toString())})}qi(e){return 0}Ji(e,n){return gt.or([()=>gt.resolve(this.ji.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Qi(e,n)])}}function fh(i,e){return`firestore_clients_${i}_${e}`}function Ll(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Vl(i,e){return`firestore_targets_${i}_${e}`}class yu{constructor(e,n,o,u){this.user=e,this.batchId=n,this.state=o,this.error=u}static Yi(e,n,o){const u=JSON.parse(o);let h,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(h=new jt(u.error.code,u.error.message))),v?new yu(e,n,u.state,h):(qr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yd{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Yi(e,n){const o=JSON.parse(n);let u,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new jt(o.error.code,o.error.message))),h?new yd(e,o.state,u):(qr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _d{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Yi(e,n){const o=JSON.parse(n);let u="object"==typeof o&&o.activeTargetIds instanceof Array,h=Ku();for(let v=0;u&&v<o.activeTargetIds.length;++v)u=Lc(o.activeTargetIds[v]),h=h.add(o.activeTargetIds[v]);return u?new _d(e,h):(qr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class ph{constructor(e,n){this.clientId=e,this.onlineState=n}static Yi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new ph(n.clientId,n.onlineState):(qr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class vd{constructor(){this.activeTargetIds=Ku()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ed{constructor(e,n,o,u,h){this.window=e,this.Yn=n,this.persistenceKey=o,this.er=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new bn(V),this.started=!1,this.rr=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.ur=fh(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new vd),this.cr=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.Z)(function*(){const n=yield e.syncEngine.Fs();for(const u of n){if(u===e.er)continue;const h=e.getItem(fh(e.persistenceKey,u));if(h){const v=_d.Yi(u,h);v&&(e.ir=e.ir.insert(v.clientId,v))}}e.wr();const o=e.storage.getItem(e.dr);if(o){const u=e.mr(o);u&&e.gr(u)}for(const u of e.rr)e.sr(u);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let n=!1;return this.ir.forEach((o,u)=>{u.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,n,o){this.pr(e,n,o),this.Ir(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Vl(this.persistenceKey,e));if(o){const u=yd.Yi(e,o);u&&(n=u.state)}}return this.Tr.Zi(e),this.wr(),n}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vl(this.persistenceKey,e))}updateQueryState(e,n,o){this.Er(e,n,o)}handleUserChange(e,n,o){n.forEach(u=>{this.Ir(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Kt("SharedClientState","READ",e,n),n}setItem(e,n){Kt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Kt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Kt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ur)return void qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,c.Z)(function*(){if(n.started){if(null!==o.key)if(n.cr.test(o.key)){if(null==o.newValue){const u=n.Pr(o.key);return n.br(u,null)}{const u=n.Vr(o.key,o.newValue);if(u)return n.br(u.clientId,u)}}else if(n.hr.test(o.key)){if(null!==o.newValue){const u=n.vr(o.key,o.newValue);if(u)return n.Sr(u)}}else if(n.lr.test(o.key)){if(null!==o.newValue){const u=n.Dr(o.key,o.newValue);if(u)return n.Cr(u)}}else if(o.key===n.dr){if(null!==o.newValue){const u=n.mr(o.newValue);if(u)return n.gr(u)}}else if(o.key===n.ar){const u=function(h){let v=I.A;if(null!=h)try{const M=JSON.parse(h);Ln("number"==typeof M),v=M}catch(M){qr("SharedClientState","Failed to read sequence number from WebStorage",M)}return v}(o.newValue);u!==I.A&&n.sequenceNumberHandler(u)}else if(o.key===n._r){const u=n.Nr(o.newValue);yield Promise.all(u.map(h=>n.syncEngine.kr(h)))}}else n.rr.push(o)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,n,o){const u=new yu(this.currentUser,e,n,o),h=Ll(this.persistenceKey,this.currentUser,e);this.setItem(h,u.Xi())}Ir(e){const n=Ll(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,n,o){const u=Vl(this.persistenceKey,e),h=new yd(e,n,o);this.setItem(u,h.Xi())}Rr(e){const n=JSON.stringify(Array.from(e));this.setItem(this._r,n)}Pr(e){const n=this.cr.exec(e);return n?n[1]:null}Vr(e,n){const o=this.Pr(e);return _d.Yi(o,n)}vr(e,n){const o=this.hr.exec(e),u=Number(o[1]);return yu.Yi(new oi(void 0!==o[2]?o[2]:null),u,n)}Dr(e,n){const o=this.lr.exec(e),u=Number(o[1]);return yd.Yi(u,n)}mr(e){return ph.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var n=this;return(0,c.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Mr(e.batchId,e.state,e.error);Kt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,n){const o=n?this.ir.insert(e,n):this.ir.remove(e),u=this.yr(this.ir),h=this.yr(o),v=[],M=[];return h.forEach($=>{u.has($)||v.push($)}),u.forEach($=>{h.has($)||M.push($)}),this.syncEngine.Fr(v,M).then(()=>{this.ir=o})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let n=Ku();return e.forEach((o,u)=>{n=n.unionWith(u.activeTargetIds)}),n}}class Af{constructor(){this.$r=new vd,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,n,o){this.Br[e]=n}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new vd,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gh{Lr(e){}shutdown(){}}class yg{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _g={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class G_{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class vg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,n,o,u,h){const v=this.uo(e,n);Kt("RestConnection","Sending: ",v,o);const M={};return this.ao(M,u,h),this.co(e,v,M,o).then($=>(Kt("RestConnection","Received: ",$),$),$=>{throw Bs("RestConnection",`${e} failed with error: `,$,"url: ",v,"request:",o),$})}ho(e,n,o,u,h){return this.oo(e,n,o,u,h)}ao(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ko,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,h)=>e[h]=u),o&&o.headers.forEach((u,h)=>e[h]=u)}uo(e,n){return`${this.io}/v1/${n}:${_g[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,o,u){return new Promise((h,v)=>{const M=new Wo;M.listenOnce(Mu.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Ci.NO_ERROR:const K=M.getResponseJson();Kt("Connection","XHR received:",JSON.stringify(K)),h(K);break;case Ci.TIMEOUT:Kt("Connection",'RPC "'+e+'" timed out'),v(new jt(ht.DEADLINE_EXCEEDED,"Request time out"));break;case Ci.HTTP_ERROR:const Ee=M.getStatus();if(Kt("Connection",'RPC "'+e+'" failed with status:',Ee,"response text:",M.getResponseText()),Ee>0){const je=M.getResponseJson().error;if(je&&je.status&&je.message){const _t=function(Gt){const Wt=Gt.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(Wt)>=0?Wt:ht.UNKNOWN}(je.status);v(new jt(_t,je.message))}else v(new jt(ht.UNKNOWN,"Server responded with status "+M.getStatus()))}else v(new jt(ht.UNAVAILABLE,"Connection failed."));break;default:In()}}finally{Kt("Connection",'RPC "'+e+'" completed.')}});const $=JSON.stringify(u);M.send(n,"POST",$,o,15)})}lo(e,n,o){const u=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Ls(),v=zo(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(M.xmlHttpFactory=new si({})),this.ao(M.initMessageHeaders,n,o),(0,Ie.uI)()||(0,Ie.b$)()||(0,Ie.d)()||(0,Ie.w1)()||(0,Ie.Mn)()||(0,Ie.ru)()||(M.httpHeadersOverwriteParam="$httpHeaders");const $=u.join("");Kt("Connection","Creating WebChannel: "+$,M);const K=h.createWebChannel($,M);let Ee=!1,je=!1;const _t=new G_({Wr:Wt=>{je?Kt("Connection","Not sending because WebChannel is closed:",Wt):(Ee||(Kt("Connection","Opening WebChannel transport."),K.open(),Ee=!0),Kt("Connection","WebChannel sending:",Wt),K.send(Wt))},zr:()=>K.close()}),Gt=(Wt,On,yr)=>{Wt.listen(On,Fi=>{try{yr(Fi)}catch(cs){setTimeout(()=>{throw cs},0)}})};return Gt(K,gs.EventType.OPEN,()=>{je||Kt("Connection","WebChannel transport opened.")}),Gt(K,gs.EventType.CLOSE,()=>{je||(je=!0,Kt("Connection","WebChannel transport closed"),_t.no())}),Gt(K,gs.EventType.ERROR,Wt=>{je||(je=!0,Bs("Connection","WebChannel transport errored:",Wt),_t.no(new jt(ht.UNAVAILABLE,"The operation could not be completed")))}),Gt(K,gs.EventType.MESSAGE,Wt=>{var On;if(!je){const yr=Wt.data[0];Ln(!!yr);const Fi=yr,cs=Fi.error||(null===(On=Fi[0])||void 0===On?void 0:On.error);if(cs){Kt("Connection","WebChannel received error:",cs);const Li=cs.status;let no=function(Wi){const fo=z[Wi];if(void 0!==fo)return Ht(fo)}(Li),ds=cs.message;void 0===no&&(no=ht.INTERNAL,ds="Unknown error status: "+Li+" with message "+cs.message),je=!0,_t.no(new jt(no,ds)),K.close()}else Kt("Connection","WebChannel received:",yr),_t.so(yr)}}),Gt(v,ca.STAT_EVENT,Wt=>{Wt.stat===Ts.PROXY?Kt("Connection","Detected buffering proxy"):Wt.stat===Ts.NOPROXY&&Kt("Connection","Detected no buffering proxy")}),setTimeout(()=>{_t.eo()},0),_t}}function Sf(){return"undefined"!=typeof window?window:null}function mh(){return"undefined"!=typeof document?document:null}function wc(i){return new jp(i,!0)}class Mf{constructor(e,n,o=1e3,u=1.5,h=6e4){this.Yn=e,this.timerId=n,this.fo=o,this._o=u,this.wo=h,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const n=Math.floor(this.mo+this.Eo()),o=Math.max(0,Date.now()-this.po),u=Math.max(0,n-o);u>0&&Kt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.mo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,u,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class Eg{constructor(e,n,o,u,h,v,M,$){this.Yn=e,this.Ro=o,this.Po=u,this.bo=h,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=M,this.listener=$,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Mf(e,n)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,c.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,c.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,n){var o=this;return(0,c.Z)(function*(){o.$o(),o.Bo(),o.Do.cancel(),o.Vo++,4!==e?o.Do.reset():n&&n.code===ht.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),o.Do.Io()):n&&n.code===ht.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Lo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Yr(n)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Vo===n&&this.qo(o,u)},o=>{e(()=>{const u=new jt(ht.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ko(u)})})}qo(e,n){const o=this.Uo(this.Vo);this.stream=this.Go(e,n),this.stream.Hr(()=>{o(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(u=>{o(()=>this.Ko(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}No(){var e=this;this.state=5,this.Do.To((0,c.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Kt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Yn.enqueueAndForget(()=>this.Vo===e?n():(Kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vo extends Eg{constructor(e,n,o,u,h,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,v),this.M=h}Go(e,n){return this.bo.lo("Listen",e,n)}onMessage(e){this.Do.reset();const n=function Hp(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:In(),u=e.targetChange.targetIds||[],h=function($,K){return $.N?(Ln(void 0===K||"string"==typeof K),Br.fromBase64String(K||"")):(Ln(void 0===K||K instanceof Uint8Array),Br.fromUint8Array(K||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,M=v&&function($){const K=void 0===$.code?ht.UNKNOWN:Ht($.code);return new jt(K,$.message||"")}(v);n=new Yd(o,u,h,M||null)}else if("documentChange"in e){const o=e.documentChange,u=gi(i,o.document.name),h=zr(o.document.updateTime),v=new Hi({mapValue:{fields:o.document.fields}}),M=ci.newFoundDocument(u,h,v);n=new wi(o.targetIds||[],o.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const o=e.documentDelete,u=gi(i,o.document),h=o.readTime?zr(o.readTime):et.min(),v=ci.newNoDocument(u,h);n=new wi([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,u=gi(i,o.document);n=new wi([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return In();{const o=e.filter,h=new A(o.count||0);n=new Zd(o.targetId,h)}}var $;return n}(this.M,e),o=function(u){if(!("targetChange"in u))return et.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?et.min():h.readTime?zr(h.readTime):et.min()}(e);return this.listener.Qo(n,o)}jo(e){const n={};n.database=fc(this.M),n.addTarget=function(u,h){let v;const M=h.target;return v=Lu(M)?{documents:p(u,M)}:{query:g(u,M)},v.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?v.resumeToken=$p(u,h.resumeToken):h.snapshotVersion.compareTo(et.min())>0&&(v.readTime=ed(u,h.snapshotVersion.toTimestamp())),v}(this.M,e);const o=function H(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return In()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Fo(n)}Wo(e){const n={};n.database=fc(this.M),n.removeTarget=e,this.Fo(n)}}class Km extends Eg{constructor(e,n,o,u,h,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,v),this.M=h,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,n){return this.bo.lo("Write",e,n)}onMessage(e){if(Ln(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const n=function N(i,e){return i&&i.length>0?(Ln(void 0!==e),i.map(n=>function(o,u){let h=zr(o.updateTime?o.updateTime:u);return h.isEqual(et.min())&&(h=zr(u)),new _o(h,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=zr(e.commitTime);return this.listener.Yo(o,n)}return Ln(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=fc(this.M),this.Fo(e)}Jo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>Nl(this.M,o))};this.Fo(n)}}class qm extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=o,this.M=u,this.tu=!1}eu(){if(this.tu)throw new jt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,n,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.bo.oo(e,n,o,u,h)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new jt(ht.UNKNOWN,u.toString())})}ho(e,n,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.bo.ho(e,n,o,u,h)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new jt(ht.UNKNOWN,u.toString())})}terminate(){this.tu=!0}}class z_{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(qr(n),this.iu=!1):Kt("OnlineStateTracker",n)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class W_{constructor(e,n,o,u,h){var v=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=h,this._u.Lr(M=>{o.enqueueAndForget((0,c.Z)(function*(){var $;_u(v)&&(Kt("RemoteStore","Restarting streams for network reachability change."),yield($=(0,c.Z)(function*(K){const Ee=$t(K);Ee.fu.add(4),yield Ic(Ee),Ee.wu.set("Unknown"),Ee.fu.delete(4),yield bc(Ee)}),function(K){return $.apply(this,arguments)})(v))}))}),this.wu=new z_(o,u)}}function bc(i){return wg.apply(this,arguments)}function wg(){return wg=(0,c.Z)(function*(i){if(_u(i))for(const e of i.du)yield e(!0)}),wg.apply(this,arguments)}function Ic(i){return wd.apply(this,arguments)}function wd(){return wd=(0,c.Z)(function*(i){for(const e of i.du)yield e(!1)}),wd.apply(this,arguments)}function bd(i,e){const n=$t(i);n.lu.has(e.targetId)||(n.lu.set(e.targetId,e),xf(n)?yh(n):Bl(n).xo()&&Of(n,e))}function Id(i,e){const n=$t(i),o=Bl(n);n.lu.delete(e),o.xo()&&bg(n,e),0===n.lu.size&&(o.xo()?o.Mo():_u(n)&&n.wu.set("Unknown"))}function Of(i,e){i.mu.Z(e.targetId),Bl(i).jo(e)}function bg(i,e){i.mu.Z(e),Bl(i).Wo(e)}function yh(i){i.mu=new nf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.lu.get(e)||null}),Bl(i).start(),i.wu.ru()}function xf(i){return _u(i)&&!Bl(i).Co()&&i.lu.size>0}function _u(i){return 0===$t(i).fu.size}function Ig(i){i.mu=void 0}function Zm(i){return _h.apply(this,arguments)}function _h(){return _h=(0,c.Z)(function*(i){i.lu.forEach((e,n)=>{Of(i,e)})}),_h.apply(this,arguments)}function Dg(i,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,c.Z)(function*(i,e){Ig(i),xf(i)?(i.wu.au(e),yh(i)):i.wu.set("Unknown")}),Nf.apply(this,arguments)}function Ka(i,e,n){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,c.Z)(function*(i,e,n){if(i.wu.set("Online"),e instanceof Yd&&2===e.state&&e.cause)try{yield(o=(0,c.Z)(function*(u,h){const v=h.cause;for(const M of h.targetIds)u.lu.has(M)&&(yield u.remoteSyncer.rejectListen(M,v),u.lu.delete(M),u.mu.removeTarget(M))}),function(u,h){return o.apply(this,arguments)})(i,e)}catch(o){Kt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield vh(i,o)}else if(e instanceof wi?i.mu.ut(e):e instanceof Zd?i.mu._t(e):i.mu.ht(e),!n.isEqual(et.min()))try{const o=yield jm(i.localStore);n.compareTo(o)>=0&&(yield function(u,h){const v=u.mu.yt(h);return v.targetChanges.forEach((M,$)=>{if(M.resumeToken.approximateByteSize()>0){const K=u.lu.get($);K&&u.lu.set($,K.withResumeToken(M.resumeToken,h))}}),v.targetMismatches.forEach(M=>{const $=u.lu.get(M);if(!$)return;u.lu.set(M,$.withResumeToken(Br.EMPTY_BYTE_STRING,$.snapshotVersion)),bg(u,M);const K=new Xu($.target,M,1,$.sequenceNumber);Of(u,K)}),u.remoteSyncer.applyRemoteEvent(v)}(i,n))}catch(o){Kt("RemoteStore","Failed to raise snapshot:",o),yield vh(i,o)}var o}),Dd.apply(this,arguments)}function vh(i,e,n){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,c.Z)(function*(i,e,n){if(!Rl(e))throw e;i.fu.add(1),yield Ic(i),i.wu.set("Offline"),n||(n=()=>jm(i.localStore)),i.asyncQueue.enqueueRetryable((0,c.Z)(function*(){Kt("RemoteStore","Retrying IndexedDB access"),yield n(),i.fu.delete(1),yield bc(i)}))}),Rf.apply(this,arguments)}function Ym(i,e){return e().catch(n=>vh(i,n,e))}function Ul(i){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,c.Z)(function*(i){const e=$t(i),n=vu(e);let o=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Qm(e);)try{const u=yield H_(e.localStore,o);if(null===u){0===e.hu.length&&n.Mo();break}o=u.batchId,Jm(e,u)}catch(u){yield vh(e,u)}Eh(e)&&Tg(e)}),Pf.apply(this,arguments)}function Qm(i){return _u(i)&&i.hu.length<10}function Jm(i,e){i.hu.push(e);const n=vu(i);n.xo()&&n.Ho&&n.Jo(e.mutations)}function Eh(i){return _u(i)&&!vu(i).Co()&&i.hu.length>0}function Tg(i){vu(i).start()}function Xm(i){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,c.Z)(function*(i){vu(i).Zo()}),Dc.apply(this,arguments)}function kf(i){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,c.Z)(function*(i){const e=vu(i);for(const n of i.hu)e.Jo(n.mutations)}),Ff.apply(this,arguments)}function Lf(i,e,n){return Td.apply(this,arguments)}function Td(){return Td=(0,c.Z)(function*(i,e,n){const o=i.hu.shift(),u=Xd.from(o,e,n);yield Ym(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Ul(i)}),Td.apply(this,arguments)}function Cg(i,e){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,c.Z)(function*(i,e){var n;e&&vu(i).Ho&&(yield(n=(0,c.Z)(function*(o,u){if(ut(h=u.code)&&h!==ht.ABORTED){const v=o.hu.shift();vu(o).ko(),yield Ym(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,u)),yield Ul(o)}var h}),function(o,u){return n.apply(this,arguments)})(i,e)),Eh(i)&&Tg(i)}),Vf.apply(this,arguments)}function Ag(i,e){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,c.Z)(function*(i,e){const n=$t(i);n.asyncQueue.verifyOperationInProgress(),Kt("RemoteStore","RemoteStore received new credentials");const o=_u(n);n.fu.add(3),yield Ic(n),o&&n.wu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.fu.delete(3),yield bc(n)}),Cd.apply(this,arguments)}function Sg(i,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,c.Z)(function*(i,e){const n=$t(i);e?(n.fu.delete(2),yield bc(n)):e||(n.fu.add(2),yield Ic(n),n.wu.set("Unknown"))}),Uf.apply(this,arguments)}function Bl(i){return i.gu||(i.gu=function(e,n,o){const u=$t(e);return u.eu(),new Vo(n,u.bo,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Hr:Zm.bind(null,i),Yr:Dg.bind(null,i),Qo:Ka.bind(null,i)}),i.du.push(function(){var e=(0,c.Z)(function*(n){n?(i.gu.ko(),xf(i)?yh(i):i.wu.set("Unknown")):(yield i.gu.stop(),Ig(i))});return function(n){return e.apply(this,arguments)}}())),i.gu}function vu(i){return i.yu||(i.yu=function(e,n,o){const u=$t(e);return u.eu(),new Km(n,u.bo,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Hr:Xm.bind(null,i),Yr:Cg.bind(null,i),Xo:kf.bind(null,i),Yo:Lf.bind(null,i)}),i.du.push(function(){var e=(0,c.Z)(function*(n){n?(i.yu.ko(),yield Ul(i)):(yield i.yu.stop(),i.hu.length>0&&(Kt("RemoteStore",`Stopping write stream with ${i.hu.length} pending writes`),i.hu=[]))});return function(n){return e.apply(this,arguments)}}())),i.yu}class wh{constructor(e,n,o,u,h){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=h,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,n,o,u,h){const v=Date.now()+o,M=new wh(e,n,v,u,h);return M.start(o),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jt(ht.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jl(i,e){if(qr("AsyncQueue",`${e}: ${i}`),Rl(i))return new jt(ht.UNAVAILABLE,`${e}: ${i}`);throw i}class $l{constructor(e){this.comparator=e?(n,o)=>e(n,o)||on.comparator(n.key,o.key):(n,o)=>on.comparator(n.key,o.key),this.keyedMap=Ol(),this.sortedSet=new bn(this.comparator)}static emptySet(e){return new $l(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,h=o.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new $l;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class qa{constructor(){this.pu=new bn(on.comparator)}track(e){const n=e.doc.key,o=this.pu.get(n);o?0!==e.type&&3===o.type?this.pu=this.pu.insert(n,e):3===e.type&&1!==o.type?this.pu=this.pu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.pu=this.pu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.pu=this.pu.remove(n):1===e.type&&2===o.type?this.pu=this.pu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):In():this.pu=this.pu.insert(n,e)}Iu(){const e=[];return this.pu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Eu{constructor(e,n,o,u,h,v,M,$){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=h,this.fromCache=v,this.syncStateChanged=M,this.excludesMetadataChanges=$}static fromInitialDocuments(e,n,o,u){const h=[];return n.forEach(v=>{h.push({type:0,doc:v})}),new Eu(e,n,$l.emptySet(n),h,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class ey{constructor(){this.Tu=void 0,this.listeners=[]}}class ty{constructor(){this.queries=new wn(e=>Cl(e),Tl),this.onlineState="Unknown",this.Eu=new Set}}function Mg(i,e){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,c.Z)(function*(i,e){const n=$t(i),o=e.query;let u=!1,h=n.queries.get(o);if(h||(u=!0,h=new ey),u)try{h.Tu=yield n.onListen(o)}catch(v){const M=jl(v,`Initialization of query '${uc(e.query)}' failed`);return void e.onError(M)}n.queries.set(o,h),h.listeners.push(e),e.Au(n.onlineState),h.Tu&&e.Ru(h.Tu)&&Od(n)}),Ad.apply(this,arguments)}function bh(i,e){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,c.Z)(function*(i,e){const n=$t(i),o=e.query;let u=!1;const h=n.queries.get(o);if(h){const v=h.listeners.indexOf(e);v>=0&&(h.listeners.splice(v,1),u=0===h.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Sd.apply(this,arguments)}function Md(i,e){const n=$t(i);let o=!1;for(const u of e){const v=n.queries.get(u.query);if(v){for(const M of v.listeners)M.Ru(u)&&(o=!0);v.Tu=u}}o&&Od(n)}function ny(i,e,n){const o=$t(i),u=o.queries.get(e);if(u)for(const h of u.listeners)h.onError(n);o.queries.delete(e)}function Od(i){i.Eu.forEach(e=>{e.next()})}class Ih{constructor(e,n,o){this.query=e,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}Ru(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Eu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),n=!0):this.Su(e,this.onlineState)&&(this.Du(e),n=!0),this.Vu=e,n}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let n=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),n=!0),n}Su(e,n){return!e.fromCache||!(this.options.Cu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=Eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class Og{constructor(e,n){this.payload=e,this.byteLength=n}xu(){return"metadata"in this.payload}}class Bf{constructor(e){this.M=e}fi(e){return gi(this.M,e)}di(e){return e.metadata.exists?af(this.M,e.document,!1):ci.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return zr(e)}}class ry{constructor(e,n,o){this.Nu=e,this.localStore=n,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Dh(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=Sn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Mu(e){const n=new Map,o=new Bf(this.M);for(const u of e)if(u.metadata.queries){const h=o.fi(u.metadata.name);for(const v of u.metadata.queries){const M=(n.get(v)||Or()).add(h);n.set(v,M)}}return n}complete(){var e=this;return(0,c.Z)(function*(){const n=yield function pg(i,e,n,o){return pd.apply(this,arguments)}(e.localStore,new Bf(e.M),e.documents,e.Nu.id),o=e.Mu(e.documents);for(const u of e.queries)yield gg(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:n}})()}}function Dh(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class xg{constructor(e){this.key=e}}class Ng{constructor(e){this.key=e}}class jf{constructor(e,n){this.query=e,this.$u=n,this.Bu=null,this.current=!1,this.Lu=Or(),this.mutatedKeys=Or(),this.Uu=Hc(e),this.qu=new $l(this.Uu)}get Ku(){return this.$u}Gu(e,n){const o=n?n.Qu:new qa,u=n?n.qu:this.qu;let h=n?n.mutatedKeys:this.mutatedKeys,v=u,M=!1;const $=ou(this.query)&&u.size===this.query.limit?u.last():null,K=ya(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((Ee,je)=>{const _t=u.get(Ee),Gt=ju(this.query,je)?je:null,Wt=!!_t&&this.mutatedKeys.has(_t.key),On=!!Gt&&(Gt.hasLocalMutations||this.mutatedKeys.has(Gt.key)&&Gt.hasCommittedMutations);let yr=!1;_t&&Gt?_t.data.isEqual(Gt.data)?Wt!==On&&(o.track({type:3,doc:Gt}),yr=!0):this.ju(_t,Gt)||(o.track({type:2,doc:Gt}),yr=!0,($&&this.Uu(Gt,$)>0||K&&this.Uu(Gt,K)<0)&&(M=!0)):!_t&&Gt?(o.track({type:0,doc:Gt}),yr=!0):_t&&!Gt&&(o.track({type:1,doc:_t}),yr=!0,($||K)&&(M=!0)),yr&&(Gt?(v=v.add(Gt),h=On?h.add(Ee):h.delete(Ee)):(v=v.delete(Ee),h=h.delete(Ee)))}),ou(this.query)||ya(this.query))for(;v.size>this.query.limit;){const Ee=ou(this.query)?v.last():v.first();v=v.delete(Ee.key),h=h.delete(Ee.key),o.track({type:1,doc:Ee})}return{qu:v,Qu:o,ni:M,mutatedKeys:h}}ju(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const h=e.Qu.Iu();h.sort((K,Ee)=>function(je,_t){const Gt=Wt=>{switch(Wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return In()}};return Gt(je)-Gt(_t)}(K.type,Ee.type)||this.Uu(K.doc,Ee.doc)),this.Wu(o);const v=n?this.zu():[],M=0===this.Lu.size&&this.current?1:0,$=M!==this.Bu;return this.Bu=M,0!==h.length||$?{snapshot:new Eu(this.query,e.qu,u,h,e.mutatedKeys,0===M,$,!1),Hu:v}:{Hu:v}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new qa,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(n=>this.$u=this.$u.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.$u=this.$u.delete(n)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Or(),this.qu.forEach(o=>{this.Ju(o.key)&&(this.Lu=this.Lu.add(o.key))});const n=[];return e.forEach(o=>{this.Lu.has(o)||n.push(new Ng(o))}),this.Lu.forEach(o=>{e.has(o)||n.push(new xg(o))}),n}Yu(e){this.$u=e.li,this.Lu=Or();const n=this.Gu(e.documents);return this.applyChanges(n,!0)}Xu(){return Eu.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Tc{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Rg{constructor(e){this.key=e,this.Zu=!1}}class iy{constructor(e,n,o,u,h,v){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=v,this.ta={},this.ea=new wn(M=>Cl(M),Tl),this.na=new Map,this.sa=new Set,this.ia=new bn(on.comparator),this.ra=new Map,this.oa=new hh,this.ua={},this.aa=new Map,this.ca=lr.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function sy(i,e){return ul.apply(this,arguments)}function ul(){return ul=(0,c.Z)(function*(i,e){const n=ll(i);let o,u;const h=n.ea.get(e);if(h)o=h.targetId,n.sharedClientState.addLocalQueryTarget(o),u=h.view.Xu();else{const v=yield hd(n.localStore,Ji(e));n.isPrimaryClient&&bd(n.remoteStore,v);const M=n.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,u=yield $f(n,e,o,"current"===M)}return u}),ul.apply(this,arguments)}function $f(i,e,n,o){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,c.Z)(function*(i,e,n,o){i.la=(Ee,je,_t)=>{return(Gt=(0,c.Z)(function*(Wt,On,yr,Fi){let cs=On.view.Gu(yr);cs.ni&&(cs=yield Tf(Wt.localStore,On.query,!1).then(({documents:ds})=>On.view.Gu(ds,cs)));const Li=Fi&&Fi.targetChanges.get(On.targetId),no=On.view.applyChanges(cs,Wt.isPrimaryClient,Li);return Rd(Wt,On.targetId,no.Hu),no.snapshot}),function(Wt,On,yr,Fi){return Gt.apply(this,arguments)})(i,Ee,je,_t);var Gt};const u=yield Tf(i.localStore,e,!0),h=new jf(e,u.li),v=h.Gu(u.documents),M=qu.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),$=h.applyChanges(v,i.isPrimaryClient,M);Rd(i,n,$.Hu);const K=new Tc(e,n,h);return i.ea.set(e,K),i.na.has(n)?i.na.get(n).push(e):i.na.set(n,[e]),$.snapshot}),Hf.apply(this,arguments)}function oy(i,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,c.Z)(function*(i,e){const n=$t(i),o=n.ea.get(e),u=n.na.get(o.targetId);if(u.length>1)return n.na.set(o.targetId,u.filter(h=>!Tl(h,e))),void n.ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield fd(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Id(n.remoteStore,o.targetId),Nd(n,o.targetId)}).catch(zs))):(Nd(n,o.targetId),yield fd(n.localStore,o.targetId,!0))}),Gf.apply(this,arguments)}function xd(){return xd=(0,c.Z)(function*(i,e,n){const o=np(i);try{const u=yield function(h,v){const M=$t(h),$=Ae.now(),K=v.reduce((je,_t)=>je.add(_t.key),Or());let Ee;return M.persistence.runTransaction("Locally write mutations","readwrite",je=>M.ci.Ks(je,K).next(_t=>{Ee=_t;const Gt=[];for(const Wt of v){const On=qc(Wt,Ee.get(Wt.key));null!=On&&Gt.push(new $a(Wt.key,On,La(On.value.mapValue),Yr.exists(!0)))}return M.Bs.addMutationBatch(je,$,Gt,v)})).then(je=>(je.applyToLocalDocumentSet(Ee),{batchId:je.batchId,changes:Ee}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(h,v,M){let $=h.ua[h.currentUser.toKey()];$||($=new bn(V)),$=$.insert(v,M),h.ua[h.currentUser.toKey()]=$}(o,u.batchId,n),yield Za(o,u.changes),yield Ul(o.remoteStore)}catch(u){const h=jl(u,"Failed to persist write");n.reject(h)}}),xd.apply(this,arguments)}function zf(i,e){return Th.apply(this,arguments)}function Th(){return Th=(0,c.Z)(function*(i,e){const n=$t(i);try{const o=yield $_(n.localStore,e);e.targetChanges.forEach((u,h)=>{const v=n.ra.get(h);v&&(Ln(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.Zu=!0:u.modifiedDocuments.size>0?Ln(v.Zu):u.removedDocuments.size>0&&(Ln(v.Zu),v.Zu=!1))}),yield Za(n,o,e)}catch(o){yield zs(o)}}),Th.apply(this,arguments)}function Wf(i,e,n){const o=$t(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ea.forEach((h,v)=>{const M=v.view.Au(e);M.snapshot&&u.push(M.snapshot)}),function(h,v){const M=$t(h);M.onlineState=v;let $=!1;M.queries.forEach((K,Ee)=>{for(const je of Ee.listeners)je.Au(v)&&($=!0)}),$&&Od(M)}(o.eventManager,e),u.length&&o.ta.Qo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Pg(i,e,n){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,c.Z)(function*(i,e,n){const o=$t(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.ra.get(e),h=u&&u.key;if(h){let v=new bn(on.comparator);v=v.insert(h,ci.newNoDocument(h,et.min()));const M=Or().add(h),$=new Xo(et.min(),new Map,new Tr(V),v,M);yield zf(o,$),o.ia=o.ia.remove(h),o.ra.delete(e),Sh(o)}else yield fd(o.localStore,e,!1).then(()=>Nd(o,e,n)).catch(zs)}),Kf.apply(this,arguments)}function ay(i,e){return qf.apply(this,arguments)}function qf(){return qf=(0,c.Z)(function*(i,e){const n=$t(i),o=e.batch.batchId;try{const u=yield j_(n.localStore,e);Yf(n,o,null),Zf(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Za(n,u)}catch(u){yield zs(u)}}),qf.apply(this,arguments)}function uy(i,e,n){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,c.Z)(function*(i,e,n){const o=$t(i);try{const u=yield function(h,v){const M=$t(h);return M.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let K;return M.Bs.lookupMutationBatch($,v).next(Ee=>(Ln(null!==Ee),K=Ee.keys(),M.Bs.removeMutationBatch($,Ee))).next(()=>M.Bs.performConsistencyCheck($)).next(()=>M.ci.Ks($,K))})}(o.localStore,e);Yf(o,e,n),Zf(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Za(o,u)}catch(u){yield zs(u)}}),Ch.apply(this,arguments)}function Ah(){return Ah=(0,c.Z)(function*(i,e){const n=$t(i);_u(n.remoteStore)||Kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const v=$t(h);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>v.Bs.getHighestUnacknowledgedBatchId(M))}(n.localStore);if(-1===o)return void e.resolve();const u=n.aa.get(o)||[];u.push(e),n.aa.set(o,u)}catch(o){const u=jl(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Ah.apply(this,arguments)}function Zf(i,e){(i.aa.get(e)||[]).forEach(n=>{n.resolve()}),i.aa.delete(e)}function Yf(i,e,n){const o=$t(i);let u=o.ua[o.currentUser.toKey()];if(u){const h=u.get(e);h&&(n?h.reject(n):h.resolve(),u=u.remove(e)),o.ua[o.currentUser.toKey()]=u}}function Nd(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.na.get(e))i.ea.delete(o),n&&i.ta.fa(o,n);i.na.delete(e),i.isPrimaryClient&&i.oa.Pi(e).forEach(o=>{i.oa.containsKey(o)||ly(i,o)})}function ly(i,e){i.sa.delete(e.path.canonicalString());const n=i.ia.get(e);null!==n&&(Id(i.remoteStore,n),i.ia=i.ia.remove(e),i.ra.delete(n),Sh(i))}function Rd(i,e,n){for(const o of n)o instanceof xg?(i.oa.addReference(o.key,e),cy(i,o)):o instanceof Ng?(Kt("SyncEngine","Document no longer in limbo: "+o.key),i.oa.removeReference(o.key,e),i.oa.containsKey(o.key)||ly(i,o.key)):In()}function cy(i,e){const n=e.key,o=n.path.canonicalString();i.ia.get(n)||i.sa.has(o)||(Kt("SyncEngine","New document in limbo: "+n),i.sa.add(o),Sh(i))}function Sh(i){for(;i.sa.size>0&&i.ia.size<i.maxConcurrentLimboResolutions;){const e=i.sa.values().next().value;i.sa.delete(e);const n=new on(Sn.fromString(e)),o=i.ca.next();i.ra.set(o,new Rg(n)),i.ia=i.ia.insert(n,o),bd(i.remoteStore,new Xu(Ji(ma(n.path)),o,2,I.A))}}function Za(i,e,n){return kg.apply(this,arguments)}function kg(){return kg=(0,c.Z)(function*(i,e,n){const o=$t(i),u=[],h=[],v=[];var M;o.ea.isEmpty()||(o.ea.forEach((M,$)=>{v.push(o.la($,e,n).then(K=>{if(K){o.isPrimaryClient&&o.sharedClientState.updateQueryState($.targetId,K.fromCache?"not-current":"current"),u.push(K);const Ee=ug.Ys($.targetId,K);h.push(Ee)}}))}),yield Promise.all(v),o.ta.Qo(u),yield(M=(0,c.Z)(function*($,K){const Ee=$t($);try{yield Ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",je=>gt.forEach(K,_t=>gt.forEach(_t.Hs,Gt=>Ee.persistence.referenceDelegate.addReference(je,_t.targetId,Gt)).next(()=>gt.forEach(_t.Js,Gt=>Ee.persistence.referenceDelegate.removeReference(je,_t.targetId,Gt)))))}catch(je){if(!Rl(je))throw je;Kt("LocalStore","Failed to update sequence numbers: "+je)}for(const je of K){const _t=je.targetId;if(!je.fromCache){const Gt=Ee.ii.get(_t),On=Gt.withLastLimboFreeSnapshotVersion(Gt.snapshotVersion);Ee.ii=Ee.ii.insert(_t,On)}}}),function($,K){return M.apply(this,arguments)})(o.localStore,h))}),kg.apply(this,arguments)}function Da(i,e){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,c.Z)(function*(i,e){const n=$t(i);if(!n.currentUser.isEqual(e)){Kt("SyncEngine","User change. New user:",e.toKey());const o=yield ch(n.localStore,e);n.currentUser=e,(u=n).aa.forEach(v=>{v.forEach(M=>{M.reject(new jt(ht.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.aa.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Za(n,o.hi)}var u}),Fg.apply(this,arguments)}function q_(i,e){const n=$t(i),o=n.ra.get(e);if(o&&o.Zu)return Or().add(o.key);{let u=Or();const h=n.na.get(e);if(!h)return u;for(const v of h){const M=n.ea.get(v);u=u.unionWith(M.view.Ku)}return u}}function Lg(i,e){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,c.Z)(function*(i,e){const n=$t(i),o=yield Tf(n.localStore,e.query,!0),u=e.view.Yu(o);return n.isPrimaryClient&&Rd(n,e.targetId,u.Hu),u}),Mh.apply(this,arguments)}function Vg(i,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,c.Z)(function*(i,e){const n=$t(i);return dh(n.localStore,e).then(o=>Za(n,o))}),Qf.apply(this,arguments)}function Z_(i,e,n,o){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,c.Z)(function*(i,e,n,o){const u=$t(i),h=yield function(v,M){const $=$t(v),K=$t($.Bs);return $.persistence.runTransaction("Lookup mutation documents","readonly",Ee=>K.fn(Ee,M).next(je=>je?$.ci.Ks(Ee,je):gt.resolve(null)))}(u.localStore,e);var M;null!==h?("pending"===n?yield Ul(u.remoteStore):"acknowledged"===n||"rejected"===n?(Yf(u,e,o||null),Zf(u,e),M=e,$t($t(u.localStore).Bs)._n(M)):In(),yield Za(u,h)):Kt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Oh.apply(this,arguments)}function Xf(){return Xf=(0,c.Z)(function*(i,e){const n=$t(i);if(ll(n),np(n),!0===e&&!0!==n.ha){const o=n.sharedClientState.getAllActiveQueryTargets(),u=yield xh(n,o.toArray());n.ha=!0,yield Sg(n.remoteStore,!0);for(const h of u)bd(n.remoteStore,h)}else if(!1===e&&!1!==n.ha){const o=[];let u=Promise.resolve();n.na.forEach((h,v)=>{n.sharedClientState.isLocalQueryTarget(v)?o.push(v):u=u.then(()=>(Nd(n,v),fd(n.localStore,v,!0))),Id(n.remoteStore,v)}),yield u,yield xh(n,o),function(h){const v=$t(h);v.ra.forEach((M,$)=>{Id(v.remoteStore,$)}),v.oa.bi(),v.ra=new Map,v.ia=new bn(on.comparator)}(n),n.ha=!1,yield Sg(n.remoteStore,!1)}}),Xf.apply(this,arguments)}function xh(i,e,n){return ep.apply(this,arguments)}function ep(){return ep=(0,c.Z)(function*(i,e,n){const o=$t(i),u=[],h=[];for(const v of e){let M;const $=o.na.get(v);if($&&0!==$.length){M=yield hd(o.localStore,Ji($[0]));for(const K of $){const Ee=o.ea.get(K),je=yield Lg(o,Ee);je.snapshot&&h.push(je.snapshot)}}else{const K=yield mu(o.localStore,v);M=yield hd(o.localStore,K),yield $f(o,Ug(K),v,!1)}u.push(M)}return o.ta.Qo(h),u}),ep.apply(this,arguments)}function Ug(i){return sc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function dy(i){const e=$t(i);return $t($t(e.localStore).persistence).Fs()}function hy(i,e,n,o){return tp.apply(this,arguments)}function tp(){return tp=(0,c.Z)(function*(i,e,n,o){const u=$t(i);if(u.ha)return void Kt("SyncEngine","Ignoring unexpected query state notification.");const h=u.na.get(e);if(h&&h.length>0)switch(n){case"current":case"not-current":{const v=yield dh(u.localStore,$c(h[0])),M=Xo.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield Za(u,v,M);break}case"rejected":yield fd(u.localStore,e,!0),Nd(u,e,o);break;default:In()}}),tp.apply(this,arguments)}function fy(i,e,n){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,c.Z)(function*(i,e,n){const o=ll(i);if(o.ha){for(const u of e){if(o.na.has(u)){Kt("SyncEngine","Adding an already active target "+u);continue}const h=yield mu(o.localStore,u),v=yield hd(o.localStore,h);yield $f(o,Ug(h),v.targetId,!1),bd(o.remoteStore,v)}for(const u of n)o.na.has(u)&&(yield fd(o.localStore,u,!1).then(()=>{Id(o.remoteStore,u),Nd(o,u)}).catch(zs))}}),Cc.apply(this,arguments)}function ll(i){const e=$t(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=zf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pg.bind(null,e),e.ta.Qo=Md.bind(null,e.eventManager),e.ta.fa=ny.bind(null,e.eventManager),e}function np(i){const e=$t(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ay.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uy.bind(null,e),e}class Bg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,c.Z)(function*(){n.M=wc(e.databaseInfo.databaseId),n.sharedClientState=n._a(e),n.persistence=n.wa(e),yield n.persistence.start(),n.gcScheduler=n.ma(e),n.localStore=n.ga(e)})()}ma(e){return null}ga(e){return cg(this.persistence,new Df,e.initialUser,this.M)}wa(e){return new Wm(al.zi,this.M)}_a(e){return new Af}terminate(){var e=this;return(0,c.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jg extends Bg{constructor(e,n,o){super(),this.ya=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield n().call(o,e),yield o.ya.initialize(o,e),yield np(o.ya.syncEngine),yield Ul(o.ya.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ga(e){return cg(this.persistence,new Df,e.initialUser,this.M)}ma(e){return new gu(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const n=ag(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?bo.withCacheSize(this.cacheSizeBytes):bo.DEFAULT;return new If(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,Sf(),mh(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new Af}}class rp extends jg{constructor(e,n){super(e,n,!1),this.ya=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield n().call(o,e);const u=o.ya.syncEngine;o.sharedClientState instanceof Ed&&(o.sharedClientState.syncEngine={Mr:Z_.bind(null,u),Or:hy.bind(null,u),Fr:fy.bind(null,u),Fs:dy.bind(null,u),kr:Vg.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var h=(0,c.Z)(function*(v){yield function Jf(i,e){return Xf.apply(this,arguments)}(o.ya.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):v||o.gcScheduler.stop())});return function(v){return h.apply(this,arguments)}}())})()}_a(e){const n=Sf();if(!Ed.vt(n))throw new jt(ht.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=ag(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ed(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class ia{initialize(e,n){var o=this;return(0,c.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Wf(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Da.bind(null,o.syncEngine),yield Sg(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ty}createDatastore(e){const n=wc(e.databaseInfo.databaseId),o=new vg(e.databaseInfo);return new qm(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,h=M=>Wf(this.syncEngine,M,0),v=yg.vt()?new yg:new gh,new W_(n,o,u,h,v);var n,o,u,h,v}createSyncEngine(e,n){return function(o,u,h,v,M,$,K){const Ee=new iy(o,u,h,v,M,$);return K&&(Ee.ha=!0),Ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,c.Z)(function*(n){const o=$t(n);Kt("RemoteStore","RemoteStore shutting down."),o.fu.add(5),yield Ic(o),o._u.shutdown(),o.wu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ac(i,e=10240){let n=0;return{read:()=>(0,c.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,c.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class _s{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Hl{constructor(e,n){this.Ta=e,this.M=n,this.metadata=new ai,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(o=>{o&&o.xu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,c.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,c.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,c.Z)(function*(){const n=yield e.Ra();if(null===n)return null;const o=e.Ea.decode(n),u=Number(o);isNaN(u)&&e.Pa(`length string (${o}) is not valid number`);const h=yield e.ba(u);return new Og(JSON.parse(h),n.length+u)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,c.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const n=e.Va();n<0&&e.Pa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}ba(e){var n=this;return(0,c.Z)(function*(){for(;n.buffer.length<e;)(yield n.va())&&n.Pa("Reached the end of bundle when more is expected.");const o=n.Ea.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,c.Z)(function*(){const n=yield e.Ta.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Nh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,c.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new jt(ht.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,c.Z)(function*(h,v){const M=$t(h),$=fc(M.M)+"/documents",K={documents:v.map(Gt=>xl(M.M,Gt))},Ee=yield M.ho("BatchGetDocuments",$,K),je=new Map;Ee.forEach(Gt=>{const Wt=function uf(i,e){return"found"in e?function(n,o){Ln(!!o.found);const u=gi(n,o.found.name),h=zr(o.found.updateTime),v=new Hi({mapValue:{fields:o.found.fields}});return ci.newFoundDocument(u,h,v)}(i,e):"missing"in e?function(n,o){Ln(!!o.missing),Ln(!!o.readTime);const u=gi(n,o.missing),h=zr(o.readTime);return ci.newNoDocument(u,h)}(i,e):In()}(M.M,Gt);je.set(Wt.key.toString(),Wt)});const _t=[];return v.forEach(Gt=>{const Wt=je.get(Gt.toString());Ln(!!Wt),_t.push(Wt)}),_t}),function(h,v){return u.apply(this,arguments)})(n.datastore,e);var u;return o.forEach(u=>n.recordVersion(u)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new f(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,u)=>{const h=on.fromPath(u);e.mutations.push(new m(h,e.precondition(h)))}),yield(o=(0,c.Z)(function*(u,h){const v=$t(u),M=fc(v.M)+"/documents",$={writes:h.map(K=>Nl(v.M,K))};yield v.oo("Commit",M,$)}),function(u,h){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw In();n=et.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new jt(ht.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Yr.updateTime(n):Yr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(et.min()))throw new jt(ht.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yr.updateTime(n)}return Yr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class sa{constructor(e,n,o,u){this.asyncQueue=e,this.datastore=n,this.updateFunction=o,this.deferred=u,this.Sa=5,this.Do=new Mf(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,c.Z)(function*(){const n=new Nh(e.datastore),o=e.Ca(n);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(u)}).catch(h=>{e.xa(h)}))}).catch(u=>{e.xa(u)})}))}Ca(e){try{const n=this.updateFunction(e);return!Pa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!ut(n)}return!1}}class ip{constructor(e,n,o,u){var h=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=oi.UNAUTHENTICATED,this.clientId=P.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,c.Z)(function*(M){Kt("FirestoreClient","Received user=",M.uid),yield h.authCredentialListener(M),h.user=M});return function(M){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(Kt("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,c.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new jt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=jl(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Gl(i,e){return cl.apply(this,arguments)}function cl(){return cl=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Kt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,c.Z)(function*(h){o.isEqual(h)||(yield ch(e.localStore,h),o=h)});return function(h){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),cl.apply(this,arguments)}function zl(i,e){return dl.apply(this,arguments)}function dl(){return dl=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield hl(i);Kt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>Ag(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,h)=>Ag(e.remoteStore,h)),i.onlineComponents=e}),dl.apply(this,arguments)}function hl(i){return fl.apply(this,arguments)}function fl(){return fl=(0,c.Z)(function*(i){return i.offlineComponents||(Kt("FirestoreClient","Using default OfflineComponentProvider"),yield Gl(i,new Bg)),i.offlineComponents}),fl.apply(this,arguments)}function wu(i){return pl.apply(this,arguments)}function pl(){return pl=(0,c.Z)(function*(i){return i.onlineComponents||(Kt("FirestoreClient","Using default OnlineComponentProvider"),yield zl(i,new ia)),i.onlineComponents}),pl.apply(this,arguments)}function Wl(i){return hl(i).then(e=>e.persistence)}function Rh(i){return hl(i).then(e=>e.localStore)}function sp(i){return wu(i).then(e=>e.remoteStore)}function Ph(i){return wu(i).then(e=>e.syncEngine)}function Kl(i){return kh.apply(this,arguments)}function kh(){return kh=(0,c.Z)(function*(i){const e=yield wu(i),n=e.eventManager;return n.onListen=sy.bind(null,e.syncEngine),n.onUnlisten=oy.bind(null,e.syncEngine),n}),kh.apply(this,arguments)}function op(i,e,n={}){const o=new ai;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(u,h,v,M,$){const K=new _s({next:je=>{h.enqueueAndForget(()=>bh(u,Ee));const _t=je.docs.has(v);!_t&&je.fromCache?$.reject(new jt(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):_t&&je.fromCache&&M&&"server"===M.source?$.reject(new jt(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(je)},error:je=>$.reject(je)}),Ee=new Ih(ma(v.path),K,{includeMetadataChanges:!0,Cu:!0});return Mg(u,Ee)}(yield Kl(i),i.asyncQueue,e,n,o)})),o.promise}function ap(i,e,n={}){const o=new ai;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(u,h,v,M,$){const K=new _s({next:je=>{h.enqueueAndForget(()=>bh(u,Ee)),je.fromCache&&"server"===M.source?$.reject(new jt(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(je)},error:je=>$.reject(je)}),Ee=new Ih(v,K,{includeMetadataChanges:!0,Cu:!0});return Mg(u,Ee)}(yield Kl(i),i.asyncQueue,e,n,o)})),o.promise}const Wg=new Map;function Fh(i,e,n){if(!n)throw new jt(ht.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Kg(i,e,n,o){if(!0===e&&!0===o)throw new jt(ht.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function up(i){if(!on.isDocumentKey(i))throw new jt(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function qg(i){if(on.isDocumentKey(i))throw new jt(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Lh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":In()}function $r(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new jt(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(i);throw new jt(ht.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Zg(i,e){if(e<=0)throw new jt(ht.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Vh{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new jt(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new jt(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Kg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ql{constructor(e,n,o){this._authCredentials=n,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vh({}),this._settingsFrozen=!1,e instanceof No?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new jt(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(u.options.projectId)}(e))}get app(){if(!this._app)throw new jt(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new jt(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vh(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Ou;switch(n.type){case"gapi":const o=n.client;return Ln(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new uo(o,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new jt(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Wg.get(e);n&&(Kt("ComponentProvider","Removing Datastore"),Wg.delete(e),n.terminate())}(this),Promise.resolve()}}function _y(i,e,n,o={}){var u;const h=(i=$r(i,ql))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&Bs("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let v,M;if("string"==typeof o.mockUserToken)v=o.mockUserToken,M=oi.MOCK_USER;else{v=(0,Ie.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const $=o.mockUserToken.sub||o.mockUserToken.user_id;if(!$)throw new jt(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new oi($)}i._authCredentials=new ha(new Na(v,M))}}class es{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new es(this.firestore,e,this._key)}}class ho{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class bu extends ho{constructor(e,n,o){super(e,n,ma(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new es(this.firestore,null,new on(e))}withConverter(e){return new bu(this.firestore,e,this._path)}}function vy(i,e,...n){if(i=(0,Ie.m9)(i),Fh("collection","path",e),i instanceof ql){const o=Sn.fromString(e,...n);return qg(o),new bu(i,null,o)}{if(!(i instanceof es||i instanceof bu))throw new jt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Sn.fromString(e,...n));return qg(o),new bu(i.firestore,null,o)}}function Yg(i,e){if(i=$r(i,ql),Fh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new jt(ht.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ho(i,null,(n=e,new Ss(Sn.emptyPath(),n)));var n}function Ey(i,e,...n){if(i=(0,Ie.m9)(i),1===arguments.length&&(e=P.R()),Fh("doc","path",e),i instanceof ql){const o=Sn.fromString(e,...n);return up(o),new es(i,null,new on(o))}{if(!(i instanceof es||i instanceof bu))throw new jt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Sn.fromString(e,...n));return up(o),new es(i.firestore,i instanceof bu?i.converter:null,new on(o))}}function wy(i,e){return i=(0,Ie.m9)(i),e=(0,Ie.m9)(e),(i instanceof es||i instanceof bu)&&(e instanceof es||e instanceof bu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Zl(i,e){return i=(0,Ie.m9)(i),e=(0,Ie.m9)(e),i instanceof ho&&e instanceof ho&&i.firestore===e.firestore&&Tl(i._query,e._query)&&i.converter===e.converter}class by{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Mf(this,"async_queue_retry"),this.qa=()=>{const n=mh();n&&Kt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Do.Ao()};const e=mh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const n=mh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const n=new ai;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,c.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(n){if(!Rl(n))throw n;Kt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const n=this.ka.then(()=>(this.Ba=!0,e().catch(o=>{throw this.$a=o,this.Ba=!1,qr("INTERNAL UNHANDLED ERROR: ",function(h){let v=h.message||"";return h.stack&&(v=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),v}(o)),o}).then(o=>(this.Ba=!1,o))));return this.ka=n,n}enqueueAfterDelay(e,n,o){this.Ka(),this.Ua.indexOf(e)>-1&&(n=0);const u=wh.createAndSchedule(this,e,n,o,h=>this.ja(h));return this.Fa.push(u),u}Ka(){this.$a&&In()}verifyOperationInProgress(){}Wa(){var e=this;return(0,c.Z)(function*(){let n;do{n=e.ka,yield n}while(n!==e.ka)})()}za(e){for(const n of this.Fa)if(n.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Fa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const n=this.Fa.indexOf(e);this.Fa.splice(n,1)}}function Uh(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Iy{constructor(){this._progressObserver={},this._taskCompletionResolver=new ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Qg=-1;class di extends ql{constructor(e,n,o){super(e,n,o),this.type="firestore",this._queue=new by,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Xg(this),this._firestoreClient.terminate()}}function Jg(i=(0,w.getApp)()){return(0,w._getProvider)(i,"firestore").getImmediate()}function ls(i){return i._firestoreClient||Xg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Xg(i){var e;const n=i._freezeSettings(),o=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ui(i._databaseId,h,i._persistenceKey,(M=n).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,M.useFetchStreams));var h,M;i._firestoreClient=new ip(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Dy(i,e){sm(i=$r(i,di));const n=ls(i),o=i._freezeSettings(),u=new ia;return em(n,u,new jg(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Ty(i){sm(i=$r(i,di));const e=ls(i),n=i._freezeSettings(),o=new ia;return em(e,o,new rp(o,n.cacheSizeBytes))}function em(i,e,n){const o=new ai;return i.asyncQueue.enqueue((0,c.Z)(function*(){try{yield Gl(i,n),yield zl(i,e),o.resolve()}catch(u){if(!("FirebaseError"===(h=u).name?h.code===ht.FAILED_PRECONDITION||h.code===ht.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var h})).then(()=>o.promise)}function tm(i){if(i._initialized&&!i._terminated)throw new jt(ht.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ai;return i._queue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{yield(n=(0,c.Z)(function*(o){if(!Gs.vt())return Promise.resolve();const u=o+"main";yield Gs.delete(u)}),function(o){return n.apply(this,arguments)})(ag(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function Cy(i){return function(e){const n=new ai;return e.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function K_(i,e){return Ah.apply(this,arguments)}(yield Ph(e),n)})),n.promise}(ls(i=$r(i,di)))}function nm(i){return function $g(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield Wl(i),n=yield sp(i);return e.setNetworkEnabled(!0),function(o){const u=$t(o);return u.fu.delete(0),bc(u)}(n)}))}(ls(i=$r(i,di)))}function rm(i){return function Hg(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield Wl(i),n=yield sp(i);return e.setNetworkEnabled(!1),(o=(0,c.Z)(function*(u){const h=$t(u);h.fu.add(0),yield Ic(h),h.wu.set("Offline")}),function(u){return o.apply(this,arguments)})(n);var o}))}(ls(i=$r(i,di)))}function Q_(i,e){const n=ls(i=$r(i,di)),o=new Iy;return function zg(i,e,n,o){const u=function(h,v){let M;return M="string"==typeof h?(new TextEncoder).encode(h):h,$=function($,K){if($ instanceof Uint8Array)return Ac($,K);if($ instanceof ArrayBuffer)return Ac(new Uint8Array($),K);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new Hl($,v);var $}(n,wc(e));i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){!function Pd(i,e,n){const o=$t(i);var u;(u=(0,c.Z)(function*(h,v,M){try{const $=yield v.getMetadata();if(yield function(_t,Gt){const Wt=$t(_t),On=zr(Gt.createTime);return Wt.persistence.runTransaction("hasNewerBundle","readonly",yr=>Wt._s.getBundleMetadata(yr,Gt.id)).then(yr=>!!yr&&yr.createTime.compareTo(On)>=0)}(h.localStore,$))return yield v.close(),M._completeWith({taskState:"Success",documentsLoaded:(_t=$).totalDocuments,bytesLoaded:_t.totalBytes,totalDocuments:_t.totalDocuments,totalBytes:_t.totalBytes}),Promise.resolve(new Set);M._updateProgress(Dh($));const K=new ry($,h.localStore,v.M);let Ee=yield v.da();for(;Ee;){const _t=yield K.ku(Ee);_t&&M._updateProgress(_t),Ee=yield v.da()}const je=yield K.complete();return yield Za(h,je.Fu,void 0),yield function(_t,Gt){const Wt=$t(_t);return Wt.persistence.runTransaction("Save bundle","readwrite",On=>Wt._s.saveBundleMetadata(On,Gt))}(h.localStore,$),M._completeWith(je.progress),Promise.resolve(je.Ou)}catch($){return Bs("SyncEngine",`Loading bundle failed with ${$}`),M._failWith($),Promise.resolve(new Set)}var _t}),function(h,v,M){return u.apply(this,arguments)})(o,e,n).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Ph(i),u,o)}))}(n,i._databaseId,e,o),o}function lp(i,e){return function yy(i,e){return i.asyncQueue.enqueue((0,c.Z)(function*(){return function(n,o){const u=$t(n);return u.persistence.runTransaction("Get named query","readonly",h=>u._s.getNamedQuery(h,o))}(yield Rh(i),e)}))}(ls(i=$r(i,di)),e).then(n=>n?new ho(i,null,n.query):null)}function sm(i){if(i._initialized||i._terminated)throw new jt(ht.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new jt(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Iu(Br.fromBase64String(e))}catch(n){throw new jt(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Iu(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Du{constructor(e){this._methodName=e}}class Sc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new jt(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new jt(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return V(this._lat,e._lat)||V(this._long,e._long)}}const Ay=/^__.*__$/;class cp{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new $a(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}class jh{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new $a(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dp(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw In()}}class hp{constructor(e,n,o,u,h,v){this.settings=e,this.databaseId=n,this.M=o,this.ignoreUndefinedProperties=u,void 0===h&&this.Ya(),this.fieldTransforms=h||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Za({path:o,ec:!1});return u.nc(e),u}sc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Za({path:o,ec:!1});return u.Ya(),u}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return xc(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(dp(this.Xa)&&Ay.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class Sy{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=o||wc(e)}ac(e,n,o,u=!1){return new hp({Xa:e,methodName:n,uc:o,path:Rr.emptyPath(),ec:!1,oc:u},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Tu(i){const e=i._freezeSettings(),n=wc(i._databaseId);return new Sy(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Mc(i,e,n,o,u,h={}){const v=i.ac(h.merge||h.mergeFields?2:0,e,n,u);_p("Data must be an object, but it was:",v,o);const M=Hh(o,v);let $,K;if(h.merge)$=new ki(v.fieldMask),K=v.fieldTransforms;else if(h.mergeFields){const Ee=[];for(const je of h.mergeFields){const _t=vp(e,je,n);if(!v.contains(_t))throw new jt(ht.INVALID_ARGUMENT,`Field '${_t}' is specified in your field mask but missing from your input data.`);Ep(Ee,_t)||Ee.push(_t)}$=new ki(Ee),K=v.fieldTransforms.filter(je=>$.covers(je.field))}else $=null,K=v.fieldTransforms;return new cp(new Hi(M),$,K)}class kd extends Du{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kd}}function fp(i,e,n){return new hp({Xa:3,uc:e.settings.uc,methodName:i._methodName,ec:n},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Fd extends Du{_toFieldTransform(e){return new lu(e.path,new _a)}isEqual(e){return e instanceof Fd}}class om extends Du{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=fp(this,e,!0),o=this.cc.map(h=>gl(h,n)),u=new va(o);return new lu(e.path,u)}isEqual(e){return this===e}}class am extends Du{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=fp(this,e,!0),o=this.cc.map(h=>gl(h,n)),u=new Ea(o);return new lu(e.path,u)}isEqual(e){return this===e}}class pp extends Du{constructor(e,n){super(e),this.hc=n}_toFieldTransform(e){const n=new uu(e.M,ja(e.M,this.hc));return new lu(e.path,n)}isEqual(e){return this===e}}function $h(i,e,n,o){const u=i.ac(1,e,n);_p("Data must be an object, but it was:",u,o);const h=[],v=Hi.empty();nr(o,($,K)=>{const Ee=Oc(e,$,n);K=(0,Ie.m9)(K);const je=u.sc(Ee);if(K instanceof kd)h.push(Ee);else{const _t=gl(K,je);null!=_t&&(h.push(Ee),v.set(Ee,_t))}});const M=new ki(h);return new jh(v,M,u.fieldTransforms)}function gp(i,e,n,o,u,h){const v=i.ac(1,e,n),M=[vp(e,o,n)],$=[u];if(h.length%2!=0)throw new jt(ht.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _t=0;_t<h.length;_t+=2)M.push(vp(e,h[_t])),$.push(h[_t+1]);const K=[],Ee=Hi.empty();for(let _t=M.length-1;_t>=0;--_t)if(!Ep(K,M[_t])){const Gt=M[_t];let Wt=$[_t];Wt=(0,Ie.m9)(Wt);const On=v.sc(Gt);if(Wt instanceof kd)K.push(Gt);else{const yr=gl(Wt,On);null!=yr&&(K.push(Gt),Ee.set(Gt,yr))}}const je=new ki(K);return new jh(Ee,je,v.fieldTransforms)}function mp(i,e,n,o=!1){return gl(n,i.ac(o?4:3,e))}function gl(i,e){if(yp(i=(0,Ie.m9)(i)))return _p("Unsupported field value:",e,i),Hh(i,e);if(i instanceof Du)return function(n,o){if(!dp(o.Xa))throw o.rc(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.rc(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(n,o){const u=[];let h=0;for(const v of n){let M=gl(v,o.ic(h));null==M&&(M={nullValue:"NULL_VALUE"}),u.push(M),h++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,Ie.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return ja(o.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=Ae.fromDate(n);return{timestampValue:ed(o.M,u)}}if(n instanceof Ae){const u=new Ae(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ed(o.M,u)}}if(n instanceof Sc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Iu)return{bytesValue:$p(o.M,n._byteString)};if(n instanceof es){const u=o.databaseId,h=n.firestore._databaseId;if(!h.isEqual(u))throw o.rc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hc(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.rc(`Unsupported field value: ${Lh(n)}`)}(i,e)}function Hh(i,e){const n={};return Nn(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nr(i,(o,u)=>{const h=gl(u,e.tc(o));null!=h&&(n[o]=h)}),{mapValue:{fields:n}}}function yp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ae||i instanceof Sc||i instanceof Iu||i instanceof es||i instanceof Du)}function _p(i,e,n){if(!yp(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Lh(n);throw e.rc("an object"===o?i+" a custom object":i+" "+o)}var o}function vp(i,e,n){if((e=(0,Ie.m9)(e))instanceof Yl)return e._internalPath;if("string"==typeof e)return Oc(i,e);throw xc("Field path arguments must be of type string or ",i,!1,void 0,n)}const My=new RegExp("[~\\*/\\[\\]]");function Oc(i,e,n){if(e.search(My)>=0)throw xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Yl(...e.split("."))._internalPath}catch(o){throw xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function xc(i,e,n,o,u){const h=o&&!o.isEmpty(),v=void 0!==u;let M=`Function ${e}() called with invalid data`;n&&(M+=" (via `toFirestore()`)"),M+=". ";let $="";return(h||v)&&($+=" (found",h&&($+=` in field ${o}`),v&&($+=` in document ${u}`),$+=")"),new jt(ht.INVALID_ARGUMENT,M+i+$)}function Ep(i,e){return i.some(n=>n.isEqual(e))}class Nc{constructor(e,n,o,u,h){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new es(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new um(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ld("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class um extends Nc{data(){return super.data()}}function Ld(i,e){return"string"==typeof e?Oc(i,e):e instanceof Yl?e._internalPath:e._delegate._internalPath}class ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yl extends Nc{constructor(e,n,o,u,h,v){super(e,n,o,u,v),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Ld("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Rc extends yl{data(e={}){return super.data(e)}}class _l{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new ml(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Rc(this._firestore,this._userDataWriter,o.key,o,new ml(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new jt(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new Rc(o._firestore,o._userDataWriter,v.doc.key,v.doc,new ml(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>u||3!==v.type).map(v=>{const M=new Rc(o._firestore,o._userDataWriter,v.doc.key,v.doc,new ml(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let $=-1,K=-1;return 0!==v.type&&($=h.indexOf(v.doc.key),h=h.delete(v.doc.key)),1!==v.type&&(h=h.add(v.doc),K=h.indexOf(v.doc.key)),{type:J_(v.type),doc:M,oldIndex:$,newIndex:K}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function J_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return In()}}function Oy(i,e){return i instanceof yl&&e instanceof yl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof _l&&e instanceof _l&&i._firestore===e._firestore&&Zl(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function lm(i){if(ya(i)&&0===i.explicitOrderBy.length)throw new jt(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pc{}function xy(i,...e){for(const n of e)i=n._apply(i);return i}class vs extends Pc{constructor(e,n,o){super(),this.lc=e,this.fc=n,this.dc=o,this.type="where"}_apply(e){const n=Tu(e.firestore),o=function(u,h,v,M,$,K,Ee){let je;if($.isKeyField()){if("array-contains"===K||"array-contains-any"===K)throw new jt(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${K}' queries on documentId().`);if("in"===K||"not-in"===K){Gh(Ee,K);const Gt=[];for(const Wt of Ee)Gt.push(Ly(M,u,Wt));je={arrayValue:{values:Gt}}}else je=Ly(M,u,Ee)}else"in"!==K&&"not-in"!==K&&"array-contains-any"!==K||Gh(Ee,K),je=mp(v,"where",Ee,"in"===K||"not-in"===K);const _t=pi.create($,K,je);return function(Gt,Wt){if(Wt.S()){const yr=oc(Gt);if(null!==yr&&!yr.isEqual(Wt.field))throw new jt(ht.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${yr.toString()}' and '${Wt.field.toString()}'`);const Fi=au(Gt);null!==Fi&&zh(0,Wt.field,Fi)}const On=function(yr,Fi){for(const cs of yr.filters)if(Fi.indexOf(cs.op)>=0)return cs.op;return null}(Gt,function(yr){switch(yr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Wt.op));if(null!==On)throw new jt(ht.INVALID_ARGUMENT,On===Wt.op?`Invalid query. You cannot use more than one '${Wt.op.toString()}' filter.`:`Invalid query. You cannot use '${Wt.op.toString()}' filters with '${On.toString()}' filters.`)}(u,_t),_t}(e._query,0,n,e.firestore._databaseId,this.lc,this.fc,this.dc);return new ho(e.firestore,e.converter,function(u,h){const v=u.filters.concat([h]);return new Ss(u.path,u.collectionGroup,u.explicitOrderBy.slice(),v,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}function cm(i,e,n){const o=e,u=Ld("where",i);return new vs(u,o,n)}class Ny extends Pc{constructor(e,n){super(),this.lc=e,this._c=n,this.type="orderBy"}_apply(e){const n=function(o,u,h){if(null!==o.startAt)throw new jt(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new jt(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new ga(u,h);return function(M,$){if(null===au(M)){const K=oc(M);null!==K&&zh(0,K,$.field)}}(o,v),v}(e._query,this.lc,this._c);return new ho(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Ss(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Ry(i,e="asc"){const n=e,o=Ld("orderBy",i);return new Ny(o,n)}class wp extends Pc{constructor(e,n,o){super(),this.type=e,this.wc=n,this.mc=o}_apply(e){return new ho(e.firestore,e.converter,jc(e._query,this.wc,this.mc))}}function Py(i){return Zg("limit",i),new wp("limit",i,"F")}function dm(i){return Zg("limitToLast",i),new wp("limitToLast",i,"L")}class bp extends Pc{constructor(e,n,o){super(),this.type=e,this.gc=n,this.yc=o}_apply(e){const n=Ip(e,this.type,this.gc,this.yc);return new ho(e.firestore,e.converter,(u=n,new Ss((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function kc(...i){return new bp("startAt",i,!0)}function ky(...i){return new bp("startAfter",i,!1)}class hm extends Pc{constructor(e,n,o){super(),this.type=e,this.gc=n,this.yc=o}_apply(e){const n=Ip(e,this.type,this.gc,this.yc);return new ho(e.firestore,e.converter,(u=n,new Ss((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function fm(...i){return new hm("endBefore",i,!1)}function Fy(...i){return new hm("endAt",i,!0)}function Ip(i,e,n,o){if(n[0]=(0,Ie.m9)(n[0]),n[0]instanceof Nc)return function(u,h,v,M,$){if(!M)throw new jt(ht.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const K=[];for(const Ee of yo(u))if(Ee.field.isKeyField())K.push(Ai(h,M.key));else{const je=M.data.field(Ee.field);if(Zo(je))throw new jt(ht.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===je){const _t=Ee.field.canonicalString();throw new jt(ht.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_t}' (used as the orderBy) does not exist.`)}K.push(je)}return new Po(K,$)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const u=Tu(i.firestore);return function(h,v,M,$,K,Ee){const je=h.explicitOrderBy;if(K.length>je.length)throw new jt(ht.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _t=[];for(let Gt=0;Gt<K.length;Gt++){const Wt=K[Gt];if(je[Gt].field.isKeyField()){if("string"!=typeof Wt)throw new jt(ht.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof Wt}`);if(!ac(h)&&-1!==Wt.indexOf("/"))throw new jt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${Wt}' contains a slash.`);const On=h.path.child(Sn.fromString(Wt));if(!on.isDocumentKey(On))throw new jt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${On}' is not because it contains an odd number of segments.`);const yr=new on(On);_t.push(Ai(v,yr))}else{const On=mp(M,$,Wt);_t.push(On)}}return new Po(_t,Ee)}(i._query,i.firestore._databaseId,u,e,n,o)}}function Ly(i,e,n){if("string"==typeof(n=(0,Ie.m9)(n))){if(""===n)throw new jt(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ac(e)&&-1!==n.indexOf("/"))throw new jt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Sn.fromString(n));if(!on.isDocumentKey(o))throw new jt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ai(i,new on(o))}if(n instanceof es)return Ai(i,n._key);throw new jt(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function Gh(i,e){if(!Array.isArray(i)||0===i.length)throw new jt(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new jt(ht.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function zh(i,e,n){if(!n.isEqual(e))throw new jt(ht.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class oa{convertValue(e,n="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw In()}}convertObject(e,n){const o={};return nr(e.fields,(u,h)=>{o[u]=this.convertValue(h,n)}),o}convertGeoPoint(e){return new Sc(Zr(e.latitude),Zr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Jl(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Ra(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new Ae(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Sn.fromString(e);Ln(_n(o));const u=new No(o.get(1),o.get(3)),h=new on(o.popFirst(5));return u.isEqual(n)||qr(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}function Wh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class pm extends oa{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new es(this.firestore,null,n)}}class Ta{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Tu(e)}set(e,n,o){this._verifyNotCommitted();const u=xs(e,this._firestore),h=Wh(u.converter,n,o),v=Mc(this._dataReader,"WriteBatch.set",u._key,h,null!==u.converter,o);return this._mutations.push(v.toMutation(u._key,Yr.none())),this}update(e,n,o,...u){this._verifyNotCommitted();const h=xs(e,this._firestore);let v;return v="string"==typeof(n=(0,Ie.m9)(n))||n instanceof Yl?gp(this._dataReader,"WriteBatch.update",h._key,n,o,u):$h(this._dataReader,"WriteBatch.update",h._key,n),this._mutations.push(v.toMutation(h._key,Yr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=xs(e,this._firestore);return this._mutations=this._mutations.concat(new f(n._key,Yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new jt(ht.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xs(i,e){if((i=(0,Ie.m9)(i)).firestore!==e)throw new jt(ht.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Ca(i){i=$r(i,es);const e=$r(i.firestore,di);return op(ls(e),i._key).then(n=>Fc(e,i,n))}class vl extends oa{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new es(this.firestore,null,n)}}function gm(i){i=$r(i,es);const e=$r(i.firestore,di),n=ls(e),o=new vl(e);return function Gg(i,e){const n=new ai;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(u,h,v){try{const M=yield function($,K){const Ee=$t($);return Ee.persistence.runTransaction("read document","readonly",je=>Ee.ci.Ls(je,K))}(u,h);M.isFoundDocument()?v.resolve(M):M.isNoDocument()?v.resolve(null):v.reject(new jt(ht.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const $=jl(M,`Failed to get document '${h} from cache`);v.reject($)}}),function(u,h,v){return o.apply(this,arguments)})(yield Rh(i),e,n);var o})),n.promise}(n,i._key).then(u=>new yl(e,o,i._key,u,new ml(null!==u&&u.hasLocalMutations,!0),i.converter))}function Vy(i){i=$r(i,es);const e=$r(i.firestore,di);return op(ls(e),i._key,{source:"server"}).then(n=>Fc(e,i,n))}function Uy(i){i=$r(i,ho);const e=$r(i.firestore,di),n=ls(e),o=new vl(e);return lm(i._query),ap(n,i._query).then(u=>new _l(e,o,i,u))}function By(i){i=$r(i,ho);const e=$r(i.firestore,di),n=ls(e),o=new vl(e);return function py(i,e){const n=new ai;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(u,h,v){try{const M=yield Tf(u,h,!0),$=new jf(h,M.li),K=$.Gu(M.documents),Ee=$.applyChanges(K,!1);v.resolve(Ee.snapshot)}catch(M){const $=jl(M,`Failed to execute query '${h} against cache`);v.reject($)}}),function(u,h,v){return o.apply(this,arguments)})(yield Rh(i),e,n);var o})),n.promise}(n,i._query).then(u=>new _l(e,o,i,u))}function jy(i){i=$r(i,ho);const e=$r(i.firestore,di),n=ls(e),o=new vl(e);return ap(n,i._query,{source:"server"}).then(u=>new _l(e,o,i,u))}function Dp(i,e,n){i=$r(i,es);const o=$r(i.firestore,di),u=Wh(i.converter,e,n);return Ql(o,[Mc(Tu(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Yr.none())])}function Vd(i,e,n,...o){i=$r(i,es);const u=$r(i.firestore,di),h=Tu(u);let v;return v="string"==typeof(e=(0,Ie.m9)(e))||e instanceof Yl?gp(h,"updateDoc",i._key,e,n,o):$h(h,"updateDoc",i._key,e),Ql(u,[v.toMutation(i._key,Yr.exists(!0))])}function $y(i){return Ql($r(i.firestore,di),[new f(i._key,Yr.none())])}function mm(i,e){const n=$r(i.firestore,di),o=Ey(i),u=Wh(i.converter,e);return Ql(n,[Mc(Tu(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Yr.exists(!1))]).then(()=>o)}function Hy(i,...e){var n,o,u;i=(0,Ie.m9)(i);let h={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||Uh(e[v])||(h=e[v],v++);const M={includeMetadataChanges:h.includeMetadataChanges};if(Uh(e[v])){const je=e[v];e[v]=null===(n=je.next)||void 0===n?void 0:n.bind(je),e[v+1]=null===(o=je.error)||void 0===o?void 0:o.bind(je),e[v+2]=null===(u=je.complete)||void 0===u?void 0:u.bind(je)}let $,K,Ee;if(i instanceof es)K=$r(i.firestore,di),Ee=ma(i._key.path),$={next:je=>{e[v]&&e[v](Fc(K,i,je))},error:e[v+1],complete:e[v+2]};else{const je=$r(i,ho);K=$r(je.firestore,di),Ee=je._query;const _t=new vl(K);$={next:Gt=>{e[v]&&e[v](new _l(K,_t,je,Gt))},error:e[v+1],complete:e[v+2]},lm(i._query)}return function(je,_t,Gt,Wt){const On=new _s(Wt),yr=new Ih(_t,On,Gt);return je.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return Mg(yield Kl(je),yr)})),()=>{On.Ia(),je.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return bh(yield Kl(je),yr)}))}}(ls(K),Ee,M,$)}function ym(i,e){return function gy(i,e){const n=new _s(e);return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield Kl(i),u=n,$t(o).Eu.add(u),void u.next();var o,u})),()=>{n.Ia(),i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield Kl(i),u=n,void $t(o).Eu.delete(u);var o,u}))}}(ls(i=$r(i,di)),Uh(e)?e:{next:e})}function Ql(i,e){return function(n,o){const u=new ai;return n.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function ra(i,e,n){return xd.apply(this,arguments)}(yield Ph(n),o,u)})),u.promise}(ls(i),e)}function Fc(i,e,n){const o=n.docs.get(e._key),u=new vl(i);return new yl(i,u,e._key,o,new ml(n.hasPendingWrites,n.fromCache),e.converter)}class Gy extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Tu(e)}get(e){const n=xs(e,this._firestore),o=new pm(this._firestore);return this._transaction.lookup([n._key]).then(u=>{if(!u||1!==u.length)return In();const h=u[0];if(h.isFoundDocument())return new Nc(this._firestore,o,h.key,h,n.converter);if(h.isNoDocument())return new Nc(this._firestore,o,n._key,null,n.converter);throw In()})}set(e,n,o){const u=xs(e,this._firestore),h=Wh(u.converter,n,o),v=Mc(this._dataReader,"Transaction.set",u._key,h,null!==u.converter,o);return this._transaction.set(u._key,v),this}update(e,n,o,...u){const h=xs(e,this._firestore);let v;return v="string"==typeof(n=(0,Ie.m9)(n))||n instanceof Yl?gp(this._dataReader,"Transaction.update",h._key,n,o,u):$h(this._dataReader,"Transaction.update",h._key,n),this._transaction.update(h._key,v),this}delete(e){const n=xs(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=xs(e,this._firestore),o=new vl(this._firestore);return super.get(e).then(u=>new yl(this._firestore,o,n._key,u._document,new ml(!1,!1),n.converter))}}function _m(i,e){return function my(i,e){const n=new ai;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){const o=yield(u=i,wu(u).then(h=>h.datastore));var u;new sa(i.asyncQueue,o,e,n).run()})),n.promise}(ls(i=$r(i,di)),n=>e(new Gy(i,n)))}function vm(){return new kd("deleteField")}function Tp(){return new Fd("serverTimestamp")}function Kh(...i){return new om("arrayUnion",i)}function Em(...i){return new am("arrayRemove",i)}function wm(i){return new pp("increment",i)}!function(i,e=!0){Ko=w.SDK_VERSION,(0,w._registerComponent)(new G.wA("firestore",(n,{options:o})=>{const u=n.getProvider("app").getImmediate(),h=new di(u,new fa(n.getProvider("auth-internal")),new qo(n.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC")),(0,w.registerVersion)(Vs,"3.4.8",i),(0,w.registerVersion)(Vs,"3.4.8","esm2017")}()},2090:(Qt,nt,k)=>{k.d(nt,{$s:()=>yn,BH:()=>it,G6:()=>St,L:()=>Me,LL:()=>mt,Lj:()=>Ye,Mn:()=>It,Sg:()=>Dt,UG:()=>Je,US:()=>De,X3:()=>pe,ZB:()=>Le,ZR:()=>fe,b$:()=>We,d:()=>Re,eu:()=>me,hl:()=>ue,jU:()=>lt,m9:()=>fn,ne:()=>or,pd:()=>an,r3:()=>Ke,ru:()=>wt,tV:()=>ne,uI:()=>Pe,vZ:()=>En,w1:()=>at,xO:()=>sr,xb:()=>en,z$:()=>Ot,zI:()=>_e,zd:()=>Un});var c=k(5861);const Ie=function(le){const re=[];let ce=0;for(let Be=0;Be<le.length;Be++){let X=le.charCodeAt(Be);X<128?re[ce++]=X:X<2048?(re[ce++]=X>>6|192,re[ce++]=63&X|128):55296==(64512&X)&&Be+1<le.length&&56320==(64512&le.charCodeAt(Be+1))?(X=65536+((1023&X)<<10)+(1023&le.charCodeAt(++Be)),re[ce++]=X>>18|240,re[ce++]=X>>12&63|128,re[ce++]=X>>6&63|128,re[ce++]=63&X|128):(re[ce++]=X>>12|224,re[ce++]=X>>6&63|128,re[ce++]=63&X|128)}return re},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(le,re){if(!Array.isArray(le))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ce=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,Be=[];for(let X=0;X<le.length;X+=3){const ie=le[X],U=X+1<le.length,J=U?le[X+1]:0,Q=X+2<le.length,be=Q?le[X+2]:0;let Yt=(15&J)<<2|be>>6,Cn=63&be;Q||(Cn=64,U||(Yt=64)),Be.push(ce[ie>>2],ce[(3&ie)<<4|J>>4],ce[Yt],ce[Cn])}return Be.join("")},encodeString(le,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(le):this.encodeByteArray(Ie(le),re)},decodeString(le,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(le):function(le){const re=[];let ce=0,Be=0;for(;ce<le.length;){const X=le[ce++];if(X<128)re[Be++]=String.fromCharCode(X);else if(X>191&&X<224){const ie=le[ce++];re[Be++]=String.fromCharCode((31&X)<<6|63&ie)}else if(X>239&&X<365){const Q=((7&X)<<18|(63&le[ce++])<<12|(63&le[ce++])<<6|63&le[ce++])-65536;re[Be++]=String.fromCharCode(55296+(Q>>10)),re[Be++]=String.fromCharCode(56320+(1023&Q))}else{const ie=le[ce++],U=le[ce++];re[Be++]=String.fromCharCode((15&X)<<12|(63&ie)<<6|63&U)}}return re.join("")}(this.decodeStringToByteArray(le,re))},decodeStringToByteArray(le,re){this.init_();const ce=re?this.charToByteMapWebSafe_:this.charToByteMap_,Be=[];for(let X=0;X<le.length;){const ie=ce[le.charAt(X++)],J=X<le.length?ce[le.charAt(X)]:0;++X;const be=X<le.length?ce[le.charAt(X)]:64;++X;const Tt=X<le.length?ce[le.charAt(X)]:64;if(++X,null==ie||null==J||null==be||null==Tt)throw Error();Be.push(ie<<2|J>>4),64!==be&&(Be.push(J<<4&240|be>>2),64!==Tt&&Be.push(be<<6&192|Tt))}return Be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let le=0;le<this.ENCODED_VALS.length;le++)this.byteToCharMap_[le]=this.ENCODED_VALS.charAt(le),this.charToByteMap_[this.byteToCharMap_[le]]=le,this.byteToCharMapWebSafe_[le]=this.ENCODED_VALS_WEBSAFE.charAt(le),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[le]]=le,le>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(le)]=le,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(le)]=le)}}},Me=function(le){return function(le){const re=Ie(le);return De.encodeByteArray(re,!0)}(le).replace(/\./g,"")},ne=function(le){try{return De.decodeString(le,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function Le(le,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===le&&(le={});break;case Array:le=[];break;default:return re}for(const ce in re)!re.hasOwnProperty(ce)||!ot(ce)||(le[ce]=Le(le[ce],re[ce]));return le}function ot(le){return"__proto__"!==le}class it{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,ce)=>{this.resolve=re,this.reject=ce})}wrapCallback(re){return(ce,Be)=>{ce?this.reject(ce):this.resolve(Be),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(ce):re(ce,Be))}}}function Dt(le,re){if(le.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Be=re||"demo-project",X=le.iat||0,ie=le.sub||le.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const U=Object.assign({iss:`https://securetoken.google.com/${Be}`,aud:Be,iat:X,exp:X+3600,auth_time:X,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},le);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(U)),""].join(".")}function Ot(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function Je(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(le){return!1}}function lt(){return"object"==typeof self&&self.self===self}function wt(){const le="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof le&&void 0!==le.id}function We(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){return Ot().indexOf("Electron/")>=0}function at(){const le=Ot();return le.indexOf("MSIE ")>=0||le.indexOf("Trident/")>=0}function It(){return Ot().indexOf("MSAppHost/")>=0}function St(){return!Je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){return"object"==typeof indexedDB}function me(){return new Promise((le,re)=>{try{let ce=!0;const Be="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(Be);X.onsuccess=()=>{X.result.close(),ce||self.indexedDB.deleteDatabase(Be),le(!0)},X.onupgradeneeded=()=>{ce=!1},X.onerror=()=>{var ie;re((null===(ie=X.error)||void 0===ie?void 0:ie.message)||"")}}catch(ce){re(ce)}})}function _e(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class fe extends Error{constructor(re,ce,Be){super(ce),this.code=re,this.customData=Be,this.name="FirebaseError",Object.setPrototypeOf(this,fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mt.prototype.create)}}class mt{constructor(re,ce,Be){this.service=re,this.serviceName=ce,this.errors=Be}create(re,...ce){const Be=ce[0]||{},X=`${this.service}/${re}`,ie=this.errors[re],U=ie?function Vt(le,re){return le.replace(cn,(ce,Be)=>{const X=re[Be];return null!=X?String(X):`<${Be}?>`})}(ie,Be):"Error";return new fe(X,`${this.serviceName}: ${U} (${X}).`,Be)}}const cn=/\{\$([^}]+)}/g;function Ke(le,re){return Object.prototype.hasOwnProperty.call(le,re)}function en(le){for(const re in le)if(Object.prototype.hasOwnProperty.call(le,re))return!1;return!0}function En(le,re){if(le===re)return!0;const ce=Object.keys(le),Be=Object.keys(re);for(const X of ce){if(!Be.includes(X))return!1;const ie=le[X],U=re[X];if(ir(ie)&&ir(U)){if(!En(ie,U))return!1}else if(ie!==U)return!1}for(const X of Be)if(!ce.includes(X))return!1;return!0}function ir(le){return null!==le&&"object"==typeof le}function sr(le){const re=[];for(const[ce,Be]of Object.entries(le))Array.isArray(Be)?Be.forEach(X=>{re.push(encodeURIComponent(ce)+"="+encodeURIComponent(X))}):re.push(encodeURIComponent(ce)+"="+encodeURIComponent(Be));return re.length?"&"+re.join("&"):""}function Un(le){const re={};return le.replace(/^\?/,"").split("&").forEach(Be=>{if(Be){const[X,ie]=Be.split("=");re[decodeURIComponent(X)]=decodeURIComponent(ie)}}),re}function an(le){const re=le.indexOf("?");if(!re)return"";const ce=le.indexOf("#",re);return le.substring(re,ce>0?ce:void 0)}function or(le,re){const ce=new nn(le,re);return ce.subscribe.bind(ce)}class nn{constructor(re,ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ce,this.task.then(()=>{re(this)}).catch(Be=>{this.error(Be)})}next(re){this.forEachObserver(ce=>{ce.next(re)})}error(re){this.forEachObserver(ce=>{ce.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,ce,Be){let X;if(void 0===re&&void 0===ce&&void 0===Be)throw new Error("Missing Observer.");X=function xn(le,re){if("object"!=typeof le||null===le)return!1;for(const ce of re)if(ce in le&&"function"==typeof le[ce])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:ce,complete:Be},void 0===X.next&&(X.next=Kn),void 0===X.error&&(X.error=Kn),void 0===X.complete&&(X.complete=Kn);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(U){}}),this.observers.push(X),ie}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let ce=0;ce<this.observers.length;ce++)this.sendOne(ce,re)}sendOne(re,ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{ce(this.observers[re])}catch(Be){"undefined"!=typeof console&&console.error&&console.error(Be)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kn(){}function yn(le,re=1e3,ce=2){const Be=re*Math.pow(ce,le),X=Math.round(.5*Be*(Math.random()-.5)*2);return Math.min(144e5,Be+X)}function fn(le){return le&&le._delegate?le._delegate:le}function Tn(le,re){return new Promise((ce,Be)=>{le.onsuccess=X=>{ce(X.target.result)},le.onerror=X=>{var ie;Be(`${re}: ${null===(ie=X.target.error)||void 0===ie?void 0:ie.message}`)}})}class rt{constructor(re){this._db=re,this.objectStoreNames=this._db.objectStoreNames}transaction(re,ce="readonly"){return new j(this._db.transaction.call(this._db,re,ce))}createObjectStore(re,ce){return new Z(this._db.createObjectStore(re,ce))}close(){this._db.close()}}class j{constructor(re){this._transaction=re,this.complete=new Promise((ce,Be)=>{this._transaction.oncomplete=function(){ce()},this._transaction.onerror=()=>{Be(this._transaction.error)},this._transaction.onabort=()=>{Be(this._transaction.error)}})}objectStore(re){return new Z(this._transaction.objectStore(re))}}class Z{constructor(re){this._store=re}index(re){return new $e(this._store.index(re))}createIndex(re,ce,Be){return new $e(this._store.createIndex(re,ce,Be))}get(re){return Tn(this._store.get(re),"Error reading from IndexedDB")}put(re,ce){return Tn(this._store.put(re,ce),"Error writing to IndexedDB")}delete(re){return Tn(this._store.delete(re),"Error deleting from IndexedDB")}clear(){return Tn(this._store.clear(),"Error clearing IndexedDB object store")}}class $e{constructor(re){this._index=re}get(re){return Tn(this._index.get(re),"Error reading from IndexedDB")}}function pe(le,re,ce){return new Promise((Be,X)=>{try{const ie=indexedDB.open(le,re);ie.onsuccess=U=>{Be(new rt(U.target.result))},ie.onerror=U=>{var J;X(`Error opening indexedDB: ${null===(J=U.target.error)||void 0===J?void 0:J.message}`)},ie.onupgradeneeded=U=>{ce(new rt(ie.result),U.oldVersion,U.newVersion,new j(ie.transaction))}}catch(ie){X(`Error opening indexedDB: ${ie.message}`)}})}function Ye(le){return ct.apply(this,arguments)}function ct(){return(ct=(0,c.Z)(function*(le){return new Promise((re,ce)=>{try{const Be=indexedDB.deleteDatabase(le);Be.onsuccess=()=>{re()},Be.onerror=X=>{var ie;ce(`Error deleting indexedDB database "${le}": ${null===(ie=X.target.error)||void 0===ie?void 0:ie.message}`)}}catch(Be){ce(`Error deleting indexedDB database "${le}": ${Be.message}`)}})})).apply(this,arguments)}},6893:(Qt,nt,k)=>{k.d(nt,{e:()=>Ie});var c=k(5861),w=k(5e3),G=k(3385),ve=k(3290);let Ie=(()=>{class Te{constructor(oe,Me){this.auth=oe,this.afs=Me,this.codigoError="",this.estaLogueado=!1}login(oe){var Me=this;return(0,c.Z)(function*(){try{return yield Me.auth.signInWithEmailAndPassword(oe.email,oe.password)}catch(ne){console.log("Error en login de AuthService",ne)}})()}register(oe){var Me=this;return(0,c.Z)(function*(){try{return yield Me.auth.createUserWithEmailAndPassword(oe.email,oe.password)}catch(ne){console.log("Error en register de AuthService",ne)}})()}logOut(){return this.auth.signOut()}isLoggedIn(){return this.auth.authState}}return Te.\u0275fac=function(oe){return new(oe||Te)(w.LFG(G.zQ),w.LFG(ve.ST))},Te.\u0275prov=w.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},1125:(Qt,nt,k)=>{k.d(nt,{w:()=>Ie});var c=k(5861),w=k(4004),G=k(5e3),ve=k(3290);let Ie=(()=>{class Te{constructor(oe){this.firestore=oe,this.player=[],this.itemsCollection=this.firestore.collection("chats")}getAllByOrder(oe,Me,ne){return this.itemsCollection=this.firestore.collection(oe,de=>de.orderBy(Me,ne)),this.itemsCollection.valueChanges().pipe((0,w.U)(de=>{this.player=de}))}alta(oe,Me){var ne=this;return(0,c.Z)(function*(){try{return yield ne.firestore.collection(Me).add(oe)}catch(de){console.log("Error en alta jugadorService: ",de)}})()}update(oe,Me,ne){var de=this;return(0,c.Z)(function*(){try{return yield de.firestore.collection(Me).doc(oe).set(ne)}catch(Le){console.log("Error en update jugadorService: ",Le)}})()}baja(oe,Me){var ne=this;return(0,c.Z)(function*(){try{return yield ne.firestore.collection(Me).doc(oe).delete()}catch(de){console.log("Error en baja jugadorService: ",de)}})()}getAll(oe){var Me=this;return(0,c.Z)(function*(){try{return yield Me.firestore.collection(oe).snapshotChanges()}catch(ne){console.log("Error en getAll jugadorService: ",ne)}})()}getById(oe,Me){return this.firestore.collection(Me).doc(oe).snapshotChanges()}}return Te.\u0275fac=function(oe){return new(oe||Te)(G.LFG(ve.ST))},Te.\u0275prov=G.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},6568:(Qt,nt,k)=>{var c=k(2313),w=k(5e3),G=k(2382),ve=k(6893),Ie=k(1125),Te=k(2290),De=k(5335),oe=k(9808);function Me(N,p){1&N&&(w.TgZ(0,"small",30),w._uU(1,"El nombre es requerido"),w.qZA())}function ne(N,p){1&N&&(w.TgZ(0,"small",31),w._uU(1,"El apellido es requerido"),w.qZA())}function de(N,p){1&N&&(w.TgZ(0,"small",30),w._uU(1,"La edad minima es de 18 y la m\xe1xima de 99"),w.qZA())}function Le(N,p){1&N&&(w.TgZ(0,"small",30),w._uU(1,"La edad es requerida"),w.qZA())}function ot(N,p){1&N&&(w.TgZ(0,"small",32),w._uU(1,"El tel\xe9fono debe tener una extensi\xf3n de 10 n\xfameros"),w.qZA())}function it(N,p){1&N&&(w.TgZ(0,"small",32),w._uU(1,"El tel\xe9fono es requerido"),w.qZA())}function Dt(N,p){1&N&&(w.TgZ(0,"small",30),w._uU(1,"El g\xe9nero es requerido"),w.qZA())}function Ot(N,p){1&N&&(w.TgZ(0,"small",30),w._uU(1,"El g\xe9nero es requerido"),w.qZA())}function Pe(N,p){1&N&&(w.TgZ(0,"small",30),w._uU(1,"El comentario no puede tener menos de 100 y m\xe1s de 300 caracteres"),w.qZA())}function Je(N,p){1&N&&(w.TgZ(0,"small",30),w._uU(1,"Es necesario dejar una opini\xf3n para avanzar"),w.qZA())}let lt=(()=>{class N{constructor(g,C,H,te,ge){this.fb=g,this.authSrv=C,this.baseService=H,this.toastr=te,this.router=ge,this.id="",this.email="",this.jugadorEncuesta={},this.formulario=g.group({nombre:["",G.kI.required],apellido:["",G.kI.required],edad:["",[G.kI.required,G.kI.min(18),G.kI.max(99)]],telefono:["",[G.kI.required,this.validarDiezNumerosTel]],genero:["",G.kI.required],gusto:["",G.kI.required],opinion:["",[G.kI.required,this.validarLength]]})}ngOnInit(){this.obtenerDatosUserLog()}aceptar(){this.altaEncuesta(this.formulario.value)}validarLength(g){const H=g.value.length;return(H<=100||H>=300)&&{extension:!0}}validarDiezNumerosTel(g){return 10!=g.value.length&&{noDiezNumeros:!0}}obtenerDatosUserLog(){this.authSrv.isLoggedIn().subscribe(g=>{this.id=null==g?void 0:g.uid,this.email=null==g?void 0:g.email})}altaEncuesta(g){this.jugadorEncuesta={id:this.id,email:this.email,nombre:g.nombre,apellido:g.apellido,edad:g.edad,telefono:g.telefono,genero:g.genero,gusto:g.gusto,opinion:g.opinion},this.baseService.alta(this.jugadorEncuesta,"Encusta").then(()=>{this.toastr.success("La encuesta fue enviada con \xe9xito","Gracias por responder",{positionClass:"toast-bottom-right",timeOut:1e4}),g.value=""}).catch(C=>{this.toastr.error("Se produjo un error al enviar la encuesta","Error al envair",{positionClass:"toast-bottom-right",timeOut:1e4}),console.log(C)})}}return N.\u0275fac=function(g){return new(g||N)(w.Y36(G.qu),w.Y36(ve.e),w.Y36(Ie.w),w.Y36(Te._W),w.Y36(De.F0))},N.\u0275cmp=w.Xpm({type:N,selectors:[["app-encuesta"]],decls:69,vars:12,consts:[[1,"container","container-encuesta","mt-3"],[1,"card",2,"width","60"],[1,"card-header","text-center","text-uppercase","text-white","bg-dark"],[1,"container","text-left","formularioDiv"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputNombre"],["type","text","formControlName","nombre","id","exampleInputNombre",1,"form-control"],["id","nombreHelp","class","form-text text-muted",4,"ngIf"],["for","exampleInputApellido"],["type","text","formControlName","apellido","id","exampleInputApellido",1,"form-control"],["id","apellidoHelp","class","form-text text-muted",4,"ngIf"],["for","exampleInputEdad"],["type","number","formControlName","edad","id","exampleInputEdad",1,"form-control"],["for","exampleInputTelefono"],["type","text","formControlName","telefono","id","exampleInputTelefono","placeholder","Ingrese n\xfamero (Cod. \xc1rea + Tel\xe9fono sin 15)",1,"form-control"],["id","telHelp","class","form-text text-muted",4,"ngIf"],[1,"row"],[1,"form-group","col-6"],["for","exampleGenero"],["id","exampleGenero","formControlName","genero",1,"form-control"],[1,"form-check","form-check-inline"],["type","radio","name","gusto","id","inlineRadio1","value","Si","formControlName","gusto",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","gusto","id","inlineRadio2","value","No","formControlName","gusto",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["for","exampleOpinion"],["id","exampleOpinion","rows","3","formControlName","opinion",1,"form-control"],[1,"container"],["type","submit",1,"btn","btn-outline-primary","btn-lg","btn-block","mb-2","mt-2",3,"disabled"],["id","nombreHelp",1,"form-text","text-muted"],["id","apellidoHelp",1,"form-text","text-muted"],["id","telHelp",1,"form-text","text-muted"]],template:function(g,C){if(1&g&&(w.TgZ(0,"div",0),w.TgZ(1,"div",1),w.TgZ(2,"div",2),w._uU(3," Encuesta "),w.qZA(),w.TgZ(4,"div",3),w.TgZ(5,"form",4),w.NdJ("ngSubmit",function(){return C.aceptar()}),w.TgZ(6,"div",5),w.TgZ(7,"label",6),w._uU(8,"Nombre"),w.qZA(),w._UZ(9,"input",7),w.YNc(10,Me,2,0,"small",8),w.qZA(),w.TgZ(11,"div",5),w.TgZ(12,"label",9),w._uU(13,"Apellido"),w.qZA(),w._UZ(14,"input",10),w.YNc(15,ne,2,0,"small",11),w.qZA(),w.TgZ(16,"div",5),w.TgZ(17,"label",12),w._uU(18,"Edad"),w.qZA(),w._UZ(19,"input",13),w.YNc(20,de,2,0,"small",8),w.YNc(21,Le,2,0,"small",8),w.qZA(),w.TgZ(22,"div",5),w.TgZ(23,"label",14),w._uU(24,"Tel\xe9fono"),w.qZA(),w._UZ(25,"input",15),w.YNc(26,ot,2,0,"small",16),w._UZ(27,"br"),w.YNc(28,it,2,0,"small",16),w.qZA(),w.TgZ(29,"div",17),w.TgZ(30,"div",18),w.TgZ(31,"label",19),w._uU(32,"G\xe9nero"),w.qZA(),w.TgZ(33,"select",20),w.TgZ(34,"option"),w._uU(35,"Masculino"),w.qZA(),w.TgZ(36,"option"),w._uU(37,"Femenino"),w.qZA(),w.TgZ(38,"option"),w._uU(39,"No binario"),w.qZA(),w.TgZ(40,"option"),w._uU(41,"Trans"),w.qZA(),w.TgZ(42,"option"),w._uU(43,"Otro"),w.qZA(),w.qZA(),w.YNc(44,Dt,2,0,"small",8),w.qZA(),w.TgZ(45,"div",18),w.TgZ(46,"label",19),w._uU(47,"\xbfTe gust\xf3 la sala de juegos?"),w.qZA(),w._UZ(48,"br"),w.TgZ(49,"div",21),w._UZ(50,"input",22),w.TgZ(51,"label",23),w._uU(52,"Si"),w.qZA(),w.qZA(),w.TgZ(53,"div",21),w._UZ(54,"input",24),w.TgZ(55,"label",25),w._uU(56,"No"),w.qZA(),w.qZA(),w.YNc(57,Ot,2,0,"small",8),w.qZA(),w.qZA(),w.TgZ(58,"div",5),w.TgZ(59,"label",26),w._uU(60,"Danos tu opini\xf3n"),w.qZA(),w._UZ(61,"textarea",27),w.YNc(62,Pe,2,0,"small",8),w._UZ(63,"br"),w.YNc(64,Je,2,0,"small",8),w.qZA(),w.TgZ(65,"div",28),w.TgZ(66,"div",17),w.TgZ(67,"button",29),w._uU(68,"ENVIAR"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&g){let H,te,ge,we,Qe,yt,Zt,mn,dn,_n;w.xp6(5),w.Q6J("formGroup",C.formulario),w.xp6(5),w.Q6J("ngIf",(null==(H=C.formulario.get("nombre"))?null:H.hasError("required"))&&(null==(H=C.formulario.get("nombre"))?null:H.touched)),w.xp6(5),w.Q6J("ngIf",(null==(te=C.formulario.get("apellido"))?null:te.hasError("required"))&&(null==(te=C.formulario.get("apellido"))?null:te.touched)),w.xp6(5),w.Q6J("ngIf",(null==(ge=C.formulario.get("edad"))?null:ge.hasError("min"))||(null==(ge=C.formulario.get("edad"))?null:ge.hasError("max"))),w.xp6(1),w.Q6J("ngIf",(null==(we=C.formulario.get("edad"))?null:we.hasError("required"))&&(null==(we=C.formulario.get("edad"))?null:we.touched)),w.xp6(5),w.Q6J("ngIf",(null==(Qe=C.formulario.get("telefono"))?null:Qe.hasError("noDiezNumeros"))&&(null==(Qe=C.formulario.get("telefono"))?null:Qe.touched)),w.xp6(2),w.Q6J("ngIf",(null==(yt=C.formulario.get("telefono"))?null:yt.hasError("required"))&&(null==(yt=C.formulario.get("telefono"))?null:yt.touched)),w.xp6(16),w.Q6J("ngIf",(null==(Zt=C.formulario.get("genero"))?null:Zt.hasError("required"))&&(null==(Zt=C.formulario.get("genero"))?null:Zt.touched)),w.xp6(13),w.Q6J("ngIf",null==(mn=C.formulario.get("gusto"))?null:mn.hasError("required")),w.xp6(5),w.Q6J("ngIf",(null==(dn=C.formulario.get("opinion"))?null:dn.hasError("extension"))&&(null==(dn=C.formulario.get("opinion"))?null:dn.touched)),w.xp6(2),w.Q6J("ngIf",(null==(_n=C.formulario.get("opinion"))?null:_n.hasError("required"))&&(null==(_n=C.formulario.get("opinion"))?null:_n.touched)),w.xp6(3),w.Q6J("disabled",C.formulario.invalid)}},directives:[G._Y,G.JL,G.sg,G.Fj,G.JJ,G.u,oe.O5,G.wV,G.EJ,G.YN,G.Kr,G._],styles:["small[_ngcontent-%COMP%]{color:red!important}.container[_ngcontent-%COMP%]   .text-left[_ngcontent-%COMP%]{margin-top:5px}"]}),N})();const We=function(){return["/juegos/golpear-carpincho"]},at=[{path:"",component:(()=>{class N{constructor(g,C){this.authService=g,this.route=C,this.logueado=this.authService.isLoggedIn()}ngOnInit(){}redirigeAlJuego(g){this.route.navigate([`/juegos/${g}`])}}return N.\u0275fac=function(g){return new(g||N)(w.Y36(ve.e),w.Y36(De.F0))},N.\u0275cmp=w.Xpm({type:N,selectors:[["app-home"]],decls:2,vars:0,template:function(g,C){1&g&&(w.TgZ(0,"p"),w._uU(1,"home works!"),w.qZA())},styles:["header[_ngcontent-%COMP%]{position:relative;background-color:#000;background-position:center;background-repeat:no-repeat;background-size:cover;height:100vh;min-height:25rem;width:100%;overflow:hidden;z-index:1}header[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;min-width:100%;min-height:100%;width:auto;height:auto;z-index:0;transform:translate(-50%) translateY(-50%)}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}header[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;background-color:#000;opacity:.5;z-index:1}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{height:95vh}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]{cursor:pointer;position:relative;display:block;max-width:30rem;border-radius:.5rem;overflow:hidden}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   .portfolio-item-caption[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transition:all .2s ease-in-out;opacity:0;background-color:#1abc9ce6}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   .portfolio-item-caption[_ngcontent-%COMP%]:hover{opacity:1}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   .portfolio-item-caption[_ngcontent-%COMP%]   .portfolio-item-caption-content[_ngcontent-%COMP%]{font-size:1.5rem}"]}),N})()},{path:"ingreso",loadChildren:()=>k.e(972).then(k.bind(k,6972)).then(N=>N.IngresoModule)},{path:"juegos",loadChildren:()=>k.e(233).then(k.bind(k,5233)).then(N=>N.JuegosModule)},{path:"encuesta",component:lt},{path:"quien-soy",component:(()=>{class N{constructor(){}ngOnInit(){}}return N.\u0275fac=function(g){return new(g||N)},N.\u0275cmp=w.Xpm({type:N,selectors:[["app-quien-soy"]],decls:19,vars:2,consts:[["id","quiwn",1,"container-fluid","bg-1","text-center"],[1,"margin"],["src","./assets/imagenes/foto_ab.jpg","alt","Bird","width","350","height","350",1,"img-responsive","rounded-circle","img-thumbnail","margin","top",2,"display","inline"],["id","que",1,"container-fluid","bg-2","text-center"],[1,"col-md-12","align","justify-content-center"],[1,"row","no-gutters","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250"],[1,"col","p-4","d-flex","flex-column","position-static"],[1,"card-text","mb-auto"],[1,"btn","btn-default","btn-lg","btn-primary",3,"routerLink"],[1,"glyphicon","glyphicon-file"],[1,"col-auto","d-none","d-lg-block"],["src","../../../assets/imagenes/wackamole.jpg","alt","","width","250","height","250",1,"bd-placeholder-img"]],template:function(g,C){1&g&&(w.TgZ(0,"div",0),w.TgZ(1,"h3",1),w._uU(2,"Alejandro Begue"),w.qZA(),w._UZ(3,"img",2),w.TgZ(4,"h3"),w._uU(5,"Soy alumno de la UTN FRA"),w.qZA(),w.qZA(),w.TgZ(6,"div",3),w.TgZ(7,"h3",1),w._uU(8,"Descripci\xf3n del juego propio"),w.qZA(),w.TgZ(9,"div",4),w.TgZ(10,"div",5),w.TgZ(11,"div",6),w.TgZ(12,"p",7),w._uU(13,"Los habitantes de Nordelta est\xe1n muy preocupados por la invasi\xf3n de sus preciosas casas, y salen a defenderlas con garrotes de los infames roedores gigantes. Tu tendr\xe1s un minuto para protegerla y cada acierto sumar\xe1 un punto, pero ten cuidado, porque aprenden con los golpes y se vuelven m\xe1s r\xe1pidos."),w.qZA(),w.TgZ(14,"a",8),w._UZ(15,"span",9),w._uU(16," Ir al juego "),w.qZA(),w.qZA(),w.TgZ(17,"div",10),w._UZ(18,"img",11),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&g&&(w.xp6(14),w.Q6J("routerLink",w.DdM(1,We)))},directives:[De.yS],styles:[".imagenDeQuienSoy[_ngcontent-%COMP%]{width:100%}body[_ngcontent-%COMP%]{font:20px Montserrat,sans-serif;line-height:1.8;color:#f5f6f7}p[_ngcontent-%COMP%]{font-size:16px}.margin[_ngcontent-%COMP%]{margin-bottom:45px}.bg-1[_ngcontent-%COMP%]{background-color:#1abc9c;color:#fff}.bg-2[_ngcontent-%COMP%]{background-color:#474e5d;color:#fff}.bg-3[_ngcontent-%COMP%]{background-color:#fff;color:#555}.bg-4[_ngcontent-%COMP%]{background-color:#2f2f2f;color:#fff}.container-fluid[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:70px}.navbar[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px;border:0;border-radius:0;margin-bottom:0;font-size:12px;letter-spacing:5px}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1abc9c!important}.github[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:500px;width:100%}"]}),N})()}];let It=(()=>{class N{}return N.\u0275fac=function(g){return new(g||N)},N.\u0275mod=w.oAB({type:N}),N.\u0275inj=w.cJS({imports:[[De.Bz.forRoot(at)],De.Bz]}),N})();var Ne=k(3290);const St=function(){return["/ingreso/login"]};function ue(N,p){1&N&&(w.TgZ(0,"li",9),w.TgZ(1,"a",10),w._uU(2,"Login"),w.qZA(),w.qZA()),2&N&&(w.xp6(1),w.Q6J("routerLink",w.DdM(1,St)))}const me=function(){return["/ingreso/registro"]};function _e(N,p){1&N&&(w.TgZ(0,"li",9),w.TgZ(1,"a",11),w._uU(2,"Registro"),w.qZA(),w.qZA()),2&N&&(w.xp6(1),w.Q6J("routerLink",w.DdM(1,me)))}const xe=function(){return["/quien-soy"]};function He(N,p){1&N&&(w.TgZ(0,"li",9),w.TgZ(1,"a",11),w._uU(2,"\xbfQui\xe9n soy?"),w.qZA(),w.qZA()),2&N&&(w.xp6(1),w.Q6J("routerLink",w.DdM(1,xe)))}function fe(N,p){1&N&&(w.TgZ(0,"li",9),w.TgZ(1,"a",12),w._uU(2,"Juegos"),w.qZA(),w.qZA())}const mt=function(){return["/encuesta"]};function Vt(N,p){1&N&&(w.TgZ(0,"li",9),w.TgZ(1,"a",13),w._uU(2,"Encuesta"),w.qZA(),w.qZA()),2&N&&(w.xp6(1),w.Q6J("routerLink",w.DdM(1,mt)))}const cn=function(){return["/juegos/listado-puntajes"]};function bt(N,p){if(1&N&&(w.TgZ(0,"li",9),w.TgZ(1,"a",14),w._uU(2),w.qZA(),w.qZA()),2&N){const g=w.oxw();w.xp6(1),w.Q6J("routerLink",w.DdM(2,cn)),w.xp6(1),w.Oqu(null==g.user?null:g.user.email)}}function qt(N,p){if(1&N){const g=w.EpF();w.TgZ(0,"li",9),w.TgZ(1,"a",15),w.NdJ("click",function(){return w.CHM(g),w.oxw().onLogout()}),w._UZ(2,"i",16),w.qZA(),w.qZA()}}const Jt=function(){return[""]};let rn=(()=>{class N{constructor(g,C){this.authService=g,this.route=C,this.isLogged=!1}ngOnInit(){this.authService.isLoggedIn().subscribe(g=>{this.user=g,this.isLogged=!!this.user},g=>console.log(g))}onLogout(){this.authService.logOut().then(()=>{console.log("Se cerr\xf3 la sesi\xf3n."),this.authService.estaLogueado=!1,this.isLogged=!1}).catch(()=>console.log("Error en el logout."))}}return N.\u0275fac=function(g){return new(g||N)(w.Y36(ve.e),w.Y36(De.F0))},N.\u0275cmp=w.Xpm({type:N,selectors:[["app-navbar"]],decls:16,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid","container-nav"],[1,"navbar-brand","text-uppercase","font-weight-bold",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end"],[1,"d-flex","justify-content-end"],[1,"navbar-nav","ml-auto","mt-2","mt-lg-0"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link","rounded",3,"routerLink"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],["href","#juegos","routerLinkActive","active",1,"nav-link","py-3","px-0","px-lg-3","rounded"],["role","button","routerLinkActive","active",1,"nav-link","py-3","px-0","px-lg-3","rounded",3,"routerLink"],["routerLinkActive","active",1,"nav-link","py-3","px-0","px-lg-3","rounded",3,"routerLink"],["role","button",1,"nav-link","py-3","px-0","px-lg-3","rounded",3,"click"],["aria-hidden","true",1,"fa","fa-sign-out","fa-lg"]],template:function(g,C){1&g&&(w.TgZ(0,"nav",0),w.TgZ(1,"div",1),w.TgZ(2,"a",2),w._uU(3,"SALA DE JUEGOS"),w.qZA(),w.TgZ(4,"button",3),w._UZ(5,"span",4),w.qZA(),w.TgZ(6,"div",5),w.TgZ(7,"div",6),w.TgZ(8,"ul",7),w.YNc(9,ue,3,2,"li",8),w.YNc(10,_e,3,2,"li",8),w.YNc(11,He,3,2,"li",8),w.YNc(12,fe,3,0,"li",8),w.YNc(13,Vt,3,2,"li",8),w.YNc(14,bt,3,3,"li",8),w.YNc(15,qt,3,0,"li",8),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&g&&(w.xp6(2),w.Q6J("routerLink",w.DdM(8,Jt)),w.xp6(7),w.Q6J("ngIf",!C.isLogged),w.xp6(1),w.Q6J("ngIf",!C.isLogged),w.xp6(1),w.Q6J("ngIf",!C.isLogged),w.xp6(1),w.Q6J("ngIf",C.isLogged),w.xp6(1),w.Q6J("ngIf",C.isLogged),w.xp6(1),w.Q6J("ngIf",C.isLogged),w.xp6(1),w.Q6J("ngIf",C.isLogged))},directives:[De.yS,oe.O5,De.Od],styles:[".container-nav[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem}.nav-link.active[_ngcontent-%COMP%]{color:#1abc9c!important;font-weight:700}"]}),N})();function dt(N,p){if(1&N&&(w.TgZ(0,"li",1),w._uU(1),w.qZA()),2&N){const g=p.$implicit;w.xp6(1),w.hij(" ",g.name," ")}}let pt=(()=>{class N{constructor(g){this.title="tp-sala-de-juegos",this.items=g.collection("items").valueChanges()}}return N.\u0275fac=function(g){return new(g||N)(w.Y36(Ne.ST))},N.\u0275cmp=w.Xpm({type:N,selectors:[["app-root"]],decls:5,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],[1,"text"]],template:function(g,C){1&g&&(w._UZ(0,"app-navbar"),w.TgZ(1,"ul"),w.YNc(2,dt,2,1,"li",0),w.ALo(3,"async"),w.qZA(),w._UZ(4,"router-outlet")),2&g&&(w.xp6(2),w.Q6J("ngForOf",w.lcZ(3,1,C.items)))},directives:[rn,oe.sg,De.lC],pipes:[oe.Ov],styles:[""]}),N})();const Ce_firebase={projectId:"tp-sala-de-juegos-2022",appId:"1:502937991000:web:4d5c0baf7ea982e6c1172d",storageBucket:"tp-sala-de-juegos-2022.appspot.com",apiKey:"AIzaSyD5Clbt4IOoVT_hKB_p1eUPr1NL412RhJ4",authDomain:"tp-sala-de-juegos-2022.firebaseapp.com",messagingSenderId:"502937991000"};var Ke=k(520),Ct=k(2011),en=k(655),vn=k(9646),En=k(515),ir=k(5363),sr=k(3900),Un=k(4004),an=k(3151),An=k(880),or=k(7982),nn=k(3385),kn=k(127),xn=k(9300),Kn=k(8306),Et=k(8421),ke=k(7579),Se=k(4482),tt=k(5403);class Ut extends tt.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}var kt=k(5577),xt=k(1884),Dn=k(8675),Jn=k(1520),Xn=k(3692),yn=k(5867);const Q="firebase_screen_id",Xe="outlet",Cn="screen_class",Fn="screen_name";let Jr=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const mr={},Ir=N=>{const p=[N[Cn],N[Xe]].join("#");if(mr.hasOwnProperty(p))return mr[p];{const g=Jr++;return mr[p]=g,g}},Mi=new w.OlP("angularfire2.analytics.analyticsCollectionEnabled"),jn=new w.OlP("angularfire2.analytics.appVersion"),bi=new w.OlP("angularfire2.analytics.appName"),Oi=new w.OlP("angularfire2.analytics.debugMode"),Xr=new w.OlP("angularfire2.analytics.config"),qe="dataLayer";let Bt=(()=>{class N{constructor(g,C,H,te,ge,we,Qe,yt,Zt){if(this.analyticsInitialized=new Promise(()=>{}),(0,oe.NF)(Qe)){window[qe]=window[qe]||[];const dn=(...Vn)=>"config"===Vn[0]&&"firebase"===Vn[2].origin&&(this.measurementId=Vn[1],!0),_n=Vn=>{window.gtag=(...qn)=>{Vn&&Vn(...qn),"event"===qn[0]&&qn[2].send_to===this.measurementId&&(te&&(qn[2].app_name=te),H&&(qn[2].app_version=H)),ge&&"undefined"!=typeof console&&console.info(...qn),function(...jr){window[qe].push(arguments)}(...qn)}};window[qe].some(dn)?(this.analyticsInitialized=Promise.resolve(),_n()):this.analyticsInitialized=new Promise(Vn=>{_n((...qn)=>{dn(...qn)&&Vn()})}),we&&this.updateConfig(we),ge&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const mn=(0,vn.of)(void 0).pipe((0,ir.Q)(Zt.outsideAngular),(0,sr.w)(or.Gb),(0,sr.w)(dn=>dn?yt.runOutsideAngular(()=>k.e(643).then(k.bind(k,8643))):En.E),(0,Un.U)(()=>(0,Ct.cc)("analytics","AngularFireAnalytics",g.name,()=>{const dn=g.analytics();return!1===C&&dn.setAnalyticsCollectionEnabled(!1),dn},[g,C,we,ge])),(0,an.d)({bufferSize:1,refCount:!1}));return(0,Ct.pX)(this,mn,yt)}updateConfig(g){return(0,en.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},g),{update:!0}))})}}return N.\u0275fac=function(g){return new(g||N)(w.LFG(Ct.Ot),w.LFG(Mi,8),w.LFG(jn,8),w.LFG(bi,8),w.LFG(Oi,8),w.LFG(Xr,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(An.HU))},N.\u0275prov=w.Yz7({token:N,factory:N.\u0275fac,providedIn:"any"}),N})(),sn=(()=>{class N{constructor(g,C,H,te){if(this.disposables=[],kn.Z.registerVersion("angularfire",An.q4.full,"compat-user-tracking"),(0,oe.PM)(C))this.initialized=Promise.resolve();else{let ge;this.initialized=te.runOutsideAngular(()=>new Promise(we=>ge=we)),this.disposables=[H.authState.subscribe(we=>{g.setUserId(null==we?void 0:we.uid),ge()}),H.credential.subscribe(we=>{if(we){const Qe=we.user.isAnonymous?"anonymous":we.additionalUserInfo.providerId;we.additionalUserInfo.isNewUser&&g.logEvent("sign_up",{method:Qe}),g.logEvent("login",{method:Qe})}})]}}ngOnDestroy(){this.disposables.forEach(g=>g.unsubscribe())}}return N.\u0275fac=function(g){return new(g||N)(w.LFG(Bt),w.LFG(w.Lbi),w.LFG(nn.zQ),w.LFG(w.R0b))},N.\u0275prov=w.Yz7({token:N,factory:N.\u0275fac}),N})(),br=(()=>{class N{constructor(g,C,H,te,ge,we){if(kn.Z.registerVersion("angularfire",An.q4.full,"compat-screen-tracking"),!C||!g)return this;ge.runOutsideAngular(()=>{this.disposable=((N,p,g)=>N.events.pipe((0,xn.h)(H=>H instanceof De.jw)).pipe((0,sr.w)(H=>{var te;const we=(null===(te=N.parseUrl(N.url.replace(/(?:\().+(?:\))/g,_n=>_n.replace("://",":///"))).root.children[H.snapshot.outlet])||void 0===te?void 0:te.toString())||"",Qe=N.routerState.root.children.map(_n=>_n).find(_n=>_n.outlet===H.snapshot.outlet);if(!Qe)return(0,vn.of)(null);let yt=Qe;for(;yt.firstChild;)yt=yt.firstChild;const Zt=yt.pathFromRoot.map(_n=>{var un;return null===(un=_n.routeConfig)||void 0===un?void 0:un.path}).filter(_n=>_n).join("/")||"/",mn={[Fn]:Zt,page_path:`/${we}`,firebase_event_origin:"auto",firebase_screen:Zt,[Xe]:H.snapshot.outlet};p&&(mn.page_title=p.getTitle());let dn=Qe.component;if(dn){if(dn===De.fw){let _n=H.snapshot;for(;_n.firstChild;)_n=_n.firstChild;dn=_n.component}}else dn=H.snapshot.component;if("string"==typeof dn)return(0,vn.of)(Object.assign(Object.assign({},mn),{[Cn]:dn}));if(dn){const _n=g.resolveComponentFactory(dn);return(0,vn.of)(Object.assign(Object.assign({},mn),{[Cn]:_n.selector}))}return(0,vn.of)(null)}),(0,xn.h)(H=>!!H),(0,Un.U)(H=>Object.assign({firebase_screen_class:H[Cn],[Q]:Ir(H)},H)),function Mt(N,p,g,C){return(0,Se.e)((H,te)=>{let ge;p&&"function"!=typeof p?({duration:g,element:ge,connector:C}=p):ge=p;const we=new Map,Qe=dn=>{we.forEach(dn),dn(te)},yt=dn=>Qe(_n=>_n.error(dn)),Zt=new Ut(te,dn=>{try{const _n=N(dn);let un=we.get(_n);if(!un){we.set(_n,un=C?C():new ke.x);const Vn=function mn(dn,_n){const un=new Kn.y(Vn=>{Zt.activeGroups++;const qn=_n.subscribe(Vn);return()=>{qn.unsubscribe(),0==--Zt.activeGroups&&Zt.teardownAttempted&&Zt.unsubscribe()}});return un.key=dn,un}(_n,un);if(te.next(Vn),g){const qn=new tt.Q(un,()=>{un.complete(),null==qn||qn.unsubscribe()},void 0,void 0,()=>we.delete(_n));Zt.add((0,Et.Xf)(g(Vn)).subscribe(qn))}}un.next(ge?ge(dn):dn)}catch(_n){yt(_n)}},()=>Qe(dn=>dn.complete()),yt,()=>we.clear());H.subscribe(Zt)})}(H=>H[Xe]),(0,kt.z)(H=>H.pipe((0,xt.x)((te,ge)=>JSON.stringify(te)===JSON.stringify(ge)),(0,Dn.O)(void 0),(0,Jn.G)(),(0,Un.U)(([te,ge])=>te?Object.assign({firebase_previous_class:te[Cn],firebase_previous_screen:te[Fn],firebase_previous_id:te[Q]},ge):ge)))))(C,H,te).pipe((0,sr.w)(Qe=>(0,en.mG)(this,void 0,void 0,function*(){return we&&(yield we.initialized),yield g.logEvent("screen_view",Qe)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return N.\u0275fac=function(g){return new(g||N)(w.LFG(Bt),w.LFG(De.F0,8),w.LFG(c.Dx,8),w.LFG(w._Vd),w.LFG(w.R0b),w.LFG(sn,8))},N.\u0275prov=w.Yz7({token:N,factory:N.\u0275fac}),N})(),tr=(()=>{class N{constructor(g,C,H){kn.Z.registerVersion("angularfire",An.q4.full,"analytics-compat"),g.app.then(()=>{})}}return N.\u0275fac=function(g){return new(g||N)(w.LFG(Bt),w.LFG(br,8),w.LFG(sn,8))},N.\u0275mod=w.oAB({type:N}),N.\u0275inj=w.cJS({providers:[Bt]}),N})();var Wn=k(1777);function Lr(){return"undefined"!=typeof window&&void 0!==window.document}function Nr(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gr(N){switch(N.length){case 0:return new Wn.ZN;case 1:return N[0];default:return new Wn.ZE(N)}}function ri(N,p,g,C,H={},te={}){const ge=[],we=[];let Qe=-1,yt=null;if(C.forEach(Zt=>{const mn=Zt.offset,dn=mn==Qe,_n=dn&&yt||{};Object.keys(Zt).forEach(un=>{let Vn=un,qn=Zt[un];if("offset"!==un)switch(Vn=p.normalizePropertyName(Vn,ge),qn){case Wn.k1:qn=H[un];break;case Wn.l3:qn=te[un];break;default:qn=p.normalizeStyleValue(un,Vn,qn,ge)}_n[Vn]=qn}),dn||we.push(_n),yt=_n,Qe=mn}),ge.length){const Zt="\n - ";throw new Error(`Unable to animate due to the following errors:${Zt}${ge.join(Zt)}`)}return we}function Ws(N,p,g,C){switch(p){case"start":N.onStart(()=>C(g&&ei(g,"start",N)));break;case"done":N.onDone(()=>C(g&&ei(g,"done",N)));break;case"destroy":N.onDestroy(()=>C(g&&ei(g,"destroy",N)))}}function ei(N,p,g){const C=g.totalTime,te=yi(N.element,N.triggerName,N.fromState,N.toState,p||N.phaseName,null==C?N.totalTime:C,!!g.disabled),ge=N._data;return null!=ge&&(te._data=ge),te}function yi(N,p,g,C,H="",te=0,ge){return{element:N,triggerName:p,fromState:g,toState:C,phaseName:H,totalTime:te,disabled:!!ge}}function Kr(N,p,g){let C;return N instanceof Map?(C=N.get(p),C||N.set(p,C=g)):(C=N[p],C||(C=N[p]=g)),C}function Es(N){const p=N.indexOf(":");return[N.substring(1,p),N.substr(p+1)]}let ts=(N,p)=>!1,Ns=(N,p)=>!1,Rs=(N,p,g)=>[];const Ks=Nr();(Ks||"undefined"!=typeof Element)&&(ts=Lr()?(N,p)=>{for(;p&&p!==document.documentElement;){if(p===N)return!0;p=p.parentNode||p.host}return!1}:(N,p)=>N.contains(p),Ns=(()=>{if(Ks||Element.prototype.matches)return(N,p)=>N.matches(p);{const N=Element.prototype,p=N.matchesSelector||N.mozMatchesSelector||N.msMatchesSelector||N.oMatchesSelector||N.webkitMatchesSelector;return p?(g,C)=>p.apply(g,[C]):Ns}})(),Rs=(N,p,g)=>{let C=[];if(g){const H=N.querySelectorAll(p);for(let te=0;te<H.length;te++)C.push(H[te])}else{const H=N.querySelector(p);H&&C.push(H)}return C});let Vi=null,Ii=!1;function xi(N){Vi||(Vi=function ks(){return"undefined"!=typeof document?document.body:null}()||{},Ii=!!Vi.style&&"WebkitAppearance"in Vi.style);let p=!0;return Vi.style&&!function Ps(N){return"ebkit"==N.substring(1,6)}(N)&&(p=N in Vi.style,!p&&Ii&&(p="Webkit"+N.charAt(0).toUpperCase()+N.substr(1)in Vi.style)),p}const Ki=Ns,Fs=ts,hi=Rs;function _i(N){const p={};return Object.keys(N).forEach(g=>{const C=g.replace(/([a-z])([A-Z])/g,"$1-$2");p[C]=N[g]}),p}let Ui=(()=>{class N{validateStyleProperty(g){return xi(g)}matchesElement(g,C){return Ki(g,C)}containsElement(g,C){return Fs(g,C)}query(g,C,H){return hi(g,C,H)}computeStyle(g,C,H){return H||""}animate(g,C,H,te,ge,we=[],Qe){return new Wn.ZN(H,te)}}return N.\u0275fac=function(g){return new(g||N)},N.\u0275prov=w.Yz7({token:N,factory:N.\u0275fac}),N})(),qi=(()=>{class N{}return N.NOOP=new Ui,N})();const Ni="ng-enter",Qr="ng-leave",_r="ng-trigger",Bi=".ng-trigger",Di="ng-animating",Ur=".ng-animating";function Ar(N){if("number"==typeof N)return N;const p=N.match(/^(-?[\.\d]+)(m?s)/);return!p||p.length<2?0:ji(parseFloat(p[1]),p[2])}function ji(N,p){return"s"===p?1e3*N:N}function rs(N,p,g){return N.hasOwnProperty("duration")?N:function bs(N,p,g){let H,te=0,ge="";if("string"==typeof N){const we=N.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===we)return p.push(`The provided timing value "${N}" is invalid.`),{duration:0,delay:0,easing:""};H=ji(parseFloat(we[1]),we[2]);const Qe=we[3];null!=Qe&&(te=ji(parseFloat(Qe),we[4]));const yt=we[5];yt&&(ge=yt)}else H=N;if(!g){let we=!1,Qe=p.length;H<0&&(p.push("Duration values below 0 are not allowed for this animation step."),we=!0),te<0&&(p.push("Delay values below 0 are not allowed for this animation step."),we=!0),we&&p.splice(Qe,0,`The provided timing value "${N}" is invalid.`)}return{duration:H,delay:te,easing:ge}}(N,p,g)}function $i(N,p={}){return Object.keys(N).forEach(g=>{p[g]=N[g]}),p}function fi(N,p,g={}){if(p)for(let C in N)g[C]=N[C];else $i(N,g);return g}function Sr(N,p,g){return g?p+":"+g+";":""}function Ri(N){let p="";for(let g=0;g<N.style.length;g++){const C=N.style.item(g);p+=Sr(0,C,N.style.getPropertyValue(C))}for(const g in N.style)N.style.hasOwnProperty(g)&&!g.startsWith("_")&&(p+=Sr(0,E(g),N.style[g]));N.setAttribute("style",p)}function wr(N,p,g){N.style&&(Object.keys(p).forEach(C=>{const H=L(C);g&&!g.hasOwnProperty(C)&&(g[C]=N.style[H]),N.style[H]=p[C]}),Nr()&&Ri(N))}function R(N,p){N.style&&(Object.keys(p).forEach(g=>{const C=L(g);N.style[C]=""}),Nr()&&Ri(N))}function q(N){return Array.isArray(N)?1==N.length?N[0]:(0,Wn.vP)(N):N}const ee=new RegExp("{{\\s*(.+?)\\s*}}","g");function Oe(N){let p=[];if("string"==typeof N){let g;for(;g=ee.exec(N);)p.push(g[1]);ee.lastIndex=0}return p}function vt(N,p,g){const C=N.toString(),H=C.replace(ee,(te,ge)=>{let we=p[ge];return p.hasOwnProperty(ge)||(g.push(`Please provide a value for the animation param ${ge}`),we=""),we.toString()});return H==C?N:H}function Ft(N){const p=[];let g=N.next();for(;!g.done;)p.push(g.value),g=N.next();return p}const gn=/-+([a-z0-9])/g;function L(N){return N.replace(gn,(...p)=>p[1].toUpperCase())}function E(N){return N.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function y(N,p){return 0===N||0===p}function x(N,p,g){const C=Object.keys(g);if(C.length&&p.length){let te=p[0],ge=[];if(C.forEach(we=>{te.hasOwnProperty(we)||ge.push(we),te[we]=g[we]}),ge.length)for(var H=1;H<p.length;H++){let we=p[H];ge.forEach(function(Qe){we[Qe]=Ze(N,Qe)})}}return p}function ae(N,p,g){switch(p.type){case 7:return N.visitTrigger(p,g);case 0:return N.visitState(p,g);case 1:return N.visitTransition(p,g);case 2:return N.visitSequence(p,g);case 3:return N.visitGroup(p,g);case 4:return N.visitAnimate(p,g);case 5:return N.visitKeyframes(p,g);case 6:return N.visitStyle(p,g);case 8:return N.visitReference(p,g);case 9:return N.visitAnimateChild(p,g);case 10:return N.visitAnimateRef(p,g);case 11:return N.visitQuery(p,g);case 12:return N.visitStagger(p,g);default:throw new Error(`Unable to resolve animation metadata node #${p.type}`)}}function Ze(N,p){return window.getComputedStyle(N)[p]}function Lt(N,p){const g=[];return"string"==typeof N?N.split(/\s*,\s*/).forEach(C=>function hr(N,p,g){if(":"==N[0]){const Qe=function Mr(N,p){switch(N){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(g,C)=>parseFloat(C)>parseFloat(g);case":decrement":return(g,C)=>parseFloat(C)<parseFloat(g);default:return p.push(`The transition alias value "${N}" is not supported`),"* => *"}}(N,g);if("function"==typeof Qe)return void p.push(Qe);N=Qe}const C=N.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==C||C.length<4)return g.push(`The provided transition expression "${N}" is not supported`),p;const H=C[1],te=C[2],ge=C[3];p.push($n(H,ge));"<"==te[0]&&!("*"==H&&"*"==ge)&&p.push($n(ge,H))}(C,g,p)):g.push(N),g}const ur=new Set(["true","1"]),fr=new Set(["false","0"]);function $n(N,p){const g=ur.has(N)||fr.has(N),C=ur.has(p)||fr.has(p);return(H,te)=>{let ge="*"==N||N==H,we="*"==p||p==te;return!ge&&g&&"boolean"==typeof H&&(ge=H?ur.has(N):fr.has(N)),!we&&C&&"boolean"==typeof te&&(we=te?ur.has(p):fr.has(p)),ge&&we}}const is=new RegExp("s*:selfs*,?","g");function Pt(N,p,g){return new ro(N).build(p,g)}class ro{constructor(p){this._driver=p}build(p,g){const C=new ss(g);return this._resetContextStyleTimingState(C),ae(this,q(p),C)}_resetContextStyleTimingState(p){p.currentQuerySelector="",p.collectedStyles={},p.collectedStyles[""]={},p.currentTime=0}visitTrigger(p,g){let C=g.queryCount=0,H=g.depCount=0;const te=[],ge=[];return"@"==p.name.charAt(0)&&g.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),p.definitions.forEach(we=>{if(this._resetContextStyleTimingState(g),0==we.type){const Qe=we,yt=Qe.name;yt.toString().split(/\s*,\s*/).forEach(Zt=>{Qe.name=Zt,te.push(this.visitState(Qe,g))}),Qe.name=yt}else if(1==we.type){const Qe=this.visitTransition(we,g);C+=Qe.queryCount,H+=Qe.depCount,ge.push(Qe)}else g.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:p.name,states:te,transitions:ge,queryCount:C,depCount:H,options:null}}visitState(p,g){const C=this.visitStyle(p.styles,g),H=p.options&&p.options.params||null;if(C.containsDynamicStyles){const te=new Set,ge=H||{};if(C.styles.forEach(we=>{if(po(we)){const Qe=we;Object.keys(Qe).forEach(yt=>{Oe(Qe[yt]).forEach(Zt=>{ge.hasOwnProperty(Zt)||te.add(Zt)})})}}),te.size){const we=Ft(te.values());g.errors.push(`state("${p.name}", ...) must define default values for all the following style substitutions: ${we.join(", ")}`)}}return{type:0,name:p.name,style:C,options:H?{params:H}:null}}visitTransition(p,g){g.queryCount=0,g.depCount=0;const C=ae(this,q(p.animation),g);return{type:1,matchers:Lt(p.expr,g.errors),animation:C,queryCount:g.queryCount,depCount:g.depCount,options:Do(p.options)}}visitSequence(p,g){return{type:2,steps:p.steps.map(C=>ae(this,C,g)),options:Do(p.options)}}visitGroup(p,g){const C=g.currentTime;let H=0;const te=p.steps.map(ge=>{g.currentTime=C;const we=ae(this,ge,g);return H=Math.max(H,g.currentTime),we});return g.currentTime=H,{type:3,steps:te,options:Do(p.options)}}visitAnimate(p,g){const C=function Io(N,p){let g=null;if(N.hasOwnProperty("duration"))g=N;else if("number"==typeof N)return Bo(rs(N,p).duration,0,"");const C=N;if(C.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=Bo(0,0,"");return te.dynamic=!0,te.strValue=C,te}return g=g||rs(C,p),Bo(g.duration,g.delay,g.easing)}(p.timings,g.errors);g.currentAnimateTimings=C;let H,te=p.styles?p.styles:(0,Wn.oB)({});if(5==te.type)H=this.visitKeyframes(te,g);else{let ge=p.styles,we=!1;if(!ge){we=!0;const yt={};C.easing&&(yt.easing=C.easing),ge=(0,Wn.oB)(yt)}g.currentTime+=C.duration+C.delay;const Qe=this.visitStyle(ge,g);Qe.isEmptyStep=we,H=Qe}return g.currentAnimateTimings=null,{type:4,timings:C,style:H,options:null}}visitStyle(p,g){const C=this._makeStyleAst(p,g);return this._validateStyleAst(C,g),C}_makeStyleAst(p,g){const C=[];Array.isArray(p.styles)?p.styles.forEach(ge=>{"string"==typeof ge?ge==Wn.l3?C.push(ge):g.errors.push(`The provided style string value ${ge} is not allowed.`):C.push(ge)}):C.push(p.styles);let H=!1,te=null;return C.forEach(ge=>{if(po(ge)){const we=ge,Qe=we.easing;if(Qe&&(te=Qe,delete we.easing),!H)for(let yt in we)if(we[yt].toString().indexOf("{{")>=0){H=!0;break}}}),{type:6,styles:C,easing:te,offset:p.offset,containsDynamicStyles:H,options:null}}_validateStyleAst(p,g){const C=g.currentAnimateTimings;let H=g.currentTime,te=g.currentTime;C&&te>0&&(te-=C.duration+C.delay),p.styles.forEach(ge=>{"string"!=typeof ge&&Object.keys(ge).forEach(we=>{if(!this._driver.validateStyleProperty(we))return void g.errors.push(`The provided animation property "${we}" is not a supported CSS property for animations`);const Qe=g.collectedStyles[g.currentQuerySelector],yt=Qe[we];let Zt=!0;yt&&(te!=H&&te>=yt.startTime&&H<=yt.endTime&&(g.errors.push(`The CSS property "${we}" that exists between the times of "${yt.startTime}ms" and "${yt.endTime}ms" is also being animated in a parallel animation between the times of "${te}ms" and "${H}ms"`),Zt=!1),te=yt.startTime),Zt&&(Qe[we]={startTime:te,endTime:H}),g.options&&function F(N,p,g){const C=p.params||{},H=Oe(N);H.length&&H.forEach(te=>{C.hasOwnProperty(te)||g.push(`Unable to resolve the local animation param ${te} in the given list of values`)})}(ge[we],g.options,g.errors)})})}visitKeyframes(p,g){const C={type:5,styles:[],options:null};if(!g.currentAnimateTimings)return g.errors.push("keyframes() must be placed inside of a call to animate()"),C;let te=0;const ge=[];let we=!1,Qe=!1,yt=0;const Zt=p.steps.map(jr=>{const Si=this._makeStyleAst(jr,g);let as=null!=Si.offset?Si.offset:function Zs(N){if("string"==typeof N)return null;let p=null;if(Array.isArray(N))N.forEach(g=>{if(po(g)&&g.hasOwnProperty("offset")){const C=g;p=parseFloat(C.offset),delete C.offset}});else if(po(N)&&N.hasOwnProperty("offset")){const g=N;p=parseFloat(g.offset),delete g.offset}return p}(Si.styles),Xi=0;return null!=as&&(te++,Xi=Si.offset=as),Qe=Qe||Xi<0||Xi>1,we=we||Xi<yt,yt=Xi,ge.push(Xi),Si});Qe&&g.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),we&&g.errors.push("Please ensure that all keyframe offsets are in order");const mn=p.steps.length;let dn=0;te>0&&te<mn?g.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==te&&(dn=1/(mn-1));const _n=mn-1,un=g.currentTime,Vn=g.currentAnimateTimings,qn=Vn.duration;return Zt.forEach((jr,Si)=>{const as=dn>0?Si==_n?1:dn*Si:ge[Si],Xi=as*qn;g.currentTime=un+Vn.delay+Xi,Vn.duration=Xi,this._validateStyleAst(jr,g),jr.offset=as,C.styles.push(jr)}),C}visitReference(p,g){return{type:8,animation:ae(this,q(p.animation),g),options:Do(p.options)}}visitAnimateChild(p,g){return g.depCount++,{type:9,options:Do(p.options)}}visitAnimateRef(p,g){return{type:10,animation:this.visitReference(p.animation,g),options:Do(p.options)}}visitQuery(p,g){const C=g.currentQuerySelector,H=p.options||{};g.queryCount++,g.currentQuery=p;const[te,ge]=function zn(N){const p=!!N.split(/\s*,\s*/).find(g=>":self"==g);return p&&(N=N.replace(is,"")),N=N.replace(/@\*/g,Bi).replace(/@\w+/g,g=>Bi+"-"+g.substr(1)).replace(/:animating/g,Ur),[N,p]}(p.selector);g.currentQuerySelector=C.length?C+" "+te:te,Kr(g.collectedStyles,g.currentQuerySelector,{});const we=ae(this,q(p.animation),g);return g.currentQuery=null,g.currentQuerySelector=C,{type:11,selector:te,limit:H.limit||0,optional:!!H.optional,includeSelf:ge,animation:we,originalSelector:p.selector,options:Do(p.options)}}visitStagger(p,g){g.currentQuery||g.errors.push("stagger() can only be used inside of query()");const C="full"===p.timings?{duration:0,delay:0,easing:"full"}:rs(p.timings,g.errors,!0);return{type:12,animation:ae(this,q(p.animation),g),timings:C,options:null}}}class ss{constructor(p){this.errors=p,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function po(N){return!Array.isArray(N)&&"object"==typeof N}function Do(N){return N?(N=$i(N)).params&&(N.params=function qs(N){return N?$i(N):null}(N.params)):N={},N}function Bo(N,p,g){return{duration:N,delay:p,easing:g}}function To(N,p,g,C,H,te,ge=null,we=!1){return{type:1,element:N,keyframes:p,preStyleProps:g,postStyleProps:C,duration:H,delay:te,totalTime:H+te,easing:ge,subTimeline:we}}class Ys{constructor(){this._map=new Map}consume(p){let g=this._map.get(p);return g?this._map.delete(p):g=[],g}append(p,g){let C=this._map.get(p);C||this._map.set(p,C=[]),C.push(...g)}has(p){return this._map.has(p)}clear(){this._map.clear()}}const aa=new RegExp(":enter","g"),fs=new RegExp(":leave","g");function go(N,p,g,C,H,te={},ge={},we,Qe,yt=[]){return(new ua).buildKeyframes(N,p,g,C,H,te,ge,we,Qe,yt)}class ua{buildKeyframes(p,g,C,H,te,ge,we,Qe,yt,Zt=[]){yt=yt||new Ys;const mn=new mo(p,g,yt,H,te,Zt,[]);mn.options=Qe,mn.currentTimeline.setStyles([ge],null,mn.errors,Qe),ae(this,C,mn);const dn=mn.timelines.filter(_n=>_n.containsAnimation());if(dn.length&&Object.keys(we).length){const _n=dn[dn.length-1];_n.allowOnlyTimelineStyles()||_n.setStyles([we],null,mn.errors,Qe)}return dn.length?dn.map(_n=>_n.buildKeyframes()):[To(g,[],[],[],0,0,"",!1)]}visitTrigger(p,g){}visitState(p,g){}visitTransition(p,g){}visitAnimateChild(p,g){const C=g.subInstructions.consume(g.element);if(C){const H=g.createSubContext(p.options),te=g.currentTimeline.currentTime,ge=this._visitSubInstructions(C,H,H.options);te!=ge&&g.transformIntoNewTimeline(ge)}g.previousNode=p}visitAnimateRef(p,g){const C=g.createSubContext(p.options);C.transformIntoNewTimeline(),this.visitReference(p.animation,C),g.transformIntoNewTimeline(C.currentTimeline.currentTime),g.previousNode=p}_visitSubInstructions(p,g,C){let te=g.currentTimeline.currentTime;const ge=null!=C.duration?Ar(C.duration):null,we=null!=C.delay?Ar(C.delay):null;return 0!==ge&&p.forEach(Qe=>{const yt=g.appendInstructionToTimeline(Qe,ge,we);te=Math.max(te,yt.duration+yt.delay)}),te}visitReference(p,g){g.updateOptions(p.options,!0),ae(this,p.animation,g),g.previousNode=p}visitSequence(p,g){const C=g.subContextCount;let H=g;const te=p.options;if(te&&(te.params||te.delay)&&(H=g.createSubContext(te),H.transformIntoNewTimeline(),null!=te.delay)){6==H.previousNode.type&&(H.currentTimeline.snapshotCurrentStyles(),H.previousNode=$o);const ge=Ar(te.delay);H.delayNextStep(ge)}p.steps.length&&(p.steps.forEach(ge=>ae(this,ge,H)),H.currentTimeline.applyStylesToKeyframe(),H.subContextCount>C&&H.transformIntoNewTimeline()),g.previousNode=p}visitGroup(p,g){const C=[];let H=g.currentTimeline.currentTime;const te=p.options&&p.options.delay?Ar(p.options.delay):0;p.steps.forEach(ge=>{const we=g.createSubContext(p.options);te&&we.delayNextStep(te),ae(this,ge,we),H=Math.max(H,we.currentTimeline.currentTime),C.push(we.currentTimeline)}),C.forEach(ge=>g.currentTimeline.mergeTimelineCollectedStyles(ge)),g.transformIntoNewTimeline(H),g.previousNode=p}_visitTiming(p,g){if(p.dynamic){const C=p.strValue;return rs(g.params?vt(C,g.params,g.errors):C,g.errors)}return{duration:p.duration,delay:p.delay,easing:p.easing}}visitAnimate(p,g){const C=g.currentAnimateTimings=this._visitTiming(p.timings,g),H=g.currentTimeline;C.delay&&(g.incrementTime(C.delay),H.snapshotCurrentStyles());const te=p.style;5==te.type?this.visitKeyframes(te,g):(g.incrementTime(C.duration),this.visitStyle(te,g),H.applyStylesToKeyframe()),g.currentAnimateTimings=null,g.previousNode=p}visitStyle(p,g){const C=g.currentTimeline,H=g.currentAnimateTimings;!H&&C.getCurrentStyleProperties().length&&C.forwardFrame();const te=H&&H.easing||p.easing;p.isEmptyStep?C.applyEmptyStep(te):C.setStyles(p.styles,te,g.errors,g.options),g.previousNode=p}visitKeyframes(p,g){const C=g.currentAnimateTimings,H=g.currentTimeline.duration,te=C.duration,we=g.createSubContext().currentTimeline;we.easing=C.easing,p.styles.forEach(Qe=>{we.forwardTime((Qe.offset||0)*te),we.setStyles(Qe.styles,Qe.easing,g.errors,g.options),we.applyStylesToKeyframe()}),g.currentTimeline.mergeTimelineCollectedStyles(we),g.transformIntoNewTimeline(H+te),g.previousNode=p}visitQuery(p,g){const C=g.currentTimeline.currentTime,H=p.options||{},te=H.delay?Ar(H.delay):0;te&&(6===g.previousNode.type||0==C&&g.currentTimeline.getCurrentStyleProperties().length)&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=$o);let ge=C;const we=g.invokeQuery(p.selector,p.originalSelector,p.limit,p.includeSelf,!!H.optional,g.errors);g.currentQueryTotal=we.length;let Qe=null;we.forEach((yt,Zt)=>{g.currentQueryIndex=Zt;const mn=g.createSubContext(p.options,yt);te&&mn.delayNextStep(te),yt===g.element&&(Qe=mn.currentTimeline),ae(this,p.animation,mn),mn.currentTimeline.applyStylesToKeyframe(),ge=Math.max(ge,mn.currentTimeline.currentTime)}),g.currentQueryIndex=0,g.currentQueryTotal=0,g.transformIntoNewTimeline(ge),Qe&&(g.currentTimeline.mergeTimelineCollectedStyles(Qe),g.currentTimeline.snapshotCurrentStyles()),g.previousNode=p}visitStagger(p,g){const C=g.parentContext,H=g.currentTimeline,te=p.timings,ge=Math.abs(te.duration),we=ge*(g.currentQueryTotal-1);let Qe=ge*g.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":Qe=we-Qe;break;case"full":Qe=C.currentStaggerTime}const Zt=g.currentTimeline;Qe&&Zt.delayNextStep(Qe);const mn=Zt.currentTime;ae(this,p.animation,g),g.previousNode=p,C.currentStaggerTime=H.currentTime-mn+(H.startTime-C.currentTimeline.startTime)}}const $o={};class mo{constructor(p,g,C,H,te,ge,we,Qe){this._driver=p,this.element=g,this.subInstructions=C,this._enterClassName=H,this._leaveClassName=te,this.errors=ge,this.timelines=we,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$o,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Qe||new Co(this._driver,g,0),we.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(p,g){if(!p)return;const C=p;let H=this.options;null!=C.duration&&(H.duration=Ar(C.duration)),null!=C.delay&&(H.delay=Ar(C.delay));const te=C.params;if(te){let ge=H.params;ge||(ge=this.options.params={}),Object.keys(te).forEach(we=>{(!g||!ge.hasOwnProperty(we))&&(ge[we]=vt(te[we],ge,this.errors))})}}_copyOptions(){const p={};if(this.options){const g=this.options.params;if(g){const C=p.params={};Object.keys(g).forEach(H=>{C[H]=g[H]})}}return p}createSubContext(p=null,g,C){const H=g||this.element,te=new mo(this._driver,H,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(H,C||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(p),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(p){return this.previousNode=$o,this.currentTimeline=this.currentTimeline.fork(this.element,p),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(p,g,C){const H={duration:null!=g?g:p.duration,delay:this.currentTimeline.currentTime+(null!=C?C:0)+p.delay,easing:""},te=new Ao(this._driver,p.element,p.keyframes,p.preStyleProps,p.postStyleProps,H,p.stretchStartingKeyframe);return this.timelines.push(te),H}incrementTime(p){this.currentTimeline.forwardTime(this.currentTimeline.duration+p)}delayNextStep(p){p>0&&this.currentTimeline.delayNextStep(p)}invokeQuery(p,g,C,H,te,ge){let we=[];if(H&&we.push(this.element),p.length>0){p=(p=p.replace(aa,"."+this._enterClassName)).replace(fs,"."+this._leaveClassName);let yt=this._driver.query(this.element,p,1!=C);0!==C&&(yt=C<0?yt.slice(yt.length+C,yt.length):yt.slice(0,C)),we.push(...yt)}return!te&&0==we.length&&ge.push(`\`query("${g}")\` returned zero elements. (Use \`query("${g}", { optional: true })\` if you wish to allow this.)`),we}}class Co{constructor(p,g,C,H){this._driver=p,this.element=g,this.startTime=C,this._elementTimelineStylesLookup=H,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(g),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(g,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(p){const g=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||g?(this.forwardTime(this.currentTime+p),g&&this.snapshotCurrentStyles()):this.startTime+=p}fork(p,g){return this.applyStylesToKeyframe(),new Co(this._driver,p,g||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(p){this.applyStylesToKeyframe(),this.duration=p,this._loadKeyframe()}_updateStyle(p,g){this._localTimelineStyles[p]=g,this._globalTimelineStyles[p]=g,this._styleSummary[p]={time:this.currentTime,value:g}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(p){p&&(this._previousKeyframe.easing=p),Object.keys(this._globalTimelineStyles).forEach(g=>{this._backFill[g]=this._globalTimelineStyles[g]||Wn.l3,this._currentKeyframe[g]=Wn.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(p,g,C,H){g&&(this._previousKeyframe.easing=g);const te=H&&H.params||{},ge=function Ma(N,p){const g={};let C;return N.forEach(H=>{"*"===H?(C=C||Object.keys(p),C.forEach(te=>{g[te]=Wn.l3})):fi(H,!1,g)}),g}(p,this._globalTimelineStyles);Object.keys(ge).forEach(we=>{const Qe=vt(ge[we],te,C);this._pendingStyles[we]=Qe,this._localTimelineStyles.hasOwnProperty(we)||(this._backFill[we]=this._globalTimelineStyles.hasOwnProperty(we)?this._globalTimelineStyles[we]:Wn.l3),this._updateStyle(we,Qe)})}applyStylesToKeyframe(){const p=this._pendingStyles,g=Object.keys(p);0!=g.length&&(this._pendingStyles={},g.forEach(C=>{this._currentKeyframe[C]=p[C]}),Object.keys(this._localTimelineStyles).forEach(C=>{this._currentKeyframe.hasOwnProperty(C)||(this._currentKeyframe[C]=this._localTimelineStyles[C])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(p=>{const g=this._localTimelineStyles[p];this._pendingStyles[p]=g,this._updateStyle(p,g)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const p=[];for(let g in this._currentKeyframe)p.push(g);return p}mergeTimelineCollectedStyles(p){Object.keys(p._styleSummary).forEach(g=>{const C=this._styleSummary[g],H=p._styleSummary[g];(!C||H.time>C.time)&&this._updateStyle(g,H.value)})}buildKeyframes(){this.applyStylesToKeyframe();const p=new Set,g=new Set,C=1===this._keyframes.size&&0===this.duration;let H=[];this._keyframes.forEach((we,Qe)=>{const yt=fi(we,!0);Object.keys(yt).forEach(Zt=>{const mn=yt[Zt];mn==Wn.k1?p.add(Zt):mn==Wn.l3&&g.add(Zt)}),C||(yt.offset=Qe/this.duration),H.push(yt)});const te=p.size?Ft(p.values()):[],ge=g.size?Ft(g.values()):[];if(C){const we=H[0],Qe=$i(we);we.offset=0,Qe.offset=1,H=[we,Qe]}return To(this.element,H,te,ge,this.duration,this.startTime,this.easing,!1)}}class Ao extends Co{constructor(p,g,C,H,te,ge,we=!1){super(p,g,ge.delay),this.keyframes=C,this.preStyleProps=H,this.postStyleProps=te,this._stretchStartingKeyframe=we,this.timings={duration:ge.duration,delay:ge.delay,easing:ge.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let p=this.keyframes,{delay:g,duration:C,easing:H}=this.timings;if(this._stretchStartingKeyframe&&g){const te=[],ge=C+g,we=g/ge,Qe=fi(p[0],!1);Qe.offset=0,te.push(Qe);const yt=fi(p[0],!1);yt.offset=So(we),te.push(yt);const Zt=p.length-1;for(let mn=1;mn<=Zt;mn++){let dn=fi(p[mn],!1);dn.offset=So((g+dn.offset*C)/ge),te.push(dn)}C=ge,g=0,H="",p=te}return To(this.element,p,this.preStyleProps,this.postStyleProps,C,g,H,!0)}}function So(N,p=3){const g=Math.pow(10,p-1);return Math.round(N*g)/g}class io{}class Go extends io{normalizePropertyName(p,g){return L(p)}normalizeStyleValue(p,g,C,H){let te="";const ge=C.toString().trim();if(Oa[g]&&0!==C&&"0"!==C)if("number"==typeof C)te="px";else{const we=C.match(/^[+-]?[\d\.]+([a-z]*)$/);we&&0==we[1].length&&H.push(`Please provide a CSS unit value for ${p}:${C}`)}return ge+te}}const Oa=(()=>function so(N){const p={};return N.forEach(g=>p[g]=!0),p}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function la(N,p,g,C,H,te,ge,we,Qe,yt,Zt,mn,dn){return{type:0,element:N,triggerName:p,isRemovalTransition:H,fromState:g,fromStyles:te,toState:C,toStyles:ge,timelines:we,queriedElements:Qe,preStyleProps:yt,postStyleProps:Zt,totalTime:mn,errors:dn}}const oo={};class Ya{constructor(p,g,C){this._triggerName=p,this.ast=g,this._stateStyles=C}match(p,g,C,H){return function xa(N,p,g,C,H){return N.some(te=>te(p,g,C,H))}(this.ast.matchers,p,g,C,H)}buildStyles(p,g,C){const H=this._stateStyles["*"],te=this._stateStyles[p],ge=H?H.buildStyles(g,C):{};return te?te.buildStyles(g,C):ge}build(p,g,C,H,te,ge,we,Qe,yt,Zt){const mn=[],dn=this.ast.options&&this.ast.options.params||oo,un=this.buildStyles(C,we&&we.params||oo,mn),Vn=Qe&&Qe.params||oo,qn=this.buildStyles(H,Vn,mn),jr=new Set,Si=new Map,as=new Map,Xi="void"===H,Yu={params:Object.assign(Object.assign({},dn),Vn)},ea=Zt?[]:go(p,g,this.ast.animation,te,ge,un,qn,Yu,yt,mn);let Hs=0;if(ea.forEach(us=>{Hs=Math.max(us.duration+us.delay,Hs)}),mn.length)return la(g,this._triggerName,C,H,Xi,un,qn,[],[],Si,as,Hs,mn);ea.forEach(us=>{const Ga=us.element,lf=Kr(Si,Ga,{});us.preStyleProps.forEach(Ju=>lf[Ju]=!0);const Qu=Kr(as,Ga,{});us.postStyleProps.forEach(Ju=>Qu[Ju]=!0),Ga!==g&&jr.add(Ga)});const to=Ft(jr.values());return la(g,this._triggerName,C,H,Xi,un,qn,ea,to,Si,as,Hs)}}class ii{constructor(p,g,C){this.styles=p,this.defaultParams=g,this.normalizer=C}buildStyles(p,g){const C={},H=$i(this.defaultParams);return Object.keys(p).forEach(te=>{const ge=p[te];null!=ge&&(H[te]=ge)}),this.styles.styles.forEach(te=>{if("string"!=typeof te){const ge=te;Object.keys(ge).forEach(we=>{let Qe=ge[we];Qe.length>1&&(Qe=vt(Qe,H,g));const yt=this.normalizer.normalizePropertyName(we,g);Qe=this.normalizer.normalizeStyleValue(we,yt,Qe,g),C[yt]=Qe})}}),C}}class ti{constructor(p,g,C){this.name=p,this.ast=g,this._normalizer=C,this.transitionFactories=[],this.states={},g.states.forEach(H=>{this.states[H.name]=new ii(H.style,H.options&&H.options.params||{},C)}),Ja(this.states,"true","1"),Ja(this.states,"false","0"),g.transitions.forEach(H=>{this.transitionFactories.push(new Ya(p,H,this.states))}),this.fallbackTransition=function Qa(N,p,g){return new Ya(N,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ge,we)=>!0],options:null,queryCount:0,depCount:0},p)}(p,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(p,g,C,H){return this.transitionFactories.find(ge=>ge.match(p,g,C,H))||null}matchStyles(p,g,C){return this.fallbackTransition.buildStyles(p,g,C)}}function Ja(N,p,g){N.hasOwnProperty(p)?N.hasOwnProperty(g)||(N[g]=N[p]):N.hasOwnProperty(g)&&(N[p]=N[g])}const Xa=new Ys;class Ds{constructor(p,g,C){this.bodyNode=p,this._driver=g,this._normalizer=C,this._animations={},this._playersById={},this.players=[]}register(p,g){const C=[],H=Pt(this._driver,g,C);if(C.length)throw new Error(`Unable to build the animation due to the following errors: ${C.join("\n")}`);this._animations[p]=H}_buildPlayer(p,g,C){const H=p.element,te=ri(0,this._normalizer,0,p.keyframes,g,C);return this._driver.animate(H,te,p.duration,p.delay,p.easing,[],!0)}create(p,g,C={}){const H=[],te=this._animations[p];let ge;const we=new Map;if(te?(ge=go(this._driver,g,te,Ni,Qr,{},{},C,Xa,H),ge.forEach(Zt=>{const mn=Kr(we,Zt.element,{});Zt.postStyleProps.forEach(dn=>mn[dn]=null)})):(H.push("The requested animation doesn't exist or has already been destroyed"),ge=[]),H.length)throw new Error(`Unable to create the animation due to the following errors: ${H.join("\n")}`);we.forEach((Zt,mn)=>{Object.keys(Zt).forEach(dn=>{Zt[dn]=this._driver.computeStyle(mn,dn,Wn.l3)})});const yt=Gr(ge.map(Zt=>{const mn=we.get(Zt.element);return this._buildPlayer(Zt,{},mn)}));return this._playersById[p]=yt,yt.onDestroy(()=>this.destroy(p)),this.players.push(yt),yt}destroy(p){const g=this._getPlayer(p);g.destroy(),delete this._playersById[p];const C=this.players.indexOf(g);C>=0&&this.players.splice(C,1)}_getPlayer(p){const g=this._playersById[p];if(!g)throw new Error(`Unable to find the timeline player referenced by ${p}`);return g}listen(p,g,C,H){const te=yi(g,"","","");return Ws(this._getPlayer(p),C,te,H),()=>{}}command(p,g,C,H){if("register"==C)return void this.register(p,H[0]);if("create"==C)return void this.create(p,g,H[0]||{});const te=this._getPlayer(p);switch(C){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(H[0]));break;case"destroy":this.destroy(p)}}}const Su="ng-animate-queued",ps="ng-animate-disabled",Ls=".ng-animate-disabled",Mu=[],ca={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ts={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},si="__ng_removed";class gs{constructor(p,g=""){this.namespaceId=g;const C=p&&p.hasOwnProperty("value");if(this.value=function Il(N){return null!=N?N:null}(C?p.value:p),C){const te=$i(p);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(p){const g=p.params;if(g){const C=this.options.params;Object.keys(g).forEach(H=>{null==C[H]&&(C[H]=g[H])})}}}const Wo="void",Vs=new gs(Wo);class oi{constructor(p,g,C){this.id=p,this.hostElement=g,this._engine=C,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+p,$t(g,this._hostClassName)}listen(p,g,C,H){if(!this._triggers.hasOwnProperty(g))throw new Error(`Unable to listen on the animation trigger event "${C}" because the animation trigger "${g}" doesn't exist!`);if(null==C||0==C.length)throw new Error(`Unable to listen on the animation trigger "${g}" because the provided event is undefined!`);if(!function qr(N){return"start"==N||"done"==N}(C))throw new Error(`The provided animation trigger event "${C}" for the animation trigger "${g}" is not supported!`);const te=Kr(this._elementListeners,p,[]),ge={name:g,phase:C,callback:H};te.push(ge);const we=Kr(this._engine.statesByElement,p,{});return we.hasOwnProperty(g)||($t(p,_r),$t(p,_r+"-"+g),we[g]=Vs),()=>{this._engine.afterFlush(()=>{const Qe=te.indexOf(ge);Qe>=0&&te.splice(Qe,1),this._triggers[g]||delete we[g]})}}register(p,g){return!this._triggers[p]&&(this._triggers[p]=g,!0)}_getTrigger(p){const g=this._triggers[p];if(!g)throw new Error(`The provided animation trigger "${p}" has not been registered!`);return g}trigger(p,g,C,H=!0){const te=this._getTrigger(g),ge=new Us(this.id,g,p);let we=this._engine.statesByElement.get(p);we||($t(p,_r),$t(p,_r+"-"+g),this._engine.statesByElement.set(p,we={}));let Qe=we[g];const yt=new gs(C,this.id);if(!(C&&C.hasOwnProperty("value"))&&Qe&&yt.absorbOptions(Qe.options),we[g]=yt,Qe||(Qe=Vs),yt.value!==Wo&&Qe.value===yt.value){if(!function Ou(N,p){const g=Object.keys(N),C=Object.keys(p);if(g.length!=C.length)return!1;for(let H=0;H<g.length;H++){const te=g[H];if(!p.hasOwnProperty(te)||N[te]!==p[te])return!1}return!0}(Qe.params,yt.params)){const Vn=[],qn=te.matchStyles(Qe.value,Qe.params,Vn),jr=te.matchStyles(yt.value,yt.params,Vn);Vn.length?this._engine.reportError(Vn):this._engine.afterFlush(()=>{R(p,qn),wr(p,jr)})}return}const dn=Kr(this._engine.playersByElement,p,[]);dn.forEach(Vn=>{Vn.namespaceId==this.id&&Vn.triggerName==g&&Vn.queued&&Vn.destroy()});let _n=te.matchTransition(Qe.value,yt.value,p,yt.params),un=!1;if(!_n){if(!H)return;_n=te.fallbackTransition,un=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:g,transition:_n,fromState:Qe,toState:yt,player:ge,isFallbackTransition:un}),un||($t(p,Su),ge.onStart(()=>{ht(p,Su)})),ge.onDone(()=>{let Vn=this.players.indexOf(ge);Vn>=0&&this.players.splice(Vn,1);const qn=this._engine.playersByElement.get(p);if(qn){let jr=qn.indexOf(ge);jr>=0&&qn.splice(jr,1)}}),this.players.push(ge),dn.push(ge),ge}deregister(p){delete this._triggers[p],this._engine.statesByElement.forEach((g,C)=>{delete g[p]}),this._elementListeners.forEach((g,C)=>{this._elementListeners.set(C,g.filter(H=>H.name!=p))})}clearElementCache(p){this._engine.statesByElement.delete(p),this._elementListeners.delete(p);const g=this._engine.playersByElement.get(p);g&&(g.forEach(C=>C.destroy()),this._engine.playersByElement.delete(p))}_signalRemovalForInnerTriggers(p,g){const C=this._engine.driver.query(p,Bi,!0);C.forEach(H=>{if(H[si])return;const te=this._engine.fetchNamespacesByElement(H);te.size?te.forEach(ge=>ge.triggerLeaveAnimation(H,g,!1,!0)):this.clearElementCache(H)}),this._engine.afterFlushAnimationsDone(()=>C.forEach(H=>this.clearElementCache(H)))}triggerLeaveAnimation(p,g,C,H){const te=this._engine.statesByElement.get(p);if(te){const ge=[];if(Object.keys(te).forEach(we=>{if(this._triggers[we]){const Qe=this.trigger(p,we,Wo,H);Qe&&ge.push(Qe)}}),ge.length)return this._engine.markElementAsRemoved(this.id,p,!0,g),C&&Gr(ge).onDone(()=>this._engine.processLeaveNode(p)),!0}return!1}prepareLeaveAnimationListeners(p){const g=this._elementListeners.get(p),C=this._engine.statesByElement.get(p);if(g&&C){const H=new Set;g.forEach(te=>{const ge=te.name;if(H.has(ge))return;H.add(ge);const Qe=this._triggers[ge].fallbackTransition,yt=C[ge]||Vs,Zt=new gs(Wo),mn=new Us(this.id,ge,p);this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:ge,transition:Qe,fromState:yt,toState:Zt,player:mn,isFallbackTransition:!0})})}}removeNode(p,g){const C=this._engine;if(p.childElementCount&&this._signalRemovalForInnerTriggers(p,g),this.triggerLeaveAnimation(p,g,!0))return;let H=!1;if(C.totalAnimations){const te=C.players.length?C.playersByQueriedElement.get(p):[];if(te&&te.length)H=!0;else{let ge=p;for(;ge=ge.parentNode;)if(C.statesByElement.get(ge)){H=!0;break}}}if(this.prepareLeaveAnimationListeners(p),H)C.markElementAsRemoved(this.id,p,!1,g);else{const te=p[si];(!te||te===ca)&&(C.afterFlush(()=>this.clearElementCache(p)),C.destroyInnerAnimations(p),C._onRemovalComplete(p,g))}}insertNode(p,g){$t(p,this._hostClassName)}drainQueuedTransitions(p){const g=[];return this._queue.forEach(C=>{const H=C.player;if(H.destroyed)return;const te=C.element,ge=this._elementListeners.get(te);ge&&ge.forEach(we=>{if(we.name==C.triggerName){const Qe=yi(te,C.triggerName,C.fromState.value,C.toState.value);Qe._data=p,Ws(C.player,we.phase,Qe,we.callback)}}),H.markedForDestroy?this._engine.afterFlush(()=>{H.destroy()}):g.push(C)}),this._queue=[],g.sort((C,H)=>{const te=C.transition.ast.depCount,ge=H.transition.ast.depCount;return 0==te||0==ge?te-ge:this._engine.driver.containsElement(C.element,H.element)?1:-1})}destroy(p){this.players.forEach(g=>g.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,p)}elementContainsData(p){let g=!1;return this._elementListeners.has(p)&&(g=!0),g=!!this._queue.find(C=>C.element===p)||g,g}}class Ko{constructor(p,g,C){this.bodyNode=p,this.driver=g,this._normalizer=C,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(H,te)=>{}}_onRemovalComplete(p,g){this.onRemovalComplete(p,g)}get queuedPlayers(){const p=[];return this._namespaceList.forEach(g=>{g.players.forEach(C=>{C.queued&&p.push(C)})}),p}createNamespace(p,g){const C=new oi(p,g,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,g)?this._balanceNamespaceList(C,g):(this.newHostElements.set(g,C),this.collectEnterElement(g)),this._namespaceLookup[p]=C}_balanceNamespaceList(p,g){const C=this._namespaceList.length-1;if(C>=0){let H=!1;for(let te=C;te>=0;te--)if(this.driver.containsElement(this._namespaceList[te].hostElement,g)){this._namespaceList.splice(te+1,0,p),H=!0;break}H||this._namespaceList.splice(0,0,p)}else this._namespaceList.push(p);return this.namespacesByHostElement.set(g,p),p}register(p,g){let C=this._namespaceLookup[p];return C||(C=this.createNamespace(p,g)),C}registerTrigger(p,g,C){let H=this._namespaceLookup[p];H&&H.register(g,C)&&this.totalAnimations++}destroy(p,g){if(!p)return;const C=this._fetchNamespace(p);this.afterFlush(()=>{this.namespacesByHostElement.delete(C.hostElement),delete this._namespaceLookup[p];const H=this._namespaceList.indexOf(C);H>=0&&this._namespaceList.splice(H,1)}),this.afterFlushAnimationsDone(()=>C.destroy(g))}_fetchNamespace(p){return this._namespaceLookup[p]}fetchNamespacesByElement(p){const g=new Set,C=this.statesByElement.get(p);if(C){const H=Object.keys(C);for(let te=0;te<H.length;te++){const ge=C[H[te]].namespaceId;if(ge){const we=this._fetchNamespace(ge);we&&g.add(we)}}}return g}trigger(p,g,C,H){if(Kt(g)){const te=this._fetchNamespace(p);if(te)return te.trigger(g,C,H),!0}return!1}insertNode(p,g,C,H){if(!Kt(g))return;const te=g[si];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const ge=this.collectedLeaveElements.indexOf(g);ge>=0&&this.collectedLeaveElements.splice(ge,1)}if(p){const ge=this._fetchNamespace(p);ge&&ge.insertNode(g,C)}H&&this.collectEnterElement(g)}collectEnterElement(p){this.collectedEnterElements.push(p)}markElementAsDisabled(p,g){g?this.disabledNodes.has(p)||(this.disabledNodes.add(p),$t(p,ps)):this.disabledNodes.has(p)&&(this.disabledNodes.delete(p),ht(p,ps))}removeNode(p,g,C,H){if(Kt(g)){const te=p?this._fetchNamespace(p):null;if(te?te.removeNode(g,H):this.markElementAsRemoved(p,g,!1,H),C){const ge=this.namespacesByHostElement.get(g);ge&&ge.id!==p&&ge.removeNode(g,H)}}else this._onRemovalComplete(g,H)}markElementAsRemoved(p,g,C,H){this.collectedLeaveElements.push(g),g[si]={namespaceId:p,setForRemoval:H,hasAnimation:C,removedBeforeQueried:!1}}listen(p,g,C,H,te){return Kt(g)?this._fetchNamespace(p).listen(g,C,H,te):()=>{}}_buildInstruction(p,g,C,H,te){return p.transition.build(this.driver,p.element,p.fromState.value,p.toState.value,C,H,p.fromState.options,p.toState.options,g,te)}destroyInnerAnimations(p){let g=this.driver.query(p,Bi,!0);g.forEach(C=>this.destroyActiveAnimationsForElement(C)),0!=this.playersByQueriedElement.size&&(g=this.driver.query(p,Ur,!0),g.forEach(C=>this.finishActiveQueriedAnimationOnElement(C)))}destroyActiveAnimationsForElement(p){const g=this.playersByElement.get(p);g&&g.forEach(C=>{C.queued?C.markedForDestroy=!0:C.destroy()})}finishActiveQueriedAnimationOnElement(p){const g=this.playersByQueriedElement.get(p);g&&g.forEach(C=>C.finish())}whenRenderingDone(){return new Promise(p=>{if(this.players.length)return Gr(this.players).onDone(()=>p());p()})}processLeaveNode(p){const g=p[si];if(g&&g.setForRemoval){if(p[si]=ca,g.namespaceId){this.destroyInnerAnimations(p);const C=this._fetchNamespace(g.namespaceId);C&&C.clearElementCache(p)}this._onRemovalComplete(p,g.setForRemoval)}this.driver.matchesElement(p,Ls)&&this.markElementAsDisabled(p,!1),this.driver.query(p,Ls,!0).forEach(C=>{this.markElementAsDisabled(C,!1)})}flush(p=-1){let g=[];if(this.newHostElements.size&&(this.newHostElements.forEach((C,H)=>this._balanceNamespaceList(C,H)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let C=0;C<this.collectedEnterElements.length;C++)$t(this.collectedEnterElements[C],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const C=[];try{g=this._flushAnimations(C,p)}finally{for(let H=0;H<C.length;H++)C[H]()}}else for(let C=0;C<this.collectedLeaveElements.length;C++)this.processLeaveNode(this.collectedLeaveElements[C]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(C=>C()),this._flushFns=[],this._whenQuietFns.length){const C=this._whenQuietFns;this._whenQuietFns=[],g.length?Gr(g).onDone(()=>{C.forEach(H=>H())}):C.forEach(H=>H())}}reportError(p){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${p.join("\n")}`)}_flushAnimations(p,g){const C=new Ys,H=[],te=new Map,ge=[],we=new Map,Qe=new Map,yt=new Map,Zt=new Set;this.disabledNodes.forEach(Mn=>{Zt.add(Mn);const Zn=this.driver.query(Mn,".ng-animate-queued",!0);for(let dr=0;dr<Zn.length;dr++)Zt.add(Zn[dr])});const mn=this.bodyNode,dn=Array.from(this.statesByElement.keys()),_n=In(dn,this.collectedEnterElements),un=new Map;let Vn=0;_n.forEach((Mn,Zn)=>{const dr=Ni+Vn++;un.set(Zn,dr),Mn.forEach(Cr=>$t(Cr,dr))});const qn=[],jr=new Set,Si=new Set;for(let Mn=0;Mn<this.collectedLeaveElements.length;Mn++){const Zn=this.collectedLeaveElements[Mn],dr=Zn[si];dr&&dr.setForRemoval&&(qn.push(Zn),jr.add(Zn),dr.hasAnimation?this.driver.query(Zn,".ng-star-inserted",!0).forEach(Cr=>jr.add(Cr)):Si.add(Zn))}const as=new Map,Xi=In(dn,Array.from(jr));Xi.forEach((Mn,Zn)=>{const dr=Qr+Vn++;as.set(Zn,dr),Mn.forEach(Cr=>$t(Cr,dr))}),p.push(()=>{_n.forEach((Mn,Zn)=>{const dr=un.get(Zn);Mn.forEach(Cr=>ht(Cr,dr))}),Xi.forEach((Mn,Zn)=>{const dr=as.get(Zn);Mn.forEach(Cr=>ht(Cr,dr))}),qn.forEach(Mn=>{this.processLeaveNode(Mn)})});const Yu=[],ea=[];for(let Mn=this._namespaceList.length-1;Mn>=0;Mn--)this._namespaceList[Mn].drainQueuedTransitions(g).forEach(dr=>{const Cr=dr.player,zi=dr.element;if(Yu.push(Cr),this.collectedEnterElements.length){const gt=zi[si];if(gt&&gt.setForMove)return void Cr.destroy()}const Lo=!mn||!this.driver.containsElement(mn,zi),Ms=as.get(zi),ta=un.get(zi),mi=this._buildInstruction(dr,C,ta,Ms,Lo);if(mi.errors&&mi.errors.length)ea.push(mi);else{if(Lo)return Cr.onStart(()=>R(zi,mi.fromStyles)),Cr.onDestroy(()=>wr(zi,mi.toStyles)),void H.push(Cr);if(dr.isFallbackTransition)return Cr.onStart(()=>R(zi,mi.fromStyles)),Cr.onDestroy(()=>wr(zi,mi.toStyles)),void H.push(Cr);mi.timelines.forEach(gt=>gt.stretchStartingKeyframe=!0),C.append(zi,mi.timelines),ge.push({instruction:mi,player:Cr,element:zi}),mi.queriedElements.forEach(gt=>Kr(we,gt,[]).push(Cr)),mi.preStyleProps.forEach((gt,na)=>{const Gs=Object.keys(gt);if(Gs.length){let fu=Qe.get(na);fu||Qe.set(na,fu=new Set),Gs.forEach(ba=>fu.add(ba))}}),mi.postStyleProps.forEach((gt,na)=>{const Gs=Object.keys(gt);let fu=yt.get(na);fu||yt.set(na,fu=new Set),Gs.forEach(ba=>fu.add(ba))})}});if(ea.length){const Mn=[];ea.forEach(Zn=>{Mn.push(`@${Zn.triggerName} has failed due to:\n`),Zn.errors.forEach(dr=>Mn.push(`- ${dr}\n`))}),Yu.forEach(Zn=>Zn.destroy()),this.reportError(Mn)}const Hs=new Map,to=new Map;ge.forEach(Mn=>{const Zn=Mn.element;C.has(Zn)&&(to.set(Zn,Zn),this._beforeAnimationBuild(Mn.player.namespaceId,Mn.instruction,Hs))}),H.forEach(Mn=>{const Zn=Mn.element;this._getPreviousPlayers(Zn,!1,Mn.namespaceId,Mn.triggerName,null).forEach(Cr=>{Kr(Hs,Zn,[]).push(Cr),Cr.destroy()})});const us=qn.filter(Mn=>ha(Mn,Qe,yt)),Ga=new Map;Mo(Ga,this.driver,Si,yt,Wn.l3).forEach(Mn=>{ha(Mn,Qe,yt)&&us.push(Mn)});const Qu=new Map;_n.forEach((Mn,Zn)=>{Mo(Qu,this.driver,new Set(Mn),Qe,Wn.k1)}),us.forEach(Mn=>{const Zn=Ga.get(Mn),dr=Qu.get(Mn);Ga.set(Mn,Object.assign(Object.assign({},Zn),dr))});const Ju=[],Fo=[],pc={};ge.forEach(Mn=>{const{element:Zn,player:dr,instruction:Cr}=Mn;if(C.has(Zn)){if(Zt.has(Zn))return dr.onDestroy(()=>wr(Zn,Cr.toStyles)),dr.disabled=!0,dr.overrideTotalTime(Cr.totalTime),void H.push(dr);let zi=pc;if(to.size>1){let Ms=Zn;const ta=[];for(;Ms=Ms.parentNode;){const mi=to.get(Ms);if(mi){zi=mi;break}ta.push(Ms)}ta.forEach(mi=>to.set(mi,zi))}const Lo=this._buildAnimation(dr.namespaceId,Cr,Hs,te,Qu,Ga);if(dr.setRealPlayer(Lo),zi===pc)Ju.push(dr);else{const Ms=this.playersByElement.get(zi);Ms&&Ms.length&&(dr.parentPlayer=Gr(Ms)),H.push(dr)}}else R(Zn,Cr.fromStyles),dr.onDestroy(()=>wr(Zn,Cr.toStyles)),Fo.push(dr),Zt.has(Zn)&&H.push(dr)}),Fo.forEach(Mn=>{const Zn=te.get(Mn.element);if(Zn&&Zn.length){const dr=Gr(Zn);Mn.setRealPlayer(dr)}}),H.forEach(Mn=>{Mn.parentPlayer?Mn.syncPlayerEvents(Mn.parentPlayer):Mn.destroy()});for(let Mn=0;Mn<qn.length;Mn++){const Zn=qn[Mn],dr=Zn[si];if(ht(Zn,Qr),dr&&dr.hasAnimation)continue;let Cr=[];if(we.size){let Lo=we.get(Zn);Lo&&Lo.length&&Cr.push(...Lo);let Ms=this.driver.query(Zn,Ur,!0);for(let ta=0;ta<Ms.length;ta++){let mi=we.get(Ms[ta]);mi&&mi.length&&Cr.push(...mi)}}const zi=Cr.filter(Lo=>!Lo.destroyed);zi.length?jt(this,Zn,zi):this.processLeaveNode(Zn)}return qn.length=0,Ju.forEach(Mn=>{this.players.push(Mn),Mn.onDone(()=>{Mn.destroy();const Zn=this.players.indexOf(Mn);this.players.splice(Zn,1)}),Mn.play()}),Ju}elementContainsData(p,g){let C=!1;const H=g[si];return H&&H.setForRemoval&&(C=!0),this.playersByElement.has(g)&&(C=!0),this.playersByQueriedElement.has(g)&&(C=!0),this.statesByElement.has(g)&&(C=!0),this._fetchNamespace(p).elementContainsData(g)||C}afterFlush(p){this._flushFns.push(p)}afterFlushAnimationsDone(p){this._whenQuietFns.push(p)}_getPreviousPlayers(p,g,C,H,te){let ge=[];if(g){const we=this.playersByQueriedElement.get(p);we&&(ge=we)}else{const we=this.playersByElement.get(p);if(we){const Qe=!te||te==Wo;we.forEach(yt=>{yt.queued||!Qe&&yt.triggerName!=H||ge.push(yt)})}}return(C||H)&&(ge=ge.filter(we=>!(C&&C!=we.namespaceId||H&&H!=we.triggerName))),ge}_beforeAnimationBuild(p,g,C){const te=g.element,ge=g.isRemovalTransition?void 0:p,we=g.isRemovalTransition?void 0:g.triggerName;for(const Qe of g.timelines){const yt=Qe.element,Zt=yt!==te,mn=Kr(C,yt,[]);this._getPreviousPlayers(yt,Zt,ge,we,g.toState).forEach(_n=>{const un=_n.getRealPlayer();un.beforeDestroy&&un.beforeDestroy(),_n.destroy(),mn.push(_n)})}R(te,g.fromStyles)}_buildAnimation(p,g,C,H,te,ge){const we=g.triggerName,Qe=g.element,yt=[],Zt=new Set,mn=new Set,dn=g.timelines.map(un=>{const Vn=un.element;Zt.add(Vn);const qn=Vn[si];if(qn&&qn.removedBeforeQueried)return new Wn.ZN(un.duration,un.delay);const jr=Vn!==Qe,Si=function ai(N){const p=[];return Na(N,p),p}((C.get(Vn)||Mu).map(Hs=>Hs.getRealPlayer())).filter(Hs=>!!Hs.element&&Hs.element===Vn),as=te.get(Vn),Xi=ge.get(Vn),Yu=ri(0,this._normalizer,0,un.keyframes,as,Xi),ea=this._buildPlayer(un,Yu,Si);if(un.subTimeline&&H&&mn.add(Vn),jr){const Hs=new Us(p,we,Vn);Hs.setRealPlayer(ea),yt.push(Hs)}return ea});yt.forEach(un=>{Kr(this.playersByQueriedElement,un.element,[]).push(un),un.onDone(()=>function eu(N,p,g){let C;if(N instanceof Map){if(C=N.get(p),C){if(C.length){const H=C.indexOf(g);C.splice(H,1)}0==C.length&&N.delete(p)}}else if(C=N[p],C){if(C.length){const H=C.indexOf(g);C.splice(H,1)}0==C.length&&delete N[p]}return C}(this.playersByQueriedElement,un.element,un))}),Zt.forEach(un=>$t(un,Di));const _n=Gr(dn);return _n.onDestroy(()=>{Zt.forEach(un=>ht(un,Di)),wr(Qe,g.toStyles)}),mn.forEach(un=>{Kr(H,un,[]).push(_n)}),_n}_buildPlayer(p,g,C){return g.length>0?this.driver.animate(p.element,g,p.duration,p.delay,p.easing,C):new Wn.ZN(p.duration,p.delay)}}class Us{constructor(p,g,C){this.namespaceId=p,this.triggerName=g,this.element=C,this._player=new Wn.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(p){this._containsRealPlayer||(this._player=p,Object.keys(this._queuedCallbacks).forEach(g=>{this._queuedCallbacks[g].forEach(C=>Ws(p,g,void 0,C))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(p.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(p){this.totalTime=p}syncPlayerEvents(p){const g=this._player;g.triggerCallback&&p.onStart(()=>g.triggerCallback("start")),p.onDone(()=>this.finish()),p.onDestroy(()=>this.destroy())}_queueEvent(p,g){Kr(this._queuedCallbacks,p,[]).push(g)}onDone(p){this.queued&&this._queueEvent("done",p),this._player.onDone(p)}onStart(p){this.queued&&this._queueEvent("start",p),this._player.onStart(p)}onDestroy(p){this.queued&&this._queueEvent("destroy",p),this._player.onDestroy(p)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(p){const g=this._player;g.triggerCallback&&g.triggerCallback(p)}}function Kt(N){return N&&1===N.nodeType}function Bs(N,p){const g=N.style.display;return N.style.display=null!=p?p:"none",g}function Mo(N,p,g,C,H){const te=[];g.forEach(Qe=>te.push(Bs(Qe)));const ge=[];C.forEach((Qe,yt)=>{const Zt={};Qe.forEach(mn=>{const dn=Zt[mn]=p.computeStyle(yt,mn,H);(!dn||0==dn.length)&&(yt[si]=Ts,ge.push(yt))}),N.set(yt,Zt)});let we=0;return g.forEach(Qe=>Bs(Qe,te[we++])),ge}function In(N,p){const g=new Map;if(N.forEach(we=>g.set(we,[])),0==p.length)return g;const H=new Set(p),te=new Map;function ge(we){if(!we)return 1;let Qe=te.get(we);if(Qe)return Qe;const yt=we.parentNode;return Qe=g.has(yt)?yt:H.has(yt)?1:ge(yt),te.set(we,Qe),Qe}return p.forEach(we=>{const Qe=ge(we);1!==Qe&&g.get(Qe).push(we)}),g}const Ln="$$classes";function $t(N,p){if(N.classList)N.classList.add(p);else{let g=N[Ln];g||(g=N[Ln]={}),g[p]=!0}}function ht(N,p){if(N.classList)N.classList.remove(p);else{let g=N[Ln];g&&delete g[p]}}function jt(N,p,g){Gr(g).onDone(()=>N.processLeaveNode(p))}function Na(N,p){for(let g=0;g<N.length;g++){const C=N[g];C instanceof Wn.ZE?Na(C.players,p):p.push(C)}}function ha(N,p,g){const C=g.get(N);if(!C)return!1;let H=p.get(N);return H?C.forEach(te=>H.add(te)):p.set(N,C),g.delete(N),!0}class fa{constructor(p,g,C){this.bodyNode=p,this._driver=g,this._normalizer=C,this._triggerCache={},this.onRemovalComplete=(H,te)=>{},this._transitionEngine=new Ko(p,g,C),this._timelineEngine=new Ds(p,g,C),this._transitionEngine.onRemovalComplete=(H,te)=>this.onRemovalComplete(H,te)}registerTrigger(p,g,C,H,te){const ge=p+"-"+H;let we=this._triggerCache[ge];if(!we){const Qe=[],yt=Pt(this._driver,te,Qe);if(Qe.length)throw new Error(`The animation trigger "${H}" has failed to build due to the following errors:\n - ${Qe.join("\n - ")}`);we=function ao(N,p,g){return new ti(N,p,g)}(H,yt,this._normalizer),this._triggerCache[ge]=we}this._transitionEngine.registerTrigger(g,H,we)}register(p,g){this._transitionEngine.register(p,g)}destroy(p,g){this._transitionEngine.destroy(p,g)}onInsert(p,g,C,H){this._transitionEngine.insertNode(p,g,C,H)}onRemove(p,g,C,H){this._transitionEngine.removeNode(p,g,H||!1,C)}disableAnimations(p,g){this._transitionEngine.markElementAsDisabled(p,g)}process(p,g,C,H){if("@"==C.charAt(0)){const[te,ge]=Es(C);this._timelineEngine.command(te,g,ge,H)}else this._transitionEngine.trigger(p,g,C,H)}listen(p,g,C,H,te){if("@"==C.charAt(0)){const[ge,we]=Es(C);return this._timelineEngine.listen(ge,g,we,te)}return this._transitionEngine.listen(p,g,C,H,te)}flush(p=-1){this._transitionEngine.flush(p)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function xu(N,p){let g=null,C=null;return Array.isArray(p)&&p.length?(g=Oo(p[0]),p.length>1&&(C=Oo(p[p.length-1]))):p&&(g=Oo(p)),g||C?new uo(N,g,C):null}let uo=(()=>{class N{constructor(g,C,H){this._element=g,this._startStyles=C,this._endStyles=H,this._state=0;let te=N.initialStylesByElement.get(g);te||N.initialStylesByElement.set(g,te={}),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&wr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wr(this._element,this._initialStyles),this._endStyles&&(wr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(N.initialStylesByElement.delete(this._element),this._startStyles&&(R(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(R(this._element,this._endStyles),this._endStyles=null),wr(this._element,this._initialStyles),this._state=3)}}return N.initialStylesByElement=new WeakMap,N})();function Oo(N){let p=null;const g=Object.keys(N);for(let C=0;C<g.length;C++){const H=g[C];qo(H)&&(p=p||{},p[H]=N[H])}return p}function qo(N){return"display"===N||"position"===N}const I="animation",b="animationend";class V{constructor(p,g,C,H,te,ge,we){this._element=p,this._name=g,this._duration=C,this._delay=H,this._easing=te,this._fillMode=ge,this._onDoneFn=we,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Qe=>this._handleCallback(Qe)}apply(){(function ye(N,p){const g=vr(N,"").trim();let C=0;g.length&&(C=function Sn(N,p){let g=0;for(let C=0;C<N.length;C++)N.charAt(C)===p&&g++;return g}(g,",")+1,p=`${g}, ${p}`),Nn(N,"",p)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),nr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Y(this._element,this._name,"paused")}resume(){Y(this._element,this._name,"running")}setPosition(p){const g=et(this._element,this._name);this._position=p*this._duration,Nn(this._element,"Delay",`-${this._position}ms`,g)}getPosition(){return this._position}_handleCallback(p){const g=p._ngTestManualTimestamp||Date.now(),C=1e3*parseFloat(p.elapsedTime.toFixed(3));p.animationName==this._name&&Math.max(g-this._startTime,0)>=this._delay&&C>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),nr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function Ae(N,p){const C=vr(N,"").split(","),H=hn(C,p);H>=0&&(C.splice(H,1),Nn(N,"",C.join(",")))}(this._element,this._name))}}function Y(N,p,g){Nn(N,"PlayState",g,et(N,p))}function et(N,p){const g=vr(N,"");return g.indexOf(",")>0?hn(g.split(","),p):hn([g],p)}function hn(N,p){for(let g=0;g<N.length;g++)if(N[g].indexOf(p)>=0)return g;return-1}function nr(N,p,g){g?N.removeEventListener(b,p):N.addEventListener(b,p)}function Nn(N,p,g,C){const H=I+p;if(null!=C){const te=N.style[H];if(te.length){const ge=te.split(",");ge[C]=g,g=ge.join(",")}}N.style[H]=g}function vr(N,p){return N.style[I+p]||""}class ki{constructor(p,g,C,H,te,ge,we,Qe){this.element=p,this.keyframes=g,this.animationName=C,this._duration=H,this._delay=te,this._finalStyles=we,this._specialStyles=Qe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=ge||"linear",this.totalTime=H+te,this._buildStyler()}onStart(p){this._onStartFns.push(p)}onDone(p){this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(p=>p()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(p=>p()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(p){this._styler.setPosition(p)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new V(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(p){const g="start"==p?this._onStartFns:this._onDoneFns;g.forEach(C=>C()),g.length=0}beforeDestroy(){this.init();const p={};if(this.hasStarted()){const g=this._state>=3;Object.keys(this._finalStyles).forEach(C=>{"offset"!=C&&(p[C]=g?this._finalStyles[C]:Ze(this.element,C))})}this.currentSnapshot=p}}class js extends Wn.ZN{constructor(p,g){super(),this.element=p,this._startingStyles={},this.__initialized=!1,this._styles=_i(g)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(p=>{this._startingStyles[p]=this.element.style[p]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(p=>this.element.style.setProperty(p,this._styles[p])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(p=>{const g=this._startingStyles[p];g?this.element.style.setProperty(p,g):this.element.style.removeProperty(p)}),this._startingStyles=null,super.destroy())}}class Ei{constructor(){this._count=0}validateStyleProperty(p){return xi(p)}matchesElement(p,g){return Ki(p,g)}containsElement(p,g){return Fs(p,g)}query(p,g,C){return hi(p,g,C)}computeStyle(p,g,C){return window.getComputedStyle(p)[g]}buildKeyframeElement(p,g,C){C=C.map(we=>_i(we));let H=`@keyframes ${g} {\n`,te="";C.forEach(we=>{te=" ";const Qe=parseFloat(we.offset);H+=`${te}${100*Qe}% {\n`,te+=" ",Object.keys(we).forEach(yt=>{const Zt=we[yt];switch(yt){case"offset":return;case"easing":return void(Zt&&(H+=`${te}animation-timing-function: ${Zt};\n`));default:return void(H+=`${te}${yt}: ${Zt};\n`)}}),H+=`${te}}\n`}),H+="}\n";const ge=document.createElement("style");return ge.textContent=H,ge}animate(p,g,C,H,te,ge=[],we){const Qe=ge.filter(qn=>qn instanceof ki),yt={};y(C,H)&&Qe.forEach(qn=>{let jr=qn.currentSnapshot;Object.keys(jr).forEach(Si=>yt[Si]=jr[Si])});const Zt=function xo(N){let p={};return N&&(Array.isArray(N)?N:[N]).forEach(C=>{Object.keys(C).forEach(H=>{"offset"==H||"easing"==H||(p[H]=C[H])})}),p}(g=x(p,g,yt));if(0==C)return new js(p,Zt);const mn="gen_css_kf_"+this._count++,dn=this.buildKeyframeElement(p,mn,g);(function Zr(N){var p;const g=null===(p=N.getRootNode)||void 0===p?void 0:p.call(N);return"undefined"!=typeof ShadowRoot&&g instanceof ShadowRoot?g:document.head})(p).appendChild(dn);const un=xu(p,g),Vn=new ki(p,g,mn,C,H,te,Zt,un);return Vn.onDestroy(()=>function Zo(N){N.parentNode.removeChild(N)}(dn)),Vn}}class ui{constructor(p,g,C,H){this.element=p,this.keyframes=g,this.options=C,this._specialStyles=H,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=C.duration,this._delay=C.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const p=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,p,this.options),this._finalKeyframe=p.length?p[p.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(p,g,C){return p.animate(g,C)}onStart(p){this._onStartFns.push(p)}onDone(p){this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(p=>p()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}setPosition(p){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const p={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(g=>{"offset"!=g&&(p[g]=this._finished?this._finalKeyframe[g]:Ze(this.element,g))}),this.currentSnapshot=p}triggerCallback(p){const g="start"==p?this._onStartFns:this._onDoneFns;g.forEach(C=>C()),g.length=0}}class No{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(tu().toString()),this._cssKeyframesDriver=new Ei}validateStyleProperty(p){return xi(p)}matchesElement(p,g){return Ki(p,g)}containsElement(p,g){return Fs(p,g)}query(p,g,C){return hi(p,g,C)}computeStyle(p,g,C){return window.getComputedStyle(p)[g]}overrideWebAnimationsSupport(p){this._isNativeImpl=p}animate(p,g,C,H,te,ge=[],we){if(!we&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(p,g,C,H,te,ge);const Zt={duration:C,delay:H,fill:0==H?"both":"forwards"};te&&(Zt.easing=te);const mn={},dn=ge.filter(un=>un instanceof ui);y(C,H)&&dn.forEach(un=>{let Vn=un.currentSnapshot;Object.keys(Vn).forEach(qn=>mn[qn]=Vn[qn])});const _n=xu(p,g=x(p,g=g.map(un=>fi(un,!1)),mn));return new ui(p,g,Zt,_n)}}function tu(){return Lr()&&Element.prototype.animate||{}}let Lc=(()=>{class N extends Wn._j{constructor(g,C){super(),this._nextAnimationId=0,this._renderer=g.createRenderer(C.body,{id:"0",encapsulation:w.ifc.None,styles:[],data:{animation:[]}})}build(g){const C=this._nextAnimationId.toString();this._nextAnimationId++;const H=Array.isArray(g)?(0,Wn.vP)(g):g;return Xl(this._renderer,null,C,"register",[H]),new on(C,this._renderer)}}return N.\u0275fac=function(g){return new(g||N)(w.LFG(w.FYo),w.LFG(oe.K0))},N.\u0275prov=w.Yz7({token:N,factory:N.\u0275fac}),N})();class on extends Wn.LC{constructor(p,g){super(),this._id=p,this._renderer=g}create(p,g){return new Vc(this._id,p,g||{},this._renderer)}}class Vc{constructor(p,g,C,H){this.id=p,this.element=g,this._renderer=H,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",C)}_listen(p,g){return this._renderer.listen(this.element,`@@${this.id}:${p}`,g)}_command(p,...g){return Xl(this._renderer,this.element,this.id,p,g)}onDone(p){this._listen("done",p)}onStart(p){this._listen("start",p)}onDestroy(p){this._listen("destroy",p)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(p){this._command("setPosition",p)}getPosition(){var p,g;return null!==(g=null===(p=this._renderer.engine.players[+this.id])||void 0===p?void 0:p.getPosition())&&void 0!==g?g:0}}function Xl(N,p,g,C,H){return N.setProperty(p,`@@${g}:${C}`,H)}const Js="@.disabled";let li=(()=>{class N{constructor(g,C,H){this.delegate=g,this.engine=C,this._zone=H,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),C.onRemovalComplete=(te,ge)=>{const we=null==ge?void 0:ge.parentNode(te);we&&ge.removeChild(we,te)}}createRenderer(g,C){const te=this.delegate.createRenderer(g,C);if(!(g&&C&&C.data&&C.data.animation)){let Zt=this._rendererCache.get(te);return Zt||(Zt=new $s("",te,this.engine),this._rendererCache.set(te,Zt)),Zt}const ge=C.id,we=C.id+"-"+this._currentId;this._currentId++,this.engine.register(we,g);const Qe=Zt=>{Array.isArray(Zt)?Zt.forEach(Qe):this.engine.registerTrigger(ge,we,g,Zt.name,Zt)};return C.data.animation.forEach(Qe),new ka(this,we,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(g,C,H){g>=0&&g<this._microtaskId?this._zone.run(()=>C(H)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[ge,we]=te;ge(we)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([C,H]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return N.\u0275fac=function(g){return new(g||N)(w.LFG(w.FYo),w.LFG(fa),w.LFG(w.R0b))},N.\u0275prov=w.Yz7({token:N,factory:N.\u0275fac}),N})();class $s{constructor(p,g,C){this.namespaceId=p,this.delegate=g,this.engine=C,this.destroyNode=this.delegate.destroyNode?H=>g.destroyNode(H):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(p,g){return this.delegate.createElement(p,g)}createComment(p){return this.delegate.createComment(p)}createText(p){return this.delegate.createText(p)}appendChild(p,g){this.delegate.appendChild(p,g),this.engine.onInsert(this.namespaceId,g,p,!1)}insertBefore(p,g,C,H=!0){this.delegate.insertBefore(p,g,C),this.engine.onInsert(this.namespaceId,g,p,H)}removeChild(p,g,C){this.engine.onRemove(this.namespaceId,g,this.delegate,C)}selectRootElement(p,g){return this.delegate.selectRootElement(p,g)}parentNode(p){return this.delegate.parentNode(p)}nextSibling(p){return this.delegate.nextSibling(p)}setAttribute(p,g,C,H){this.delegate.setAttribute(p,g,C,H)}removeAttribute(p,g,C){this.delegate.removeAttribute(p,g,C)}addClass(p,g){this.delegate.addClass(p,g)}removeClass(p,g){this.delegate.removeClass(p,g)}setStyle(p,g,C,H){this.delegate.setStyle(p,g,C,H)}removeStyle(p,g,C){this.delegate.removeStyle(p,g,C)}setProperty(p,g,C){"@"==g.charAt(0)&&g==Js?this.disableAnimations(p,!!C):this.delegate.setProperty(p,g,C)}setValue(p,g){this.delegate.setValue(p,g)}listen(p,g,C){return this.delegate.listen(p,g,C)}disableAnimations(p,g){this.engine.disableAnimations(p,g)}}class ka extends $s{constructor(p,g,C,H){super(g,C,H),this.factory=p,this.namespaceId=g}setProperty(p,g,C){"@"==g.charAt(0)?"."==g.charAt(1)&&g==Js?this.disableAnimations(p,C=void 0===C||!!C):this.engine.process(this.namespaceId,p,g.substr(1),C):this.delegate.setProperty(p,g,C)}listen(p,g,C){if("@"==g.charAt(0)){const H=function pa(N){switch(N){case"body":return document.body;case"document":return document;case"window":return window;default:return N}}(p);let te=g.substr(1),ge="";return"@"!=te.charAt(0)&&([te,ge]=function Dl(N){const p=N.indexOf(".");return[N.substring(0,p),N.substr(p+1)]}(te)),this.engine.listen(this.namespaceId,H,te,ge,we=>{this.factory.scheduleListenerCallback(we._data||-1,C,we)})}return this.delegate.listen(p,g,C)}}let Ai=(()=>{class N extends fa{constructor(g,C,H){super(g.body,C,H)}ngOnDestroy(){this.flush()}}return N.\u0275fac=function(g){return new(g||N)(w.LFG(oe.K0),w.LFG(qi),w.LFG(io))},N.\u0275prov=w.Yz7({token:N,factory:N.\u0275fac}),N})();const Ro=new w.OlP("AnimationModuleType"),Fa=[{provide:Wn._j,useClass:Lc},{provide:io,useFactory:function Yo(){return new Go}},{provide:fa,useClass:Ai},{provide:w.FYo,useFactory:function nu(N,p,g){return new li(N,p,g)},deps:[c.se,fa,w.R0b]}],Xs=[{provide:qi,useFactory:function ms(){return function Pa(){return"function"==typeof tu()}()?new No:new Ei}},{provide:Ro,useValue:"BrowserAnimations"},...Fa],Nu=[{provide:qi,useClass:Ui},{provide:Ro,useValue:"NoopAnimations"},...Fa];let $d=(()=>{class N{static withConfig(g){return{ngModule:N,providers:g.disableAnimations?Nu:Xs}}}return N.\u0275fac=function(g){return new(g||N)},N.\u0275mod=w.oAB({type:N}),N.\u0275inj=w.cJS({providers:Xs,imports:[c.b2]}),N})();var Ru=k(7128),os=k(573);k(2090),k(9681),k(1877),k(4859);class lo{constructor(p){return p}}class ru{constructor(){return(0,An.vb)("auth")}}const Ba=new w.OlP("angularfire2.auth-instances");function As(N){return(p,g)=>{const C=p.runOutsideAngular(()=>N(g));return new lo(C)}}const ku={provide:ru,deps:[[new w.FiY,Ba]]},Hd={provide:lo,useFactory:function ec(N,p){const g=(0,An.JM)("auth",N,p);return g&&new lo(g)},deps:[[new w.FiY,Ba],Xn.Ot]};let Qo=(()=>{class N{constructor(){(0,yn.KN)("angularfire",An.q4.full,"auth")}}return N.\u0275fac=function(g){return new(g||N)},N.\u0275mod=w.oAB({type:N}),N.\u0275inj=w.cJS({providers:[Hd,ku]}),N})();function co(N,...p){return{ngModule:Qo,providers:[{provide:Ba,useFactory:As(N),multi:!0,deps:[w.R0b,w.zs3,An.HU,Xn.z6,[new w.FiY,Ru.nm],...p]}]}}const zd=(0,An.u3)(os.n,!0);var lu=k(5525);class cu{constructor(p){return p}}const _o="firestore",wa=new w.OlP("angularfire2.firestore-instances");function du(N){return(p,g)=>{const C=p.runOutsideAngular(()=>N(g));return new cu(C)}}const qc={provide:class Yr{constructor(){return(0,An.vb)(_o)}},deps:[[new w.FiY,wa]]},Ml={provide:cu,useFactory:function Kc(N,p){const g=(0,An.JM)(_o,N,p);return g&&new cu(g)},deps:[[new w.FiY,wa],Xn.Ot]};let zu=(()=>{class N{constructor(){(0,yn.KN)("angularfire",An.q4.full,"fst")}}return N.\u0275fac=function(g){return new(g||N)},N.\u0275mod=w.oAB({type:N}),N.\u0275inj=w.cJS({providers:[Ml,qc]}),N})();function hu(N,...p){return{ngModule:zu,providers:[{provide:wa,useFactory:du(N),multi:!0,deps:[w.R0b,w.zs3,An.HU,Xn.z6,[new w.FiY,ru],[new w.FiY,Ru.nm],...p]}]}}const Yd=(0,An.u3)(lu.ad,!0);let nd=(()=>{class N{}return N.\u0275fac=function(g){return new(g||N)},N.\u0275mod=w.oAB({type:N,bootstrap:[pt]}),N.\u0275inj=w.cJS({providers:[],imports:[[c.b2,It,Ct.hO.initializeApp(Ce_firebase),nn.ww,Ne.yb,tr,G.UX,Te.Rh.forRoot(),$d,G.u5,Ke.JF,(0,Xn.hX)(()=>(0,Xn.ZF)(Ce_firebase)),co(()=>zd()),hu(()=>Yd())]]}),N})();(0,w.G48)(),c.q6().bootstrapModule(nd).catch(N=>console.error(N))},7982:(Qt,nt,k)=>{k.d(nt,{Gb:()=>c.Gb});var c=k(579)},5867:(Qt,nt,k)=>{k.d(nt,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=k(9681);(0,c.registerVersion)("firebase","9.7.0","app")},127:(Qt,nt,k)=>{k.d(nt,{Z:()=>c.Z});var c=k(3942);c.Z.registerVersion("firebase","9.7.0","app-compat")},5881:(Qt,nt,k)=>{k.r(nt);var c=k(5861),w=k(3942),G=k(573),ve=k(2090),De=(k(9681),k(1877),k(4859));function oe(){return window}function de(){return(de=(0,c.Z)(function*(X,ie,U){var J;const{BuildInfo:Q}=oe();(0,G.ap)(ie.sessionId,"AuthEvent did not contain a session ID");const be=yield Je(ie.sessionId),Xe={};return(0,G.aq)()?Xe.ibi=Q.packageName:(0,G.ar)()?Xe.apn=Q.packageName:(0,G.as)(X,"operation-not-supported-in-this-environment"),Q.displayName&&(Xe.appDisplayName=Q.displayName),Xe.sessionId=be,(0,G.at)(X,U,ie.type,void 0,null!==(J=ie.eventId)&&void 0!==J?J:void 0,Xe)})).apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*(X){const{BuildInfo:ie}=oe(),U={};(0,G.aq)()?U.iosBundleId=ie.packageName:(0,G.ar)()?U.androidPackageName=ie.packageName:(0,G.as)(X,"operation-not-supported-in-this-environment"),yield(0,G.au)(X,U)})).apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(X,ie,U){const{cordova:J}=oe();let Q=()=>{};try{yield new Promise((be,Xe)=>{let Tt=null;function Yt(){var Rn;be();const gr=null===(Rn=J.plugins.browsertab)||void 0===Rn?void 0:Rn.close;"function"==typeof gr&&gr(),"function"==typeof(null==U?void 0:U.close)&&U.close()}function Cn(){Tt||(Tt=window.setTimeout(()=>{Xe((0,G.av)(X,"redirect-cancelled-by-user"))},2e3))}function Fn(){"visible"===(null==document?void 0:document.visibilityState)&&Cn()}ie.addPassiveListener(Yt),document.addEventListener("resume",Cn,!1),(0,G.ar)()&&document.addEventListener("visibilitychange",Fn,!1),Q=()=>{ie.removePassiveListener(Yt),document.removeEventListener("resume",Cn,!1),document.removeEventListener("visibilitychange",Fn,!1),Tt&&window.clearTimeout(Tt)}})}finally{Q()}})).apply(this,arguments)}function Je(X){return lt.apply(this,arguments)}function lt(){return(lt=(0,c.Z)(function*(X){const ie=wt(X),U=yield crypto.subtle.digest("SHA-256",ie);return Array.from(new Uint8Array(U)).map(Q=>Q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function wt(X){if((0,G.ap)(/[0-9a-zA-Z]+/.test(X),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(X);const ie=new ArrayBuffer(X.length),U=new Uint8Array(ie);for(let J=0;J<X.length;J++)U[J]=X.charCodeAt(J);return U}class Re extends G.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ie=>{this.resolveInialized=ie})}addPassiveListener(ie){this.passiveListeners.add(ie)}removePassiveListener(ie){this.passiveListeners.delete(ie)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ie){return this.resolveInialized(),this.passiveListeners.forEach(U=>U(ie)),super.onEvent(ie)}initialized(){var ie=this;return(0,c.Z)(function*(){yield ie.initPromise})()}}function Ne(X){return St.apply(this,arguments)}function St(){return(St=(0,c.Z)(function*(X){const ie=yield _e()._get(xe(X));return ie&&(yield _e()._remove(xe(X))),ie})).apply(this,arguments)}function me(){const X=[],ie="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<20;U++){const J=Math.floor(Math.random()*ie.length);X.push(ie.charAt(J))}return X.join("")}function _e(){return(0,G.ax)(G.b)}function xe(X){return(0,G.ay)("authEvent",X.config.apiKey,X.name)}function mt(X){if(!(null==X?void 0:X.includes("?")))return{};const[ie,...U]=X.split("?");return(0,ve.zd)(U.join("?"))}function qt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,G.av)("no-auth-event")}}function Ce(){var X;return(null===(X=null==self?void 0:self.location)||void 0===X?void 0:X.protocol)||null}function Ct(X=(0,ve.z$)()){return!("file:"!==Ce()&&"ionic:"!==Ce()||!X.toLowerCase().match(/iphone|ipad|ipod|android/))}function sr(){try{const X=self.localStorage,ie=G.aG();if(X)return X.setItem(ie,"1"),X.removeItem(ie),!function ir(X=(0,ve.z$)()){return function vn(){return(0,ve.w1)()&&11===(null==document?void 0:document.documentMode)}()||function En(X=(0,ve.z$)()){return/Edge\/\d+/.test(X)}(X)}()||(0,ve.hl)()}catch(X){return Un()&&(0,ve.hl)()}return!1}function Un(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function an(){return(function Ke(){return"http:"===Ce()||"https:"===Ce()}()||(0,ve.ru)()||Ct())&&!function en(){return(0,ve.b$)()||(0,ve.UG)()}()&&sr()&&!Un()}function An(){return Ct()&&"undefined"!=typeof document}function nn(){return(nn=(0,c.Z)(function*(){return!!An()&&new Promise(X=>{const ie=setTimeout(()=>{X(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ie),X(!0)})})})).apply(this,arguments)}const xn={LOCAL:"local",NONE:"none",SESSION:"session"},Kn=G.aw,Et="persistence";function Se(X){return tt.apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(X){yield X._initializationPromise;const ie=Ut(),U=G.ay(Et,X.config.apiKey,X.name);ie&&ie.setItem(U,X._getPersistence())})).apply(this,arguments)}function Ut(){var X;try{return(null===(X=function kn(){return"undefined"!=typeof window?window:null}())||void 0===X?void 0:X.sessionStorage)||null}catch(ie){return null}}const kt=G.aw;class xt{constructor(){this.browserResolver=G.ax(G.k),this.cordovaResolver=G.ax(class cn{constructor(){this._redirectPersistence=G.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=G.aA}_initialize(ie){var U=this;return(0,c.Z)(function*(){const J=ie._key();let Q=U.eventManagers.get(J);return Q||(Q=new Re(ie),U.eventManagers.set(J,Q),U.attachCallbackListeners(ie,Q)),Q})()}_openPopup(ie){(0,G.as)(ie,"operation-not-supported-in-this-environment")}_openRedirect(ie,U,J,Q){var be=this;return(0,c.Z)(function*(){!function Pe(X){var ie,U,J,Q,be,Xe,Tt,Yt,Cn,Fn;const Rn=oe();(0,G.aw)("function"==typeof(null===(ie=null==Rn?void 0:Rn.universalLinks)||void 0===ie?void 0:ie.subscribe),X,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,G.aw)(void 0!==(null===(U=null==Rn?void 0:Rn.BuildInfo)||void 0===U?void 0:U.packageName),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,G.aw)("function"==typeof(null===(be=null===(Q=null===(J=null==Rn?void 0:Rn.cordova)||void 0===J?void 0:J.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===be?void 0:be.openUrl),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aw)("function"==typeof(null===(Yt=null===(Tt=null===(Xe=null==Rn?void 0:Rn.cordova)||void 0===Xe?void 0:Xe.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===Yt?void 0:Yt.isAvailable),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aw)("function"==typeof(null===(Fn=null===(Cn=null==Rn?void 0:Rn.cordova)||void 0===Cn?void 0:Cn.InAppBrowser)||void 0===Fn?void 0:Fn.open),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ie);const Xe=yield be._initialize(ie);yield Xe.initialized(),Xe.resetRedirect(),(0,G.aB)(),yield be._originValidation(ie);const Tt=function at(X,ie,U=null){return{type:ie,eventId:U,urlResponse:null,sessionId:me(),postBody:null,tenantId:X.tenantId,error:(0,G.av)(X,"no-auth-event")}}(ie,J,Q);yield function It(X,ie){return _e()._set(xe(X),ie)}(ie,Tt);const Yt=yield function ne(X,ie,U){return de.apply(this,arguments)}(ie,Tt,U),Cn=yield function it(X){const{cordova:ie}=oe();return new Promise(U=>{ie.plugins.browsertab.isAvailable(J=>{let Q=null;J?ie.plugins.browsertab.openUrl(X):Q=ie.InAppBrowser.open(X,(0,G.ao)()?"_blank":"_system","location=yes"),U(Q)})})}(Yt);return function Dt(X,ie,U){return Ot.apply(this,arguments)}(ie,Xe,Cn)})()}_isIframeWebStorageSupported(ie,U){throw new Error("Method not implemented.")}_originValidation(ie){const U=ie._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function Le(X){return ot.apply(this,arguments)}(ie)),this.originValidationPromises[U]}attachCallbackListeners(ie,U){const{universalLinks:J,handleOpenURL:Q,BuildInfo:be}=oe(),Xe=setTimeout((0,c.Z)(function*(){yield Ne(ie),U.onEvent(qt())}),500),Tt=function(){var Fn=(0,c.Z)(function*(Rn){clearTimeout(Xe);const gr=yield Ne(ie);let Hr=null;gr&&(null==Rn?void 0:Rn.url)&&(Hr=function ue(X,ie){var U,J;const Q=function fe(X){const ie=mt(X),U=ie.link?decodeURIComponent(ie.link):void 0,J=mt(U).link,Q=ie.deep_link_id?decodeURIComponent(ie.deep_link_id):void 0;return mt(Q).link||Q||J||U||X}(ie);if(Q.includes("/__/auth/callback")){const be=mt(Q),Xe=be.firebaseError?function He(X){try{return JSON.parse(X)}catch(ie){return null}}(decodeURIComponent(be.firebaseError)):null,Tt=null===(J=null===(U=null==Xe?void 0:Xe.code)||void 0===U?void 0:U.split("auth/"))||void 0===J?void 0:J[1],Yt=Tt?(0,G.av)(Tt):null;return Yt?{type:X.type,eventId:X.eventId,tenantId:X.tenantId,error:Yt,urlResponse:null,sessionId:null,postBody:null}:{type:X.type,eventId:X.eventId,tenantId:X.tenantId,sessionId:X.sessionId,urlResponse:Q,postBody:null}}return null}(gr,Rn.url)),U.onEvent(Hr||qt())});return function(gr){return Fn.apply(this,arguments)}}();void 0!==J&&"function"==typeof J.subscribe&&J.subscribe(null,Tt);const Yt=Q,Cn=`${be.packageName.toLowerCase()}://`;oe().handleOpenURL=function(){var Fn=(0,c.Z)(function*(Rn){if(Rn.toLowerCase().startsWith(Cn)&&Tt({url:Rn}),"function"==typeof Yt)try{Yt(Rn)}catch(gr){console.error(gr)}});return function(Rn){return Fn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=G.a,this._completeRedirectFn=G.aA}_initialize(ie){var U=this;return(0,c.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize(ie)})()}_openPopup(ie,U,J,Q){var be=this;return(0,c.Z)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openPopup(ie,U,J,Q)})()}_openRedirect(ie,U,J,Q){var be=this;return(0,c.Z)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openRedirect(ie,U,J,Q)})()}_isIframeWebStorageSupported(ie,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ie,U)}_originValidation(ie){return this.assertedUnderlyingResolver._originValidation(ie)}get _shouldInitProactively(){return An()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return kt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ie=this;return(0,c.Z)(function*(){if(ie.underlyingResolver)return;const U=yield function or(){return nn.apply(this,arguments)}();ie.underlyingResolver=U?ie.cordovaResolver:ie.browserResolver})()}}function Dn(X){return X.unwrap()}function Xn(X){return Bn(X)}function Bn(X){const{_tokenResponse:ie}=X instanceof ve.ZR?X.customData:X;if(!ie)return null;if(!(X instanceof ve.ZR)&&"temporaryProof"in ie&&"phoneNumber"in ie)return G.P.credentialFromResult(X);const U=ie.providerId;if(!U||U===G.o.PASSWORD)return null;let J;switch(U){case G.o.GOOGLE:J=G.N;break;case G.o.FACEBOOK:J=G.M;break;case G.o.GITHUB:J=G.Q;break;case G.o.TWITTER:J=G.V;break;default:const{oauthIdToken:Q,oauthAccessToken:be,oauthTokenSecret:Xe,pendingToken:Tt,nonce:Yt}=ie;return be||Xe||Q||Tt?Tt?U.startsWith("saml.")?G.aJ._create(U,Tt):G.I._fromParams({providerId:U,signInMethod:U,pendingToken:Tt,idToken:Q,accessToken:be}):new G.T(U).credential({idToken:Q,accessToken:be,rawNonce:Yt}):null}return X instanceof ve.ZR?J.credentialFromError(X):J.credentialFromResult(X)}function ln(X,ie){return ie.catch(U=>{throw U instanceof ve.ZR&&function yn(X,ie){var U;const J=null===(U=ie.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===ie.code)ie.resolver=new rt(X,G.am(X,ie));else if(J){const Q=Bn(ie),be=ie;Q&&(be.credential=Q,be.tenantId=J.tenantId||void 0,be.email=J.email||void 0,be.phoneNumber=J.phoneNumber||void 0)}}(X,U),U}).then(U=>{const Q=U.user;return{operationType:U.operationType,credential:Xn(U),additionalUserInfo:G.ak(U),user:j.getOrCreate(Q)}})}function fn(X,ie){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(X,ie){const U=yield ie;return{verificationId:U.verificationId,confirm:J=>ln(X,U.confirm(J))}})).apply(this,arguments)}class rt{constructor(ie,U){this.resolver=U,this.auth=function Jn(X){return X.wrapped()}(ie)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ie){return ln(Dn(this.auth),this.resolver.resolveSignIn(ie))}}class j{constructor(ie){this._delegate=ie,this.multiFactor=G.an(ie)}static getOrCreate(ie){return j.USER_MAP.has(ie)||j.USER_MAP.set(ie,new j(ie)),j.USER_MAP.get(ie)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ie){return this._delegate.getIdTokenResult(ie)}getIdToken(ie){return this._delegate.getIdToken(ie)}linkAndRetrieveDataWithCredential(ie){return this.linkWithCredential(ie)}linkWithCredential(ie){var U=this;return(0,c.Z)(function*(){return ln(U.auth,G.Y(U._delegate,ie))})()}linkWithPhoneNumber(ie,U){var J=this;return(0,c.Z)(function*(){return fn(J.auth,G.l(J._delegate,ie,U))})()}linkWithPopup(ie){var U=this;return(0,c.Z)(function*(){return ln(U.auth,G.d(U._delegate,ie,xt))})()}linkWithRedirect(ie){var U=this;return(0,c.Z)(function*(){return yield Se(G.aC(U.auth)),G.g(U._delegate,ie,xt)})()}reauthenticateAndRetrieveDataWithCredential(ie){return this.reauthenticateWithCredential(ie)}reauthenticateWithCredential(ie){var U=this;return(0,c.Z)(function*(){return ln(U.auth,G.Z(U._delegate,ie))})()}reauthenticateWithPhoneNumber(ie,U){return fn(this.auth,G.r(this._delegate,ie,U))}reauthenticateWithPopup(ie){return ln(this.auth,G.e(this._delegate,ie,xt))}reauthenticateWithRedirect(ie){var U=this;return(0,c.Z)(function*(){return yield Se(G.aC(U.auth)),G.h(U._delegate,ie,xt)})()}sendEmailVerification(ie){return G.aa(this._delegate,ie)}unlink(ie){var U=this;return(0,c.Z)(function*(){return yield G.aj(U._delegate,ie),U})()}updateEmail(ie){return G.af(this._delegate,ie)}updatePassword(ie){return G.ag(this._delegate,ie)}updatePhoneNumber(ie){return G.u(this._delegate,ie)}updateProfile(ie){return G.ae(this._delegate,ie)}verifyBeforeUpdateEmail(ie,U){return G.ab(this._delegate,ie,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}j.USER_MAP=new WeakMap;const Z=G.aw;let $e=(()=>{class X{constructor(U,J){if(this.app=U,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Q}=U.options;Z(Q,"invalid-api-key",{appName:U.name}),Z(Q,"invalid-api-key",{appName:U.name});const be="undefined"!=typeof window?xt:void 0;this._delegate=J.initialize({options:{persistence:Ye(Q,U.name),popupRedirectResolver:be}}),this._delegate._updateErrorMap(G.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?j.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,J){G.E(this._delegate,U,J)}applyActionCode(U){return G.a1(this._delegate,U)}checkActionCode(U){return G.a2(this._delegate,U)}confirmPasswordReset(U,J){return G.a0(this._delegate,U,J)}createUserWithEmailAndPassword(U,J){var Q=this;return(0,c.Z)(function*(){return ln(Q._delegate,G.a4(Q._delegate,U,J))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return G.a9(this._delegate,U)}isSignInWithEmailLink(U){return G.a7(this._delegate,U)}getRedirectResult(){var U=this;return(0,c.Z)(function*(){Z(an(),U._delegate,"operation-not-supported-in-this-environment");const J=yield G.j(U._delegate,xt);return J?ln(U._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function Jt(X,ie){(0,G.aC)(X)._logFramework(ie)}(this._delegate,U)}onAuthStateChanged(U,J,Q){const{next:be,error:Xe,complete:Tt}=pe(U,J,Q);return this._delegate.onAuthStateChanged(be,Xe,Tt)}onIdTokenChanged(U,J,Q){const{next:be,error:Xe,complete:Tt}=pe(U,J,Q);return this._delegate.onIdTokenChanged(be,Xe,Tt)}sendSignInLinkToEmail(U,J){return G.a6(this._delegate,U,J)}sendPasswordResetEmail(U,J){return G.$(this._delegate,U,J||void 0)}setPersistence(U){var J=this;return(0,c.Z)(function*(){let Q;switch(function ke(X,ie){Kn(Object.values(xn).includes(ie),X,"invalid-persistence-type"),(0,ve.b$)()?Kn(ie!==xn.SESSION,X,"unsupported-persistence-type"):(0,ve.UG)()?Kn(ie===xn.NONE,X,"unsupported-persistence-type"):Un()?Kn(ie===xn.NONE||ie===xn.LOCAL&&(0,ve.hl)(),X,"unsupported-persistence-type"):Kn(ie===xn.NONE||sr(),X,"unsupported-persistence-type")}(J._delegate,U),U){case xn.SESSION:Q=G.a;break;case xn.LOCAL:Q=(yield G.ax(G.i)._isAvailable())?G.i:G.b;break;case xn.NONE:Q=G.K;break;default:return G.as("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(Q)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return ln(this._delegate,G.W(this._delegate))}signInWithCredential(U){return ln(this._delegate,G.X(this._delegate,U))}signInWithCustomToken(U){return ln(this._delegate,G._(this._delegate,U))}signInWithEmailAndPassword(U,J){return ln(this._delegate,G.a5(this._delegate,U,J))}signInWithEmailLink(U,J){return ln(this._delegate,G.a8(this._delegate,U,J))}signInWithPhoneNumber(U,J){return fn(this._delegate,G.s(this._delegate,U,J))}signInWithPopup(U){var J=this;return(0,c.Z)(function*(){return Z(an(),J._delegate,"operation-not-supported-in-this-environment"),ln(J._delegate,G.c(J._delegate,U,xt))})()}signInWithRedirect(U){var J=this;return(0,c.Z)(function*(){return Z(an(),J._delegate,"operation-not-supported-in-this-environment"),yield Se(J._delegate),G.f(J._delegate,U,xt)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return G.a3(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return X.Persistence=xn,X})();function pe(X,ie,U){let J=X;"function"!=typeof X&&({next:J,error:ie,complete:U}=X);const Q=J;return{next:Xe=>Q(Xe&&j.getOrCreate(Xe)),error:ie,complete:U}}function Ye(X,ie){const U=function Mt(X,ie){const U=Ut();if(!U)return[];const J=G.ay(Et,X,ie);switch(U.getItem(J)){case xn.NONE:return[G.K];case xn.LOCAL:return[G.i,G.a];case xn.SESSION:return[G.a];default:return[]}}(X,ie);if("undefined"!=typeof self&&!U.includes(G.i)&&U.push(G.i),"undefined"!=typeof window)for(const J of[G.b,G.a])U.includes(J)||U.push(J);return U.includes(G.K)||U.push(G.K),U}class ct{constructor(){this.providerId="phone",this._delegate=new G.P(Dn(w.Z.auth()))}static credential(ie,U){return G.P.credential(ie,U)}verifyPhoneNumber(ie,U){return this._delegate.verifyPhoneNumber(ie,U)}unwrap(){return this._delegate}}ct.PHONE_SIGN_IN_METHOD=G.P.PHONE_SIGN_IN_METHOD,ct.PROVIDER_ID=G.P.PROVIDER_ID;const le=G.aw;class re{constructor(ie,U,J=w.Z.app()){var Q;le(null===(Q=J.options)||void 0===Q?void 0:Q.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new G.R(ie,U,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Be(X){X.INTERNAL.registerComponent(new De.wA("auth-compat",ie=>{const U=ie.getProvider("app-compat").getImmediate(),J=ie.getProvider("auth");return new $e(U,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G.A.EMAIL_SIGNIN,PASSWORD_RESET:G.A.PASSWORD_RESET,RECOVER_EMAIL:G.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G.A.VERIFY_EMAIL}},EmailAuthProvider:G.L,FacebookAuthProvider:G.M,GithubAuthProvider:G.Q,GoogleAuthProvider:G.N,OAuthProvider:G.T,SAMLAuthProvider:G.U,PhoneAuthProvider:ct,PhoneMultiFactorGenerator:G.m,RecaptchaVerifier:re,TwitterAuthProvider:G.V,Auth:$e,AuthCredential:G.G,Error:ve.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),X.registerVersion("@firebase/auth-compat","0.2.12")}(w.Z)},8306:(Qt,nt,k)=>{k.d(nt,{y:()=>ne});var c=k(2961),w=k(727),G=k(8822),ve=k(4671);var De=k(2416),oe=k(576),Me=k(2806);let ne=(()=>{class it{constructor(Ot){Ot&&(this._subscribe=Ot)}lift(Ot){const Pe=new it;return Pe.source=this,Pe.operator=Ot,Pe}subscribe(Ot,Pe,Je){const lt=function ot(it){return it&&it instanceof c.Lv||function Le(it){return it&&(0,oe.m)(it.next)&&(0,oe.m)(it.error)&&(0,oe.m)(it.complete)}(it)&&(0,w.Nn)(it)}(Ot)?Ot:new c.Hp(Ot,Pe,Je);return(0,Me.x)(()=>{const{operator:wt,source:We}=this;lt.add(wt?wt.call(lt,We):We?this._subscribe(lt):this._trySubscribe(lt))}),lt}_trySubscribe(Ot){try{return this._subscribe(Ot)}catch(Pe){Ot.error(Pe)}}forEach(Ot,Pe){return new(Pe=de(Pe))((Je,lt)=>{let wt;wt=this.subscribe(We=>{try{Ot(We)}catch(Re){lt(Re),null==wt||wt.unsubscribe()}},lt,Je)})}_subscribe(Ot){var Pe;return null===(Pe=this.source)||void 0===Pe?void 0:Pe.subscribe(Ot)}[G.L](){return this}pipe(...Ot){return function Te(it){return 0===it.length?ve.y:1===it.length?it[0]:function(Ot){return it.reduce((Pe,Je)=>Je(Pe),Ot)}}(Ot)(this)}toPromise(Ot){return new(Ot=de(Ot))((Pe,Je)=>{let lt;this.subscribe(wt=>lt=wt,wt=>Je(wt),()=>Pe(lt))})}}return it.create=Dt=>new it(Dt),it})();function de(it){var Dt;return null!==(Dt=null!=it?it:De.v.Promise)&&void 0!==Dt?Dt:Promise}},7579:(Qt,nt,k)=>{k.d(nt,{x:()=>De});var c=k(8306),w=k(727);const ve=(0,k(3888).d)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=k(8737),Te=k(2806);let De=(()=>{class Me extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Le=new oe(this,this);return Le.operator=de,Le}_throwIfClosed(){if(this.closed)throw new ve}next(de){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Le=this.observers.slice();for(const ot of Le)ot.next(de)}})}error(de){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Le}=this;for(;Le.length;)Le.shift().error(de)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Le,isStopped:ot,observers:it}=this;return Le||ot?w.Lc:(it.push(de),new w.w0(()=>(0,Ie.P)(it,de)))}_checkFinalizedStatuses(de){const{hasError:Le,thrownError:ot,isStopped:it}=this;Le?de.error(ot):it&&de.complete()}asObservable(){const de=new c.y;return de.source=this,de}}return Me.create=(ne,de)=>new oe(ne,de),Me})();class oe extends De{constructor(ne,de){super(),this.destination=ne,this.source=de}next(ne){var de,Le;null===(Le=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Le||Le.call(de,ne)}error(ne){var de,Le;null===(Le=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Le||Le.call(de,ne)}complete(){var ne,de;null===(de=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===de||de.call(ne)}_subscribe(ne){var de,Le;return null!==(Le=null===(de=this.source)||void 0===de?void 0:de.subscribe(ne))&&void 0!==Le?Le:w.Lc}}},2961:(Qt,nt,k)=>{k.d(nt,{Hp:()=>ot,Lv:()=>Le});var c=k(576),w=k(727),G=k(2416),ve=k(7849);function Ie(){}const Te=Me("C",void 0,void 0);function Me(Je,lt,wt){return{kind:Je,value:lt,error:wt}}var ne=k(3410),de=k(2806);class Le extends w.w0{constructor(lt){super(),this.isStopped=!1,lt?(this.destination=lt,(0,w.Nn)(lt)&&lt.add(this)):this.destination=Pe}static create(lt,wt,We){return new ot(lt,wt,We)}next(lt){this.isStopped?Ot(function oe(Je){return Me("N",Je,void 0)}(lt),this):this._next(lt)}error(lt){this.isStopped?Ot(function De(Je){return Me("E",void 0,Je)}(lt),this):(this.isStopped=!0,this._error(lt))}complete(){this.isStopped?Ot(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(lt){this.destination.next(lt)}_error(lt){try{this.destination.error(lt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ot extends Le{constructor(lt,wt,We){let Re;if(super(),(0,c.m)(lt))Re=lt;else if(lt){let at;({next:Re,error:wt,complete:We}=lt),this&&G.v.useDeprecatedNextContext?(at=Object.create(lt),at.unsubscribe=()=>this.unsubscribe()):at=lt,Re=null==Re?void 0:Re.bind(at),wt=null==wt?void 0:wt.bind(at),We=null==We?void 0:We.bind(at)}this.destination={next:Re?it(Re):Ie,error:it(null!=wt?wt:Dt),complete:We?it(We):Ie}}}function it(Je,lt){return(...wt)=>{try{Je(...wt)}catch(We){G.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(We):(0,ve.h)(We)}}}function Dt(Je){throw Je}function Ot(Je,lt){const{onStoppedNotification:wt}=G.v;wt&&ne.z.setTimeout(()=>wt(Je,lt))}const Pe={closed:!0,next:Ie,error:Dt,complete:Ie}},727:(Qt,nt,k)=>{k.d(nt,{Lc:()=>Te,w0:()=>Ie,Nn:()=>De});var c=k(576);const G=(0,k(3888).d)(Me=>function(de){Me(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Le,ot)=>`${ot+1}) ${Le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var ve=k(8737);class Ie{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const it of de)it.remove(this);else de.remove(this);const{initialTeardown:Le}=this;if((0,c.m)(Le))try{Le()}catch(it){ne=it instanceof G?it.errors:[it]}const{_teardowns:ot}=this;if(ot){this._teardowns=null;for(const it of ot)try{oe(it)}catch(Dt){ne=null!=ne?ne:[],Dt instanceof G?ne=[...ne,...Dt.errors]:ne.push(Dt)}}if(ne)throw new G(ne)}}add(ne){var de;if(ne&&ne!==this)if(this.closed)oe(ne);else{if(ne instanceof Ie){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._teardowns=null!==(de=this._teardowns)&&void 0!==de?de:[]).push(ne)}}_hasParent(ne){const{_parentage:de}=this;return de===ne||Array.isArray(de)&&de.includes(ne)}_addParent(ne){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ne),de):de?[de,ne]:ne}_removeParent(ne){const{_parentage:de}=this;de===ne?this._parentage=null:Array.isArray(de)&&(0,ve.P)(de,ne)}remove(ne){const{_teardowns:de}=this;de&&(0,ve.P)(de,ne),ne instanceof Ie&&ne._removeParent(this)}}Ie.EMPTY=(()=>{const Me=new Ie;return Me.closed=!0,Me})();const Te=Ie.EMPTY;function De(Me){return Me instanceof Ie||Me&&"closed"in Me&&(0,c.m)(Me.remove)&&(0,c.m)(Me.add)&&(0,c.m)(Me.unsubscribe)}function oe(Me){(0,c.m)(Me)?Me():Me.unsubscribe()}},2416:(Qt,nt,k)=>{k.d(nt,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Qt,nt,k)=>{k.d(nt,{z:()=>Ie});var c=k(8189),G=k(3269),ve=k(8996);function Ie(...Te){return function w(){return(0,c.J)(1)}()((0,ve.D)(Te,(0,G.yG)(Te)))}},515:(Qt,nt,k)=>{k.d(nt,{E:()=>w});const w=new(k(8306).y)(Ie=>Ie.complete())},8996:(Qt,nt,k)=>{k.d(nt,{D:()=>Re});var c=k(8421),w=k(5363),G=k(9468),Te=k(8306),oe=k(2202),Me=k(576),ne=k(9672);function Le(at,It){if(!at)throw new Error("Iterable cannot be null");return new Te.y(Ne=>{(0,ne.f)(Ne,It,()=>{const St=at[Symbol.asyncIterator]();(0,ne.f)(Ne,It,()=>{St.next().then(ue=>{ue.done?Ne.complete():Ne.next(ue.value)})},0,!0)})})}var ot=k(3670),it=k(8239),Dt=k(1144),Ot=k(6495),Pe=k(2206),Je=k(4532),lt=k(3260);function Re(at,It){return It?function We(at,It){if(null!=at){if((0,ot.c)(at))return function ve(at,It){return(0,c.Xf)(at).pipe((0,G.R)(It),(0,w.Q)(It))}(at,It);if((0,Dt.z)(at))return function De(at,It){return new Te.y(Ne=>{let St=0;return It.schedule(function(){St===at.length?Ne.complete():(Ne.next(at[St++]),Ne.closed||this.schedule())})})}(at,It);if((0,it.t)(at))return function Ie(at,It){return(0,c.Xf)(at).pipe((0,G.R)(It),(0,w.Q)(It))}(at,It);if((0,Pe.D)(at))return Le(at,It);if((0,Ot.T)(at))return function de(at,It){return new Te.y(Ne=>{let St;return(0,ne.f)(Ne,It,()=>{St=at[oe.h](),(0,ne.f)(Ne,It,()=>{let ue,me;try{({value:ue,done:me}=St.next())}catch(_e){return void Ne.error(_e)}me?Ne.complete():Ne.next(ue)},0,!0)}),()=>(0,Me.m)(null==St?void 0:St.return)&&St.return()})}(at,It);if((0,lt.L)(at))return function wt(at,It){return Le((0,lt.Q)(at),It)}(at,It)}throw(0,Je.z)(at)}(at,It):(0,c.Xf)(at)}},8421:(Qt,nt,k)=>{k.d(nt,{Xf:()=>ot});var c=k(5987),w=k(1144),G=k(8239),ve=k(8306),Ie=k(3670),Te=k(2206),De=k(4532),oe=k(6495),Me=k(3260),ne=k(576),de=k(7849),Le=k(8822);function ot(We){if(We instanceof ve.y)return We;if(null!=We){if((0,Ie.c)(We))return function it(We){return new ve.y(Re=>{const at=We[Le.L]();if((0,ne.m)(at.subscribe))return at.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,w.z)(We))return function Dt(We){return new ve.y(Re=>{for(let at=0;at<We.length&&!Re.closed;at++)Re.next(We[at]);Re.complete()})}(We);if((0,G.t)(We))return function Ot(We){return new ve.y(Re=>{We.then(at=>{Re.closed||(Re.next(at),Re.complete())},at=>Re.error(at)).then(null,de.h)})}(We);if((0,Te.D)(We))return Je(We);if((0,oe.T)(We))return function Pe(We){return new ve.y(Re=>{for(const at of We)if(Re.next(at),Re.closed)return;Re.complete()})}(We);if((0,Me.L)(We))return function lt(We){return Je((0,Me.Q)(We))}(We)}throw(0,De.z)(We)}function Je(We){return new ve.y(Re=>{(function wt(We,Re){var at,It,Ne,St;return(0,c.mG)(this,void 0,void 0,function*(){try{for(at=(0,c.KL)(We);!(It=yield at.next()).done;)if(Re.next(It.value),Re.closed)return}catch(ue){Ne={error:ue}}finally{try{It&&!It.done&&(St=at.return)&&(yield St.call(at))}finally{if(Ne)throw Ne.error}}Re.complete()})})(We,Re).catch(at=>Re.error(at))})}},6451:(Qt,nt,k)=>{k.d(nt,{T:()=>Te});var c=k(8189),w=k(8421),G=k(515),ve=k(3269),Ie=k(8996);function Te(...De){const oe=(0,ve.yG)(De),Me=(0,ve._6)(De,1/0),ne=De;return ne.length?1===ne.length?(0,w.Xf)(ne[0]):(0,c.J)(Me)((0,Ie.D)(ne,oe)):G.E}},9646:(Qt,nt,k)=>{k.d(nt,{of:()=>G});var c=k(3269),w=k(8996);function G(...ve){const Ie=(0,c.yG)(ve);return(0,w.D)(ve,Ie)}},5403:(Qt,nt,k)=>{k.d(nt,{Q:()=>w});var c=k(2961);class w extends c.Lv{constructor(ve,Ie,Te,De,oe){super(ve),this.onFinalize=oe,this._next=Ie?function(Me){try{Ie(Me)}catch(ne){ve.error(ne)}}:super._next,this._error=De?function(Me){try{De(Me)}catch(ne){ve.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(Me){ve.error(Me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}},4351:(Qt,nt,k)=>{k.d(nt,{b:()=>G});var c=k(5577),w=k(576);function G(ve,Ie){return(0,w.m)(Ie)?(0,c.z)(ve,Ie,1):(0,c.z)(ve,1)}},6590:(Qt,nt,k)=>{k.d(nt,{d:()=>G});var c=k(4482),w=k(5403);function G(ve){return(0,c.e)((Ie,Te)=>{let De=!1;Ie.subscribe(new w.Q(Te,oe=>{De=!0,Te.next(oe)},()=>{De||Te.next(ve),Te.complete()}))})}},1884:(Qt,nt,k)=>{k.d(nt,{x:()=>ve});var c=k(4671),w=k(4482),G=k(5403);function ve(Te,De=c.y){return Te=null!=Te?Te:Ie,(0,w.e)((oe,Me)=>{let ne,de=!0;oe.subscribe(new G.Q(Me,Le=>{const ot=De(Le);(de||!Te(ne,ot))&&(de=!1,ne=ot,Me.next(Le))}))})}function Ie(Te,De){return Te===De}},9300:(Qt,nt,k)=>{k.d(nt,{h:()=>G});var c=k(4482),w=k(5403);function G(ve,Ie){return(0,c.e)((Te,De)=>{let oe=0;Te.subscribe(new w.Q(De,Me=>ve.call(Ie,Me,oe++)&&De.next(Me)))})}},590:(Qt,nt,k)=>{k.d(nt,{P:()=>De});var c=k(6805),w=k(9300),G=k(5698),ve=k(6590),Ie=k(8068),Te=k(4671);function De(oe,Me){const ne=arguments.length>=2;return de=>de.pipe(oe?(0,w.h)((Le,ot)=>oe(Le,ot,de)):Te.y,(0,G.q)(1),ne?(0,ve.d)(Me):(0,Ie.T)(()=>new c.K))}},4004:(Qt,nt,k)=>{k.d(nt,{U:()=>G});var c=k(4482),w=k(5403);function G(ve,Ie){return(0,c.e)((Te,De)=>{let oe=0;Te.subscribe(new w.Q(De,Me=>{De.next(ve.call(Ie,Me,oe++))}))})}},8189:(Qt,nt,k)=>{k.d(nt,{J:()=>G});var c=k(5577),w=k(4671);function G(ve=1/0){return(0,c.z)(w.y,ve)}},5577:(Qt,nt,k)=>{k.d(nt,{z:()=>oe});var c=k(4004),w=k(8421),G=k(4482),ve=k(9672),Ie=k(5403),De=k(576);function oe(Me,ne,de=1/0){return(0,De.m)(ne)?oe((Le,ot)=>(0,c.U)((it,Dt)=>ne(Le,it,ot,Dt))((0,w.Xf)(Me(Le,ot))),de):("number"==typeof ne&&(de=ne),(0,G.e)((Le,ot)=>function Te(Me,ne,de,Le,ot,it,Dt,Ot){const Pe=[];let Je=0,lt=0,wt=!1;const We=()=>{wt&&!Pe.length&&!Je&&ne.complete()},Re=It=>Je<Le?at(It):Pe.push(It),at=It=>{it&&ne.next(It),Je++;let Ne=!1;(0,w.Xf)(de(It,lt++)).subscribe(new Ie.Q(ne,St=>{null==ot||ot(St),it?Re(St):ne.next(St)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Je--;Pe.length&&Je<Le;){const St=Pe.shift();Dt?(0,ve.f)(ne,Dt,()=>at(St)):at(St)}We()}catch(St){ne.error(St)}}))};return Me.subscribe(new Ie.Q(ne,Re,()=>{wt=!0,We()})),()=>{null==Ot||Ot()}}(Le,ot,Me,de)))}},5363:(Qt,nt,k)=>{k.d(nt,{Q:()=>ve});var c=k(9672),w=k(4482),G=k(5403);function ve(Ie,Te=0){return(0,w.e)((De,oe)=>{De.subscribe(new G.Q(oe,Me=>(0,c.f)(oe,Ie,()=>oe.next(Me),Te),()=>(0,c.f)(oe,Ie,()=>oe.complete(),Te),Me=>(0,c.f)(oe,Ie,()=>oe.error(Me),Te)))})}},1520:(Qt,nt,k)=>{k.d(nt,{G:()=>G});var c=k(4482),w=k(5403);function G(){return(0,c.e)((ve,Ie)=>{let Te,De=!1;ve.subscribe(new w.Q(Ie,oe=>{const Me=Te;Te=oe,De&&Ie.next([Me,oe]),De=!0}))})}},5026:(Qt,nt,k)=>{k.d(nt,{R:()=>ve});var c=k(4482),w=k(5403);function G(Ie,Te,De,oe,Me){return(ne,de)=>{let Le=De,ot=Te,it=0;ne.subscribe(new w.Q(de,Dt=>{const Ot=it++;ot=Le?Ie(ot,Dt,Ot):(Le=!0,Dt),oe&&de.next(ot)},Me&&(()=>{Le&&de.next(ot),de.complete()})))}}function ve(Ie,Te){return(0,c.e)(G(Ie,Te,arguments.length>=2,!0))}},3099:(Qt,nt,k)=>{k.d(nt,{B:()=>Te});var c=k(8996),w=k(5698),G=k(7579),ve=k(2961),Ie=k(4482);function Te(oe={}){const{connector:Me=(()=>new G.x),resetOnError:ne=!0,resetOnComplete:de=!0,resetOnRefCountZero:Le=!0}=oe;return ot=>{let it=null,Dt=null,Ot=null,Pe=0,Je=!1,lt=!1;const wt=()=>{null==Dt||Dt.unsubscribe(),Dt=null},We=()=>{wt(),it=Ot=null,Je=lt=!1},Re=()=>{const at=it;We(),null==at||at.unsubscribe()};return(0,Ie.e)((at,It)=>{Pe++,!lt&&!Je&&wt();const Ne=Ot=null!=Ot?Ot:Me();It.add(()=>{Pe--,0===Pe&&!lt&&!Je&&(Dt=De(Re,Le))}),Ne.subscribe(It),it||(it=new ve.Hp({next:St=>Ne.next(St),error:St=>{lt=!0,wt(),Dt=De(We,ne,St),Ne.error(St)},complete:()=>{Je=!0,wt(),Dt=De(We,de),Ne.complete()}}),(0,c.D)(at).subscribe(it))})(ot)}}function De(oe,Me,...ne){return!0===Me?(oe(),null):!1===Me?null:Me(...ne).pipe((0,w.q)(1)).subscribe(()=>oe())}},3151:(Qt,nt,k)=>{k.d(nt,{d:()=>Ie});var c=k(7579),w=k(6063);class G extends c.x{constructor(De=1/0,oe=1/0,Me=w.l){super(),this._bufferSize=De,this._windowTime=oe,this._timestampProvider=Me,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=oe===1/0,this._bufferSize=Math.max(1,De),this._windowTime=Math.max(1,oe)}next(De){const{isStopped:oe,_buffer:Me,_infiniteTimeWindow:ne,_timestampProvider:de,_windowTime:Le}=this;oe||(Me.push(De),!ne&&Me.push(de.now()+Le)),this._trimBuffer(),super.next(De)}_subscribe(De){this._throwIfClosed(),this._trimBuffer();const oe=this._innerSubscribe(De),{_infiniteTimeWindow:Me,_buffer:ne}=this,de=ne.slice();for(let Le=0;Le<de.length&&!De.closed;Le+=Me?1:2)De.next(de[Le]);return this._checkFinalizedStatuses(De),oe}_trimBuffer(){const{_bufferSize:De,_timestampProvider:oe,_buffer:Me,_infiniteTimeWindow:ne}=this,de=(ne?1:2)*De;if(De<1/0&&de<Me.length&&Me.splice(0,Me.length-de),!ne){const Le=oe.now();let ot=0;for(let it=1;it<Me.length&&Me[it]<=Le;it+=2)ot=it;ot&&Me.splice(0,ot+1)}}}var ve=k(3099);function Ie(Te,De,oe){var Me,ne;let de,Le=!1;return Te&&"object"==typeof Te?(de=null!==(Me=Te.bufferSize)&&void 0!==Me?Me:1/0,De=null!==(ne=Te.windowTime)&&void 0!==ne?ne:1/0,Le=!!Te.refCount,oe=Te.scheduler):de=null!=Te?Te:1/0,(0,ve.B)({connector:()=>new G(de,De,oe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Le})}},8675:(Qt,nt,k)=>{k.d(nt,{O:()=>ve});var c=k(7272),w=k(3269),G=k(4482);function ve(...Ie){const Te=(0,w.yG)(Ie);return(0,G.e)((De,oe)=>{(Te?(0,c.z)(Ie,De,Te):(0,c.z)(Ie,De)).subscribe(oe)})}},9468:(Qt,nt,k)=>{k.d(nt,{R:()=>w});var c=k(4482);function w(G,ve=0){return(0,c.e)((Ie,Te)=>{Te.add(G.schedule(()=>Ie.subscribe(Te),ve))})}},3900:(Qt,nt,k)=>{k.d(nt,{w:()=>ve});var c=k(8421),w=k(4482),G=k(5403);function ve(Ie,Te){return(0,w.e)((De,oe)=>{let Me=null,ne=0,de=!1;const Le=()=>de&&!Me&&oe.complete();De.subscribe(new G.Q(oe,ot=>{null==Me||Me.unsubscribe();let it=0;const Dt=ne++;(0,c.Xf)(Ie(ot,Dt)).subscribe(Me=new G.Q(oe,Ot=>oe.next(Te?Te(ot,Ot,Dt,it++):Ot),()=>{Me=null,Le()}))},()=>{de=!0,Le()}))})}},5698:(Qt,nt,k)=>{k.d(nt,{q:()=>ve});var c=k(515),w=k(4482),G=k(5403);function ve(Ie){return Ie<=0?()=>c.E:(0,w.e)((Te,De)=>{let oe=0;Te.subscribe(new G.Q(De,Me=>{++oe<=Ie&&(De.next(Me),Ie<=oe&&De.complete())}))})}},8505:(Qt,nt,k)=>{k.d(nt,{b:()=>Ie});var c=k(576),w=k(4482),G=k(5403),ve=k(4671);function Ie(Te,De,oe){const Me=(0,c.m)(Te)||De||oe?{next:Te,error:De,complete:oe}:Te;return Me?(0,w.e)((ne,de)=>{var Le;null===(Le=Me.subscribe)||void 0===Le||Le.call(Me);let ot=!0;ne.subscribe(new G.Q(de,it=>{var Dt;null===(Dt=Me.next)||void 0===Dt||Dt.call(Me,it),de.next(it)},()=>{var it;ot=!1,null===(it=Me.complete)||void 0===it||it.call(Me),de.complete()},it=>{var Dt;ot=!1,null===(Dt=Me.error)||void 0===Dt||Dt.call(Me,it),de.error(it)},()=>{var it,Dt;ot&&(null===(it=Me.unsubscribe)||void 0===it||it.call(Me)),null===(Dt=Me.finalize)||void 0===Dt||Dt.call(Me)}))}):ve.y}},8068:(Qt,nt,k)=>{k.d(nt,{T:()=>ve});var c=k(6805),w=k(4482),G=k(5403);function ve(Te=Ie){return(0,w.e)((De,oe)=>{let Me=!1;De.subscribe(new G.Q(oe,ne=>{Me=!0,oe.next(ne)},()=>Me?oe.complete():oe.error(Te())))})}function Ie(){return new c.K}},4408:(Qt,nt,k)=>{k.d(nt,{o:()=>Ie});var c=k(727);class w extends c.w0{constructor(De,oe){super()}schedule(De,oe=0){return this}}const G={setInterval(...Te){const{delegate:De}=G;return((null==De?void 0:De.setInterval)||setInterval)(...Te)},clearInterval(Te){const{delegate:De}=G;return((null==De?void 0:De.clearInterval)||clearInterval)(Te)},delegate:void 0};var ve=k(8737);class Ie extends w{constructor(De,oe){super(De,oe),this.scheduler=De,this.work=oe,this.pending=!1}schedule(De,oe=0){if(this.closed)return this;this.state=De;const Me=this.id,ne=this.scheduler;return null!=Me&&(this.id=this.recycleAsyncId(ne,Me,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(ne,this.id,oe),this}requestAsyncId(De,oe,Me=0){return G.setInterval(De.flush.bind(De,this),Me)}recycleAsyncId(De,oe,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return oe;G.clearInterval(oe)}execute(De,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(De,oe);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,oe){let ne,Me=!1;try{this.work(De)}catch(de){Me=!0,ne=de||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:De,scheduler:oe}=this,{actions:Me}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.P)(Me,this),null!=De&&(this.id=this.recycleAsyncId(oe,De,null)),this.delay=null,super.unsubscribe()}}}},7565:(Qt,nt,k)=>{k.d(nt,{v:()=>G});var c=k(6063);class w{constructor(Ie,Te=w.now){this.schedulerActionCtor=Ie,this.now=Te}schedule(Ie,Te=0,De){return new this.schedulerActionCtor(this,Ie).schedule(De,Te)}}w.now=c.l.now;class G extends w{constructor(Ie,Te=w.now){super(Ie,Te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ie){const{actions:Te}=this;if(this._active)return void Te.push(Ie);let De;this._active=!0;do{if(De=Ie.execute(Ie.state,Ie.delay))break}while(Ie=Te.shift());if(this._active=!1,De){for(;Ie=Te.shift();)Ie.unsubscribe();throw De}}}},4986:(Qt,nt,k)=>{k.d(nt,{P:()=>ve,z:()=>G});var c=k(4408);const G=new(k(7565).v)(c.o),ve=G},6063:(Qt,nt,k)=>{k.d(nt,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Qt,nt,k)=>{k.d(nt,{z:()=>c});const c={setTimeout(...w){const{delegate:G}=c;return((null==G?void 0:G.setTimeout)||setTimeout)(...w)},clearTimeout(w){const{delegate:G}=c;return((null==G?void 0:G.clearTimeout)||clearTimeout)(w)},delegate:void 0}},2202:(Qt,nt,k)=>{k.d(nt,{h:()=>w});const w=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Qt,nt,k)=>{k.d(nt,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Qt,nt,k)=>{k.d(nt,{K:()=>w});const w=(0,k(3888).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Qt,nt,k)=>{k.d(nt,{_6:()=>Te,jO:()=>ve,yG:()=>Ie});var c=k(576),w=k(3532);function G(De){return De[De.length-1]}function ve(De){return(0,c.m)(G(De))?De.pop():void 0}function Ie(De){return(0,w.K)(G(De))?De.pop():void 0}function Te(De,oe){return"number"==typeof G(De)?De.pop():oe}},4742:(Qt,nt,k)=>{k.d(nt,{D:()=>Ie});const{isArray:c}=Array,{getPrototypeOf:w,prototype:G,keys:ve}=Object;function Ie(De){if(1===De.length){const oe=De[0];if(c(oe))return{args:oe,keys:null};if(function Te(De){return De&&"object"==typeof De&&w(De)===G}(oe)){const Me=ve(oe);return{args:Me.map(ne=>oe[ne]),keys:Me}}}return{args:De,keys:null}}},8737:(Qt,nt,k)=>{function c(w,G){if(w){const ve=w.indexOf(G);0<=ve&&w.splice(ve,1)}}k.d(nt,{P:()=>c})},3888:(Qt,nt,k)=>{function c(w){const ve=w(Ie=>{Error.call(Ie),Ie.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}k.d(nt,{d:()=>c})},1810:(Qt,nt,k)=>{function c(w,G){return w.reduce((ve,Ie,Te)=>(ve[Ie]=G[Te],ve),{})}k.d(nt,{n:()=>c})},2806:(Qt,nt,k)=>{k.d(nt,{O:()=>ve,x:()=>G});var c=k(2416);let w=null;function G(Ie){if(c.v.useDeprecatedSynchronousErrorHandling){const Te=!w;if(Te&&(w={errorThrown:!1,error:null}),Ie(),Te){const{errorThrown:De,error:oe}=w;if(w=null,De)throw oe}}else Ie()}function ve(Ie){c.v.useDeprecatedSynchronousErrorHandling&&w&&(w.errorThrown=!0,w.error=Ie)}},9672:(Qt,nt,k)=>{function c(w,G,ve,Ie=0,Te=!1){const De=G.schedule(function(){ve(),Te?w.add(this.schedule(null,Ie)):this.unsubscribe()},Ie);if(w.add(De),!Te)return De}k.d(nt,{f:()=>c})},4671:(Qt,nt,k)=>{function c(w){return w}k.d(nt,{y:()=>c})},1144:(Qt,nt,k)=>{k.d(nt,{z:()=>c});const c=w=>w&&"number"==typeof w.length&&"function"!=typeof w},2206:(Qt,nt,k)=>{k.d(nt,{D:()=>w});var c=k(576);function w(G){return Symbol.asyncIterator&&(0,c.m)(null==G?void 0:G[Symbol.asyncIterator])}},576:(Qt,nt,k)=>{function c(w){return"function"==typeof w}k.d(nt,{m:()=>c})},3670:(Qt,nt,k)=>{k.d(nt,{c:()=>G});var c=k(8822),w=k(576);function G(ve){return(0,w.m)(ve[c.L])}},6495:(Qt,nt,k)=>{k.d(nt,{T:()=>G});var c=k(2202),w=k(576);function G(ve){return(0,w.m)(null==ve?void 0:ve[c.h])}},8239:(Qt,nt,k)=>{k.d(nt,{t:()=>w});var c=k(576);function w(G){return(0,c.m)(null==G?void 0:G.then)}},3260:(Qt,nt,k)=>{k.d(nt,{L:()=>ve,Q:()=>G});var c=k(5987),w=k(576);function G(Ie){return(0,c.FC)(this,arguments,function*(){const De=Ie.getReader();try{for(;;){const{value:oe,done:Me}=yield(0,c.qq)(De.read());if(Me)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(oe)}}finally{De.releaseLock()}})}function ve(Ie){return(0,w.m)(null==Ie?void 0:Ie.getReader)}},3532:(Qt,nt,k)=>{k.d(nt,{K:()=>w});var c=k(576);function w(G){return G&&(0,c.m)(G.schedule)}},4482:(Qt,nt,k)=>{k.d(nt,{A:()=>w,e:()=>G});var c=k(576);function w(ve){return(0,c.m)(null==ve?void 0:ve.lift)}function G(ve){return Ie=>{if(w(Ie))return Ie.lift(function(Te){try{return ve(Te,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Qt,nt,k)=>{k.d(nt,{Z:()=>ve});var c=k(4004);const{isArray:w}=Array;function ve(Ie){return(0,c.U)(Te=>function G(Ie,Te){return w(Te)?Ie(...Te):Ie(Te)}(Ie,Te))}},7849:(Qt,nt,k)=>{k.d(nt,{h:()=>G});var c=k(2416),w=k(3410);function G(ve){w.z.setTimeout(()=>{const{onUnhandledError:Ie}=c.v;if(!Ie)throw ve;Ie(ve)})}},4532:(Qt,nt,k)=>{function c(w){return new TypeError(`You provided ${null!==w&&"object"==typeof w?"an invalid object":`'${w}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(nt,{z:()=>c})},5987:(Qt,nt,k)=>{function oe(ue,me,_e,xe){return new(_e||(_e=Promise))(function(fe,mt){function Vt(qt){try{bt(xe.next(qt))}catch(Jt){mt(Jt)}}function cn(qt){try{bt(xe.throw(qt))}catch(Jt){mt(Jt)}}function bt(qt){qt.done?fe(qt.value):function He(fe){return fe instanceof _e?fe:new _e(function(mt){mt(fe)})}(qt.value).then(Vt,cn)}bt((xe=xe.apply(ue,me||[])).next())})}function Pe(ue){return this instanceof Pe?(this.v=ue,this):new Pe(ue)}function Je(ue,me,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,xe=_e.apply(ue,me||[]),fe=[];return He={},mt("next"),mt("throw"),mt("return"),He[Symbol.asyncIterator]=function(){return this},He;function mt(rn){xe[rn]&&(He[rn]=function(dt){return new Promise(function(pt,Ce){fe.push([rn,dt,pt,Ce])>1||Vt(rn,dt)})})}function Vt(rn,dt){try{!function cn(rn){rn.value instanceof Pe?Promise.resolve(rn.value.v).then(bt,qt):Jt(fe[0][2],rn)}(xe[rn](dt))}catch(pt){Jt(fe[0][3],pt)}}function bt(rn){Vt("next",rn)}function qt(rn){Vt("throw",rn)}function Jt(rn,dt){rn(dt),fe.shift(),fe.length&&Vt(fe[0][0],fe[0][1])}}function wt(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,me=ue[Symbol.asyncIterator];return me?me.call(ue):(ue=function Le(ue){var me="function"==typeof Symbol&&Symbol.iterator,_e=me&&ue[me],xe=0;if(_e)return _e.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&xe>=ue.length&&(ue=void 0),{value:ue&&ue[xe++],done:!ue}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),_e={},xe("next"),xe("throw"),xe("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function xe(fe){_e[fe]=ue[fe]&&function(mt){return new Promise(function(Vt,cn){!function He(fe,mt,Vt,cn){Promise.resolve(cn).then(function(bt){fe({value:bt,done:Vt})},mt)}(Vt,cn,(mt=ue[fe](mt)).done,mt.value)})}}}k.d(nt,{FC:()=>Je,KL:()=>wt,mG:()=>oe,qq:()=>Pe})},655:(Qt,nt,k)=>{function ve(ue,me){var _e={};for(var xe in ue)Object.prototype.hasOwnProperty.call(ue,xe)&&me.indexOf(xe)<0&&(_e[xe]=ue[xe]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(xe=Object.getOwnPropertySymbols(ue);He<xe.length;He++)me.indexOf(xe[He])<0&&Object.prototype.propertyIsEnumerable.call(ue,xe[He])&&(_e[xe[He]]=ue[xe[He]])}return _e}function oe(ue,me,_e,xe){return new(_e||(_e=Promise))(function(fe,mt){function Vt(qt){try{bt(xe.next(qt))}catch(Jt){mt(Jt)}}function cn(qt){try{bt(xe.throw(qt))}catch(Jt){mt(Jt)}}function bt(qt){qt.done?fe(qt.value):function He(fe){return fe instanceof _e?fe:new _e(function(mt){mt(fe)})}(qt.value).then(Vt,cn)}bt((xe=xe.apply(ue,me||[])).next())})}k.d(nt,{_T:()=>ve,mG:()=>oe})},1777:(Qt,nt,k)=>{k.d(nt,{LC:()=>w,SB:()=>Me,X$:()=>ve,ZE:()=>lt,ZN:()=>Je,_j:()=>c,eR:()=>de,jt:()=>Ie,k1:()=>wt,l3:()=>G,oB:()=>oe,vP:()=>De});class c{}class w{}const G="*";function ve(We,Re){return{type:7,name:We,definitions:Re,options:{}}}function Ie(We,Re=null){return{type:4,styles:Re,timings:We}}function De(We,Re=null){return{type:2,steps:We,options:Re}}function oe(We){return{type:6,styles:We,offset:null}}function Me(We,Re,at){return{type:0,name:We,styles:Re,options:at}}function de(We,Re,at=null){return{type:1,expr:We,animation:Re,options:at}}function Pe(We){Promise.resolve(null).then(We)}class Je{constructor(Re=0,at=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Re+at}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Re=>Re()),this._onDoneFns=[])}onStart(Re){this._onStartFns.push(Re)}onDone(Re){this._onDoneFns.push(Re)}onDestroy(Re){this._onDestroyFns.push(Re)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Pe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Re=>Re()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Re=>Re()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Re){this._position=this.totalTime?Re*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Re){const at="start"==Re?this._onStartFns:this._onDoneFns;at.forEach(It=>It()),at.length=0}}class lt{constructor(Re){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Re;let at=0,It=0,Ne=0;const St=this.players.length;0==St?Pe(()=>this._onFinish()):this.players.forEach(ue=>{ue.onDone(()=>{++at==St&&this._onFinish()}),ue.onDestroy(()=>{++It==St&&this._onDestroy()}),ue.onStart(()=>{++Ne==St&&this._onStart()})}),this.totalTime=this.players.reduce((ue,me)=>Math.max(ue,me.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Re=>Re()),this._onDoneFns=[])}init(){this.players.forEach(Re=>Re.init())}onStart(Re){this._onStartFns.push(Re)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Re=>Re()),this._onStartFns=[])}onDone(Re){this._onDoneFns.push(Re)}onDestroy(Re){this._onDestroyFns.push(Re)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Re=>Re.play())}pause(){this.players.forEach(Re=>Re.pause())}restart(){this.players.forEach(Re=>Re.restart())}finish(){this._onFinish(),this.players.forEach(Re=>Re.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Re=>Re.destroy()),this._onDestroyFns.forEach(Re=>Re()),this._onDestroyFns=[])}reset(){this.players.forEach(Re=>Re.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Re){const at=Re*this.totalTime;this.players.forEach(It=>{const Ne=It.totalTime?Math.min(1,at/It.totalTime):1;It.setPosition(Ne)})}getPosition(){const Re=this.players.reduce((at,It)=>null===at||It.totalTime>at.totalTime?It:at,null);return null!=Re?Re.getPosition():0}beforeDestroy(){this.players.forEach(Re=>{Re.beforeDestroy&&Re.beforeDestroy()})}triggerCallback(Re){const at="start"==Re?this._onStartFns:this._onDoneFns;at.forEach(It=>It()),at.length=0}}const wt="!"},9808:(Qt,nt,k)=>{k.d(nt,{Do:()=>We,EM:()=>$i,HT:()=>Ie,JF:()=>wr,K0:()=>De,Mx:()=>jn,NF:()=>Ur,O5:()=>ze,Ov:()=>Es,PC:()=>Lr,PM:()=>Ar,RF:()=>Bt,S$:()=>Pe,V_:()=>ne,Ye:()=>Re,b0:()=>wt,bD:()=>ns,ez:()=>ws,lw:()=>oe,mk:()=>bi,mr:()=>lt,n9:()=>sn,q:()=>G,sg:()=>Wr,w_:()=>Te});var c=k(5e3);let w=null;function G(){return w}function Ie(R){w||(w=R)}class Te{}const De=new c.OlP("DocumentToken");let oe=(()=>{class R{historyGo(F){throw new Error("Not implemented")}}return R.\u0275fac=function(F){return new(F||R)},R.\u0275prov=c.Yz7({token:R,factory:function(){return function Me(){return(0,c.LFG)(de)}()},providedIn:"platform"}),R})();const ne=new c.OlP("Location Initialized");let de=(()=>{class R extends oe{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(F){const ee=G().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",F,!1),()=>ee.removeEventListener("popstate",F)}onHashChange(F){const ee=G().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",F,!1),()=>ee.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,ee,Oe){Le()?this._history.pushState(F,ee,Oe):this.location.hash=Oe}replaceState(F,ee,Oe){Le()?this._history.replaceState(F,ee,Oe):this.location.hash=Oe}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return R.\u0275fac=function(F){return new(F||R)(c.LFG(De))},R.\u0275prov=c.Yz7({token:R,factory:function(){return function ot(){return new de((0,c.LFG)(De))}()},providedIn:"platform"}),R})();function Le(){return!!window.history.pushState}function it(R,q){if(0==R.length)return q;if(0==q.length)return R;let F=0;return R.endsWith("/")&&F++,q.startsWith("/")&&F++,2==F?R+q.substring(1):1==F?R+q:R+"/"+q}function Dt(R){const q=R.match(/#|\?|$/),F=q&&q.index||R.length;return R.slice(0,F-("/"===R[F-1]?1:0))+R.slice(F)}function Ot(R){return R&&"?"!==R[0]?"?"+R:R}let Pe=(()=>{class R{historyGo(F){throw new Error("Not implemented")}}return R.\u0275fac=function(F){return new(F||R)},R.\u0275prov=c.Yz7({token:R,factory:function(){return function Je(R){const q=(0,c.LFG)(De).location;return new wt((0,c.LFG)(oe),q&&q.origin||"")}()},providedIn:"root"}),R})();const lt=new c.OlP("appBaseHref");let wt=(()=>{class R extends Pe{constructor(F,ee){if(super(),this._platformLocation=F,this._removeListenerFns=[],null==ee&&(ee=this._platformLocation.getBaseHrefFromDOM()),null==ee)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ee}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return it(this._baseHref,F)}path(F=!1){const ee=this._platformLocation.pathname+Ot(this._platformLocation.search),Oe=this._platformLocation.hash;return Oe&&F?`${ee}${Oe}`:ee}pushState(F,ee,Oe,vt){const Ft=this.prepareExternalUrl(Oe+Ot(vt));this._platformLocation.pushState(F,ee,Ft)}replaceState(F,ee,Oe,vt){const Ft=this.prepareExternalUrl(Oe+Ot(vt));this._platformLocation.replaceState(F,ee,Ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var ee,Oe;null===(Oe=(ee=this._platformLocation).historyGo)||void 0===Oe||Oe.call(ee,F)}}return R.\u0275fac=function(F){return new(F||R)(c.LFG(oe),c.LFG(lt,8))},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac}),R})(),We=(()=>{class R extends Pe{constructor(F,ee){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(F){const ee=it(this._baseHref,F);return ee.length>0?"#"+ee:ee}pushState(F,ee,Oe,vt){let Ft=this.prepareExternalUrl(Oe+Ot(vt));0==Ft.length&&(Ft=this._platformLocation.pathname),this._platformLocation.pushState(F,ee,Ft)}replaceState(F,ee,Oe,vt){let Ft=this.prepareExternalUrl(Oe+Ot(vt));0==Ft.length&&(Ft=this._platformLocation.pathname),this._platformLocation.replaceState(F,ee,Ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var ee,Oe;null===(Oe=(ee=this._platformLocation).historyGo)||void 0===Oe||Oe.call(ee,F)}}return R.\u0275fac=function(F){return new(F||R)(c.LFG(oe),c.LFG(lt,8))},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac}),R})(),Re=(()=>{class R{constructor(F,ee){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=F;const Oe=this._platformStrategy.getBaseHref();this._platformLocation=ee,this._baseHref=Dt(Ne(Oe)),this._platformStrategy.onPopState(vt=>{this._subject.emit({url:this.path(!0),pop:!0,state:vt.state,type:vt.type})})}path(F=!1){return this.normalize(this._platformStrategy.path(F))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(F,ee=""){return this.path()==this.normalize(F+Ot(ee))}normalize(F){return R.stripTrailingSlash(function It(R,q){return R&&q.startsWith(R)?q.substring(R.length):q}(this._baseHref,Ne(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._platformStrategy.prepareExternalUrl(F)}go(F,ee="",Oe=null){this._platformStrategy.pushState(Oe,"",F,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Ot(ee)),Oe)}replaceState(F,ee="",Oe=null){this._platformStrategy.replaceState(Oe,"",F,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Ot(ee)),Oe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(F=0){var ee,Oe;null===(Oe=(ee=this._platformStrategy).historyGo)||void 0===Oe||Oe.call(ee,F)}onUrlChange(F){this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)}))}_notifyUrlChangeListeners(F="",ee){this._urlChangeListeners.forEach(Oe=>Oe(F,ee))}subscribe(F,ee,Oe){return this._subject.subscribe({next:F,error:ee,complete:Oe})}}return R.normalizeQueryParams=Ot,R.joinWithSlash=it,R.stripTrailingSlash=Dt,R.\u0275fac=function(F){return new(F||R)(c.LFG(Pe),c.LFG(oe))},R.\u0275prov=c.Yz7({token:R,factory:function(){return function at(){return new Re((0,c.LFG)(Pe),(0,c.LFG)(oe))}()},providedIn:"root"}),R})();function Ne(R){return R.replace(/\/index.html$/,"")}var me=(()=>((me=me||{})[me.Zero=0]="Zero",me[me.One=1]="One",me[me.Two=2]="Two",me[me.Few=3]="Few",me[me.Many=4]="Many",me[me.Other=5]="Other",me))();const Un=c.kL8;class Dr{}let kr=(()=>{class R extends Dr{constructor(F){super(),this.locale=F}getPluralCategory(F,ee){switch(Un(ee||this.locale)(F)){case me.Zero:return"zero";case me.One:return"one";case me.Two:return"two";case me.Few:return"few";case me.Many:return"many";default:return"other"}}}return R.\u0275fac=function(F){return new(F||R)(c.LFG(c.soG))},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac}),R})();function jn(R,q){q=encodeURIComponent(q);for(const F of R.split(";")){const ee=F.indexOf("="),[Oe,vt]=-1==ee?[F,""]:[F.slice(0,ee),F.slice(ee+1)];if(Oe.trim()===q)return decodeURIComponent(vt)}return null}let bi=(()=>{class R{constructor(F,ee,Oe,vt){this._iterableDiffers=F,this._keyValueDiffers=ee,this._ngEl=Oe,this._renderer=vt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(F){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof F?F.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(F){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof F?F.split(/\s+/):F,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const F=this._iterableDiffer.diff(this._rawClass);F&&this._applyIterableChanges(F)}else if(this._keyValueDiffer){const F=this._keyValueDiffer.diff(this._rawClass);F&&this._applyKeyValueChanges(F)}}_applyKeyValueChanges(F){F.forEachAddedItem(ee=>this._toggleClass(ee.key,ee.currentValue)),F.forEachChangedItem(ee=>this._toggleClass(ee.key,ee.currentValue)),F.forEachRemovedItem(ee=>{ee.previousValue&&this._toggleClass(ee.key,!1)})}_applyIterableChanges(F){F.forEachAddedItem(ee=>{if("string"!=typeof ee.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(ee.item)}`);this._toggleClass(ee.item,!0)}),F.forEachRemovedItem(ee=>this._toggleClass(ee.item,!1))}_applyClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(ee=>this._toggleClass(ee,!0)):Object.keys(F).forEach(ee=>this._toggleClass(ee,!!F[ee])))}_removeClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(ee=>this._toggleClass(ee,!1)):Object.keys(F).forEach(ee=>this._toggleClass(ee,!1)))}_toggleClass(F,ee){(F=F.trim())&&F.split(/\s+/g).forEach(Oe=>{ee?this._renderer.addClass(this._ngEl.nativeElement,Oe):this._renderer.removeClass(this._ngEl.nativeElement,Oe)})}}return R.\u0275fac=function(F){return new(F||R)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},R.\u0275dir=c.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),R})();class Xr{constructor(q,F,ee,Oe){this.$implicit=q,this.ngForOf=F,this.index=ee,this.count=Oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wr=(()=>{class R{constructor(F,ee,Oe){this._viewContainer=F,this._template=ee,this._differs=Oe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;if(!this._differ&&F)try{this._differ=this._differs.find(F).create(this.ngForTrackBy)}catch(ee){throw new Error(`Cannot find a differ supporting object '${F}' of type '${function xr(R){return R.name||typeof R}(F)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const ee=[];F.forEachOperation((Oe,vt,Ft)=>{if(null==Oe.previousIndex){const gn=this._viewContainer.createEmbeddedView(this._template,new Xr(null,this._ngForOf,-1,-1),null===Ft?void 0:Ft),L=new Fr(Oe,gn);ee.push(L)}else if(null==Ft)this._viewContainer.remove(null===vt?void 0:vt);else if(null!==vt){const gn=this._viewContainer.get(vt);this._viewContainer.move(gn,Ft);const L=new Fr(Oe,gn);ee.push(L)}});for(let Oe=0;Oe<ee.length;Oe++)this._perViewChange(ee[Oe].view,ee[Oe].record);for(let Oe=0,vt=this._viewContainer.length;Oe<vt;Oe++){const Ft=this._viewContainer.get(Oe);Ft.context.index=Oe,Ft.context.count=vt,Ft.context.ngForOf=this._ngForOf}F.forEachIdentityChange(Oe=>{this._viewContainer.get(Oe.currentIndex).context.$implicit=Oe.item})}_perViewChange(F,ee){F.context.$implicit=ee.item}static ngTemplateContextGuard(F,ee){return!0}}return R.\u0275fac=function(F){return new(F||R)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},R.\u0275dir=c.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),R})();class Fr{constructor(q,F){this.record=q,this.view=F}}let ze=(()=>{class R{constructor(F,ee){this._viewContainer=F,this._context=new Fe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){qe("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){qe("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,ee){return!0}}return R.\u0275fac=function(F){return new(F||R)(c.Y36(c.s_b),c.Y36(c.Rgc))},R.\u0275dir=c.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R})();class Fe{constructor(){this.$implicit=null,this.ngIf=null}}function qe(R,q){if(q&&!q.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,c.AaK)(q)}'.`)}class Nt{constructor(q,F){this._viewContainerRef=q,this._templateRef=F,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(q){q&&!this._created?this.create():!q&&this._created&&this.destroy()}}let Bt=(()=>{class R{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(F){this._ngSwitch=F,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(F){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(F)}_matchCase(F){const ee=F==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ee,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ee}_updateDefaultCases(F){if(this._defaultViews&&F!==this._defaultUsed){this._defaultUsed=F;for(let ee=0;ee<this._defaultViews.length;ee++)this._defaultViews[ee].enforceState(F)}}}return R.\u0275fac=function(F){return new(F||R)},R.\u0275dir=c.lG2({type:R,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),R})(),sn=(()=>{class R{constructor(F,ee,Oe){this.ngSwitch=Oe,Oe._addCase(),this._view=new Nt(F,ee)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return R.\u0275fac=function(F){return new(F||R)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Bt,9))},R.\u0275dir=c.lG2({type:R,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),R})(),Lr=(()=>{class R{constructor(F,ee,Oe){this._ngEl=F,this._differs=ee,this._renderer=Oe,this._ngStyle=null,this._differ=null}set ngStyle(F){this._ngStyle=F,!this._differ&&F&&(this._differ=this._differs.find(F).create())}ngDoCheck(){if(this._differ){const F=this._differ.diff(this._ngStyle);F&&this._applyChanges(F)}}_setStyle(F,ee){const[Oe,vt]=F.split(".");null!=(ee=null!=ee&&vt?`${ee}${vt}`:ee)?this._renderer.setStyle(this._ngEl.nativeElement,Oe,ee):this._renderer.removeStyle(this._ngEl.nativeElement,Oe)}_applyChanges(F){F.forEachRemovedItem(ee=>this._setStyle(ee.key,null)),F.forEachAddedItem(ee=>this._setStyle(ee.key,ee.currentValue)),F.forEachChangedItem(ee=>this._setStyle(ee.key,ee.currentValue))}}return R.\u0275fac=function(F){return new(F||R)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},R.\u0275dir=c.lG2({type:R,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),R})();class Ws{createSubscription(q,F){return q.subscribe({next:F,error:ee=>{throw ee}})}dispose(q){q.unsubscribe()}onDestroy(q){q.unsubscribe()}}class ei{createSubscription(q,F){return q.then(F,ee=>{throw ee})}dispose(q){}onDestroy(q){}}const yi=new ei,Kr=new Ws;let Es=(()=>{class R{constructor(F){this._ref=F,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,ee=>this._updateLatestValue(F,ee))}_selectStrategy(F){if((0,c.QGY)(F))return yi;if((0,c.F4k)(F))return Kr;throw function ri(R,q){return Error(`InvalidPipeArgument: '${q}' for pipe '${(0,c.AaK)(R)}'`)}(R,F)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,ee){F===this._obj&&(this._latestValue=ee,this._ref.markForCheck())}}return R.\u0275fac=function(F){return new(F||R)(c.Y36(c.sBO,16))},R.\u0275pipe=c.Yjl({name:"async",type:R,pure:!1}),R})(),ws=(()=>{class R{}return R.\u0275fac=function(F){return new(F||R)},R.\u0275mod=c.oAB({type:R}),R.\u0275inj=c.cJS({providers:[{provide:Dr,useClass:kr}]}),R})();const ns="browser";function Ur(R){return R===ns}function Ar(R){return"server"===R}let $i=(()=>{class R{}return R.\u0275prov=(0,c.Yz7)({token:R,providedIn:"root",factory:()=>new Is((0,c.LFG)(De),window)}),R})();class Is{constructor(q,F){this.document=q,this.window=F,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const F=function Sr(R,q){const F=R.getElementById(q)||R.getElementsByName(q)[0];if(F)return F;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const ee=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Oe=ee.currentNode;for(;Oe;){const vt=Oe.shadowRoot;if(vt){const Ft=vt.getElementById(q)||vt.querySelector(`[name="${q}"]`);if(Ft)return Ft}Oe=ee.nextNode()}}return null}(this.document,q);F&&(this.scrollToElement(F),this.attemptFocus(F))}setHistoryScrollRestoration(q){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=q)}}scrollToElement(q){const F=q.getBoundingClientRect(),ee=F.left+this.window.pageXOffset,Oe=F.top+this.window.pageYOffset,vt=this.offset();this.window.scrollTo(ee-vt[0],Oe-vt[1])}attemptFocus(q){return q.focus(),this.document.activeElement===q}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const q=fi(this.window.history)||fi(Object.getPrototypeOf(this.window.history));return!(!q||!q.writable&&!q.set)}catch(q){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(q){return!1}}}function fi(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class wr{}},520:(Qt,nt,k)=>{k.d(nt,{JF:()=>kn,eN:()=>fe});var c=k(9808),w=k(5e3),G=k(9646),ve=k(8306),Ie=k(4351),Te=k(9300),De=k(4004);class oe{}class Me{}class ne{constructor(ke){this.normalizedNames=new Map,this.lazyUpdate=null,ke?this.lazyInit="string"==typeof ke?()=>{this.headers=new Map,ke.split("\n").forEach(Se=>{const tt=Se.indexOf(":");if(tt>0){const Mt=Se.slice(0,tt),Ut=Mt.toLowerCase(),kt=Se.slice(tt+1).trim();this.maybeSetNormalizedName(Mt,Ut),this.headers.has(Ut)?this.headers.get(Ut).push(kt):this.headers.set(Ut,[kt])}})}:()=>{this.headers=new Map,Object.keys(ke).forEach(Se=>{let tt=ke[Se];const Mt=Se.toLowerCase();"string"==typeof tt&&(tt=[tt]),tt.length>0&&(this.headers.set(Mt,tt),this.maybeSetNormalizedName(Se,Mt))})}:this.headers=new Map}has(ke){return this.init(),this.headers.has(ke.toLowerCase())}get(ke){this.init();const Se=this.headers.get(ke.toLowerCase());return Se&&Se.length>0?Se[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ke){return this.init(),this.headers.get(ke.toLowerCase())||null}append(ke,Se){return this.clone({name:ke,value:Se,op:"a"})}set(ke,Se){return this.clone({name:ke,value:Se,op:"s"})}delete(ke,Se){return this.clone({name:ke,value:Se,op:"d"})}maybeSetNormalizedName(ke,Se){this.normalizedNames.has(Se)||this.normalizedNames.set(Se,ke)}init(){this.lazyInit&&(this.lazyInit instanceof ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ke=>this.applyUpdate(ke)),this.lazyUpdate=null))}copyFrom(ke){ke.init(),Array.from(ke.headers.keys()).forEach(Se=>{this.headers.set(Se,ke.headers.get(Se)),this.normalizedNames.set(Se,ke.normalizedNames.get(Se))})}clone(ke){const Se=new ne;return Se.lazyInit=this.lazyInit&&this.lazyInit instanceof ne?this.lazyInit:this,Se.lazyUpdate=(this.lazyUpdate||[]).concat([ke]),Se}applyUpdate(ke){const Se=ke.name.toLowerCase();switch(ke.op){case"a":case"s":let tt=ke.value;if("string"==typeof tt&&(tt=[tt]),0===tt.length)return;this.maybeSetNormalizedName(ke.name,Se);const Mt=("a"===ke.op?this.headers.get(Se):void 0)||[];Mt.push(...tt),this.headers.set(Se,Mt);break;case"d":const Ut=ke.value;if(Ut){let kt=this.headers.get(Se);if(!kt)return;kt=kt.filter(xt=>-1===Ut.indexOf(xt)),0===kt.length?(this.headers.delete(Se),this.normalizedNames.delete(Se)):this.headers.set(Se,kt)}else this.headers.delete(Se),this.normalizedNames.delete(Se)}}forEach(ke){this.init(),Array.from(this.normalizedNames.keys()).forEach(Se=>ke(this.normalizedNames.get(Se),this.headers.get(Se)))}}class de{encodeKey(ke){return Dt(ke)}encodeValue(ke){return Dt(ke)}decodeKey(ke){return decodeURIComponent(ke)}decodeValue(ke){return decodeURIComponent(ke)}}const ot=/%(\d[a-f0-9])/gi,it={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Dt(Et){return encodeURIComponent(Et).replace(ot,(ke,Se)=>{var tt;return null!==(tt=it[Se])&&void 0!==tt?tt:ke})}function Ot(Et){return`${Et}`}class Pe{constructor(ke={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ke.encoder||new de,ke.fromString){if(ke.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Le(Et,ke){const Se=new Map;return Et.length>0&&Et.replace(/^\?/,"").split("&").forEach(Mt=>{const Ut=Mt.indexOf("="),[kt,xt]=-1==Ut?[ke.decodeKey(Mt),""]:[ke.decodeKey(Mt.slice(0,Ut)),ke.decodeValue(Mt.slice(Ut+1))],Dn=Se.get(kt)||[];Dn.push(xt),Se.set(kt,Dn)}),Se}(ke.fromString,this.encoder)}else ke.fromObject?(this.map=new Map,Object.keys(ke.fromObject).forEach(Se=>{const tt=ke.fromObject[Se];this.map.set(Se,Array.isArray(tt)?tt:[tt])})):this.map=null}has(ke){return this.init(),this.map.has(ke)}get(ke){this.init();const Se=this.map.get(ke);return Se?Se[0]:null}getAll(ke){return this.init(),this.map.get(ke)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ke,Se){return this.clone({param:ke,value:Se,op:"a"})}appendAll(ke){const Se=[];return Object.keys(ke).forEach(tt=>{const Mt=ke[tt];Array.isArray(Mt)?Mt.forEach(Ut=>{Se.push({param:tt,value:Ut,op:"a"})}):Se.push({param:tt,value:Mt,op:"a"})}),this.clone(Se)}set(ke,Se){return this.clone({param:ke,value:Se,op:"s"})}delete(ke,Se){return this.clone({param:ke,value:Se,op:"d"})}toString(){return this.init(),this.keys().map(ke=>{const Se=this.encoder.encodeKey(ke);return this.map.get(ke).map(tt=>Se+"="+this.encoder.encodeValue(tt)).join("&")}).filter(ke=>""!==ke).join("&")}clone(ke){const Se=new Pe({encoder:this.encoder});return Se.cloneFrom=this.cloneFrom||this,Se.updates=(this.updates||[]).concat(ke),Se}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ke=>this.map.set(ke,this.cloneFrom.map.get(ke))),this.updates.forEach(ke=>{switch(ke.op){case"a":case"s":const Se=("a"===ke.op?this.map.get(ke.param):void 0)||[];Se.push(Ot(ke.value)),this.map.set(ke.param,Se);break;case"d":if(void 0===ke.value){this.map.delete(ke.param);break}{let tt=this.map.get(ke.param)||[];const Mt=tt.indexOf(Ot(ke.value));-1!==Mt&&tt.splice(Mt,1),tt.length>0?this.map.set(ke.param,tt):this.map.delete(ke.param)}}}),this.cloneFrom=this.updates=null)}}class lt{constructor(){this.map=new Map}set(ke,Se){return this.map.set(ke,Se),this}get(ke){return this.map.has(ke)||this.map.set(ke,ke.defaultValue()),this.map.get(ke)}delete(ke){return this.map.delete(ke),this}keys(){return this.map.keys()}}function We(Et){return"undefined"!=typeof ArrayBuffer&&Et instanceof ArrayBuffer}function Re(Et){return"undefined"!=typeof Blob&&Et instanceof Blob}function at(Et){return"undefined"!=typeof FormData&&Et instanceof FormData}class Ne{constructor(ke,Se,tt,Mt){let Ut;if(this.url=Se,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ke.toUpperCase(),function wt(Et){switch(Et){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Mt?(this.body=void 0!==tt?tt:null,Ut=Mt):Ut=tt,Ut&&(this.reportProgress=!!Ut.reportProgress,this.withCredentials=!!Ut.withCredentials,Ut.responseType&&(this.responseType=Ut.responseType),Ut.headers&&(this.headers=Ut.headers),Ut.context&&(this.context=Ut.context),Ut.params&&(this.params=Ut.params)),this.headers||(this.headers=new ne),this.context||(this.context=new lt),this.params){const kt=this.params.toString();if(0===kt.length)this.urlWithParams=Se;else{const xt=Se.indexOf("?");this.urlWithParams=Se+(-1===xt?"?":xt<Se.length-1?"&":"")+kt}}else this.params=new Pe,this.urlWithParams=Se}serializeBody(){return null===this.body?null:We(this.body)||Re(this.body)||at(this.body)||function It(Et){return"undefined"!=typeof URLSearchParams&&Et instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||at(this.body)?null:Re(this.body)?this.body.type||null:We(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ke={}){var Se;const tt=ke.method||this.method,Mt=ke.url||this.url,Ut=ke.responseType||this.responseType,kt=void 0!==ke.body?ke.body:this.body,xt=void 0!==ke.withCredentials?ke.withCredentials:this.withCredentials,Dn=void 0!==ke.reportProgress?ke.reportProgress:this.reportProgress;let Jn=ke.headers||this.headers,Xn=ke.params||this.params;const yn=null!==(Se=ke.context)&&void 0!==Se?Se:this.context;return void 0!==ke.setHeaders&&(Jn=Object.keys(ke.setHeaders).reduce((Bn,ln)=>Bn.set(ln,ke.setHeaders[ln]),Jn)),ke.setParams&&(Xn=Object.keys(ke.setParams).reduce((Bn,ln)=>Bn.set(ln,ke.setParams[ln]),Xn)),new Ne(tt,Mt,kt,{params:Xn,headers:Jn,context:yn,reportProgress:Dn,responseType:Ut,withCredentials:xt})}}var St=(()=>((St=St||{})[St.Sent=0]="Sent",St[St.UploadProgress=1]="UploadProgress",St[St.ResponseHeader=2]="ResponseHeader",St[St.DownloadProgress=3]="DownloadProgress",St[St.Response=4]="Response",St[St.User=5]="User",St))();class ue{constructor(ke,Se=200,tt="OK"){this.headers=ke.headers||new ne,this.status=void 0!==ke.status?ke.status:Se,this.statusText=ke.statusText||tt,this.url=ke.url||null,this.ok=this.status>=200&&this.status<300}}class me extends ue{constructor(ke={}){super(ke),this.type=St.ResponseHeader}clone(ke={}){return new me({headers:ke.headers||this.headers,status:void 0!==ke.status?ke.status:this.status,statusText:ke.statusText||this.statusText,url:ke.url||this.url||void 0})}}class _e extends ue{constructor(ke={}){super(ke),this.type=St.Response,this.body=void 0!==ke.body?ke.body:null}clone(ke={}){return new _e({body:void 0!==ke.body?ke.body:this.body,headers:ke.headers||this.headers,status:void 0!==ke.status?ke.status:this.status,statusText:ke.statusText||this.statusText,url:ke.url||this.url||void 0})}}class xe extends ue{constructor(ke){super(ke,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ke.url||"(unknown url)"}`:`Http failure response for ${ke.url||"(unknown url)"}: ${ke.status} ${ke.statusText}`,this.error=ke.error||null}}function He(Et,ke){return{body:ke,headers:Et.headers,context:Et.context,observe:Et.observe,params:Et.params,reportProgress:Et.reportProgress,responseType:Et.responseType,withCredentials:Et.withCredentials}}let fe=(()=>{class Et{constructor(Se){this.handler=Se}request(Se,tt,Mt={}){let Ut;if(Se instanceof Ne)Ut=Se;else{let Dn,Jn;Dn=Mt.headers instanceof ne?Mt.headers:new ne(Mt.headers),Mt.params&&(Jn=Mt.params instanceof Pe?Mt.params:new Pe({fromObject:Mt.params})),Ut=new Ne(Se,tt,void 0!==Mt.body?Mt.body:null,{headers:Dn,context:Mt.context,params:Jn,reportProgress:Mt.reportProgress,responseType:Mt.responseType||"json",withCredentials:Mt.withCredentials})}const kt=(0,G.of)(Ut).pipe((0,Ie.b)(Dn=>this.handler.handle(Dn)));if(Se instanceof Ne||"events"===Mt.observe)return kt;const xt=kt.pipe((0,Te.h)(Dn=>Dn instanceof _e));switch(Mt.observe||"body"){case"body":switch(Ut.responseType){case"arraybuffer":return xt.pipe((0,De.U)(Dn=>{if(null!==Dn.body&&!(Dn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Dn.body}));case"blob":return xt.pipe((0,De.U)(Dn=>{if(null!==Dn.body&&!(Dn.body instanceof Blob))throw new Error("Response is not a Blob.");return Dn.body}));case"text":return xt.pipe((0,De.U)(Dn=>{if(null!==Dn.body&&"string"!=typeof Dn.body)throw new Error("Response is not a string.");return Dn.body}));default:return xt.pipe((0,De.U)(Dn=>Dn.body))}case"response":return xt;default:throw new Error(`Unreachable: unhandled observe type ${Mt.observe}}`)}}delete(Se,tt={}){return this.request("DELETE",Se,tt)}get(Se,tt={}){return this.request("GET",Se,tt)}head(Se,tt={}){return this.request("HEAD",Se,tt)}jsonp(Se,tt){return this.request("JSONP",Se,{params:(new Pe).append(tt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Se,tt={}){return this.request("OPTIONS",Se,tt)}patch(Se,tt,Mt={}){return this.request("PATCH",Se,He(Mt,tt))}post(Se,tt,Mt={}){return this.request("POST",Se,He(Mt,tt))}put(Se,tt,Mt={}){return this.request("PUT",Se,He(Mt,tt))}}return Et.\u0275fac=function(Se){return new(Se||Et)(w.LFG(oe))},Et.\u0275prov=w.Yz7({token:Et,factory:Et.\u0275fac}),Et})();class mt{constructor(ke,Se){this.next=ke,this.interceptor=Se}handle(ke){return this.interceptor.intercept(ke,this.next)}}const Vt=new w.OlP("HTTP_INTERCEPTORS");let cn=(()=>{class Et{intercept(Se,tt){return tt.handle(Se)}}return Et.\u0275fac=function(Se){return new(Se||Et)},Et.\u0275prov=w.Yz7({token:Et,factory:Et.\u0275fac}),Et})();const Ke=/^\)\]\}',?\n/;let en=(()=>{class Et{constructor(Se){this.xhrFactory=Se}handle(Se){if("JSONP"===Se.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ve.y(tt=>{const Mt=this.xhrFactory.build();if(Mt.open(Se.method,Se.urlWithParams),Se.withCredentials&&(Mt.withCredentials=!0),Se.headers.forEach((ln,fn)=>Mt.setRequestHeader(ln,fn.join(","))),Se.headers.has("Accept")||Mt.setRequestHeader("Accept","application/json, text/plain, */*"),!Se.headers.has("Content-Type")){const ln=Se.detectContentTypeHeader();null!==ln&&Mt.setRequestHeader("Content-Type",ln)}if(Se.responseType){const ln=Se.responseType.toLowerCase();Mt.responseType="json"!==ln?ln:"text"}const Ut=Se.serializeBody();let kt=null;const xt=()=>{if(null!==kt)return kt;const ln=1223===Mt.status?204:Mt.status,fn=Mt.statusText||"OK",Tn=new ne(Mt.getAllResponseHeaders()),rt=function Ct(Et){return"responseURL"in Et&&Et.responseURL?Et.responseURL:/^X-Request-URL:/m.test(Et.getAllResponseHeaders())?Et.getResponseHeader("X-Request-URL"):null}(Mt)||Se.url;return kt=new me({headers:Tn,status:ln,statusText:fn,url:rt}),kt},Dn=()=>{let{headers:ln,status:fn,statusText:Tn,url:rt}=xt(),j=null;204!==fn&&(j=void 0===Mt.response?Mt.responseText:Mt.response),0===fn&&(fn=j?200:0);let Z=fn>=200&&fn<300;if("json"===Se.responseType&&"string"==typeof j){const $e=j;j=j.replace(Ke,"");try{j=""!==j?JSON.parse(j):null}catch(pe){j=$e,Z&&(Z=!1,j={error:pe,text:j})}}Z?(tt.next(new _e({body:j,headers:ln,status:fn,statusText:Tn,url:rt||void 0})),tt.complete()):tt.error(new xe({error:j,headers:ln,status:fn,statusText:Tn,url:rt||void 0}))},Jn=ln=>{const{url:fn}=xt(),Tn=new xe({error:ln,status:Mt.status||0,statusText:Mt.statusText||"Unknown Error",url:fn||void 0});tt.error(Tn)};let Xn=!1;const yn=ln=>{Xn||(tt.next(xt()),Xn=!0);let fn={type:St.DownloadProgress,loaded:ln.loaded};ln.lengthComputable&&(fn.total=ln.total),"text"===Se.responseType&&!!Mt.responseText&&(fn.partialText=Mt.responseText),tt.next(fn)},Bn=ln=>{let fn={type:St.UploadProgress,loaded:ln.loaded};ln.lengthComputable&&(fn.total=ln.total),tt.next(fn)};return Mt.addEventListener("load",Dn),Mt.addEventListener("error",Jn),Mt.addEventListener("timeout",Jn),Mt.addEventListener("abort",Jn),Se.reportProgress&&(Mt.addEventListener("progress",yn),null!==Ut&&Mt.upload&&Mt.upload.addEventListener("progress",Bn)),Mt.send(Ut),tt.next({type:St.Sent}),()=>{Mt.removeEventListener("error",Jn),Mt.removeEventListener("abort",Jn),Mt.removeEventListener("load",Dn),Mt.removeEventListener("timeout",Jn),Se.reportProgress&&(Mt.removeEventListener("progress",yn),null!==Ut&&Mt.upload&&Mt.upload.removeEventListener("progress",Bn)),Mt.readyState!==Mt.DONE&&Mt.abort()}})}}return Et.\u0275fac=function(Se){return new(Se||Et)(w.LFG(c.JF))},Et.\u0275prov=w.Yz7({token:Et,factory:Et.\u0275fac}),Et})();const vn=new w.OlP("XSRF_COOKIE_NAME"),En=new w.OlP("XSRF_HEADER_NAME");class ir{}let sr=(()=>{class Et{constructor(Se,tt,Mt){this.doc=Se,this.platform=tt,this.cookieName=Mt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Se=this.doc.cookie||"";return Se!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(Se,this.cookieName),this.lastCookieString=Se),this.lastToken}}return Et.\u0275fac=function(Se){return new(Se||Et)(w.LFG(c.K0),w.LFG(w.Lbi),w.LFG(vn))},Et.\u0275prov=w.Yz7({token:Et,factory:Et.\u0275fac}),Et})(),Un=(()=>{class Et{constructor(Se,tt){this.tokenService=Se,this.headerName=tt}intercept(Se,tt){const Mt=Se.url.toLowerCase();if("GET"===Se.method||"HEAD"===Se.method||Mt.startsWith("http://")||Mt.startsWith("https://"))return tt.handle(Se);const Ut=this.tokenService.getToken();return null!==Ut&&!Se.headers.has(this.headerName)&&(Se=Se.clone({headers:Se.headers.set(this.headerName,Ut)})),tt.handle(Se)}}return Et.\u0275fac=function(Se){return new(Se||Et)(w.LFG(ir),w.LFG(En))},Et.\u0275prov=w.Yz7({token:Et,factory:Et.\u0275fac}),Et})(),an=(()=>{class Et{constructor(Se,tt){this.backend=Se,this.injector=tt,this.chain=null}handle(Se){if(null===this.chain){const tt=this.injector.get(Vt,[]);this.chain=tt.reduceRight((Mt,Ut)=>new mt(Mt,Ut),this.backend)}return this.chain.handle(Se)}}return Et.\u0275fac=function(Se){return new(Se||Et)(w.LFG(Me),w.LFG(w.zs3))},Et.\u0275prov=w.Yz7({token:Et,factory:Et.\u0275fac}),Et})(),nn=(()=>{class Et{static disable(){return{ngModule:Et,providers:[{provide:Un,useClass:cn}]}}static withOptions(Se={}){return{ngModule:Et,providers:[Se.cookieName?{provide:vn,useValue:Se.cookieName}:[],Se.headerName?{provide:En,useValue:Se.headerName}:[]]}}}return Et.\u0275fac=function(Se){return new(Se||Et)},Et.\u0275mod=w.oAB({type:Et}),Et.\u0275inj=w.cJS({providers:[Un,{provide:Vt,useExisting:Un,multi:!0},{provide:ir,useClass:sr},{provide:vn,useValue:"XSRF-TOKEN"},{provide:En,useValue:"X-XSRF-TOKEN"}]}),Et})(),kn=(()=>{class Et{}return Et.\u0275fac=function(Se){return new(Se||Et)},Et.\u0275mod=w.oAB({type:Et}),Et.\u0275inj=w.cJS({providers:[fe,{provide:oe,useClass:an},en,{provide:Me,useExisting:en}],imports:[[nn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Et})()},5e3:(Qt,nt,k)=>{k.d(nt,{$8M:()=>js,$Z:()=>Iu,AFp:()=>A0,ALo:()=>Qv,AaK:()=>oe,BQk:()=>Mc,CHM:()=>ro,CRH:()=>a0,CZH:()=>ef,CqO:()=>am,DdM:()=>Gv,EJc:()=>N0,EiD:()=>Ku,EpF:()=>fp,F4k:()=>om,FYo:()=>kv,FiY:()=>ko,G48:()=>Rb,GfV:()=>Fv,Gpc:()=>de,JOm:()=>Fo,JVY:()=>wa,L6k:()=>Kc,LAX:()=>qc,LFG:()=>Gi,LSH:()=>Xc,Lbi:()=>M0,NdJ:()=>pp,OlP:()=>ui,Oqu:()=>Tp,PXZ:()=>Cb,Q6J:()=>Du,QGY:()=>Fd,Qsj:()=>uw,R0b:()=>Aa,RDi:()=>$i,Rgc:()=>Fp,SBq:()=>Np,Sil:()=>v_,Suo:()=>o0,TTD:()=>Vr,TgZ:()=>cp,Tol:()=>pm,Udp:()=>Gh,VKq:()=>zv,VLi:()=>Ib,X6Q:()=>Nb,XFs:()=>nn,Xpm:()=>le,Y36:()=>Bh,YKP:()=>Bv,YNc:()=>ap,Yjl:()=>be,Yz7:()=>Ce,ZZ4:()=>km,_Bn:()=>Nv,_UZ:()=>dp,_Vd:()=>xp,_c5:()=>Jb,_uU:()=>vm,aQg:()=>Fm,c2e:()=>x0,cJS:()=>Ct,cg1:()=>qy,d8E:()=>Ky,dDg:()=>k0,deG:()=>No,dqk:()=>yn,eBb:()=>du,eFA:()=>V0,ekj:()=>zh,g9A:()=>S0,h0i:()=>Qh,hGG:()=>sI,hij:()=>Kh,iGM:()=>s0,ifc:()=>kt,ip1:()=>y_,kL8:()=>sv,lG2:()=>Q,lcZ:()=>Jv,mCW:()=>m,n5z:()=>Rr,oAB:()=>ie,oJD:()=>Zd,oxw:()=>yp,pB0:()=>Ml,q3G:()=>wi,q4F:()=>Lv,qLn:()=>yt,qOj:()=>Jf,qZA:()=>jh,qzn:()=>Yr,s9C:()=>Oc,sBO:()=>Pb,sIi:()=>Pd,s_b:()=>Mm,soG:()=>Rm,tBr:()=>su,tb:()=>O0,tp0:()=>Ss,uIk:()=>ip,vHH:()=>Dt,vpe:()=>wl,wAp:()=>cr,xp6:()=>ng,yhl:()=>Gu,ynx:()=>Tu,z2F:()=>Vp,z3N:()=>_o,zSh:()=>Sd,zs3:()=>ra});var c=k(7579),w=k(727),G=k(8306),ve=k(6451),Ie=k(3099);function Te(t){for(let r in t)if(t[r]===Te)return r;throw Error("Could not find renamed property on target object.")}function De(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function oe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(oe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Me(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ne=Te({__forward_ref__:Te});function de(t){return t.__forward_ref__=de,t.toString=function(){return oe(this())},t}function Le(t){return ot(t)?t():t}function ot(t){return"function"==typeof t&&t.hasOwnProperty(ne)&&t.__forward_ref__===de}class Dt extends Error{constructor(r,s){super(function Pe(t,r){return`${t?`NG0${t}: `:""}${r}`}(r,s)),this.code=r}}function Je(t){return"string"==typeof t?t:null==t?"":String(t)}function lt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Je(t)}function at(t,r){const s=r?` in ${r}`:"";throw new Dt("201",`No provider for ${lt(t)} found${s}`)}function qt(t,r){null==t&&function Jt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Ce(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ct(t){return{providers:t.providers||[],imports:t.imports||[]}}function en(t){return vn(t,Un)||vn(t,An)}function vn(t,r){return t.hasOwnProperty(r)?t[r]:null}function sr(t){return t&&(t.hasOwnProperty(an)||t.hasOwnProperty(or))?t[an]:null}const Un=Te({\u0275prov:Te}),an=Te({\u0275inj:Te}),An=Te({ngInjectableDef:Te}),or=Te({ngInjectorDef:Te});var nn=(()=>((nn=nn||{})[nn.Default=0]="Default",nn[nn.Host=1]="Host",nn[nn.Self=2]="Self",nn[nn.SkipSelf=4]="SkipSelf",nn[nn.Optional=8]="Optional",nn))();let kn;function Kn(t){const r=kn;return kn=t,r}function Et(t,r,s){const a=en(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&nn.Optional?null:void 0!==r?r:void at(oe(t),"Injector")}function Se(t){return{toString:t}.toString()}var tt=(()=>((tt=tt||{})[tt.OnPush=0]="OnPush",tt[tt.Default=1]="Default",tt))(),kt=(()=>{return(t=kt||(kt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",kt;var t})();const xt="undefined"!=typeof globalThis&&globalThis,Dn="undefined"!=typeof window&&window,Jn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,yn=xt||"undefined"!=typeof global&&global||Dn||Jn,fn={},Tn=[],rt=Te({\u0275cmp:Te}),j=Te({\u0275dir:Te}),Z=Te({\u0275pipe:Te}),$e=Te({\u0275mod:Te}),pe=Te({\u0275fac:Te}),Ye=Te({__NG_ELEMENT_ID__:Te});let ct=0;function le(t){return Se(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===tt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Tn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||kt.Emulated,id:"c",styles:t.styles||Tn,_:null,setInput:null,schemas:t.schemas||null,tView:null},l=t.directives,d=t.features,_=t.pipes;return a.id+=ct++,a.inputs=J(t.inputs,s),a.outputs=J(t.outputs),d&&d.forEach(T=>T(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(ce):null,a.pipeDefs=_?()=>("function"==typeof _?_():_).map(Be):null,a})}function ce(t){return Xe(t)||function Tt(t){return t[j]||null}(t)}function Be(t){return function Yt(t){return t[Z]||null}(t)}const X={};function ie(t){return Se(()=>{const r={type:t.type,bootstrap:t.bootstrap||Tn,declarations:t.declarations||Tn,imports:t.imports||Tn,exports:t.exports||Tn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(X[t.id]=t.type),r})}function J(t,r){if(null==t)return fn;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),s[l]=a,r&&(r[l]=d)}return s}const Q=le;function be(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xe(t){return t[rt]||null}function Cn(t,r){const s=t[$e]||null;if(!s&&!0===r)throw new Error(`Type ${oe(t)} does not have '\u0275mod' property.`);return s}function sn(t){return Array.isArray(t)&&"object"==typeof t[1]}function er(t){return Array.isArray(t)&&!0===t[1]}function br(t){return 0!=(8&t.flags)}function tr(t){return 2==(2&t.flags)}function Wn(t){return 1==(1&t.flags)}function Lr(t){return null!==t.template}function Nr(t){return 0!=(512&t[2])}function Zi(t,r){return t.hasOwnProperty(pe)?t[pe]:null}class vi{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Vr(){return Ni}function Ni(t){return t.type.prototype.ngOnChanges&&(t.setInput=ws),Qr}function Qr(){const t=_r(this),r=null==t?void 0:t.current;if(r){const s=t.previous;if(s===fn)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function ws(t,r,s,a){const l=_r(t)||function Bi(t,r){return t[ns]=r}(t,{previous:fn,current:null}),d=l.current||(l.current={}),_=l.previous,T=this.declaredInputs[s],O=_[T];d[T]=new vi(O&&O.currentValue,r,_===fn),t[a]=r}Vr.ngInherit=!0;const ns="__ngSimpleChanges__";function _r(t){return t[ns]||null}let bs;function $i(t){bs=t}function Is(){return void 0!==bs?bs:"undefined"!=typeof document?document:void 0}function Sr(t){return!!t.listen}const Ri={createRenderer:(t,r)=>Is()};function R(t){for(;Array.isArray(t);)t=t[0];return t}function ee(t,r){return R(r[t])}function Oe(t,r){return R(r[t.index])}function Ft(t,r){return t.data[r]}function L(t,r){const s=r[t];return sn(s)?s:s[0]}function E(t){return 4==(4&t[2])}function y(t){return 128==(128&t[2])}function ae(t,r){return null==r?null:t[r]}function Ze(t){t[18]=0}function At(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Lt={lFrame:Oa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $n(){return Lt.bindingsEnabled}function Pt(){return Lt.lFrame.lView}function ar(){return Lt.lFrame.tView}function ro(t){return Lt.lFrame.contextLView=t,t[8]}function zn(){let t=qs();for(;null!==t&&64===t.type;)t=t.parent;return t}function qs(){return Lt.lFrame.currentTNode}function Zs(t,r){const s=Lt.lFrame;s.currentTNode=t,s.isParent=r}function po(){return Lt.lFrame.isParent}function Io(){Lt.lFrame.isParent=!1}function To(){return Lt.isInCheckNoChangesMode}function Ys(t){Lt.isInCheckNoChangesMode=t}function Ti(){const t=Lt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function jo(){return Lt.lFrame.bindingIndex++}function fs(t){const r=Lt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function $o(t,r){const s=Lt.lFrame;s.bindingIndex=s.bindingRootIndex=t,Co(r)}function Co(t){Lt.lFrame.currentDirectiveIndex=t}function Ao(t){const r=Lt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function So(){return Lt.lFrame.currentQueryIndex}function Ma(t){Lt.lFrame.currentQueryIndex=t}function Au(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function io(t,r,s){if(s&nn.SkipSelf){let l=r,d=t;for(;!(l=l.parent,null!==l||s&nn.Host||(l=Au(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;r=l,t=d}const a=Lt.lFrame=Go();return a.currentTNode=r,a.lView=t,!0}function Ho(t){const r=Go(),s=t[1];Lt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Go(){const t=Lt.lFrame,r=null===t?null:t.child;return null===r?Oa(t):r}function Oa(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function so(){const t=Lt.lFrame;return Lt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const la=so;function oo(){const t=so();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ii(){return Lt.lFrame.selectedIndex}function ao(t){Lt.lFrame.selectedIndex=t}function ti(){const t=Lt.lFrame;return Ft(t.tView,t.selectedIndex)}function ps(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:T,ngAfterViewInit:O,ngAfterViewChecked:B,ngOnDestroy:W}=d;_&&(t.contentHooks||(t.contentHooks=[])).push(-s,_),T&&((t.contentHooks||(t.contentHooks=[])).push(s,T),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,T)),O&&(t.viewHooks||(t.viewHooks=[])).push(-s,O),B&&((t.viewHooks||(t.viewHooks=[])).push(s,B),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,B)),null!=W&&(t.destroyHooks||(t.destroyHooks=[])).push(s,W)}}function Ls(t,r,s){Mu(t,r,3,s)}function zo(t,r,s,a){(3&t[2])===s&&Mu(t,r,s,a)}function Ci(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function Mu(t,r,s,a){const d=null!=a?a:-1,_=r.length-1;let T=0;for(let O=void 0!==a?65535&t[18]:0;O<_;O++)if("number"==typeof r[O+1]){if(T=r[O],null!=a&&T>=a)break}else r[O]<0&&(t[18]+=65536),(T<d||-1==d)&&(ca(t,s,r,O),t[18]=(4294901760&t[18])+O+2),O++}function ca(t,r,s,a){const l=s[a]<0,d=s[a+1],T=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{d.call(T)}finally{}}}else try{d.call(T)}finally{}}class si{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Kt(t,r,s){const a=Sr(t);let l=0;for(;l<s.length;){const d=s[l];if("number"==typeof d){if(0!==d)break;l++;const _=s[l++],T=s[l++],O=s[l++];a?t.setAttribute(r,T,O,_):r.setAttributeNS(_,T,O)}else{const _=d,T=s[++l];Bs(_)?a&&t.setProperty(r,_,T):a?t.setAttribute(r,_,T):r.setAttribute(_,T),l++}}return l}function qr(t){return 3===t||4===t||6===t}function Bs(t){return 64===t.charCodeAt(0)}function Mo(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||In(t,s,l,null,-1===s||2===s?r[++a]:null)}}return t}function In(t,r,s,a,l){let d=0,_=t.length;if(-1===r)_=-1;else for(;d<t.length;){const T=t[d++];if("number"==typeof T){if(T===r){_=-1;break}if(T>r){_=d-1;break}}}for(;d<t.length;){const T=t[d];if("number"==typeof T)break;if(T===s){if(null===a)return void(null!==l&&(t[d+1]=l));if(a===t[d+1])return void(t[d+2]=l)}d++,null!==a&&d++,null!==l&&d++}-1!==_&&(t.splice(_,0,r),d=_+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==l&&t.splice(d++,0,l)}function Ln(t){return-1!==t}function da(t){return 32767&t}function ht(t,r){let s=function $t(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let jt=!0;function ai(t){const r=jt;return jt=t,r}let fa=0;function uo(t,r){const s=qo(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,Oo(a.data,t),Oo(r,null),Oo(a.blueprint,null));const l=S(t,r),d=t.injectorIndex;if(Ln(l)){const _=da(l),T=ht(l,r),O=T[1].data;for(let B=0;B<8;B++)r[d+B]=T[_+B]|O[_+B]}return r[d+8]=l,d}function Oo(t,r){t.push(0,0,0,0,0,0,0,0,r)}function qo(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function S(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){const d=l[1],_=d.type;if(a=2===_?d.declTNode:1===_?l[6]:null,null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function I(t,r,s){!function xu(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Ye)&&(a=s[Ye]),null==a&&(a=s[Ye]=fa++);const l=255&a;r.data[t+(l>>5)]|=1<<l}(t,r,s)}function P(t,r,s){if(s&nn.Optional)return t;at(r,"NodeInjector")}function V(t,r,s,a){if(s&nn.Optional&&void 0===a&&(a=null),0==(s&(nn.Self|nn.Host))){const l=t[9],d=Kn(void 0);try{return l?l.get(r,a,s&nn.Optional):Et(r,a,s&nn.Optional)}finally{Kn(d)}}return P(a,r,s)}function Y(t,r,s,a=nn.Default,l){if(null!==t){const d=function Nn(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Ye)?t[Ye]:void 0;return"number"==typeof r?r>=0?255&r:Ae:r}(s);if("function"==typeof d){if(!io(r,t,a))return a&nn.Host?P(l,s,a):V(r,s,a,l);try{const _=d(a);if(null!=_||a&nn.Optional)return _;at(s)}finally{la()}}else if("number"==typeof d){let _=null,T=qo(t,r),O=-1,B=a&nn.Host?r[16][6]:null;for((-1===T||a&nn.SkipSelf)&&(O=-1===T?S(t,r):r[T+8],-1!==O&&Sn(a,!1)?(_=r[1],T=da(O),r=ht(O,r)):T=-1);-1!==T;){const W=r[1];if(vr(d,T,W.data)){const he=et(T,r,s,_,a,B);if(he!==ye)return he}O=r[T+8],-1!==O&&Sn(a,r[1].data[T+8]===B)&&vr(d,T,r)?(_=W,T=da(O),r=ht(O,r)):T=-1}}}return V(r,s,a,l)}const ye={};function Ae(){return new Qs(zn(),Pt())}function et(t,r,s,a,l,d){const _=r[1],T=_.data[t+8],W=hn(T,_,s,null==a?tr(T)&&jt:a!=_&&0!=(3&T.type),l&nn.Host&&d===T);return null!==W?nr(r,_,W,T):ye}function hn(t,r,s,a,l){const d=t.providerIndexes,_=r.data,T=1048575&d,O=t.directiveStart,W=d>>20,Ue=l?T+W:t.directiveEnd;for(let st=a?T:T+W;st<Ue;st++){const Rt=_[st];if(st<O&&s===Rt||st>=O&&Rt.type===s)return st}if(l){const st=_[O];if(st&&Lr(st)&&st.type===s)return O}return null}function nr(t,r,s,a){let l=t[s];const d=r.data;if(function gs(t){return t instanceof si}(l)){const _=l;_.resolving&&function wt(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Dt("200",`Circular dependency in DI detected for ${t}${s}`)}(lt(d[s]));const T=ai(_.canSeeViewProviders);_.resolving=!0;const O=_.injectImpl?Kn(_.injectImpl):null;io(t,a,nn.Default);try{l=t[s]=_.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function bl(t,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:d}=r.type.prototype;if(a){const _=Ni(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,_)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,d))}(s,d[s],r)}finally{null!==O&&Kn(O),ai(T),_.resolving=!1,la()}}return l}function vr(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function Sn(t,r){return!(t&nn.Self||t&nn.Host&&r)}class Qs{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Y(this._tNode,this._lView,r,a,s)}}function Rr(t){return Se(()=>{const r=t.prototype.constructor,s=r[pe]||ki(r),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const d=l[pe]||ki(l);if(d&&d!==s)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function ki(t){return ot(t)?()=>{const r=ki(Le(t));return r&&r()}:Zi(t)}function js(t){return function b(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const d=s[l];if(qr(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(d===r)return s[l+1];l+=2}}}return null}(zn(),t)}const Qi="__parameters__";function Zo(t,r,s){return Se(()=>{const a=function xo(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...d){if(this instanceof l)return a.apply(this,d),this;const _=new l(...d);return T.annotation=_,T;function T(O,B,W){const he=O.hasOwnProperty(Qi)?O[Qi]:Object.defineProperty(O,Qi,{value:[]})[Qi];for(;he.length<=W;)he.push(null);return(he[W]=he[W]||[]).push(_),O}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class ui{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ce({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const No=new ui("AnalyzeForEntryComponents");function Ai(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),Ai(a,r)):r!==t&&r.push(a)}return r}function ms(t,r){t.forEach(s=>Array.isArray(s)?ms(s,r):r(s))}function Yo(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function nu(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function os(t,r,s){let a=La(t,r);return a>=0?t[1|a]=s:(a=~a,function Nu(t,r,s,a){let l=t.length;if(l==r)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>r;)t[l]=t[l-2],l--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Hi(t,r){const s=La(t,r);if(s>=0)return t[1|s]}function La(t,r){return function Va(t,r,s){let a=0,l=t.length>>s;for(;l!==a;){const d=a+(l-a>>1),_=t[d<<s];if(r===_)return d<<s;_>r?l=d:a=d+1}return~(l<<s)}(t,r,1)}const Qo={},co="__NG_DI_FLAG__",iu="ngTempTokenPath",Lu=/\n/gm,tc="__source",Uc=Te({provide:String,useValue:Te});let pi;function Bc(t){const r=pi;return pi=t,r}function Gd(t,r=nn.Default){if(void 0===pi)throw new Error("inject() must be called from an injection context");return null===pi?Et(t,void 0,r):pi.get(t,r&nn.Optional?null:void 0,r)}function Gi(t,r=nn.Default){return(function xn(){return kn}()||Gd)(Le(t),r)}function Uu(t){const r=[];for(let s=0;s<t.length;s++){const a=Le(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let l,d=nn.Default;for(let _=0;_<a.length;_++){const T=a[_],O=rc(T);"number"==typeof O?-1===O?l=T.token:d|=O:l=T}r.push(Gi(l,d))}else r.push(Gi(a))}return r}function Bu(t,r){return t[co]=r,t.prototype[co]=r,t}function rc(t){return t[co]}const su=Bu(Zo("Inject",t=>({token:t})),-1),ko=Bu(Zo("Optional"),8),Ss=Bu(Zo("SkipSelf"),4);let $u,Hu;function ja(t){var r;return(null===(r=function Al(){if(void 0===$u&&($u=null,yn.trustedTypes))try{$u=yn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return $u}())||void 0===r?void 0:r.createHTML(t))||t}function va(t){var r;return(null===(r=function _a(){if(void 0===Hu&&(Hu=null,yn.trustedTypes))try{Hu=yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Hu}())||void 0===r?void 0:r.createHTML(t))||t}class Jo{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class uu extends Jo{getTypeName(){return"HTML"}}class zc extends Jo{getTypeName(){return"Style"}}class Wc extends Jo{getTypeName(){return"Script"}}class lu extends Jo{getTypeName(){return"URL"}}class cu extends Jo{getTypeName(){return"ResourceURL"}}function _o(t){return t instanceof Jo?t.changingThisBreaksApplicationSecurity:t}function Yr(t,r){const s=Gu(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function Gu(t){return t instanceof Jo&&t.getTypeName()||null}function wa(t){return new uu(t)}function Kc(t){return new zc(t)}function du(t){return new Wc(t)}function qc(t){return new lu(t)}function Ml(t){return new cu(t)}class hu{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(ja(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class $a{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=ja(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=ja(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let l=s.length-1;0<l;l--){const _=s.item(l).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&r.removeAttribute(_)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const Yc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,f=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function m(t){return(t=String(t)).match(Yc)||t.match(f)?t:"unsafe:"+t}function z(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function se(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const ut=z("area,br,col,hr,img,wbr"),Ht=z("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wn=z("rp,rt"),Tr=se(ut,se(Ht,z("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),se(wn,z("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),se(wn,Ht)),vo=z("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Eo=z("srcset"),cc=se(vo,Eo,z("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),z("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ol=z("script,style,template");class Ha{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Tr.hasOwnProperty(s))return this.sanitizedSomething=!0,!Ol.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let l=0;l<a.length;l++){const d=a.item(l),_=d.name,T=_.toLowerCase();if(!cc.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let O=d.value;vo[T]&&(O=m(O)),Eo[T]&&(t=O,O=(t=String(t)).split(",").map(r=>m(r.trim())).join(", ")),this.buf.push(" ",_,'="',Or(O),'"')}var t;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Tr.hasOwnProperty(s)&&!ut.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Or(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Qc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jc=/([^\#-~ |!])/g;function Or(t){return t.replace(/&/g,"&amp;").replace(Qc,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Jc,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wu;function Ku(t,r){let s=null;try{Wu=Wu||function zu(t){const r=new $a(t);return function Zc(){try{return!!(new window.DOMParser).parseFromString(ja(""),"text/html")}catch(t){return!1}}()?new hu(r):r}(t);let a=r?String(r):"";s=Wu.getInertBodyElement(a);let l=5,d=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=d,d=s.innerHTML,s=Wu.getInertBodyElement(a)}while(a!==d);return ja((new Ha).sanitizeChildren(Xo(s)||s))}finally{if(s){const a=Xo(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Xo(t){return"content"in t&&function qu(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wi=(()=>((wi=wi||{})[wi.NONE=0]="NONE",wi[wi.HTML=1]="HTML",wi[wi.STYLE=2]="STYLE",wi[wi.SCRIPT=3]="SCRIPT",wi[wi.URL=4]="URL",wi[wi.RESOURCE_URL=5]="RESOURCE_URL",wi))();function Zd(t){const r=dc();return r?va(r.sanitize(wi.HTML,t)||""):Yr(t,"HTML")?va(_o(t)):Ku(Is(),Je(t))}function Xc(t){const r=dc();return r?r.sanitize(wi.URL,t)||"":Yr(t,"URL")?_o(t):m(Je(t))}function dc(){const t=Pt();return t&&t[12]}const xl="__ngContext__";function gi(t,r){t[xl]=r}function td(t){const r=function Zu(t){return t[xl]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function ge(t){return t.ngOriginalError}function Qe(t,...r){t.error(...r)}class yt{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function we(t){return t&&t.ngErrorLogger||Qe}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&ge(r);for(;s&&ge(s);)s=ge(s);return s||null}}const Xi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(yn))();function us(t){return t instanceof Function?t():t}var Fo=(()=>((Fo=Fo||{})[Fo.Important=1]="Important",Fo[Fo.DashCase=2]="DashCase",Fo))();function Mn(t,r){return undefined(t,r)}function Cr(t){const r=t[3];return er(r)?r[3]:r}function Ms(t){return mi(t[13])}function ta(t){return mi(t[4])}function mi(t){for(;null!==t&&!er(t);)t=t[4];return t}function gt(t,r,s,a,l){if(null!=a){let d,_=!1;er(a)?d=a:sn(a)&&(_=!0,a=a[0]);const T=R(a);0===t&&null!==s?null==l?el(r,s,T):za(r,s,T,l||null,!0):1===t&&null!==s?za(r,s,T,l||null,!0):2===t?function Zp(t,r,s){const a=nl(t,r);a&&function gc(t,r,s,a){Sr(t)?t.removeChild(r,s,a):r.removeChild(s)}(t,a,r,s)}(r,T,_):3===t&&r.destroyNode(T),null!=d&&function ad(t,r,s,a,l){const d=s[7];d!==R(s)&&gt(r,t,a,d,l);for(let T=10;T<s.length;T++){const O=s[T];od(O[1],O,t,r,a,d)}}(r,t,d,s,l)}}function ba(t,r,s){return Sr(t)?t.createElement(r,s):null===s?t.createElement(r):t.createElementNS(s,r)}function ys(t,r){const s=t[9],a=s.indexOf(r),l=r[3];1024&r[2]&&(r[2]&=-1025,At(l,-1)),s.splice(a,1)}function rd(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&ys(l,a),r>0&&(t[s-1][4]=a[4]);const d=nu(t,10+r);!function Rl(t,r){od(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const _=d[19];null!==_&&_.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Xd(t,r){if(!(256&r[2])){const s=r[11];Sr(s)&&s.destroyNode&&od(t,r,s,3,null,null),function Gp(t){let r=t[13];if(!r)return id(t[1],t);for(;r;){let s=null;if(sn(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)sn(r)&&id(r[1],r),r=r[3];null===r&&(r=t),sn(r)&&id(r[1],r),s=r&&r[4]}r=s}}(r)}}function id(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Wp(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof si)){const d=s[a+1];if(Array.isArray(d))for(let _=0;_<d.length;_+=2){const T=l[d[_]],O=d[_+1];try{O.call(T)}finally{}}else try{d.call(l)}finally{}}}}(t,r),function Xu(t,r){const s=t.cleanup,a=r[7];let l=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const _=s[d+1],T="function"==typeof _?_(r):R(r[_]),O=a[l=s[d+2]],B=s[d+3];"boolean"==typeof B?T.removeEventListener(s[d],O,B):B>=0?a[l=B]():a[l=-B].unsubscribe(),d+=2}else{const _=a[l=s[d+1]];s[d].call(_)}if(null!==a){for(let d=l+1;d<a.length;d++)a[d]();r[7]=null}}(t,r),1===r[1].type&&Sr(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&er(r[3])){s!==r[3]&&ys(s,r);const a=r[19];null!==a&&a.detachView(t)}}}function Kp(t,r,s){return function hf(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===kt.None||l===kt.Emulated)return null}return Oe(a,s)}(t,r.parent,s)}function za(t,r,s,a,l){Sr(t)?t.insertBefore(r,s,a,l):r.insertBefore(s,a,l)}function el(t,r,s){Sr(t)?t.appendChild(r,s):r.appendChild(s)}function tl(t,r,s,a,l){null!==a?za(t,r,s,a,l):el(t,r,s)}function nl(t,r){return Sr(t)?t.parentNode(r):r.parentNode}let ff=function th(t,r,s){return 40&t.type?Oe(t,s):null};function sd(t,r,s,a){const l=Kp(t,a,r),d=r[11],T=function eh(t,r,s){return ff(t,r,s)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let O=0;O<s.length;O++)tl(d,l,s[O],T,!1);else tl(d,l,s,T,!1)}function mc(t,r){if(null!==r){const s=r.type;if(3&s)return Oe(r,t);if(4&s)return pu(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return mc(t,a);{const l=t[r.index];return er(l)?pu(-1,l):R(l)}}if(32&s)return Mn(r,t)()||R(t[r.index]);{const a=yc(t,r);return null!==a?Array.isArray(a)?a[0]:mc(Cr(t[16]),a):mc(t,r.next)}}return null}function yc(t,r){return null!==r?t[16][6].projection[r.projection]:null}function pu(t,r){const s=10+t+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return mc(a,l)}return r[7]}function nh(t,r,s,a,l,d,_){for(;null!=s;){const T=a[s.index],O=s.type;if(_&&0===r&&(T&&gi(R(T),a),s.flags|=4),64!=(64&s.flags))if(8&O)nh(t,r,s.child,a,l,d,!1),gt(r,t,l,T,d);else if(32&O){const B=Mn(s,a);let W;for(;W=B();)gt(r,t,l,W,d);gt(r,t,l,T,d)}else 16&O?Yp(t,r,a,s,l,d):gt(r,t,l,T,d);s=_?s.projectionNext:s.next}}function od(t,r,s,a,l,d){nh(s,a,t.firstChild,r,l,d,!1)}function Yp(t,r,s,a,l,d){const _=s[16],O=_[6].projection[a.projection];if(Array.isArray(O))for(let B=0;B<O.length;B++)gt(r,t,l,O[B],d);else nh(t,r,O,_[3],l,d,!0)}function il(t,r,s){Sr(t)?t.setAttribute(r,"style",s):r.style.cssText=s}function rh(t,r,s){Sr(t)?""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s):r.className=s}function Qp(t,r,s){let a=t.length;for(;;){const l=t.indexOf(r,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const d=r.length;if(l+d===a||t.charCodeAt(l+d)<=32)return l}s=l+1}}const ih="ng-template";function _c(t,r,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==Qp(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Jp(t){return 4===t.type&&t.value!==ih}function Xp(t,r,s){return r===(4!==t.type||s?t.value:ih)}function ud(t,r,s){let a=4;const l=t.attrs||[],d=function eg(t){for(let r=0;r<t.length;r++)if(qr(t[r]))return r;return t.length}(l);let _=!1;for(let T=0;T<r.length;T++){const O=r[T];if("number"!=typeof O){if(!_)if(4&a){if(a=2|1&a,""!==O&&!Xp(t,O,s)||""===O&&1===r.length){if(wo(a))return!1;_=!0}}else{const B=8&a?O:r[++T];if(8&a&&null!==t.attrs){if(!_c(t.attrs,B,s)){if(wo(a))return!1;_=!0}continue}const he=sh(8&a?"class":O,l,Jp(t),s);if(-1===he){if(wo(a))return!1;_=!0;continue}if(""!==B){let Ue;Ue=he>d?"":l[he+1].toLowerCase();const st=8&a?Ue:null;if(st&&-1!==Qp(st,B,0)||2&a&&B!==Ue){if(wo(a))return!1;_=!0}}}}else{if(!_&&!wo(a)&&!wo(O))return!1;if(_&&wo(O))continue;_=!1,a=O|1&a}}return wo(a)||_}function wo(t){return 0==(1&t)}function sh(t,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let d=!1;for(;l<r.length;){const _=r[l];if(_===t)return l;if(3===_||6===_)d=!0;else{if(1===_||2===_){let T=r[++l];for(;"string"==typeof T;)T=r[++l];continue}if(4===_)break;if(0===_){l+=4;continue}}l+=d?1:2}return-1}return function oh(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function mf(t,r,s=!1){for(let a=0;a<r.length;a++)if(ud(t,r[a],s))return!0;return!1}function _f(t,r){return t?":not("+r.trim()+")":r}function sl(t){let r=t[0],s=1,a=2,l="",d=!1;for(;s<t.length;){let _=t[s];if("string"==typeof _)if(2&a){const T=t[++s];l+="["+_+(T.length>0?'="'+T+'"':"")+"]"}else 8&a?l+="."+_:4&a&&(l+=" "+_);else""!==l&&!wo(_)&&(r+=_f(d,l),l=""),a=_,d=d||!wo(a);s++}return""!==l&&(r+=_f(d,l)),r}const lr={};function ng(t){kl(ar(),Pt(),ii()+t,To())}function kl(t,r,s,a){if(!a)if(3==(3&r[2])){const d=t.preOrderCheckHooks;null!==d&&Ls(r,d,s)}else{const d=t.preOrderHooks;null!==d&&zo(r,d,0,s)}ao(s)}function Ia(t,r){return t<<17|r<<2}function zs(t){return t>>17&32767}function Ef(t){return 2|t}function gu(t){return(131068&t)>>2}function wf(t,r){return-131069&t|r<<2}function Ec(t){return 1|t}function mg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],d=s[a+1];if(-1!==d){const _=t.data[d];Ma(l),_.contentQueries(2,r[d],d)}}}function md(t,r,s,a,l,d,_,T,O,B){const W=r.blueprint.slice();return W[0]=l,W[2]=140|a,Ze(W),W[3]=W[15]=t,W[8]=s,W[10]=_||t&&t[10],W[11]=T||t&&t[11],W[12]=O||t&&t[12]||null,W[9]=B||t&&t[9]||null,W[6]=d,W[16]=2==r.type?t[16]:W,W}function al(t,r,s,a,l){let d=t.data[r];if(null===d)d=function fh(t,r,s,a,l){const d=qs(),_=po(),O=t.data[r]=function mh(t,r,s,a,l,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?d:d&&d.parent,s,r,a,l);return null===t.firstChild&&(t.firstChild=O),null!==d&&(_?null==d.child&&null!==O.parent&&(d.child=O):null===d.next&&(d.next=O)),O}(t,r,s,a,l),function go(){return Lt.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=l;const _=function ss(){const t=Lt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===_?-1:_.injectorIndex}return Zs(d,!0),d}function Ll(t,r,s,a){if(0===s)return-1;const l=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return l}function Vl(t,r,s){Ho(r);try{const a=t.viewQuery;null!==a&&Cd(1,a,s);const l=t.template;null!==l&&_d(t,r,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mg(t,r),t.staticViewQueries&&Cd(2,t.viewQuery,s);const d=t.components;null!==d&&function Wm(t,r){for(let s=0;s<r.length;s++)Tg(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,oo()}}function yu(t,r,s,a){const l=r[2];if(256==(256&l))return;Ho(r);const d=To();try{Ze(r),function aa(t){return Lt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&_d(t,r,s,2,a);const _=3==(3&l);if(!d)if(_){const B=t.preOrderCheckHooks;null!==B&&Ls(r,B,null)}else{const B=t.preOrderHooks;null!==B&&zo(r,B,0,null),Ci(r,0)}if(function Qm(t){for(let r=Ms(t);null!==r;r=ta(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],d=l[3];0==(1024&l[2])&&At(d,1),l[2]|=1024}}}(r),function Pf(t){for(let r=Ms(t);null!==r;r=ta(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];y(a)&&yu(l,a,l.template,a[8])}}(r),null!==t.contentQueries&&mg(t,r),!d)if(_){const B=t.contentCheckHooks;null!==B&&Ls(r,B)}else{const B=t.contentHooks;null!==B&&zo(r,B,1),Ci(r,1)}!function Gm(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)ao(~l);else{const d=l,_=s[++a],T=s[++a];$o(_,d),T(2,r[d])}}}finally{ao(-1)}}(t,r);const T=t.components;null!==T&&function zm(t,r){for(let s=0;s<r.length;s++)Jm(t,r[s])}(r,T);const O=t.viewQuery;if(null!==O&&Cd(2,O,a),!d)if(_){const B=t.viewCheckHooks;null!==B&&Ls(r,B)}else{const B=t.viewHooks;null!==B&&zo(r,B,2),Ci(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),d||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,At(r[3],-1))}finally{oo()}}function yd(t,r,s,a){const l=r[10],d=!To(),_=E(r);try{d&&!_&&l.begin&&l.begin(),_&&Vl(t,r,a),yu(t,r,s,a)}finally{d&&!_&&l.end&&l.end()}}function _d(t,r,s,a,l){const d=ii(),_=2&a;try{ao(-1),_&&r.length>20&&kl(t,r,20,To()),s(a,l)}finally{ao(d)}}function ph(t,r,s){if(br(r)){const l=r.directiveEnd;for(let d=r.directiveStart;d<l;d++){const _=t.data[d];_.contentQueries&&_.contentQueries(1,s[d],d)}}}function vd(t,r,s){!$n()||(function Of(t,r,s,a){const l=s.directiveStart,d=s.directiveEnd;t.firstCreatePass||uo(s,r),gi(a,r);const _=s.initialInputs;for(let T=l;T<d;T++){const O=t.data[T],B=Lr(O);B&&Nf(r,s,O);const W=nr(r,t,T,s);gi(W,r),null!==_&&vh(0,T-l,W,O,0,_),B&&(L(s.index,r)[8]=W)}}(t,r,s,Oe(s,r)),128==(128&s.flags)&&function bg(t,r,s){const a=s.directiveStart,l=s.directiveEnd,_=s.index,T=function mo(){return Lt.lFrame.currentDirectiveIndex}();try{ao(_);for(let O=a;O<l;O++){const B=t.data[O],W=r[O];Co(O),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&yh(B,W)}}finally{ao(-1),Co(T)}}(t,r,s))}function Ed(t,r,s=Oe){const a=r.localNames;if(null!==a){let l=r.index+1;for(let d=0;d<a.length;d+=2){const _=a[d+1],T=-1===_?s(r,t):t[_];t[l++]=T}}}function Af(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=gh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function gh(t,r,s,a,l,d,_,T,O,B){const W=20+a,he=W+l,Ue=function yg(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:lr);return s}(W,he),st="function"==typeof B?B():B;return Ue[1]={type:t,blueprint:Ue,template:s,queries:null,viewQuery:T,declTNode:r,data:Ue.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:he,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:O,consts:st,incompleteFirstPass:!1}}function Sf(t,r,s,a){const l=Bl(r);null===s?l.push(a):(l.push(s),t.firstCreatePass&&vu(t).push(a,l.length-1))}function wc(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function Vo(t,r,s,a,l,d,_,T){const O=Oe(r,s);let W,B=r.inputs;!T&&null!=B&&(W=B[a])?($l(t,s,W,a,l),tr(r)&&function Km(t,r){const s=L(r,t);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function Eg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=_?_(l,r.value||"",a):l,Sr(d)?d.setProperty(O,a,l):Bs(a)||(O.setProperty?O.setProperty(a,l):O[a]=l))}function wd(t,r,s,a){let l=!1;if($n()){const d=function xf(t,r,s){const a=t.directiveRegistry;let l=null;if(a)for(let d=0;d<a.length;d++){const _=a[d];mf(s,_.selectors,!1)&&(l||(l=[]),I(uo(s,r),t,_.type),Lr(_)?(_u(t,s),l.unshift(_)):l.push(_))}return l}(t,r,s),_=null===a?null:{"":-1};if(null!==d){l=!0,_h(s,t.data.length,d.length);for(let W=0;W<d.length;W++){const he=d[W];he.providersResolver&&he.providersResolver(he)}let T=!1,O=!1,B=Ll(t,r,d.length,null);for(let W=0;W<d.length;W++){const he=d[W];s.mergedAttrs=Mo(s.mergedAttrs,he.hostAttrs),Dg(t,s,r,B,he),Zm(B,he,_),null!==he.contentQueries&&(s.flags|=8),(null!==he.hostBindings||null!==he.hostAttrs||0!==he.hostVars)&&(s.flags|=128);const Ue=he.type.prototype;!T&&(Ue.ngOnChanges||Ue.ngOnInit||Ue.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),T=!0),!O&&(Ue.ngOnChanges||Ue.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),O=!0),B++}!function Mf(t,r){const a=r.directiveEnd,l=t.data,d=r.attrs,_=[];let T=null,O=null;for(let B=r.directiveStart;B<a;B++){const W=l[B],he=W.inputs,Ue=null===d||Jp(r)?null:Rf(he,d);_.push(Ue),T=wc(he,B,T),O=wc(W.outputs,B,O)}null!==T&&(T.hasOwnProperty("class")&&(r.flags|=16),T.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=_,r.inputs=T,r.outputs=O}(t,s)}_&&function Ig(t,r,s){if(r){const a=t.localNames=[];for(let l=0;l<r.length;l+=2){const d=s[r[l+1]];if(null==d)throw new Dt("301",`Export of name '${r[l+1]}' not found!`);a.push(r[l],d)}}}(s,a,_)}return s.mergedAttrs=Mo(s.mergedAttrs,s.attrs),l}function bd(t,r,s,a,l,d){const _=d.hostBindings;if(_){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const O=~r.index;(function Id(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(T)!=O&&T.push(O),T.push(a,l,_)}}function yh(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function _u(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Zm(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Lr(r)&&(s[""]=t)}}function _h(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function Dg(t,r,s,a,l){t.data[a]=l;const d=l.factory||(l.factory=Zi(l.type)),_=new si(d,Lr(l),null);t.blueprint[a]=_,s[a]=_,bd(t,r,0,a,Ll(t,s,l.hostVars,lr),l)}function Nf(t,r,s){const a=Oe(r,t),l=Af(s),d=t[10],_=Dc(t,md(t,l,null,s.onPush?64:16,a,r,d,d.createRenderer(a,s),null,null));t[r.index]=_}function Ka(t,r,s,a,l,d){const _=Oe(t,r);!function Dd(t,r,s,a,l,d,_){if(null==d)Sr(t)?t.removeAttribute(r,l,s):r.removeAttribute(l);else{const T=null==_?Je(d):_(d,a||"",l);Sr(t)?t.setAttribute(r,l,T,s):s?r.setAttributeNS(s,l,T):r.setAttribute(l,T)}}(r[11],_,d,t.value,s,a,l)}function vh(t,r,s,a,l,d){const _=d[r];if(null!==_){const T=a.setInput;for(let O=0;O<_.length;){const B=_[O++],W=_[O++],he=_[O++];null!==T?a.setInput(s,he,B,W):s[W]=he}}}function Rf(t,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Ul(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function Jm(t,r){const s=L(r,t);if(y(s)){const a=s[1];80&s[2]?yu(a,s,a.template,s[8]):s[5]>0&&Eh(s)}}function Eh(t){for(let a=Ms(t);null!==a;a=ta(a))for(let l=10;l<a.length;l++){const d=a[l];if(1024&d[2]){const _=d[1];yu(_,d,_.template,d[8])}else d[5]>0&&Eh(d)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=L(s[a],t);y(l)&&l[5]>0&&Eh(l)}}function Tg(t,r){const s=L(r,t),a=s[1];(function Xm(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),Vl(a,s,s[8])}function Dc(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function kf(t){for(;t;){t[2]|=64;const r=Cr(t);if(Nr(t)&&!r)return t;t=r}return null}function Td(t,r,s){const a=r[10];a.begin&&a.begin();try{yu(t,r,t.template,s)}catch(l){throw jl(r,l),l}finally{a.end&&a.end()}}function Cg(t){!function Lf(t){for(let r=0;r<t.components.length;r++){const s=t.components[r],a=td(s),l=a[1];yd(l,a,l.template,s)}}(t[8])}function Cd(t,r,s){Ma(0),r(t,s)}const Uf=(()=>Promise.resolve(null))();function Bl(t){return t[7]||(t[7]=[])}function vu(t){return t.cleanup||(t.cleanup=[])}function jl(t,r){const s=t[9],a=s?s.get(yt,null):null;a&&a.handleError(r)}function $l(t,r,s,a,l){for(let d=0;d<s.length;){const _=s[d++],T=s[d++],O=r[_],B=t.data[_];null!==B.setInput?B.setInput(O,l,a,T):O[T]=l}}function qa(t,r,s){const a=ee(r,t);!function Gs(t,r,s){Sr(t)?t.setValue(r,s):r.textContent=s}(t[11],a,s)}function Eu(t,r,s){let a=s?t.styles:null,l=s?t.classes:null,d=0;if(null!==r)for(let _=0;_<r.length;_++){const T=r[_];"number"==typeof T?d=T:1==d?l=Me(l,T):2==d&&(a=Me(a,T+": "+r[++_]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}const Ad=new ui("INJECTOR",-1);class bh{get(r,s=Qo){if(s===Qo){const a=new Error(`NullInjectorError: No provider for ${oe(r)}!`);throw a.name="NullInjectorError",a}return s}}const Sd=new ui("Set Injector scope."),Md={},ny={};let Od;function Ih(){return void 0===Od&&(Od=new bh),Od}function Og(t,r=null,s=null,a){const l=Bf(t,r,s,a);return l._resolveInjectorDefTypes(),l}function Bf(t,r=null,s=null,a){return new ry(t,s,r||Ih(),a)}class ry{constructor(r,s,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];s&&ms(s,T=>this.processProvider(T,r,s)),ms([r],T=>this.processInjectorType(T,[],d)),this.records.set(Ad,Tc(void 0,this));const _=this.records.get(Sd);this.scope=null!=_?_.value:null,this.source=l||("object"==typeof r?null:oe(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=Qo,a=nn.Default){this.assertNotDestroyed();const l=Bc(this),d=Kn(void 0);try{if(!(a&nn.SkipSelf)){let T=this.records.get(r);if(void 0===T){const O=function Gf(t){return"function"==typeof t||"object"==typeof t&&t instanceof ui}(r)&&en(r);T=O&&this.injectableDefInScope(O)?Tc(Dh(r),Md):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(a&nn.Self?Ih():this.parent).get(r,s=a&nn.Optional&&s===Qo?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[iu]=_[iu]||[]).unshift(oe(r)),l)throw _;return function Po(t,r,s,a){const l=t[iu];throw r[tc]&&l.unshift(r[tc]),t.message=function ga(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let l=oe(r);if(Array.isArray(r))l=r.map(oe).join(" -> ");else if("object"==typeof r){let d=[];for(let _ in r)if(r.hasOwnProperty(_)){let T=r[_];d.push(_+":"+("string"==typeof T?JSON.stringify(T):oe(T)))}l=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(Lu,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[iu]=null,t}(_,r,"R3InjectorError",this.source)}throw _}finally{Kn(d),Bc(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,l)=>r.push(oe(l))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(r,s,a){if(!(r=Le(r)))return!1;let l=sr(r);const d=null==l&&r.ngModule||void 0,_=void 0===d?r:d,T=-1!==a.indexOf(_);if(void 0!==d&&(l=sr(d)),null==l)return!1;if(null!=l.imports&&!T){let W;a.push(_);try{ms(l.imports,he=>{this.processInjectorType(he,s,a)&&(void 0===W&&(W=[]),W.push(he))})}finally{}if(void 0!==W)for(let he=0;he<W.length;he++){const{ngModule:Ue,providers:st}=W[he];ms(st,Rt=>this.processProvider(Rt,Ue,st||Tn))}}this.injectorDefTypes.add(_);const O=Zi(_)||(()=>new _);this.records.set(_,Tc(O,Md));const B=l.providers;if(null!=B&&!T){const W=r;ms(B,he=>this.processProvider(he,W,B))}return void 0!==d&&void 0!==r.providers}processProvider(r,s,a){let l=ul(r=Le(r))?r:Le(r&&r.provide);const d=function Ng(t,r,s){return Rg(t)?Tc(void 0,t.useValue):Tc(jf(t),Md)}(r);if(ul(r)||!0!==r.multi)this.records.get(l);else{let _=this.records.get(l);_||(_=Tc(void 0,Md,!0),_.factory=()=>Uu(_.multi),this.records.set(l,_)),l=r,_.multi.push(r)}this.records.set(l,d)}hydrate(r,s){return s.value===Md&&(s.value=ny,s.value=s.factory()),"object"==typeof s.value&&s.value&&function oy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Le(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Dh(t){const r=en(t),s=null!==r?r.factory:Zi(t);if(null!==s)return s;if(t instanceof ui)throw new Error(`Token ${oe(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function xg(t){const r=t.length;if(r>0){const a=function Ro(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?");throw new Error(`Can't resolve all parameters for ${oe(t)}: (${a.join(", ")}).`)}const s=function En(t){const r=t&&(t[Un]||t[An]);if(r){const s=function ir(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function jf(t,r,s){let a;if(ul(t)){const l=Le(t);return Zi(l)||Dh(l)}if(Rg(t))a=()=>Le(t.useValue);else if(function sy(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Uu(t.deps||[]));else if(function iy(t){return!(!t||!t.useExisting)}(t))a=()=>Gi(Le(t.useExisting));else{const l=Le(t&&(t.useClass||t.provide));if(!function Hf(t){return!!t.deps}(t))return Zi(l)||Dh(l);a=()=>new l(...Uu(t.deps))}return a}function Tc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Rg(t){return null!==t&&"object"==typeof t&&Uc in t}function ul(t){return"function"==typeof t}let ra=(()=>{class t{static create(s,a){var l;if(Array.isArray(s))return Og({name:""},a,s,"");{const d=null!==(l=s.name)&&void 0!==l?l:"";return Og({name:d},s.parent,s.providers,d)}}}return t.THROW_IF_NOT_FOUND=Qo,t.NULL=new bh,t.\u0275prov=Ce({token:t,providedIn:"any",factory:()=>Gi(Ad)}),t.__NG_ELEMENT_ID__=-1,t})();function Qf(t,r){ps(td(t)[1],zn())}function Jf(t){let r=function Oh(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let l;if(Lr(t))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Error("Directives cannot inherit Components");l=r.\u0275dir}if(l){if(s){a.push(l);const _=t;_.inputs=xh(t.inputs),_.declaredInputs=xh(t.declaredInputs),_.outputs=xh(t.outputs);const T=l.hostBindings;T&&dy(t,T);const O=l.viewQuery,B=l.contentQueries;if(O&&ep(t,O),B&&Ug(t,B),De(t.inputs,l.inputs),De(t.declaredInputs,l.declaredInputs),De(t.outputs,l.outputs),Lr(l)&&l.data.animation){const W=t.data;W.animation=(W.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let _=0;_<d.length;_++){const T=d[_];T&&T.ngInherit&&T(t),T===Jf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Xf(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Mo(l.hostAttrs,s=Mo(s,l.hostAttrs))}}(a)}function xh(t){return t===fn?{}:t===Tn?[]:t}function ep(t,r){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function Ug(t,r){const s=t.contentQueries;t.contentQueries=s?(a,l,d)=>{r(a,l,d),s(a,l,d)}:r}function dy(t,r){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Cc=null;function ll(){if(!Cc){const t=yn.Symbol;if(t&&t.iterator)Cc=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Cc=a)}}}return Cc}function Pd(t){return!!rp(t)&&(Array.isArray(t)||!(t instanceof Map)&&ll()in t)}function rp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ia(t,r,s){return t[r]=s}function _s(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function ip(t,r,s,a){const l=Pt();return _s(l,jo(),r)&&(ar(),Ka(ti(),l,t,r,s,a)),ip}function cl(t,r,s,a){return _s(t,jo(),s)?r+Je(s)+a:lr}function ap(t,r,s,a,l,d,_,T){const O=Pt(),B=ar(),W=t+20,he=B.firstCreatePass?function py(t,r,s,a,l,d,_,T,O){const B=r.consts,W=al(r,t,4,_||null,ae(B,T));wd(r,s,W,ae(B,O)),ps(r,W);const he=W.tViews=gh(2,W,a,l,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,B);return null!==r.queries&&(r.queries.template(r,W),he.queries=r.queries.embeddedTView(W)),W}(W,B,O,r,s,a,l,d,_):B.data[W];Zs(he,!1);const Ue=O[11].createComment("");sd(B,O,Ue,he),gi(Ue,O),Dc(O,O[W]=Ul(Ue,O,Ue,he)),Wn(he)&&vd(B,O,he),null!=_&&Ed(O,he,T)}function Bh(t,r=nn.Default){const s=Pt();return null===s?Gi(t,r):Y(zn(),s,Le(t),r)}function Iu(){throw new Error("invalid")}function Du(t,r,s){const a=Pt();return _s(a,jo(),r)&&Vo(ar(),ti(),a,t,r,a[11],s,!1),Du}function Sc(t,r,s,a,l){const _=l?"class":"style";$l(t,s,r.inputs[_],_,a)}function cp(t,r,s,a){const l=Pt(),d=ar(),_=20+t,T=l[11],O=l[_]=ba(T,r,function Su(){return Lt.lFrame.currentNamespace}()),B=d.firstCreatePass?function Ay(t,r,s,a,l,d,_){const T=r.consts,B=al(r,t,2,l,ae(T,d));return wd(r,s,B,ae(T,_)),null!==B.attrs&&Eu(B,B.attrs,!1),null!==B.mergedAttrs&&Eu(B,B.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,B),B}(_,d,l,0,r,s,a):d.data[_];Zs(B,!0);const W=B.mergedAttrs;null!==W&&Kt(T,O,W);const he=B.classes;null!==he&&rh(T,O,he);const Ue=B.styles;null!==Ue&&il(T,O,Ue),64!=(64&B.flags)&&sd(d,l,O,B),0===function Mr(){return Lt.lFrame.elementDepthCount}()&&gi(O,l),function ur(){Lt.lFrame.elementDepthCount++}(),Wn(B)&&(vd(d,l,B),ph(d,B,l)),null!==a&&Ed(l,B)}function jh(){let t=zn();po()?Io():(t=t.parent,Zs(t,!1));const r=t;!function fr(){Lt.lFrame.elementDepthCount--}();const s=ar();s.firstCreatePass&&(ps(s,t),br(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Ko(t){return 0!=(16&t.flags)}(r)&&Sc(s,r,Pt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Us(t){return 0!=(32&t.flags)}(r)&&Sc(s,r,Pt(),r.stylesWithoutHost,!1)}function dp(t,r,s,a){cp(t,r,s,a),jh()}function Tu(t,r,s){const a=Pt(),l=ar(),d=t+20,_=l.firstCreatePass?function Sy(t,r,s,a,l){const d=r.consts,_=ae(d,a),T=al(r,t,8,"ng-container",_);return null!==_&&Eu(T,_,!0),wd(r,s,T,ae(d,l)),null!==r.queries&&r.queries.elementStart(r,T),T}(d,l,a,r,s):l.data[d];Zs(_,!0);const T=a[d]=a[11].createComment("");sd(l,a,T,_),gi(T,a),Wn(_)&&(vd(l,a,_),ph(l,_,a)),null!=s&&Ed(a,_)}function Mc(){let t=zn();const r=ar();po()?Io():(t=t.parent,Zs(t,!1)),r.firstCreatePass&&(ps(r,t),br(t)&&r.queries.elementEnd(t))}function fp(){return Pt()}function Fd(t){return!!t&&"function"==typeof t.then}function om(t){return!!t&&"function"==typeof t.subscribe}const am=om;function pp(t,r,s,a){const l=Pt(),d=ar(),_=zn();return function mp(t,r,s,a,l,d,_,T){const O=Wn(a),W=t.firstCreatePass&&vu(t),he=r[8],Ue=Bl(r);let st=!0;if(3&a.type||T){const pn=Oe(a,r),Pn=T?T(pn):pn,zt=Ue.length,rr=T?Pr=>T(R(Pr[a.index])):a.index;if(Sr(s)){let Pr=null;if(!T&&O&&(Pr=function gp(t,r,s,a){const l=t.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const _=l[d];if(_===s&&l[d+1]===a){const T=r[7],O=l[d+2];return T.length>O?T[O]:null}"string"==typeof _&&(d+=2)}return null}(t,r,l,a.index)),null!==Pr)(Pr.__ngLastListenerFn__||Pr).__ngNextListenerFn__=d,Pr.__ngLastListenerFn__=d,st=!1;else{d=Hh(a,r,he,d,!1);const ni=s.listen(Pn,l,d);Ue.push(d,ni),W&&W.push(l,rr,zt,zt+1)}}else d=Hh(a,r,he,d,!0),Pn.addEventListener(l,d,_),Ue.push(d),W&&W.push(l,rr,zt,_)}else d=Hh(a,r,he,d,!1);const Rt=a.outputs;let tn;if(st&&null!==Rt&&(tn=Rt[l])){const pn=tn.length;if(pn)for(let Pn=0;Pn<pn;Pn+=2){const Sa=r[tn[Pn]][tn[Pn+1]].subscribe(d),jd=Ue.length;Ue.push(d,Sa),W&&W.push(l,a.index,jd,-(jd+1))}}}(d,l,l[11],_,t,r,!!s,a),pp}function gl(t,r,s,a){try{return!1!==s(a)}catch(l){return jl(t,l),!1}}function Hh(t,r,s,a,l){return function d(_){if(_===Function)return a;const T=2&t.flags?L(t.index,r):r;0==(32&r[2])&&kf(T);let O=gl(r,0,a,_),B=d.__ngNextListenerFn__;for(;B;)O=gl(r,0,B,_)&&O,B=B.__ngNextListenerFn__;return l&&!1===O&&(_.preventDefault(),_.returnValue=!1),O}}function yp(t=1){return function Ya(t){return(Lt.lFrame.contextLView=function xa(t,r){for(;t>0;)r=r[15],t--;return r}(t,Lt.lFrame.contextLView))[8]}(t)}function Oc(t,r,s){return xc(t,"",r,"",s),Oc}function xc(t,r,s,a,l){const d=Pt(),_=cl(d,r,s,a);return _!==lr&&Vo(ar(),ti(),d,t,_,d[11],l,!1),xc}function Pc(t,r,s,a,l){const d=t[s+1],_=null===r;let T=a?zs(d):gu(d),O=!1;for(;0!==T&&(!1===O||_);){const W=t[T+1];xy(t[T],r)&&(O=!0,t[T+1]=a?Ec(W):Ef(W)),T=a?zs(W):gu(W)}O&&(t[s+1]=a?Ef(d):Ec(d))}function xy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&La(t,r)>=0}const vs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cm(t){return t.substring(vs.key,vs.keyEnd)}function wp(t,r){const s=vs.textEnd;return s===r?-1:(r=vs.keyEnd=function ky(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,vs.key=r,s),kc(t,r,s))}function kc(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function Gh(t,r,s){return xs(t,r,s,!1),Gh}function zh(t,r){return xs(t,r,null,!0),zh}function pm(t){!function Ca(t,r,s,a){const l=ar(),d=fs(2);l.firstUpdatePass&&gm(l,null,d,a);const _=Pt();if(s!==lr&&_s(_,d,s)){const T=l.data[ii()];if(_m(T,a)&&!vl(l,d)){let O=a?T.classesWithoutHost:T.stylesWithoutHost;null!==O&&(s=Me(O,s||"")),Sc(l,T,_,s,a)}else!function Hy(t,r,s,a,l,d,_,T){l===lr&&(l=Tn);let O=0,B=0,W=0<l.length?l[0]:null,he=0<d.length?d[0]:null;for(;null!==W||null!==he;){const Ue=O<l.length?l[O+1]:void 0,st=B<d.length?d[B+1]:void 0;let tn,Rt=null;W===he?(O+=2,B+=2,Ue!==st&&(Rt=he,tn=st)):null===he||null!==W&&W<he?(O+=2,Rt=W):(B+=2,Rt=he,tn=st),null!==Rt&&ym(t,r,s,a,Rt,tn,_,T),W=O<l.length?l[O]:null,he=B<d.length?d[B]:null}}(l,T,_,_[11],_[d+1],_[d+1]=function $y(t,r,s){if(null==s||""===s)return Tn;const a=[],l=_o(s);if(Array.isArray(l))for(let d=0;d<l.length;d++)t(a,l[d],!0);else if("object"==typeof l)for(const d in l)l.hasOwnProperty(d)&&t(a,d,l[d]);else"string"==typeof l&&r(a,l);return a}(t,r,s),a,d)}}(os,Ta,t,!0)}function Ta(t,r){for(let s=function Ry(t){return function bp(t){vs.key=0,vs.keyEnd=0,vs.value=0,vs.valueEnd=0,vs.textEnd=t.length}(t),wp(t,kc(t,0,vs.textEnd))}(r);s>=0;s=wp(r,s))os(t,cm(r),!0)}function xs(t,r,s,a){const l=Pt(),d=ar(),_=fs(2);d.firstUpdatePass&&gm(d,t,_,a),r!==lr&&_s(l,_,r)&&ym(d,d.data[ii()],l,l[11],t,l[_+1]=function Gy(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=oe(_o(t)))),t}(r,s),a,_)}function vl(t,r){return r>=t.expandoStartIndex}function gm(t,r,s,a){const l=t.data;if(null===l[s+1]){const d=l[ii()],_=vl(t,s);_m(d,a)&&null===r&&!_&&(r=!1),r=function Vy(t,r,s,a){const l=Ao(t);let d=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=Vd(s=Dp(null,t,r,s,a),r.attrs,a),d=null);else{const _=r.directiveStylingLast;if(-1===_||t[_]!==l)if(s=Dp(l,t,r,s,a),null===d){let O=function Uy(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==gu(a))return t[zs(a)]}(t,r,a);void 0!==O&&Array.isArray(O)&&(O=Dp(null,t,r,O[1],a),O=Vd(O,r.attrs,a),function By(t,r,s,a){t[zs(s?r.classBindings:r.styleBindings)]=a}(t,r,a,O))}else d=function jy(t,r,s){let a;const l=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<l;d++)a=Vd(a,t[d].hostAttrs,s);return Vd(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(l,d,r,a),function Oy(t,r,s,a,l,d){let _=d?r.classBindings:r.styleBindings,T=zs(_),O=gu(_);t[a]=s;let W,B=!1;if(Array.isArray(s)){const he=s;W=he[1],(null===W||La(he,W)>0)&&(B=!0)}else W=s;if(l)if(0!==O){const Ue=zs(t[T+1]);t[a+1]=Ia(Ue,T),0!==Ue&&(t[Ue+1]=wf(t[Ue+1],a)),t[T+1]=function rg(t,r){return 131071&t|r<<17}(t[T+1],a)}else t[a+1]=Ia(T,0),0!==T&&(t[T+1]=wf(t[T+1],a)),T=a;else t[a+1]=Ia(O,0),0===T?T=a:t[O+1]=wf(t[O+1],a),O=a;B&&(t[a+1]=Ef(t[a+1])),Pc(t,W,a,!0),Pc(t,W,a,!1),function lm(t,r,s,a,l){const d=l?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&La(d,r)>=0&&(s[a+1]=Ec(s[a+1]))}(r,W,t,a,d),_=Ia(T,O),d?r.classBindings=_:r.styleBindings=_}(l,d,r,s,_,a)}}function Dp(t,r,s,a,l){let d=null;const _=s.directiveEnd;let T=s.directiveStylingLast;for(-1===T?T=s.directiveStart:T++;T<_&&(d=r[T],a=Vd(a,d.hostAttrs,l),d!==t);)T++;return null!==t&&(s.directiveStylingLast=T),a}function Vd(t,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let d=0;d<r.length;d++){const _=r[d];"number"==typeof _?l=_:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),os(t,_,!!s||r[++d]))}return void 0===t?null:t}function ym(t,r,s,a,l,d,_,T){if(!(3&r.type))return;const O=t.data,B=O[T+1];Fc(function ig(t){return 1==(1&t)}(B)?Ql(O,r,s,l,gu(B),_):void 0)||(Fc(d)||function ah(t){return 2==(2&t)}(B)&&(d=Ql(O,null,s,l,T,_)),function rl(t,r,s,a,l){const d=Sr(t);if(r)l?d?t.addClass(s,a):s.classList.add(a):d?t.removeClass(s,a):s.classList.remove(a);else{let _=-1===a.indexOf("-")?void 0:Fo.DashCase;if(null==l)d?t.removeStyle(s,a,_):s.style.removeProperty(a);else{const T="string"==typeof l&&l.endsWith("!important");T&&(l=l.slice(0,-10),_|=Fo.Important),d?t.setStyle(s,a,l,_):s.style.setProperty(a,l,T?"important":"")}}}(a,_,ee(ii(),s),l,d))}function Ql(t,r,s,a,l,d){const _=null===r;let T;for(;l>0;){const O=t[l],B=Array.isArray(O),W=B?O[1]:O,he=null===W;let Ue=s[l+1];Ue===lr&&(Ue=he?Tn:void 0);let st=he?Hi(Ue,a):W===a?Ue:void 0;if(B&&!Fc(st)&&(st=Hi(O,a)),Fc(st)&&(T=st,_))return T;const Rt=t[l+1];l=_?zs(Rt):gu(Rt)}if(null!==r){let O=d?r.residualClasses:r.residualStyles;null!=O&&(T=Hi(O,a))}return T}function Fc(t){return void 0!==t}function _m(t,r){return 0!=(t.flags&(r?16:32))}function vm(t,r=""){const s=Pt(),a=ar(),l=t+20,d=a.firstCreatePass?al(a,l,1,r,null):a.data[l],_=s[l]=function na(t,r){return Sr(t)?t.createText(r):t.createTextNode(r)}(s[11],r);sd(a,s,_,d),Zs(d,!1)}function Tp(t){return Kh("",t,""),Tp}function Kh(t,r,s){const a=Pt(),l=cl(a,t,r,s);return l!==lr&&qa(a,ii(),l),Kh}function Ky(t,r,s){const a=Pt();if(_s(a,jo(),r)){const d=ar(),_=ti();Vo(d,_,a,t,r,function wh(t,r,s){return(null===t||Lr(t))&&(s=function q(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(s[r.index])),s[11]}(Ao(d.data),_,a),s,!0)}return Ky}const Ud=void 0;var rE=["en",[["a","p"],["AM","PM"],Ud],[["AM","PM"],Ud,Ud],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ud,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ud,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ud,"{1} 'at' {0}",Ud],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let qh={};function qy(t){const r=function iE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ov(r);if(s)return s;const a=r.split("-")[0];if(s=ov(a),s)return s;if("en"===a)return rE;throw new Error(`Missing locale data for the locale "${t}".`)}function sv(t){return qy(t)[cr.PluralCase]}function ov(t){return t in qh||(qh[t]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[t]),qh[t]}var cr=(()=>((cr=cr||{})[cr.LocaleId=0]="LocaleId",cr[cr.DayPeriodsFormat=1]="DayPeriodsFormat",cr[cr.DayPeriodsStandalone=2]="DayPeriodsStandalone",cr[cr.DaysFormat=3]="DaysFormat",cr[cr.DaysStandalone=4]="DaysStandalone",cr[cr.MonthsFormat=5]="MonthsFormat",cr[cr.MonthsStandalone=6]="MonthsStandalone",cr[cr.Eras=7]="Eras",cr[cr.FirstDayOfWeek=8]="FirstDayOfWeek",cr[cr.WeekendRange=9]="WeekendRange",cr[cr.DateFormat=10]="DateFormat",cr[cr.TimeFormat=11]="TimeFormat",cr[cr.DateTimeFormat=12]="DateTimeFormat",cr[cr.NumberSymbols=13]="NumberSymbols",cr[cr.NumberFormats=14]="NumberFormats",cr[cr.CurrencyCode=15]="CurrencyCode",cr[cr.CurrencySymbol=16]="CurrencySymbol",cr[cr.CurrencyName=17]="CurrencyName",cr[cr.Currencies=18]="Currencies",cr[cr.Directionality=19]="Directionality",cr[cr.PluralCase=20]="PluralCase",cr[cr.ExtraData=21]="ExtraData",cr))();const bm="en-US";let av=bm;function Qy(t,r,s,a,l){if(t=Le(t),Array.isArray(t))for(let d=0;d<t.length;d++)Qy(t[d],r,s,a,l);else{const d=ar(),_=Pt();let T=ul(t)?t:Le(t.provide),O=jf(t);const B=zn(),W=1048575&B.providerIndexes,he=B.directiveStart,Ue=B.providerIndexes>>20;if(ul(t)||!t.multi){const st=new si(O,l,Bh),Rt=Xy(T,r,l?W:W+Ue,he);-1===Rt?(I(uo(B,_),d,T),Jy(d,t,r.length),r.push(T),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(st),_.push(st)):(s[Rt]=st,_[Rt]=st)}else{const st=Xy(T,r,W+Ue,he),Rt=Xy(T,r,W,W+Ue),tn=st>=0&&s[st],pn=Rt>=0&&s[Rt];if(l&&!pn||!l&&!tn){I(uo(B,_),d,T);const Pn=function nw(t,r,s,a,l){const d=new si(t,s,Bh);return d.multi=[],d.index=r,d.componentProviders=0,xv(d,l,a&&!s),d}(l?tw:ew,s.length,l,a,O);!l&&pn&&(s[Rt].providerFactory=Pn),Jy(d,t,r.length,0),r.push(T),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(Pn),_.push(Pn)}else Jy(d,t,st>-1?st:Rt,xv(s[l?Rt:st],O,!l&&a));!l&&a&&pn&&s[Rt].componentProviders++}}}function Jy(t,r,s,a){const l=ul(r),d=function $f(t){return!!t.useClass}(r);if(l||d){const O=(d?Le(r.useClass):r).prototype.ngOnDestroy;if(O){const B=t.destroyHooks||(t.destroyHooks=[]);if(!l&&r.multi){const W=B.indexOf(s);-1===W?B.push(s,[a,O]):B[W+1].push(a,O)}else B.push(s,O)}}}function xv(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function Xy(t,r,s,a){for(let l=s;l<a;l++)if(r[l]===t)return l;return-1}function ew(t,r,s,a){return e_(this.multi,[])}function tw(t,r,s,a){const l=this.multi;let d;if(this.providerFactory){const _=this.providerFactory.componentProviders,T=nr(s,s[1],this.providerFactory.index,a);d=T.slice(0,_),e_(l,d);for(let O=_;O<T.length;O++)d.push(T[O])}else d=[],e_(l,d);return d}function e_(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Nv(t,r=[]){return s=>{s.providersResolver=(a,l)=>function XE(t,r,s){const a=ar();if(a.firstCreatePass){const l=Lr(t);Qy(s,a.data,a.blueprint,l,!0),Qy(r,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,r)}}class Rv{}class sw{resolveComponentFactory(r){throw function iw(t){const r=Error(`No component factory found for ${oe(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let xp=(()=>{class t{}return t.NULL=new sw,t})();function ow(){return Yh(zn(),Pt())}function Yh(t,r){return new Np(Oe(t,r))}let Np=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=ow,t})();function aw(t){return t instanceof Np?t.nativeElement:t}class kv{}let uw=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function cw(){const t=Pt(),s=L(zn().index,t);return function lw(t){return t[11]}(sn(s)?s:t)}(),t})(),dw=(()=>{class t{}return t.\u0275prov=Ce({token:t,providedIn:"root",factory:()=>null}),t})();class Fv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Lv=new Fv("13.0.3"),t_={};function Am(t,r,s,a,l=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(R(d)),er(d))for(let T=10;T<d.length;T++){const O=d[T],B=O[1].firstChild;null!==B&&Am(O[1],O,B,a)}const _=s.type;if(8&_)Am(t,r,s.child,a);else if(32&_){const T=Mn(s,r);let O;for(;O=T();)a.push(O)}else if(16&_){const T=yc(r,s);if(Array.isArray(T))a.push(...T);else{const O=Cr(r[16]);Am(O[1],O,T,a,!0)}}s=l?s.projectionNext:s.next}return a}class Rp{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Am(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(er(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(rd(r,a),nu(s,a))}this._attachedToViewContainer=!1}Xd(this._lView[1],this._lView)}onDestroy(r){Sf(this._lView[1],this._lView,null,r)}markForCheck(){kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Td(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Vf(t,r,s){Ys(!0);try{Td(t,r,s)}finally{Ys(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Pl(t,r){od(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=r}}class hw extends Rp{constructor(r){super(r),this._view=r}detectChanges(){Cg(this._view)}checkNoChanges(){!function Ag(t){Ys(!0);try{Cg(t)}finally{Ys(!1)}}(this._view)}get context(){return null}}class Vv extends xp{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Xe(r);return new n_(s,this.ngModule)}}function Uv(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}const pw=new ui("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Xi});class n_ extends Rv{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function vc(t){return t.map(sl).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Uv(this.componentDef.inputs)}get outputs(){return Uv(this.componentDef.outputs)}create(r,s,a,l){const d=(l=l||this.ngModule)?function gw(t,r){return{get:(s,a,l)=>{const d=t.get(s,t_,l);return d!==t_||a===t_?d:r.get(s,a,l)}}}(r,l.injector):r,_=d.get(kv,Ri),T=d.get(dw,null),O=_.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",W=a?function vg(t,r,s){if(Sr(t))return t.selectRootElement(r,s===kt.ShadowDom);let a="string"==typeof r?t.querySelector(r):r;return a.textContent="",a}(O,a,this.componentDef.encapsulation):ba(_.createRenderer(null,this.componentDef),B,function fw(t){const r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(B)),he=this.componentDef.onPush?576:528,Ue=function Vg(t,r){return{components:[],scheduler:t||Xi,clean:Uf,playerHandler:r||null,flags:0}}(),st=gh(0,null,null,1,0,null,null,null,null,null),Rt=md(null,st,Ue,he,null,null,_,O,T,d);let tn,pn;Ho(Rt);try{const Pn=function Lg(t,r,s,a,l,d){const _=s[1];s[20]=t;const O=al(_,20,2,"#host",null),B=O.mergedAttrs=r.hostAttrs;null!==B&&(Eu(O,B,!0),null!==t&&(Kt(l,t,B),null!==O.classes&&rh(l,t,O.classes),null!==O.styles&&il(l,t,O.styles)));const W=a.createRenderer(t,r),he=md(s,Af(r),null,r.onPush?64:16,s[20],O,a,W,d||null,null);return _.firstCreatePass&&(I(uo(O,s),_,r.type),_u(_,O),_h(O,s.length,1)),Dc(s,he),s[20]=he}(W,this.componentDef,Rt,_,O);if(W)if(a)Kt(O,W,["ng-version",Lv.full]);else{const{attrs:zt,classes:rr}=function tg(t){const r=[],s=[];let a=1,l=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===l?""!==d&&r.push(d,t[++a]):8===l&&s.push(d);else{if(!wo(l))break;l=d}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);zt&&Kt(O,W,zt),rr&&rr.length>0&&rh(O,W,rr.join(" "))}if(pn=Ft(st,20),void 0!==s){const zt=pn.projection=[];for(let rr=0;rr<this.ngContentSelectors.length;rr++){const Pr=s[rr];zt.push(null!=Pr?Array.from(Pr):null)}}tn=function Mh(t,r,s,a,l){const d=s[1],_=function Ic(t,r,s){const a=zn();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Dg(t,a,r,Ll(t,r,1,null),s));const l=nr(r,t,a.directiveStart,a);gi(l,r);const d=Oe(a,r);return d&&gi(d,r),l}(d,s,r);if(a.components.push(_),t[8]=_,l&&l.forEach(O=>O(_,r)),r.contentQueries){const O=zn();r.contentQueries(1,_,O.directiveStart)}const T=zn();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(ao(T.index),bd(s[1],T,0,T.directiveStart,T.directiveEnd,r),yh(r,_)),_}(Pn,this.componentDef,Rt,Ue,[Qf]),Vl(st,Rt,null)}finally{oo()}return new yw(this.componentType,tn,Yh(pn,Rt),Rt,pn)}}class yw extends class rw{}{constructor(r,s,a,l,d){super(),this.location=a,this._rootLView=l,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new hw(l),this.componentType=r}get injector(){return new Qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Qh{}class Bv{}const Jh=new Map;class Hv extends Qh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const a=Cn(r);this._bootstrapComponents=us(a.bootstrap),this._r3Injector=Bf(r,s,[{provide:Qh,useValue:this},{provide:xp,useValue:this.componentFactoryResolver}],oe(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=ra.THROW_IF_NOT_FOUND,a=nn.Default){return r===ra||r===Qh||r===Ad?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class r_ extends Bv{constructor(r){super(),this.moduleType=r,null!==Cn(r)&&function vw(t){const r=new Set;!function s(a){const l=Cn(a,!0),d=l.id;null!==d&&(function jv(t,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${t} - ${oe(r)} vs ${oe(r.name)}`)}(d,Jh.get(d),a),Jh.set(d,a));const _=us(l.imports);for(const T of _)r.has(T)||(r.add(T),s(T))}(t)}(r)}create(r){return new Hv(this.moduleType,r)}}function Gv(t,r,s){const a=Ti()+t,l=Pt();return l[a]===lr?ia(l,a,s?r.call(s):r()):function Ac(t,r){return t[r]}(l,a)}function zv(t,r,s,a){return Wv(Pt(),Ti(),t,r,s,a)}function Wv(t,r,s,a,l,d){const _=r+s;return _s(t,_,l)?ia(t,_+1,d?a.call(d,l):a(l)):function Pp(t,r){const s=t[r];return s===lr?void 0:s}(t,_+1)}function Qv(t,r){const s=ar();let a;const l=t+20;s.firstCreatePass?(a=function Sw(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const d=a.factory||(a.factory=Zi(a.type)),_=Kn(Bh);try{const T=ai(!1),O=d();return ai(T),function gy(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Pt(),l,O),O}finally{Kn(_)}}function Jv(t,r,s){const a=t+20,l=Pt(),d=function gn(t,r){return t[r]}(l,a);return function kp(t,r){return t[1].data[r].pure}(l,a)?Wv(l,Ti(),r,d.transform,s,d):d.transform(s)}function i_(t){return r=>{setTimeout(t,void 0,r)}}const wl=class Rw extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var l,d,_;let T=r,O=s||(()=>null),B=a;if(r&&"object"==typeof r){const he=r;T=null===(l=he.next)||void 0===l?void 0:l.bind(he),O=null===(d=he.error)||void 0===d?void 0:d.bind(he),B=null===(_=he.complete)||void 0===_?void 0:_.bind(he)}this.__isAsync&&(O=i_(O),T&&(T=i_(T)),B&&(B=i_(B)));const W=super.subscribe({next:T,error:O,complete:B});return r instanceof w.w0&&r.add(W),W}};function Pw(){return this._results[ll()]()}class s_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=ll(),a=s_.prototype;a[s]||(a[s]=Pw)}get changes(){return this._changes||(this._changes=new wl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=Ai(r);(this._changesDetected=!function Dl(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],d=r[a];if(s&&(l=s(l),d=s(d)),d!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Fp=(()=>{class t{}return t.__NG_ELEMENT_ID__=Lw,t})();const kw=Fp,Fw=class extends kw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=md(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(a[19]=d.createEmbeddedView(s)),Vl(s,a,r),new Rp(a)}};function Lw(){return Sm(zn(),Pt())}function Sm(t,r){return 4&t.type?new Fw(r,t,Yh(t,r)):null}let Mm=(()=>{class t{}return t.__NG_ELEMENT_ID__=Vw,t})();function Vw(){return t0(zn(),Pt())}const Uw=Mm,Xv=class extends Uw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Yh(this._hostTNode,this._hostLView)}get injector(){return new Qs(this._hostTNode,this._hostLView)}get parentInjector(){const r=S(this._hostTNode,this._hostLView);if(Ln(r)){const s=ht(r,this._hostLView),a=da(r);return new Qs(s[1].data[a+8],s)}return new Qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=e0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const l=r.createEmbeddedView(s||{});return this.insert(l,a),l}createComponent(r,s,a,l,d){const _=r&&!function ka(t){return"function"==typeof t}(r);let T;if(_)T=s;else{const he=s||{};T=he.index,a=he.injector,l=he.projectableNodes,d=he.ngModuleRef}const O=_?r:new n_(Xe(r)),B=a||this.parentInjector;if(!d&&null==O.ngModule&&B){const he=B.get(Qh,null);he&&(d=he)}const W=O.create(B,l,void 0,d);return this.insert(W.hostView,T),W}insert(r,s){const a=r._lView,l=a[1];if(function x(t){return er(t[3])}(a)){const W=this.indexOf(r);if(-1!==W)this.detach(W);else{const he=a[3],Ue=new Xv(he,he[6],he[3]);Ue.detach(Ue.indexOf(r))}}const d=this._adjustIndex(s),_=this._lContainer;!function df(t,r,s,a){const l=10+a,d=s.length;a>0&&(s[l-1][4]=r),a<d-10?(r[4]=s[l],Yo(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const _=r[17];null!==_&&s!==_&&function zp(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(_,r);const T=r[19];null!==T&&T.insertView(t),r[2]|=128}(l,a,_,d);const T=pu(d,_),O=a[11],B=nl(O,_[7]);return null!==B&&function Lm(t,r,s,a,l,d){a[0]=l,a[6]=r,od(t,a,s,1,l,d)}(l,_[6],O,a,B,T),r.attachToViewContainerRef(),Yo(o_(_),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=e0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=rd(this._lContainer,s);a&&(nu(o_(this._lContainer),s),Xd(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=rd(this._lContainer,s);return a&&null!=nu(o_(this._lContainer),s)?new Rp(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function e0(t){return t[8]}function o_(t){return t[8]||(t[8]=[])}function t0(t,r){let s;const a=r[t.index];if(er(a))s=a;else{let l;if(8&t.type)l=R(a);else{const d=r[11];l=d.createComment("");const _=Oe(t,r);za(d,nl(d,_),l,function qp(t,r){return Sr(t)?t.nextSibling(r):r.nextSibling}(d,_),!1)}r[t.index]=s=Ul(a,r,l,t),Dc(r,s)}return new Xv(s,t,r)}class a_{constructor(r){this.queryList=r,this.matches=null}clone(){return new a_(this.queryList)}setDirty(){this.queryList.setDirty()}}class u_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let d=0;d<a;d++){const _=s.getByIndex(d);l.push(this.queries[_.indexInDeclarationView].clone())}return new u_(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==c0(r,s).matches&&this.queries[s].setDirty()}}class n0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class l_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,l);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new l_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class c_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new c_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const d=a[l];this.matchTNodeWithReadOption(r,s,$w(s,d)),this.matchTNodeWithReadOption(r,s,hn(s,r,d,!1,!1))}else a===Fp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,hn(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Np||l===Mm||l===Fp&&4&s.type)this.addMatch(s.index,-2);else{const d=hn(s,r,l,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function $w(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function Gw(t,r,s,a){return-1===s?function Hw(t,r){return 11&t.type?Yh(t,r):4&t.type?Sm(t,r):null}(r,t):-2===s?function zw(t,r,s){return s===Np?Yh(r,t):s===Fp?Sm(r,t):s===Mm?t0(r,t):void 0}(t,r,a):nr(t,t[1],s,r)}function r0(t,r,s,a){const l=r[19].queries[a];if(null===l.matches){const d=t.data,_=s.matches,T=[];for(let O=0;O<_.length;O+=2){const B=_[O];T.push(B<0?null:Gw(r,d[B],_[O+1],s.metadata.read))}l.matches=T}return l.matches}function d_(t,r,s,a){const l=t.queries.getByIndex(s),d=l.matches;if(null!==d){const _=r0(t,r,l,s);for(let T=0;T<d.length;T+=2){const O=d[T];if(O>0)a.push(_[T/2]);else{const B=d[T+1],W=r[-O];for(let he=10;he<W.length;he++){const Ue=W[he];Ue[17]===Ue[3]&&d_(Ue[1],Ue,B,a)}if(null!==W[9]){const he=W[9];for(let Ue=0;Ue<he.length;Ue++){const st=he[Ue];d_(st[1],st,B,a)}}}}}return a}function s0(t){const r=Pt(),s=ar(),a=So();Ma(a+1);const l=c0(s,a);if(t.dirty&&E(r)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const d=l.crossesNgTemplate?d_(s,r,a,[]):r0(s,r,l,a);t.reset(d,aw),t.notifyOnChanges()}return!0}return!1}function o0(t,r,s,a){const l=ar();if(l.firstCreatePass){const d=zn();(function l0(t,r,s){null===t.queries&&(t.queries=new l_),t.queries.track(new c_(r,s))})(l,new n0(r,s,a),d.index),function qw(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}!function u0(t,r,s){const a=new s_(4==(4&s));Sf(t,r,a,a.destroy),null===r[19]&&(r[19]=new u_),r[19].queries.push(new a_(a))}(l,Pt(),s)}function a0(){return function Kw(t,r){return t[19].queries[r].queryList}(Pt(),So())}function c0(t,r){return t.queries.getByIndex(r)}function Nm(...t){}const y_=new ui("Application Initializer");let ef=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Nm,this.reject=Nm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(Fd(d))s.push(d);else if(am(d)){const _=new Promise((T,O)=>{d.subscribe({complete:T,error:O})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Gi(y_,8))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),t})();const A0=new ui("AppId"),fb={provide:A0,useFactory:function hb(){return`${__()}${__()}${__()}`},deps:[]};function __(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const S0=new ui("Platform Initializer"),M0=new ui("Platform ID"),O0=new ui("appBootstrapListener");let x0=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),t})();const Rm=new ui("LocaleId"),N0=new ui("DefaultCurrencyCode");class pb{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let v_=(()=>{class t{compileModuleSync(s){return new r_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=us(Cn(s).declarations).reduce((_,T)=>{const O=Xe(T);return O&&_.push(new n_(O)),_},[]);return new pb(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),t})();const mb=(()=>Promise.resolve(0))();function E_(t){"undefined"==typeof Zone?mb.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Aa{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wl(!1),this.onMicrotaskEmpty=new wl(!1),this.onStable=new wl(!1),this.onError=new wl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function yb(){let t=yn.requestAnimationFrame,r=yn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Eb(t){const r=()=>{!function vb(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(yn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,b_(t),t.isCheckStableRunning=!0,w_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),b_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,d,_,T)=>{try{return R0(t),s.invokeTask(l,d,_,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),P0(t)}},onInvoke:(s,a,l,d,_,T,O)=>{try{return R0(t),s.invoke(l,d,_,T,O)}finally{t.shouldCoalesceRunChangeDetection&&r(),P0(t)}},onHasTask:(s,a,l,d)=>{s.hasTask(l,d),a===l&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,b_(t),w_(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,l,d)=>(s.handleError(l,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Aa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Aa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const d=this._inner,_=d.scheduleEventTask("NgZoneEvent: "+l,r,_b,Nm,Nm);try{return d.runTask(_,s,a)}finally{d.cancelTask(_)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const _b={};function w_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function b_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function R0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function P0(t){t._nesting--,w_(t)}class wb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wl,this.onMicrotaskEmpty=new wl,this.onStable=new wl,this.onError=new wl}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}let k0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Aa.assertNotInAngularZone(),E_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())E_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(Gi(Aa))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),t})(),F0=(()=>{class t{constructor(){this._applications=new Map,I_.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return I_.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),t})();class bb{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function Ib(t){I_=t}let Cu,I_=new bb;const L0=new ui("AllowMultipleToken");class Cb{constructor(r,s){this.name=r,this.token=s}}function V0(t,r,s=[]){const a=`Platform: ${r}`,l=new ui(a);return(d=[])=>{let _=U0();if(!_||_.injector.get(L0,!1))if(t)t(s.concat(d).concat({provide:l,useValue:!0}));else{const T=s.concat(d).concat({provide:l,useValue:!0},{provide:Sd,useValue:"platform"});!function Ab(t){if(Cu&&!Cu.destroyed&&!Cu.injector.get(L0,!1))throw new Dt("400","");Cu=t.get(B0);const r=t.get(S0,null);r&&r.forEach(s=>s())}(ra.create({providers:T,name:a}))}return function Sb(t){const r=U0();if(!r)throw new Dt("401","");return r}()}}function U0(){return Cu&&!Cu.destroyed?Cu:null}let B0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const T=function Mb(t,r){let s;return s="noop"===t?new wb:("zone.js"===t?void 0:t)||new Aa({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),O=[{provide:Aa,useValue:T}];return T.run(()=>{const B=ra.create({providers:O,parent:this.injector,name:s.moduleType.name}),W=s.create(B),he=W.injector.get(yt,null);if(!he)throw new Dt("402","");return T.runOutsideAngular(()=>{const Ue=T.onError.subscribe({next:st=>{he.handleError(st)}});W.onDestroy(()=>{D_(this._modules,W),Ue.unsubscribe()})}),function Ob(t,r,s){try{const a=s();return Fd(a)?a.catch(l=>{throw r.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(he,T,()=>{const Ue=W.injector.get(ef);return Ue.runInitializers(),Ue.donePromise.then(()=>(function uE(t){qt(t,"Expected localeId to be defined"),"string"==typeof t&&(av=t.toLowerCase().replace(/_/g,"-"))}(W.injector.get(Rm,bm)||bm),this._moduleDoBootstrap(W),W))})})}bootstrapModule(s,a=[]){const l=j0({},a);return function Db(t,r,s){const a=new r_(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(s){const a=s.injector.get(Vp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Dt("403","");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Dt("404","");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Gi(ra))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),t})();function j0(t,r){return Array.isArray(r)?r.reduce(j0,t):Object.assign(Object.assign({},t),r)}let Vp=(()=>{class t{constructor(s,a,l,d,_){this._zone=s,this._injector=a,this._exceptionHandler=l,this._componentFactoryResolver=d,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new G.y(B=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{B.next(this._stable),B.complete()})}),O=new G.y(B=>{let W;this._zone.runOutsideAngular(()=>{W=this._zone.onStable.subscribe(()=>{Aa.assertNotInAngularZone(),E_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,B.next(!0))})})});const he=this._zone.onUnstable.subscribe(()=>{Aa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{B.next(!1)}))});return()=>{W.unsubscribe(),he.unsubscribe()}});this.isStable=(0,ve.T)(T,O.pipe((0,Ie.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Dt("405","");let l;l=s instanceof Rv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(l.componentType);const d=function Tb(t){return t.isBoundToModule}(l)?void 0:this._injector.get(Qh),T=l.create(ra.NULL,[],a||l.selector,d),O=T.location.nativeElement,B=T.injector.get(k0,null),W=B&&T.injector.get(F0);return B&&W&&W.registerApplication(O,B),T.onDestroy(()=>{this.detachView(T.hostView),D_(this.components,T),W&&W.unregisterApplication(O)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Dt("101","");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;D_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(O0,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(Gi(Aa),Gi(ra),Gi(yt),Gi(xp),Gi(ef))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),t})();function D_(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let H0=!0,G0=!1;function Nb(){return G0=!0,H0}function Rb(){if(G0)throw new Error("Cannot enable prod mode after platform setup.");H0=!1}let Pb=(()=>{class t{}return t.__NG_ELEMENT_ID__=kb,t})();function kb(t){return function Fb(t,r,s){if(tr(t)&&!s){const a=L(t.index,r);return new Rp(a,a)}return 47&t.type?new Rp(r[16],r):null}(zn(),Pt(),16==(16&t))}class Y0{constructor(){}supports(r){return Pd(r)}create(r){return new $b(r)}}const jb=(t,r)=>r;class $b{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||jb}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,d=null;for(;s||a;){const _=!a||s&&s.currentIndex<J0(a,l,d)?s:a,T=J0(_,l,d),O=_.currentIndex;if(_===a)l--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)l++;else{d||(d=[]);const B=T-l,W=O-l;if(B!=W){for(let Ue=0;Ue<B;Ue++){const st=Ue<d.length?d[Ue]:d[Ue]=0,Rt=st+Ue;W<=Rt&&Rt<B&&(d[Ue]=st+1)}d[_.previousIndex]=W-B}}T!==O&&r(_,T,O)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Pd(r))throw new Error(`Error trying to diff '${oe(r)}'. Only arrays and iterables are allowed`);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,d,_,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let T=0;T<this.length;T++)d=r[T],_=this._trackByFn(T,d),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,d,_,T)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,_,T),a=!0),s=s._next}else l=0,function jg(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[ll()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,T=>{_=this._trackByFn(l,T),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,T,_,l)),Object.is(s.item,T)||this._addIdentityChange(s,T)):(s=this._mismatch(s,T,_,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,l)):r=this._addAfter(new Hb(s,a),d,l),r}_verifyReinsertion(r,s,a,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,d=r._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Q0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Q0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Hb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Q0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Gb,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function J0(t,r,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class X0{constructor(){}supports(r){return r instanceof Map||rp(r)}create(){return new zb}}class zb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||rp(r)))throw new Error(`Error trying to diff '${oe(r)}'. Only maps and objects are allowed`)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const d=l._prev,_=l._next;return d&&(d._next=_),_&&(_._prev=d),l._next=null,l._prev=null,l}const a=new Wb(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Wb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eE(){return new km([new Y0])}let km=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||eE()),deps:[[t,new Ss,new ko]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function Kb(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=Ce({token:t,providedIn:"root",factory:eE}),t})();function tE(){return new Fm([new X0])}let Fm=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||tE()),deps:[[t,new Ss,new ko]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=Ce({token:t,providedIn:"root",factory:tE}),t})();const qb=[new X0],Yb=new km([new Y0]),Qb=new Fm(qb),Jb=V0(null,"core",[{provide:M0,useValue:"unknown"},{provide:B0,deps:[ra]},{provide:F0,deps:[]},{provide:x0,deps:[]}]),rI=[{provide:Vp,useClass:Vp,deps:[Aa,ra,yt,xp,ef]},{provide:pw,deps:[Aa],useFactory:function iI(t){let r=[];return t.onStable.subscribe(()=>{for(;r.length;)r.pop()()}),function(s){r.push(s)}}},{provide:ef,useClass:ef,deps:[[new ko,y_]]},{provide:v_,useClass:v_,deps:[]},fb,{provide:km,useFactory:function Xb(){return Yb},deps:[]},{provide:Fm,useFactory:function eI(){return Qb},deps:[]},{provide:Rm,useFactory:function tI(t){return t||function nI(){return"undefined"!=typeof $localize&&$localize.locale||bm}()},deps:[[new su(Rm),new ko,new Ss]]},{provide:N0,useValue:"USD"}];let sI=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Gi(Vp))},t.\u0275mod=ie({type:t}),t.\u0275inj=Ct({providers:rI}),t})()},2382:(Qt,nt,k)=>{k.d(nt,{Fj:()=>We,qu:()=>Ft,NI:()=>Hn,u:()=>Ps,cw:()=>Gn,sg:()=>yi,u5:()=>ee,JJ:()=>Se,JL:()=>tt,YN:()=>Ki,wV:()=>Bt,_:()=>Wn,UX:()=>Oe,EJ:()=>ks,kI:()=>ue,_Y:()=>qe,Kr:()=>Zi});var c=k(5e3),w=k(9808),G=k(8306),ve=k(4742),Ie=k(8421),Te=k(3269),De=k(5403),oe=k(3268),Me=k(1810),de=k(8996),Le=k(4004);let ot=(()=>{class L{constructor(y,x){this._renderer=y,this._elementRef=x,this.onChange=ae=>{},this.onTouched=()=>{}}setProperty(y,x){this._renderer.setProperty(this._elementRef.nativeElement,y,x)}registerOnTouched(y){this.onTouched=y}registerOnChange(y){this.onChange=y}setDisabledState(y){this.setProperty("disabled",y)}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(c.Qsj),c.Y36(c.SBq))},L.\u0275dir=c.lG2({type:L}),L})(),it=(()=>{class L extends ot{}return L.\u0275fac=function(){let E;return function(x){return(E||(E=c.n5z(L)))(x||L)}}(),L.\u0275dir=c.lG2({type:L,features:[c.qOj]}),L})();const Dt=new c.OlP("NgValueAccessor"),Je={provide:Dt,useExisting:(0,c.Gpc)(()=>We),multi:!0},wt=new c.OlP("CompositionEventMode");let We=(()=>{class L extends ot{constructor(y,x,ae){super(y,x),this._compositionMode=ae,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lt(){const L=(0,w.q)()?(0,w.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(y){this.setProperty("value",null==y?"":y)}_handleInput(y){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(y)}_compositionStart(){this._composing=!0}_compositionEnd(y){this._composing=!1,this._compositionMode&&this.onChange(y)}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(wt,8))},L.\u0275dir=c.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(y,x){1&y&&c.NdJ("input",function(Ze){return x._handleInput(Ze.target.value)})("blur",function(){return x.onTouched()})("compositionstart",function(){return x._compositionStart()})("compositionend",function(Ze){return x._compositionEnd(Ze.target.value)})},features:[c._Bn([Je]),c.qOj]}),L})();function Re(L){return null==L||0===L.length}function at(L){return null!=L&&"number"==typeof L.length}const It=new c.OlP("NgValidators"),Ne=new c.OlP("NgAsyncValidators"),St=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ue{static min(E){return function me(L){return E=>{if(Re(E.value)||Re(L))return null;const y=parseFloat(E.value);return!isNaN(y)&&y<L?{min:{min:L,actual:E.value}}:null}}(E)}static max(E){return function _e(L){return E=>{if(Re(E.value)||Re(L))return null;const y=parseFloat(E.value);return!isNaN(y)&&y>L?{max:{max:L,actual:E.value}}:null}}(E)}static required(E){return function xe(L){return Re(L.value)?{required:!0}:null}(E)}static requiredTrue(E){return function He(L){return!0===L.value?null:{required:!0}}(E)}static email(E){return function fe(L){return Re(L.value)||St.test(L.value)?null:{email:!0}}(E)}static minLength(E){return function mt(L){return E=>Re(E.value)||!at(E.value)?null:E.value.length<L?{minlength:{requiredLength:L,actualLength:E.value.length}}:null}(E)}static maxLength(E){return function Vt(L){return E=>at(E.value)&&E.value.length>L?{maxlength:{requiredLength:L,actualLength:E.value.length}}:null}(E)}static pattern(E){return function cn(L){if(!L)return bt;let E,y;return"string"==typeof L?(y="","^"!==L.charAt(0)&&(y+="^"),y+=L,"$"!==L.charAt(L.length-1)&&(y+="$"),E=new RegExp(y)):(y=L.toString(),E=L),x=>{if(Re(x.value))return null;const ae=x.value;return E.test(ae)?null:{pattern:{requiredPattern:y,actualValue:ae}}}}(E)}static nullValidator(E){return null}static compose(E){return Ke(E)}static composeAsync(E){return en(E)}}function bt(L){return null}function qt(L){return null!=L}function Jt(L){const E=(0,c.QGY)(L)?(0,de.D)(L):L;return(0,c.CqO)(E),E}function rn(L){let E={};return L.forEach(y=>{E=null!=y?Object.assign(Object.assign({},E),y):E}),0===Object.keys(E).length?null:E}function dt(L,E){return E.map(y=>y(L))}function Ce(L){return L.map(E=>function pt(L){return!L.validate}(E)?E:y=>E.validate(y))}function Ke(L){if(!L)return null;const E=L.filter(qt);return 0==E.length?null:function(y){return rn(dt(y,E))}}function Ct(L){return null!=L?Ke(Ce(L)):null}function en(L){if(!L)return null;const E=L.filter(qt);return 0==E.length?null:function(y){return function ne(...L){const E=(0,Te.jO)(L),{args:y,keys:x}=(0,ve.D)(L),ae=new G.y(Ze=>{const{length:At}=y;if(!At)return void Ze.complete();const Lt=new Array(At);let hr=At,Mr=At;for(let ur=0;ur<At;ur++){let fr=!1;(0,Ie.Xf)(y[ur]).subscribe(new De.Q(Ze,$n=>{fr||(fr=!0,Mr--),Lt[ur]=$n},()=>hr--,void 0,()=>{(!hr||!fr)&&(Mr||Ze.next(x?(0,Me.n)(x,Lt):Lt),Ze.complete())}))}});return E?ae.pipe((0,oe.Z)(E)):ae}(dt(y,E).map(Jt)).pipe((0,Le.U)(rn))}}function vn(L){return null!=L?en(Ce(L)):null}function En(L,E){return null===L?[E]:Array.isArray(L)?[...L,E]:[L,E]}function ir(L){return L._rawValidators}function sr(L){return L._rawAsyncValidators}function Un(L){return L?Array.isArray(L)?L:[L]:[]}function an(L,E){return Array.isArray(L)?L.includes(E):L===E}function An(L,E){const y=Un(E);return Un(L).forEach(ae=>{an(y,ae)||y.push(ae)}),y}function or(L,E){return Un(E).filter(y=>!an(L,y))}class nn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(E){this._rawValidators=E||[],this._composedValidatorFn=Ct(this._rawValidators)}_setAsyncValidators(E){this._rawAsyncValidators=E||[],this._composedAsyncValidatorFn=vn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(E){this._onDestroyCallbacks.push(E)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(E=>E()),this._onDestroyCallbacks=[]}reset(E){this.control&&this.control.reset(E)}hasError(E,y){return!!this.control&&this.control.hasError(E,y)}getError(E,y){return this.control?this.control.getError(E,y):null}}class kn extends nn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xn extends nn{get formDirective(){return null}get path(){return null}}class Kn{constructor(E){this._cd=E}is(E){var y,x,ae;return"submitted"===E?!!(null===(y=this._cd)||void 0===y?void 0:y.submitted):!!(null===(ae=null===(x=this._cd)||void 0===x?void 0:x.control)||void 0===ae?void 0:ae[E])}}let Se=(()=>{class L extends Kn{constructor(y){super(y)}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(kn,2))},L.\u0275dir=c.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(y,x){2&y&&c.ekj("ng-untouched",x.is("untouched"))("ng-touched",x.is("touched"))("ng-pristine",x.is("pristine"))("ng-dirty",x.is("dirty"))("ng-valid",x.is("valid"))("ng-invalid",x.is("invalid"))("ng-pending",x.is("pending"))},features:[c.qOj]}),L})(),tt=(()=>{class L extends Kn{constructor(y){super(y)}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(xn,10))},L.\u0275dir=c.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(y,x){2&y&&c.ekj("ng-untouched",x.is("untouched"))("ng-touched",x.is("touched"))("ng-pristine",x.is("pristine"))("ng-dirty",x.is("dirty"))("ng-valid",x.is("valid"))("ng-invalid",x.is("invalid"))("ng-pending",x.is("pending"))("ng-submitted",x.is("submitted"))},features:[c.qOj]}),L})();function j(L,E){Ye(L,E),E.valueAccessor.writeValue(L.value),function le(L,E){E.valueAccessor.registerOnChange(y=>{L._pendingValue=y,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&ce(L,E)})}(L,E),function Be(L,E){const y=(x,ae)=>{E.valueAccessor.writeValue(x),ae&&E.viewToModelUpdate(x)};L.registerOnChange(y),E._registerOnDestroy(()=>{L._unregisterOnChange(y)})}(L,E),function re(L,E){E.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&ce(L,E),"submit"!==L.updateOn&&L.markAsTouched()})}(L,E),function pe(L,E){if(E.valueAccessor.setDisabledState){const y=x=>{E.valueAccessor.setDisabledState(x)};L.registerOnDisabledChange(y),E._registerOnDestroy(()=>{L._unregisterOnDisabledChange(y)})}}(L,E)}function Z(L,E,y=!0){const x=()=>{};E.valueAccessor&&(E.valueAccessor.registerOnChange(x),E.valueAccessor.registerOnTouched(x)),ct(L,E),L&&(E._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function $e(L,E){L.forEach(y=>{y.registerOnValidatorChange&&y.registerOnValidatorChange(E)})}function Ye(L,E){const y=ir(L);null!==E.validator?L.setValidators(En(y,E.validator)):"function"==typeof y&&L.setValidators([y]);const x=sr(L);null!==E.asyncValidator?L.setAsyncValidators(En(x,E.asyncValidator)):"function"==typeof x&&L.setAsyncValidators([x]);const ae=()=>L.updateValueAndValidity();$e(E._rawValidators,ae),$e(E._rawAsyncValidators,ae)}function ct(L,E){let y=!1;if(null!==L){if(null!==E.validator){const ae=ir(L);if(Array.isArray(ae)&&ae.length>0){const Ze=ae.filter(At=>At!==E.validator);Ze.length!==ae.length&&(y=!0,L.setValidators(Ze))}}if(null!==E.asyncValidator){const ae=sr(L);if(Array.isArray(ae)&&ae.length>0){const Ze=ae.filter(At=>At!==E.asyncValidator);Ze.length!==ae.length&&(y=!0,L.setAsyncValidators(Ze))}}}const x=()=>{};return $e(E._rawValidators,x),$e(E._rawAsyncValidators,x),y}function ce(L,E){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),E.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function Yt(L,E){const y=L.indexOf(E);y>-1&&L.splice(y,1)}const Fn="VALID",Rn="INVALID",gr="PENDING",Hr="DISABLED";function mr(L){return(ft(L)?L.validators:L)||null}function Ir(L){return Array.isArray(L)?Ct(L):L||null}function Ge(L,E){return(ft(E)?E.asyncValidators:L)||null}function Ve(L){return Array.isArray(L)?vn(L):L||null}function ft(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}class Xt{constructor(E,y){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=E,this._rawAsyncValidators=y,this._composedValidatorFn=Ir(this._rawValidators),this._composedAsyncValidatorFn=Ve(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(E){this._rawValidators=this._composedValidatorFn=E}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(E){this._rawAsyncValidators=this._composedAsyncValidatorFn=E}get parent(){return this._parent}get valid(){return this.status===Fn}get invalid(){return this.status===Rn}get pending(){return this.status==gr}get disabled(){return this.status===Hr}get enabled(){return this.status!==Hr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(E){this._rawValidators=E,this._composedValidatorFn=Ir(E)}setAsyncValidators(E){this._rawAsyncValidators=E,this._composedAsyncValidatorFn=Ve(E)}addValidators(E){this.setValidators(An(E,this._rawValidators))}addAsyncValidators(E){this.setAsyncValidators(An(E,this._rawAsyncValidators))}removeValidators(E){this.setValidators(or(E,this._rawValidators))}removeAsyncValidators(E){this.setAsyncValidators(or(E,this._rawAsyncValidators))}hasValidator(E){return an(this._rawValidators,E)}hasAsyncValidator(E){return an(this._rawAsyncValidators,E)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(E={}){this.touched=!0,this._parent&&!E.onlySelf&&this._parent.markAsTouched(E)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(E=>E.markAllAsTouched())}markAsUntouched(E={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(y=>{y.markAsUntouched({onlySelf:!0})}),this._parent&&!E.onlySelf&&this._parent._updateTouched(E)}markAsDirty(E={}){this.pristine=!1,this._parent&&!E.onlySelf&&this._parent.markAsDirty(E)}markAsPristine(E={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(y=>{y.markAsPristine({onlySelf:!0})}),this._parent&&!E.onlySelf&&this._parent._updatePristine(E)}markAsPending(E={}){this.status=gr,!1!==E.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!E.onlySelf&&this._parent.markAsPending(E)}disable(E={}){const y=this._parentMarkedDirty(E.onlySelf);this.status=Hr,this.errors=null,this._forEachChild(x=>{x.disable(Object.assign(Object.assign({},E),{onlySelf:!0}))}),this._updateValue(),!1!==E.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},E),{skipPristineCheck:y})),this._onDisabledChange.forEach(x=>x(!0))}enable(E={}){const y=this._parentMarkedDirty(E.onlySelf);this.status=Fn,this._forEachChild(x=>{x.enable(Object.assign(Object.assign({},E),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:E.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},E),{skipPristineCheck:y})),this._onDisabledChange.forEach(x=>x(!1))}_updateAncestors(E){this._parent&&!E.onlySelf&&(this._parent.updateValueAndValidity(E),E.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(E){this._parent=E}updateValueAndValidity(E={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fn||this.status===gr)&&this._runAsyncValidator(E.emitEvent)),!1!==E.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!E.onlySelf&&this._parent.updateValueAndValidity(E)}_updateTreeValidity(E={emitEvent:!0}){this._forEachChild(y=>y._updateTreeValidity(E)),this.updateValueAndValidity({onlySelf:!0,emitEvent:E.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hr:Fn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(E){if(this.asyncValidator){this.status=gr,this._hasOwnPendingAsyncValidator=!0;const y=Jt(this.asyncValidator(this));this._asyncValidationSubscription=y.subscribe(x=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(x,{emitEvent:E})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(E,y={}){this.errors=E,this._updateControlsErrors(!1!==y.emitEvent)}get(E){return function Jr(L,E,y){if(null==E||(Array.isArray(E)||(E=E.split(y)),Array.isArray(E)&&0===E.length))return null;let x=L;return E.forEach(ae=>{x=x instanceof Gn?x.controls.hasOwnProperty(ae)?x.controls[ae]:null:x instanceof Yn&&x.at(ae)||null}),x}(this,E,".")}getError(E,y){const x=y?this.get(y):this;return x&&x.errors?x.errors[E]:null}hasError(E,y){return!!this.getError(E,y)}get root(){let E=this;for(;E._parent;)E=E._parent;return E}_updateControlsErrors(E){this.status=this._calculateStatus(),E&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(E)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Hr:this.errors?Rn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gr)?gr:this._anyControlsHaveStatus(Rn)?Rn:Fn}_anyControlsHaveStatus(E){return this._anyControls(y=>y.status===E)}_anyControlsDirty(){return this._anyControls(E=>E.dirty)}_anyControlsTouched(){return this._anyControls(E=>E.touched)}_updatePristine(E={}){this.pristine=!this._anyControlsDirty(),this._parent&&!E.onlySelf&&this._parent._updatePristine(E)}_updateTouched(E={}){this.touched=this._anyControlsTouched(),this._parent&&!E.onlySelf&&this._parent._updateTouched(E)}_isBoxedValue(E){return"object"==typeof E&&null!==E&&2===Object.keys(E).length&&"value"in E&&"disabled"in E}_registerOnCollectionChange(E){this._onCollectionChange=E}_setUpdateStrategy(E){ft(E)&&null!=E.updateOn&&(this._updateOn=E.updateOn)}_parentMarkedDirty(E){return!E&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Hn extends Xt{constructor(E=null,y,x){super(mr(y),Ge(x,y)),this._onChange=[],this._applyFormState(E),this._setUpdateStrategy(y),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(E,y={}){this.value=this._pendingValue=E,this._onChange.length&&!1!==y.emitModelToViewChange&&this._onChange.forEach(x=>x(this.value,!1!==y.emitViewToModelChange)),this.updateValueAndValidity(y)}patchValue(E,y={}){this.setValue(E,y)}reset(E=null,y={}){this._applyFormState(E),this.markAsPristine(y),this.markAsUntouched(y),this.setValue(this.value,y),this._pendingChange=!1}_updateValue(){}_anyControls(E){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(E){this._onChange.push(E)}_unregisterOnChange(E){Yt(this._onChange,E)}registerOnDisabledChange(E){this._onDisabledChange.push(E)}_unregisterOnDisabledChange(E){Yt(this._onDisabledChange,E)}_forEachChild(E){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(E){this._isBoxedValue(E)?(this.value=this._pendingValue=E.value,E.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=E}}class Gn extends Xt{constructor(E,y,x){super(mr(y),Ge(x,y)),this.controls=E,this._initObservables(),this._setUpdateStrategy(y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(E,y){return this.controls[E]?this.controls[E]:(this.controls[E]=y,y.setParent(this),y._registerOnCollectionChange(this._onCollectionChange),y)}addControl(E,y,x={}){this.registerControl(E,y),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}removeControl(E,y={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),delete this.controls[E],this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}setControl(E,y,x={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),delete this.controls[E],y&&this.registerControl(E,y),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}contains(E){return this.controls.hasOwnProperty(E)&&this.controls[E].enabled}setValue(E,y={}){this._checkAllValuesPresent(E),Object.keys(E).forEach(x=>{this._throwIfControlMissing(x),this.controls[x].setValue(E[x],{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y)}patchValue(E,y={}){null!=E&&(Object.keys(E).forEach(x=>{this.controls[x]&&this.controls[x].patchValue(E[x],{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y))}reset(E={},y={}){this._forEachChild((x,ae)=>{x.reset(E[ae],{onlySelf:!0,emitEvent:y.emitEvent})}),this._updatePristine(y),this._updateTouched(y),this.updateValueAndValidity(y)}getRawValue(){return this._reduceChildren({},(E,y,x)=>(E[x]=y instanceof Hn?y.value:y.getRawValue(),E))}_syncPendingControls(){let E=this._reduceChildren(!1,(y,x)=>!!x._syncPendingControls()||y);return E&&this.updateValueAndValidity({onlySelf:!0}),E}_throwIfControlMissing(E){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[E])throw new Error(`Cannot find form control with name: ${E}.`)}_forEachChild(E){Object.keys(this.controls).forEach(y=>{const x=this.controls[y];x&&E(x,y)})}_setUpControls(){this._forEachChild(E=>{E.setParent(this),E._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(E){for(const y of Object.keys(this.controls)){const x=this.controls[y];if(this.contains(y)&&E(x))return!0}return!1}_reduceValue(){return this._reduceChildren({},(E,y,x)=>((y.enabled||this.disabled)&&(E[x]=y.value),E))}_reduceChildren(E,y){let x=E;return this._forEachChild((ae,Ze)=>{x=y(x,ae,Ze)}),x}_allControlsDisabled(){for(const E of Object.keys(this.controls))if(this.controls[E].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(E){this._forEachChild((y,x)=>{if(void 0===E[x])throw new Error(`Must supply a value for form control with name: '${x}'.`)})}}class Yn extends Xt{constructor(E,y,x){super(mr(y),Ge(x,y)),this.controls=E,this._initObservables(),this._setUpdateStrategy(y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(E){return this.controls[E]}push(E,y={}){this.controls.push(E),this._registerControl(E),this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}insert(E,y,x={}){this.controls.splice(E,0,y),this._registerControl(y),this.updateValueAndValidity({emitEvent:x.emitEvent})}removeAt(E,y={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),this.controls.splice(E,1),this.updateValueAndValidity({emitEvent:y.emitEvent})}setControl(E,y,x={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),this.controls.splice(E,1),y&&(this.controls.splice(E,0,y),this._registerControl(y)),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(E,y={}){this._checkAllValuesPresent(E),E.forEach((x,ae)=>{this._throwIfControlMissing(ae),this.at(ae).setValue(x,{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y)}patchValue(E,y={}){null!=E&&(E.forEach((x,ae)=>{this.at(ae)&&this.at(ae).patchValue(x,{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y))}reset(E=[],y={}){this._forEachChild((x,ae)=>{x.reset(E[ae],{onlySelf:!0,emitEvent:y.emitEvent})}),this._updatePristine(y),this._updateTouched(y),this.updateValueAndValidity(y)}getRawValue(){return this.controls.map(E=>E instanceof Hn?E.value:E.getRawValue())}clear(E={}){this.controls.length<1||(this._forEachChild(y=>y._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:E.emitEvent}))}_syncPendingControls(){let E=this.controls.reduce((y,x)=>!!x._syncPendingControls()||y,!1);return E&&this.updateValueAndValidity({onlySelf:!0}),E}_throwIfControlMissing(E){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(E))throw new Error(`Cannot find form control at index ${E}`)}_forEachChild(E){this.controls.forEach((y,x)=>{E(y,x)})}_updateValue(){this.value=this.controls.filter(E=>E.enabled||this.disabled).map(E=>E.value)}_anyControls(E){return this.controls.some(y=>y.enabled&&E(y))}_setUpControls(){this._forEachChild(E=>this._registerControl(E))}_checkAllValuesPresent(E){this._forEachChild((y,x)=>{if(void 0===E[x])throw new Error(`Must supply a value for form control at index: ${x}.`)})}_allControlsDisabled(){for(const E of this.controls)if(E.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(E){E.setParent(this),E._registerOnCollectionChange(this._onCollectionChange)}}let qe=(()=>{class L{}return L.\u0275fac=function(y){return new(y||L)},L.\u0275dir=c.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})();const Nt={provide:Dt,useExisting:(0,c.Gpc)(()=>Bt),multi:!0};let Bt=(()=>{class L extends it{writeValue(y){this.setProperty("value",null==y?"":y)}registerOnChange(y){this.onChange=x=>{y(""==x?null:parseFloat(x))}}}return L.\u0275fac=function(){let E;return function(x){return(E||(E=c.n5z(L)))(x||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(y,x){1&y&&c.NdJ("input",function(Ze){return x.onChange(Ze.target.value)})("blur",function(){return x.onTouched()})},features:[c._Bn([Nt]),c.qOj]}),L})();const sn={provide:Dt,useExisting:(0,c.Gpc)(()=>Wn),multi:!0};let br=(()=>{class L{}return L.\u0275fac=function(y){return new(y||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({}),L})(),tr=(()=>{class L{constructor(){this._accessors=[]}add(y,x){this._accessors.push([y,x])}remove(y){for(let x=this._accessors.length-1;x>=0;--x)if(this._accessors[x][1]===y)return void this._accessors.splice(x,1)}select(y){this._accessors.forEach(x=>{this._isSameGroup(x,y)&&x[1]!==y&&x[1].fireUncheck(y.value)})}_isSameGroup(y,x){return!!y[0].control&&y[0]._parent===x._control._parent&&y[1].name===x.name}}return L.\u0275fac=function(y){return new(y||L)},L.\u0275prov=c.Yz7({token:L,factory:L.\u0275fac,providedIn:br}),L})(),Wn=(()=>{class L extends it{constructor(y,x,ae,Ze){super(y,x),this._registry=ae,this._injector=Ze,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(kn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(y){this._state=y===this.value,this.setProperty("checked",this._state)}registerOnChange(y){this._fn=y,this.onChange=()=>{y(this.value),this._registry.select(this)}}fireUncheck(y){this.writeValue(y)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(tr),c.Y36(c.zs3))},L.\u0275dir=c.lG2({type:L,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(y,x){1&y&&c.NdJ("change",function(){return x.onChange()})("blur",function(){return x.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[c._Bn([sn]),c.qOj]}),L})();const Gr=new c.OlP("NgModelWithFormControlWarning"),ei={provide:xn,useExisting:(0,c.Gpc)(()=>yi)};let yi=(()=>{class L extends xn{constructor(y,x){super(),this.validators=y,this.asyncValidators=x,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(y),this._setAsyncValidators(x)}ngOnChanges(y){this._checkFormPresent(),y.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ct(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(y){const x=this.form.get(y.path);return j(x,y),x.updateValueAndValidity({emitEvent:!1}),this.directives.push(y),x}getControl(y){return this.form.get(y.path)}removeControl(y){Z(y.control||null,y,!1),Yt(this.directives,y)}addFormGroup(y){this._setUpFormContainer(y)}removeFormGroup(y){this._cleanUpFormContainer(y)}getFormGroup(y){return this.form.get(y.path)}addFormArray(y){this._setUpFormContainer(y)}removeFormArray(y){this._cleanUpFormContainer(y)}getFormArray(y){return this.form.get(y.path)}updateModel(y,x){this.form.get(y.path).setValue(x)}onSubmit(y){return this.submitted=!0,function Xe(L,E){L._syncPendingControls(),E.forEach(y=>{const x=y.control;"submit"===x.updateOn&&x._pendingChange&&(y.viewToModelUpdate(x._pendingValue),x._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(y),!1}onReset(){this.resetForm()}resetForm(y){this.form.reset(y),this.submitted=!1}_updateDomValue(){this.directives.forEach(y=>{const x=y.control,ae=this.form.get(y.path);x!==ae&&(Z(x||null,y),ae instanceof Hn&&(j(ae,y),y.control=ae))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(y){const x=this.form.get(y.path);(function X(L,E){Ye(L,E)})(x,y),x.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(y){if(this.form){const x=this.form.get(y.path);x&&function ie(L,E){return ct(L,E)}(x,y)&&x.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ye(this.form,this),this._oldForm&&ct(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(It,10),c.Y36(Ne,10))},L.\u0275dir=c.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(y,x){1&y&&c.NdJ("submit",function(Ze){return x.onSubmit(Ze)})("reset",function(){return x.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([ei]),c.qOj,c.TTD]}),L})();const Ks={provide:kn,useExisting:(0,c.Gpc)(()=>Ps)};let Ps=(()=>{class L extends kn{constructor(y,x,ae,Ze,At){super(),this._ngModelWarningConfig=At,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=y,this._setValidators(x),this._setAsyncValidators(ae),this.valueAccessor=function Tt(L,E){if(!E)return null;let y,x,ae;return Array.isArray(E),E.forEach(Ze=>{Ze.constructor===We?y=Ze:function be(L){return Object.getPrototypeOf(L.constructor)===it}(Ze)?x=Ze:ae=Ze}),ae||x||y||null}(0,Ze)}set isDisabled(y){}ngOnChanges(y){this._added||this._setUpControl(),function Q(L,E){if(!L.hasOwnProperty("model"))return!1;const y=L.model;return!!y.isFirstChange()||!Object.is(E,y.currentValue)}(y,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(y){this.viewModel=y,this.update.emit(y)}get path(){return function rt(L,E){return[...E.path,L]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(y){return new(y||L)(c.Y36(xn,13),c.Y36(It,10),c.Y36(Ne,10),c.Y36(Dt,10),c.Y36(Gr,8))},L.\u0275dir=c.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Ks]),c.qOj,c.TTD]}),L})();const Vi={provide:Dt,useExisting:(0,c.Gpc)(()=>ks),multi:!0};function Ii(L,E){return null==L?`${E}`:(E&&"object"==typeof E&&(E="Object"),`${L}: ${E}`.slice(0,50))}let ks=(()=>{class L extends it{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(y){this._compareWith=y}writeValue(y){this.value=y;const x=this._getOptionId(y);null==x&&this.setProperty("selectedIndex",-1);const ae=Ii(x,y);this.setProperty("value",ae)}registerOnChange(y){this.onChange=x=>{this.value=this._getOptionValue(x),y(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(y){for(const x of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(x),y))return x;return null}_getOptionValue(y){const x=function xi(L){return L.split(":")[0]}(y);return this._optionMap.has(x)?this._optionMap.get(x):y}}return L.\u0275fac=function(){let E;return function(x){return(E||(E=c.n5z(L)))(x||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(y,x){1&y&&c.NdJ("change",function(Ze){return x.onChange(Ze.target.value)})("blur",function(){return x.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Vi]),c.qOj]}),L})(),Ki=(()=>{class L{constructor(y,x,ae){this._element=y,this._renderer=x,this._select=ae,this._select&&(this.id=this._select._registerOption())}set ngValue(y){null!=this._select&&(this._select._optionMap.set(this.id,y),this._setElementValue(Ii(this.id,y)),this._select.writeValue(this._select.value))}set value(y){this._setElementValue(y),this._select&&this._select.writeValue(this._select.value)}_setElementValue(y){this._renderer.setProperty(this._element.nativeElement,"value",y)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(ks,9))},L.\u0275dir=c.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})();const Fs={provide:Dt,useExisting:(0,c.Gpc)(()=>qi),multi:!0};function hi(L,E){return null==L?`${E}`:("string"==typeof E&&(E=`'${E}'`),E&&"object"==typeof E&&(E="Object"),`${L}: ${E}`.slice(0,50))}let qi=(()=>{class L extends it{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(y){this._compareWith=y}writeValue(y){let x;if(this.value=y,Array.isArray(y)){const ae=y.map(Ze=>this._getOptionId(Ze));x=(Ze,At)=>{Ze._setSelected(ae.indexOf(At.toString())>-1)}}else x=(ae,Ze)=>{ae._setSelected(!1)};this._optionMap.forEach(x)}registerOnChange(y){this.onChange=x=>{const ae=[],Ze=x.selectedOptions;if(void 0!==Ze){const At=Ze;for(let Lt=0;Lt<At.length;Lt++){const Mr=this._getOptionValue(At[Lt].value);ae.push(Mr)}}else{const At=x.options;for(let Lt=0;Lt<At.length;Lt++){const hr=At[Lt];if(hr.selected){const Mr=this._getOptionValue(hr.value);ae.push(Mr)}}}this.value=ae,y(ae)}}_registerOption(y){const x=(this._idCounter++).toString();return this._optionMap.set(x,y),x}_getOptionId(y){for(const x of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(x)._value,y))return x;return null}_getOptionValue(y){const x=function _i(L){return L.split(":")[0]}(y);return this._optionMap.has(x)?this._optionMap.get(x)._value:y}}return L.\u0275fac=function(){let E;return function(x){return(E||(E=c.n5z(L)))(x||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(y,x){1&y&&c.NdJ("change",function(Ze){return x.onChange(Ze.target)})("blur",function(){return x.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Fs]),c.qOj]}),L})(),Zi=(()=>{class L{constructor(y,x,ae){this._element=y,this._renderer=x,this._select=ae,this._select&&(this.id=this._select._registerOption(this))}set ngValue(y){null!=this._select&&(this._value=y,this._setElementValue(hi(this.id,y)),this._select.writeValue(this._select.value))}set value(y){this._select?(this._value=y,this._setElementValue(hi(this.id,y)),this._select.writeValue(this._select.value)):this._setElementValue(y)}_setElementValue(y){this._renderer.setProperty(this._element.nativeElement,"value",y)}_setSelected(y){this._renderer.setProperty(this._element.nativeElement,"selected",y)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(y){return new(y||L)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(qi,9))},L.\u0275dir=c.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})(),F=(()=>{class L{}return L.\u0275fac=function(y){return new(y||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[[br]]}),L})(),ee=(()=>{class L{}return L.\u0275fac=function(y){return new(y||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[F]}),L})(),Oe=(()=>{class L{static withConfig(y){return{ngModule:L,providers:[{provide:Gr,useValue:y.warnOnNgModelWithFormControl}]}}}return L.\u0275fac=function(y){return new(y||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[F]}),L})(),Ft=(()=>{class L{group(y,x=null){const ae=this._reduceControls(y);let Lt,Ze=null,At=null;return null!=x&&(function vt(L){return void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn}(x)?(Ze=null!=x.validators?x.validators:null,At=null!=x.asyncValidators?x.asyncValidators:null,Lt=null!=x.updateOn?x.updateOn:void 0):(Ze=null!=x.validator?x.validator:null,At=null!=x.asyncValidator?x.asyncValidator:null)),new Gn(ae,{asyncValidators:At,updateOn:Lt,validators:Ze})}control(y,x,ae){return new Hn(y,x,ae)}array(y,x,ae){const Ze=y.map(At=>this._createControl(At));return new Yn(Ze,x,ae)}_reduceControls(y){const x={};return Object.keys(y).forEach(ae=>{x[ae]=this._createControl(y[ae])}),x}_createControl(y){return y instanceof Hn||y instanceof Gn||y instanceof Yn?y:Array.isArray(y)?this.control(y[0],y.length>1?y[1]:null,y.length>2?y[2]:null):this.control(y)}}return L.\u0275fac=function(y){return new(y||L)},L.\u0275prov=c.Yz7({token:L,factory:L.\u0275fac,providedIn:Oe}),L})()},2313:(Qt,nt,k)=>{k.d(nt,{Dx:()=>xn,H7:()=>ce,b2:()=>an,q6:()=>sr,se:()=>He});var c=k(9808),w=k(5e3);class G extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends G{static makeCurrent(){(0,c.HT)(new ve)}onAndCancel(J,Q,be){return J.addEventListener(Q,be,!1),()=>{J.removeEventListener(Q,be,!1)}}dispatchEvent(J,Q){J.dispatchEvent(Q)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,Q){return(Q=Q||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,Q){return"window"===Q?window:"document"===Q?J:"body"===Q?J.body:null}getBaseHref(J){const Q=function Te(){return Ie=Ie||document.querySelector("base"),Ie?Ie.getAttribute("href"):null}();return null==Q?null:function oe(U){De=De||document.createElement("a"),De.setAttribute("href",U);const J=De.pathname;return"/"===J.charAt(0)?J:`/${J}`}(Q)}resetBaseElement(){Ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,c.Mx)(document.cookie,J)}}let De,Ie=null;const Me=new w.OlP("TRANSITION_ID"),de=[{provide:w.ip1,useFactory:function ne(U,J,Q){return()=>{Q.get(w.CZH).donePromise.then(()=>{const be=(0,c.q)(),Xe=J.querySelectorAll(`style[ng-transition="${U}"]`);for(let Tt=0;Tt<Xe.length;Tt++)be.remove(Xe[Tt])})}},deps:[Me,c.K0,w.zs3],multi:!0}];class Le{static init(){(0,w.VLi)(new Le)}addToWindow(J){w.dqk.getAngularTestability=(be,Xe=!0)=>{const Tt=J.findTestabilityInTree(be,Xe);if(null==Tt)throw new Error("Could not find testability for element.");return Tt},w.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),w.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),w.dqk.frameworkStabilizers||(w.dqk.frameworkStabilizers=[]),w.dqk.frameworkStabilizers.push(be=>{const Xe=w.dqk.getAllAngularTestabilities();let Tt=Xe.length,Yt=!1;const Cn=function(Fn){Yt=Yt||Fn,Tt--,0==Tt&&be(Yt)};Xe.forEach(function(Fn){Fn.whenStable(Cn)})})}findTestabilityInTree(J,Q,be){if(null==Q)return null;const Xe=J.getTestability(Q);return null!=Xe?Xe:be?(0,c.q)().isShadowRoot(Q)?this.findTestabilityInTree(J,Q.host,!0):this.findTestabilityInTree(J,Q.parentElement,!0):null}}let ot=(()=>{class U{build(){return new XMLHttpRequest}}return U.\u0275fac=function(Q){return new(Q||U)},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})();const it=new w.OlP("EventManagerPlugins");let Dt=(()=>{class U{constructor(Q,be){this._zone=be,this._eventNameToPlugin=new Map,Q.forEach(Xe=>Xe.manager=this),this._plugins=Q.slice().reverse()}addEventListener(Q,be,Xe){return this._findPluginFor(be).addEventListener(Q,be,Xe)}addGlobalEventListener(Q,be,Xe){return this._findPluginFor(be).addGlobalEventListener(Q,be,Xe)}getZone(){return this._zone}_findPluginFor(Q){const be=this._eventNameToPlugin.get(Q);if(be)return be;const Xe=this._plugins;for(let Tt=0;Tt<Xe.length;Tt++){const Yt=Xe[Tt];if(Yt.supports(Q))return this._eventNameToPlugin.set(Q,Yt),Yt}throw new Error(`No event manager plugin found for event ${Q}`)}}return U.\u0275fac=function(Q){return new(Q||U)(w.LFG(it),w.LFG(w.R0b))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})();class Ot{constructor(J){this._doc=J}addGlobalEventListener(J,Q,be){const Xe=(0,c.q)().getGlobalEventTarget(this._doc,J);if(!Xe)throw new Error(`Unsupported event target ${Xe} for event ${Q}`);return this.addEventListener(Xe,Q,be)}}let Pe=(()=>{class U{constructor(){this._stylesSet=new Set}addStyles(Q){const be=new Set;Q.forEach(Xe=>{this._stylesSet.has(Xe)||(this._stylesSet.add(Xe),be.add(Xe))}),this.onStylesAdded(be)}onStylesAdded(Q){}getAllStyles(){return Array.from(this._stylesSet)}}return U.\u0275fac=function(Q){return new(Q||U)},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})(),Je=(()=>{class U extends Pe{constructor(Q){super(),this._doc=Q,this._hostNodes=new Map,this._hostNodes.set(Q.head,[])}_addStylesToHost(Q,be,Xe){Q.forEach(Tt=>{const Yt=this._doc.createElement("style");Yt.textContent=Tt,Xe.push(be.appendChild(Yt))})}addHost(Q){const be=[];this._addStylesToHost(this._stylesSet,Q,be),this._hostNodes.set(Q,be)}removeHost(Q){const be=this._hostNodes.get(Q);be&&be.forEach(lt),this._hostNodes.delete(Q)}onStylesAdded(Q){this._hostNodes.forEach((be,Xe)=>{this._addStylesToHost(Q,Xe,be)})}ngOnDestroy(){this._hostNodes.forEach(Q=>Q.forEach(lt))}}return U.\u0275fac=function(Q){return new(Q||U)(w.LFG(c.K0))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})();function lt(U){(0,c.q)().remove(U)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},We=/%COMP%/g;function me(U,J,Q){for(let be=0;be<J.length;be++){let Xe=J[be];Array.isArray(Xe)?me(U,Xe,Q):(Xe=Xe.replace(We,U),Q.push(Xe))}return Q}function _e(U){return J=>{if("__ngUnwrap__"===J)return U;!1===U(J)&&(J.preventDefault(),J.returnValue=!1)}}let He=(()=>{class U{constructor(Q,be,Xe){this.eventManager=Q,this.sharedStylesHost=be,this.appId=Xe,this.rendererByCompId=new Map,this.defaultRenderer=new fe(Q)}createRenderer(Q,be){if(!Q||!be)return this.defaultRenderer;switch(be.encapsulation){case w.ifc.Emulated:{let Xe=this.rendererByCompId.get(be.id);return Xe||(Xe=new cn(this.eventManager,this.sharedStylesHost,be,this.appId),this.rendererByCompId.set(be.id,Xe)),Xe.applyToHost(Q),Xe}case 1:case w.ifc.ShadowDom:return new bt(this.eventManager,this.sharedStylesHost,Q,be);default:if(!this.rendererByCompId.has(be.id)){const Xe=me(be.id,be.styles,[]);this.sharedStylesHost.addStyles(Xe),this.rendererByCompId.set(be.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return U.\u0275fac=function(Q){return new(Q||U)(w.LFG(Dt),w.LFG(Je),w.LFG(w.AFp))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})();class fe{constructor(J){this.eventManager=J,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(J,Q){return Q?document.createElementNS(wt[Q]||Q,J):document.createElement(J)}createComment(J){return document.createComment(J)}createText(J){return document.createTextNode(J)}appendChild(J,Q){J.appendChild(Q)}insertBefore(J,Q,be){J&&J.insertBefore(Q,be)}removeChild(J,Q){J&&J.removeChild(Q)}selectRootElement(J,Q){let be="string"==typeof J?document.querySelector(J):J;if(!be)throw new Error(`The selector "${J}" did not match any elements`);return Q||(be.textContent=""),be}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,Q,be,Xe){if(Xe){Q=Xe+":"+Q;const Tt=wt[Xe];Tt?J.setAttributeNS(Tt,Q,be):J.setAttribute(Q,be)}else J.setAttribute(Q,be)}removeAttribute(J,Q,be){if(be){const Xe=wt[be];Xe?J.removeAttributeNS(Xe,Q):J.removeAttribute(`${be}:${Q}`)}else J.removeAttribute(Q)}addClass(J,Q){J.classList.add(Q)}removeClass(J,Q){J.classList.remove(Q)}setStyle(J,Q,be,Xe){Xe&(w.JOm.DashCase|w.JOm.Important)?J.style.setProperty(Q,be,Xe&w.JOm.Important?"important":""):J.style[Q]=be}removeStyle(J,Q,be){be&w.JOm.DashCase?J.style.removeProperty(Q):J.style[Q]=""}setProperty(J,Q,be){J[Q]=be}setValue(J,Q){J.nodeValue=Q}listen(J,Q,be){return"string"==typeof J?this.eventManager.addGlobalEventListener(J,Q,_e(be)):this.eventManager.addEventListener(J,Q,_e(be))}}class cn extends fe{constructor(J,Q,be,Xe){super(J),this.component=be;const Tt=me(Xe+"-"+be.id,be.styles,[]);Q.addStyles(Tt),this.contentAttr=function St(U){return"_ngcontent-%COMP%".replace(We,U)}(Xe+"-"+be.id),this.hostAttr=function ue(U){return"_nghost-%COMP%".replace(We,U)}(Xe+"-"+be.id)}applyToHost(J){super.setAttribute(J,this.hostAttr,"")}createElement(J,Q){const be=super.createElement(J,Q);return super.setAttribute(be,this.contentAttr,""),be}}class bt extends fe{constructor(J,Q,be,Xe){super(J),this.sharedStylesHost=Q,this.hostEl=be,this.shadowRoot=be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Tt=me(Xe.id,Xe.styles,[]);for(let Yt=0;Yt<Tt.length;Yt++){const Cn=document.createElement("style");Cn.textContent=Tt[Yt],this.shadowRoot.appendChild(Cn)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(J,Q){return super.appendChild(this.nodeOrShadowRoot(J),Q)}insertBefore(J,Q,be){return super.insertBefore(this.nodeOrShadowRoot(J),Q,be)}removeChild(J,Q){return super.removeChild(this.nodeOrShadowRoot(J),Q)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}}let qt=(()=>{class U extends Ot{constructor(Q){super(Q)}supports(Q){return!0}addEventListener(Q,be,Xe){return Q.addEventListener(be,Xe,!1),()=>this.removeEventListener(Q,be,Xe)}removeEventListener(Q,be,Xe){return Q.removeEventListener(be,Xe)}}return U.\u0275fac=function(Q){return new(Q||U)(w.LFG(c.K0))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})();const Jt=["alt","control","meta","shift"],dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ce={alt:U=>U.altKey,control:U=>U.ctrlKey,meta:U=>U.metaKey,shift:U=>U.shiftKey};let Ke=(()=>{class U extends Ot{constructor(Q){super(Q)}supports(Q){return null!=U.parseEventName(Q)}addEventListener(Q,be,Xe){const Tt=U.parseEventName(be),Yt=U.eventCallback(Tt.fullKey,Xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(Q,Tt.domEventName,Yt))}static parseEventName(Q){const be=Q.toLowerCase().split("."),Xe=be.shift();if(0===be.length||"keydown"!==Xe&&"keyup"!==Xe)return null;const Tt=U._normalizeKey(be.pop());let Yt="";if(Jt.forEach(Fn=>{const Rn=be.indexOf(Fn);Rn>-1&&(be.splice(Rn,1),Yt+=Fn+".")}),Yt+=Tt,0!=be.length||0===Tt.length)return null;const Cn={};return Cn.domEventName=Xe,Cn.fullKey=Yt,Cn}static getEventFullKey(Q){let be="",Xe=function Ct(U){let J=U.key;if(null==J){if(J=U.keyIdentifier,null==J)return"Unidentified";J.startsWith("U+")&&(J=String.fromCharCode(parseInt(J.substring(2),16)),3===U.location&&pt.hasOwnProperty(J)&&(J=pt[J]))}return dt[J]||J}(Q);return Xe=Xe.toLowerCase()," "===Xe?Xe="space":"."===Xe&&(Xe="dot"),Jt.forEach(Tt=>{Tt!=Xe&&Ce[Tt](Q)&&(be+=Tt+".")}),be+=Xe,be}static eventCallback(Q,be,Xe){return Tt=>{U.getEventFullKey(Tt)===Q&&Xe.runGuarded(()=>be(Tt))}}static _normalizeKey(Q){return"esc"===Q?"escape":Q}}return U.\u0275fac=function(Q){return new(Q||U)(w.LFG(c.K0))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})();const sr=(0,w.eFA)(w._c5,"browser",[{provide:w.Lbi,useValue:c.bD},{provide:w.g9A,useValue:function en(){ve.makeCurrent(),Le.init()},multi:!0},{provide:c.K0,useFactory:function En(){return(0,w.RDi)(document),document},deps:[]}]),Un=[{provide:w.zSh,useValue:"root"},{provide:w.qLn,useFactory:function vn(){return new w.qLn},deps:[]},{provide:it,useClass:qt,multi:!0,deps:[c.K0,w.R0b,w.Lbi]},{provide:it,useClass:Ke,multi:!0,deps:[c.K0]},{provide:He,useClass:He,deps:[Dt,Je,w.AFp]},{provide:w.FYo,useExisting:He},{provide:Pe,useExisting:Je},{provide:Je,useClass:Je,deps:[c.K0]},{provide:w.dDg,useClass:w.dDg,deps:[w.R0b]},{provide:Dt,useClass:Dt,deps:[it,w.R0b]},{provide:c.JF,useClass:ot,deps:[]}];let an=(()=>{class U{constructor(Q){if(Q)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Q){return{ngModule:U,providers:[{provide:w.AFp,useValue:Q.appId},{provide:Me,useExisting:w.AFp},de]}}}return U.\u0275fac=function(Q){return new(Q||U)(w.LFG(U,12))},U.\u0275mod=w.oAB({type:U}),U.\u0275inj=w.cJS({providers:Un,imports:[c.ez,w.hGG]}),U})(),xn=(()=>{class U{constructor(Q){this._doc=Q}getTitle(){return this._doc.title}setTitle(Q){this._doc.title=Q||""}}return U.\u0275fac=function(Q){return new(Q||U)(w.LFG(c.K0))},U.\u0275prov=w.Yz7({token:U,factory:function(Q){let be=null;return be=Q?new Q:function kn(){return new xn((0,w.LFG)(c.K0))}(),be},providedIn:"root"}),U})();"undefined"!=typeof window&&window;let ce=(()=>{class U{}return U.\u0275fac=function(Q){return new(Q||U)},U.\u0275prov=w.Yz7({token:U,factory:function(Q){let be=null;return be=Q?new(Q||U):w.LFG(X),be},providedIn:"root"}),U})(),X=(()=>{class U extends ce{constructor(Q){super(),this._doc=Q}sanitize(Q,be){if(null==be)return null;switch(Q){case w.q3G.NONE:return be;case w.q3G.HTML:return(0,w.qzn)(be,"HTML")?(0,w.z3N)(be):(0,w.EiD)(this._doc,String(be)).toString();case w.q3G.STYLE:return(0,w.qzn)(be,"Style")?(0,w.z3N)(be):be;case w.q3G.SCRIPT:if((0,w.qzn)(be,"Script"))return(0,w.z3N)(be);throw new Error("unsafe value used in a script context");case w.q3G.URL:return(0,w.yhl)(be),(0,w.qzn)(be,"URL")?(0,w.z3N)(be):(0,w.mCW)(String(be));case w.q3G.RESOURCE_URL:if((0,w.qzn)(be,"ResourceURL"))return(0,w.z3N)(be);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Q} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Q){return(0,w.JVY)(Q)}bypassSecurityTrustStyle(Q){return(0,w.L6k)(Q)}bypassSecurityTrustScript(Q){return(0,w.eBb)(Q)}bypassSecurityTrustUrl(Q){return(0,w.LAX)(Q)}bypassSecurityTrustResourceUrl(Q){return(0,w.pB0)(Q)}}return U.\u0275fac=function(Q){return new(Q||U)(w.LFG(c.K0))},U.\u0275prov=w.Yz7({token:U,factory:function(Q){let be=null;return be=Q?new Q:function Be(U){return new X(U.get(c.K0))}(w.LFG(w.zs3)),be},providedIn:"root"}),U})()},5335:(Qt,nt,k)=>{k.d(nt,{jw:()=>ke,F0:()=>Ci,rH:()=>Ts,Od:()=>Wo,yS:()=>si,Bz:()=>Ln,lC:()=>rs,fw:()=>$i});var c=k(5e3),w=k(7579);class G extends w.x{constructor(I){super(),this._value=I}get value(){return this.getValue()}_subscribe(I){const b=super._subscribe(I);return!b.closed&&I.next(this._value),b}getValue(){const{hasError:I,thrownError:b,_value:P}=this;if(I)throw b;return this._throwIfClosed(),P}next(I){super.next(this._value=I)}}var ve=k(8306),Ie=k(4742),Te=k(8996),De=k(4671),oe=k(3268),Me=k(3269),ne=k(1810),de=k(5403),Le=k(9672);function Dt(S,I,b){S?(0,Le.f)(b,S,I):I()}var Ot=k(8421);function Pe(S){return new ve.y(I=>{(0,Ot.Xf)(S()).subscribe(I)})}var Je=k(727),lt=k(4482);function wt(){return(0,lt.e)((S,I)=>{let b=null;S._refCount++;const P=new de.Q(I,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(b=null);const V=S._connection,Y=b;b=null,V&&(!Y||V===Y)&&V.unsubscribe(),I.unsubscribe()});S.subscribe(P),P.closed||(b=S.connect())})}class We extends ve.y{constructor(I,b){super(),this.source=I,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,lt.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,null==I||I.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new Je.w0;const b=this.getSubject();I.add(this.source.subscribe(new de.Q(b,void 0,()=>{this._teardown(),b.complete()},P=>{this._teardown(),b.error(P)},()=>this._teardown()))),I.closed&&(this._connection=null,I=Je.w0.EMPTY)}return I}refCount(){return wt()(this)}}var Re=k(9646),at=k(6805),It=k(7272),Ne=k(515);function St(S){return(0,lt.e)((I,b)=>{let Y,P=null,V=!1;P=I.subscribe(new de.Q(b,void 0,void 0,ye=>{Y=(0,Ot.Xf)(S(ye,St(S)(I))),P?(P.unsubscribe(),P=null,Y.subscribe(b)):V=!0})),V&&(P.unsubscribe(),P=null,Y.subscribe(b))})}var ue=k(9300);function me(S){return S<=0?()=>Ne.E:(0,lt.e)((I,b)=>{let P=[];I.subscribe(new de.Q(b,V=>{P.push(V),S<P.length&&P.shift()},()=>{for(const V of P)b.next(V);b.complete()},void 0,()=>{P=null}))})}var _e=k(8068),xe=k(6590),mt=k(4004),Vt=k(3900),cn=k(5698),bt=k(8675),qt=k(5026),Jt=k(4351),rn=k(590),dt=k(5577),pt=k(8505),Ce=k(8189),Ke=k(9808);class Ct{constructor(I,b){this.id=I,this.url=b}}class en extends Ct{constructor(I,b,P="imperative",V=null){super(I,b),this.navigationTrigger=P,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vn extends Ct{constructor(I,b,P){super(I,b),this.urlAfterRedirects=P}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class En extends Ct{constructor(I,b,P){super(I,b),this.reason=P}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ir extends Ct{constructor(I,b,P){super(I,b),this.error=P}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sr extends Ct{constructor(I,b,P,V){super(I,b),this.urlAfterRedirects=P,this.state=V}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Un extends Ct{constructor(I,b,P,V){super(I,b),this.urlAfterRedirects=P,this.state=V}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class an extends Ct{constructor(I,b,P,V,Y){super(I,b),this.urlAfterRedirects=P,this.state=V,this.shouldActivate=Y}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class An extends Ct{constructor(I,b,P,V){super(I,b),this.urlAfterRedirects=P,this.state=V}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class or extends Ct{constructor(I,b,P,V){super(I,b),this.urlAfterRedirects=P,this.state=V}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nn{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kn{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xn{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kn{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Et{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ke{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Se{constructor(I,b,P){this.routerEvent=I,this.position=b,this.anchor=P}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const tt="primary";class Mt{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const b=this.params[I];return Array.isArray(b)?b[0]:b}return null}getAll(I){if(this.has(I)){const b=this.params[I];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function Ut(S){return new Mt(S)}const kt="ngNavigationCancelingError";function xt(S){const I=Error("NavigationCancelingError: "+S);return I[kt]=!0,I}function Jn(S,I,b){const P=b.path.split("/");if(P.length>S.length||"full"===b.pathMatch&&(I.hasChildren()||P.length<S.length))return null;const V={};for(let Y=0;Y<P.length;Y++){const ye=P[Y],Ae=S[Y];if(ye.startsWith(":"))V[ye.substring(1)]=Ae;else if(ye!==Ae.path)return null}return{consumed:S.slice(0,P.length),posParams:V}}function yn(S,I){const b=S?Object.keys(S):void 0,P=I?Object.keys(I):void 0;if(!b||!P||b.length!=P.length)return!1;let V;for(let Y=0;Y<b.length;Y++)if(V=b[Y],!Bn(S[V],I[V]))return!1;return!0}function Bn(S,I){if(Array.isArray(S)&&Array.isArray(I)){if(S.length!==I.length)return!1;const b=[...S].sort(),P=[...I].sort();return b.every((V,Y)=>P[Y]===V)}return S===I}function ln(S){return Array.prototype.concat.apply([],S)}function fn(S){return S.length>0?S[S.length-1]:null}function rt(S,I){for(const b in S)S.hasOwnProperty(b)&&I(S[b],b)}function j(S){return(0,c.CqO)(S)?S:(0,c.QGY)(S)?(0,Te.D)(Promise.resolve(S)):(0,Re.of)(S)}const $e={exact:function le(S,I,b){if(!be(S.segments,I.segments)||!X(S.segments,I.segments,b)||S.numberOfChildren!==I.numberOfChildren)return!1;for(const P in I.children)if(!S.children[P]||!le(S.children[P],I.children[P],b))return!1;return!0},subset:ce},pe={exact:function ct(S,I){return yn(S,I)},subset:function re(S,I){return Object.keys(I).length<=Object.keys(S).length&&Object.keys(I).every(b=>Bn(S[b],I[b]))},ignored:()=>!0};function Ye(S,I,b){return $e[b.paths](S.root,I.root,b.matrixParams)&&pe[b.queryParams](S.queryParams,I.queryParams)&&!("exact"===b.fragment&&S.fragment!==I.fragment)}function ce(S,I,b){return Be(S,I,I.segments,b)}function Be(S,I,b,P){if(S.segments.length>b.length){const V=S.segments.slice(0,b.length);return!(!be(V,b)||I.hasChildren()||!X(V,b,P))}if(S.segments.length===b.length){if(!be(S.segments,b)||!X(S.segments,b,P))return!1;for(const V in I.children)if(!S.children[V]||!ce(S.children[V],I.children[V],P))return!1;return!0}{const V=b.slice(0,S.segments.length),Y=b.slice(S.segments.length);return!!(be(S.segments,V)&&X(S.segments,V,P)&&S.children[tt])&&Be(S.children[tt],I,Y,P)}}function X(S,I,b){return I.every((P,V)=>pe[b](S[V].parameters,P.parameters))}class ie{constructor(I,b,P){this.root=I,this.queryParams=b,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ut(this.queryParams)),this._queryParamMap}toString(){return Cn.serialize(this)}}class U{constructor(I,b){this.segments=I,this.children=b,this.parent=null,rt(b,(P,V)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fn(this)}}class J{constructor(I,b){this.path=I,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=Ut(this.parameters)),this._parameterMap}toString(){return Ve(this)}}function be(S,I){return S.length===I.length&&S.every((b,P)=>b.path===I[P].path)}class Tt{}class Yt{parse(I){const b=new Mi(I);return new ie(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(I){const b=`/${Rn(I.root,!0)}`,P=function Xt(S){const I=Object.keys(S).map(b=>{const P=S[b];return Array.isArray(P)?P.map(V=>`${Hr(b)}=${Hr(V)}`).join("&"):`${Hr(b)}=${Hr(P)}`}).filter(b=>!!b);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${b}${P}${"string"==typeof I.fragment?`#${function Jr(S){return encodeURI(S)}(I.fragment)}`:""}`}}const Cn=new Yt;function Fn(S){return S.segments.map(I=>Ve(I)).join("/")}function Rn(S,I){if(!S.hasChildren())return Fn(S);if(I){const b=S.children[tt]?Rn(S.children[tt],!1):"",P=[];return rt(S.children,(V,Y)=>{Y!==tt&&P.push(`${Y}:${Rn(V,!1)}`)}),P.length>0?`${b}(${P.join("//")})`:b}{const b=function Xe(S,I){let b=[];return rt(S.children,(P,V)=>{V===tt&&(b=b.concat(I(P,V)))}),rt(S.children,(P,V)=>{V!==tt&&(b=b.concat(I(P,V)))}),b}(S,(P,V)=>V===tt?[Rn(S.children[tt],!1)]:[`${V}:${Rn(P,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[tt]?`${Fn(S)}/${b[0]}`:`${Fn(S)}/(${b.join("//")})`}}function gr(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hr(S){return gr(S).replace(/%3B/gi,";")}function mr(S){return gr(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ir(S){return decodeURIComponent(S)}function Ge(S){return Ir(S.replace(/\+/g,"%20"))}function Ve(S){return`${mr(S.path)}${function ft(S){return Object.keys(S).map(I=>`;${mr(I)}=${mr(S[I])}`).join("")}(S.parameters)}`}const Hn=/^[^\/()?;=#]+/;function Gn(S){const I=S.match(Hn);return I?I[0]:""}const Yn=/^[^=?&#]+/,Qn=/^[^&#]+/;class Mi{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new U([],{}):new U([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(I.length>0||Object.keys(b).length>0)&&(P[tt]=new U(I,b)),P}parseSegment(){const I=Gn(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new J(Ir(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const b=Gn(this.remaining);if(!b)return;this.capture(b);let P="";if(this.consumeOptional("=")){const V=Gn(this.remaining);V&&(P=V,this.capture(P))}I[Ir(b)]=Ir(P)}parseQueryParam(I){const b=function Dr(S){const I=S.match(Yn);return I?I[0]:""}(this.remaining);if(!b)return;this.capture(b);let P="";if(this.consumeOptional("=")){const ye=function kr(S){const I=S.match(Qn);return I?I[0]:""}(this.remaining);ye&&(P=ye,this.capture(P))}const V=Ge(b),Y=Ge(P);if(I.hasOwnProperty(V)){let ye=I[V];Array.isArray(ye)||(ye=[ye],I[V]=ye),ye.push(Y)}else I[V]=Y}parseParens(I){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Gn(this.remaining),V=this.remaining[P.length];if("/"!==V&&")"!==V&&";"!==V)throw new Error(`Cannot parse url '${this.url}'`);let Y;P.indexOf(":")>-1?(Y=P.substr(0,P.indexOf(":")),this.capture(Y),this.capture(":")):I&&(Y=tt);const ye=this.parseChildren();b[Y]=1===Object.keys(ye).length?ye[tt]:new U([],ye),this.consumeOptional("//")}return b}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class jn{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const b=this.pathFromRoot(I);return b.length>1?b[b.length-2]:null}children(I){const b=bi(I,this._root);return b?b.children.map(P=>P.value):[]}firstChild(I){const b=bi(I,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(I){const b=Oi(I,this._root);return b.length<2?[]:b[b.length-2].children.map(V=>V.value).filter(V=>V!==I)}pathFromRoot(I){return Oi(I,this._root).map(b=>b.value)}}function bi(S,I){if(S===I.value)return I;for(const b of I.children){const P=bi(S,b);if(P)return P}return null}function Oi(S,I){if(S===I.value)return[I];for(const b of I.children){const P=Oi(S,b);if(P.length)return P.unshift(I),P}return[]}class Xr{constructor(I,b){this.value=I,this.children=b}toString(){return`TreeNode(${this.value})`}}function Wr(S){const I={};return S&&S.children.forEach(b=>I[b.value.outlet]=b),I}class Fr extends jn{constructor(I,b){super(I),this.snapshot=b,er(this,I)}toString(){return this.snapshot.toString()}}function xr(S,I){const b=function ze(S,I){const ye=new Bt([],{},{},"",{},tt,I,null,S.root,-1,{});return new sn("",new Xr(ye,[]))}(S,I),P=new G([new J("",{})]),V=new G({}),Y=new G({}),ye=new G({}),Ae=new G(""),et=new Fe(P,V,ye,Ae,Y,tt,I,b.root);return et.snapshot=b.root,new Fr(new Xr(et,[]),b)}class Fe{constructor(I,b,P,V,Y,ye,Ae,et){this.url=I,this.params=b,this.queryParams=P,this.fragment=V,this.data=Y,this.outlet=ye,this.component=Ae,this._futureSnapshot=et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(I=>Ut(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(I=>Ut(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qe(S,I="emptyOnly"){const b=S.pathFromRoot;let P=0;if("always"!==I)for(P=b.length-1;P>=1;){const V=b[P],Y=b[P-1];if(V.routeConfig&&""===V.routeConfig.path)P--;else{if(Y.component)break;P--}}return function Nt(S){return S.reduce((I,b)=>({params:Object.assign(Object.assign({},I.params),b.params),data:Object.assign(Object.assign({},I.data),b.data),resolve:Object.assign(Object.assign({},I.resolve),b._resolvedData)}),{params:{},data:{},resolve:{}})}(b.slice(P))}class Bt{constructor(I,b,P,V,Y,ye,Ae,et,hn,nr,Nn){this.url=I,this.params=b,this.queryParams=P,this.fragment=V,this.data=Y,this.outlet=ye,this.component=Ae,this.routeConfig=et,this._urlSegment=hn,this._lastPathIndex=nr,this._resolve=Nn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ut(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ut(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sn extends jn{constructor(I,b){super(b),this.url=I,er(this,b)}toString(){return br(this._root)}}function er(S,I){I.value._routerState=S,I.children.forEach(b=>er(S,b))}function br(S){const I=S.children.length>0?` { ${S.children.map(br).join(", ")} } `:"";return`${S.value}${I}`}function tr(S){if(S.snapshot){const I=S.snapshot,b=S._futureSnapshot;S.snapshot=b,yn(I.queryParams,b.queryParams)||S.queryParams.next(b.queryParams),I.fragment!==b.fragment&&S.fragment.next(b.fragment),yn(I.params,b.params)||S.params.next(b.params),function Xn(S,I){if(S.length!==I.length)return!1;for(let b=0;b<S.length;++b)if(!yn(S[b],I[b]))return!1;return!0}(I.url,b.url)||S.url.next(b.url),yn(I.data,b.data)||S.data.next(b.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function Wn(S,I){const b=yn(S.params,I.params)&&function Q(S,I){return be(S,I)&&S.every((b,P)=>yn(b.parameters,I[P].parameters))}(S.url,I.url);return b&&!(!S.parent!=!I.parent)&&(!S.parent||Wn(S.parent,I.parent))}function Nr(S,I,b){if(b&&S.shouldReuseRoute(I.value,b.value.snapshot)){const P=b.value;P._futureSnapshot=I.value;const V=function Gr(S,I,b){return I.children.map(P=>{for(const V of b.children)if(S.shouldReuseRoute(P.value,V.value.snapshot))return Nr(S,P,V);return Nr(S,P)})}(S,I,b);return new Xr(P,V)}{if(S.shouldAttach(I.value)){const Y=S.retrieve(I.value);if(null!==Y){const ye=Y.route;return ye.value._futureSnapshot=I.value,ye.children=I.children.map(Ae=>Nr(S,Ae)),ye}}const P=function ri(S){return new Fe(new G(S.url),new G(S.params),new G(S.queryParams),new G(S.fragment),new G(S.data),S.outlet,S.component,S)}(I.value),V=I.children.map(Y=>Nr(S,Y));return new Xr(P,V)}}function ei(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function yi(S){return"object"==typeof S&&null!=S&&S.outlets}function Kr(S,I,b,P,V){let Y={};return P&&rt(P,(ye,Ae)=>{Y[Ae]=Array.isArray(ye)?ye.map(et=>`${et}`):`${ye}`}),new ie(b.root===S?I:Es(b.root,S,I),Y,V)}function Es(S,I,b){const P={};return rt(S.children,(V,Y)=>{P[Y]=V===I?b:Es(V,I,b)}),new U(S.segments,P)}class ts{constructor(I,b,P){if(this.isAbsolute=I,this.numberOfDoubleDots=b,this.commands=P,I&&P.length>0&&ei(P[0]))throw new Error("Root segment cannot have matrix parameters");const V=P.find(yi);if(V&&V!==fn(P))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rs{constructor(I,b,P){this.segmentGroup=I,this.processChildren=b,this.index=P}}function Ii(S,I,b){if(S||(S=new U([],{})),0===S.segments.length&&S.hasChildren())return xi(S,I,b);const P=function ks(S,I,b){let P=0,V=I;const Y={match:!1,pathIndex:0,commandIndex:0};for(;V<S.segments.length;){if(P>=b.length)return Y;const ye=S.segments[V],Ae=b[P];if(yi(Ae))break;const et=`${Ae}`,hn=P<b.length-1?b[P+1]:null;if(V>0&&void 0===et)break;if(et&&hn&&"object"==typeof hn&&void 0===hn.outlets){if(!_i(et,hn,ye))return Y;P+=2}else{if(!_i(et,{},ye))return Y;P++}V++}return{match:!0,pathIndex:V,commandIndex:P}}(S,I,b),V=b.slice(P.commandIndex);if(P.match&&P.pathIndex<S.segments.length){const Y=new U(S.segments.slice(0,P.pathIndex),{});return Y.children[tt]=new U(S.segments.slice(P.pathIndex),S.children),xi(Y,0,V)}return P.match&&0===V.length?new U(S.segments,{}):P.match&&!S.hasChildren()?Ki(S,I,b):P.match?xi(S,0,V):Ki(S,I,b)}function xi(S,I,b){if(0===b.length)return new U(S.segments,{});{const P=function Vi(S){return yi(S[0])?S[0].outlets:{[tt]:S}}(b),V={};return rt(P,(Y,ye)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(V[ye]=Ii(S.children[ye],I,Y))}),rt(S.children,(Y,ye)=>{void 0===P[ye]&&(V[ye]=Y)}),new U(S.segments,V)}}function Ki(S,I,b){const P=S.segments.slice(0,I);let V=0;for(;V<b.length;){const Y=b[V];if(yi(Y)){const et=Fs(Y.outlets);return new U(P,et)}if(0===V&&ei(b[0])){P.push(new J(S.segments[I].path,hi(b[0]))),V++;continue}const ye=yi(Y)?Y.outlets[tt]:`${Y}`,Ae=V<b.length-1?b[V+1]:null;ye&&Ae&&ei(Ae)?(P.push(new J(ye,hi(Ae))),V+=2):(P.push(new J(ye,{})),V++)}return new U(P,{})}function Fs(S){const I={};return rt(S,(b,P)=>{"string"==typeof b&&(b=[b]),null!==b&&(I[P]=Ki(new U([],{}),0,b))}),I}function hi(S){const I={};return rt(S,(b,P)=>I[P]=`${b}`),I}function _i(S,I,b){return S==b.path&&yn(I,b.parameters)}class qi{constructor(I,b,P,V){this.routeReuseStrategy=I,this.futureState=b,this.currState=P,this.forwardEvent=V}activate(I){const b=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,P,I),tr(this.futureState.root),this.activateChildRoutes(b,P,I)}deactivateChildRoutes(I,b,P){const V=Wr(b);I.children.forEach(Y=>{const ye=Y.value.outlet;this.deactivateRoutes(Y,V[ye],P),delete V[ye]}),rt(V,(Y,ye)=>{this.deactivateRouteAndItsChildren(Y,P)})}deactivateRoutes(I,b,P){const V=I.value,Y=b?b.value:null;if(V===Y)if(V.component){const ye=P.getContext(V.outlet);ye&&this.deactivateChildRoutes(I,b,ye.children)}else this.deactivateChildRoutes(I,b,P);else Y&&this.deactivateRouteAndItsChildren(b,P)}deactivateRouteAndItsChildren(I,b){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,b):this.deactivateRouteAndOutlet(I,b)}detachAndStoreRouteSubtree(I,b){const P=b.getContext(I.value.outlet),V=P&&I.value.component?P.children:b,Y=Wr(I);for(const ye of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[ye],V);if(P&&P.outlet){const ye=P.outlet.detach(),Ae=P.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:ye,route:I,contexts:Ae})}}deactivateRouteAndOutlet(I,b){const P=b.getContext(I.value.outlet),V=P&&I.value.component?P.children:b,Y=Wr(I);for(const ye of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[ye],V);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(I,b,P){const V=Wr(b);I.children.forEach(Y=>{this.activateRoutes(Y,V[Y.value.outlet],P),this.forwardEvent(new ke(Y.value.snapshot))}),I.children.length&&this.forwardEvent(new Kn(I.value.snapshot))}activateRoutes(I,b,P){const V=I.value,Y=b?b.value:null;if(tr(V),V===Y)if(V.component){const ye=P.getOrCreateContext(V.outlet);this.activateChildRoutes(I,b,ye.children)}else this.activateChildRoutes(I,b,P);else if(V.component){const ye=P.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const Ae=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),ye.children.onOutletReAttached(Ae.contexts),ye.attachRef=Ae.componentRef,ye.route=Ae.route.value,ye.outlet&&ye.outlet.attach(Ae.componentRef,Ae.route.value),tr(Ae.route.value),this.activateChildRoutes(I,null,ye.children)}else{const Ae=function Zi(S){for(let I=S.parent;I;I=I.parent){const b=I.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}(V.snapshot),et=Ae?Ae.module.componentFactoryResolver:null;ye.attachRef=null,ye.route=V,ye.resolver=et,ye.outlet&&ye.outlet.activateWith(V,et),this.activateChildRoutes(I,null,ye.children)}}else this.activateChildRoutes(I,null,P)}}class vi{constructor(I,b){this.routes=I,this.module=b}}function Vr(S){return"function"==typeof S}function Qr(S){return S instanceof ie}const Di=Symbol("INITIAL_VALUE");function Ur(){return(0,Vt.w)(S=>function ot(...S){const I=(0,Me.yG)(S),b=(0,Me.jO)(S),{args:P,keys:V}=(0,Ie.D)(S);if(0===P.length)return(0,Te.D)([],I);const Y=new ve.y(function it(S,I,b=De.y){return P=>{Dt(I,()=>{const{length:V}=S,Y=new Array(V);let ye=V,Ae=V;for(let et=0;et<V;et++)Dt(I,()=>{const hn=(0,Te.D)(S[et],I);let nr=!1;hn.subscribe(new de.Q(P,Nn=>{Y[et]=Nn,nr||(nr=!0,Ae--),Ae||P.next(b(Y.slice()))},()=>{--ye||P.complete()}))},P)},P)}}(P,I,V?ye=>(0,ne.n)(V,ye):De.y));return b?Y.pipe((0,oe.Z)(b)):Y}(S.map(I=>I.pipe((0,cn.q)(1),(0,bt.O)(Di)))).pipe((0,qt.R)((I,b)=>{let P=!1;return b.reduce((V,Y,ye)=>V!==Di?V:(Y===Di&&(P=!0),P||!1!==Y&&ye!==b.length-1&&!Qr(Y)?V:Y),I)},Di),(0,ue.h)(I=>I!==Di),(0,mt.U)(I=>Qr(I)?I:!0===I),(0,cn.q)(1)))}class Ar{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ji,this.attachRef=null}}class ji{constructor(){this.contexts=new Map}onChildOutletCreated(I,b){const P=this.getOrCreateContext(I);P.outlet=b,this.contexts.set(I,P)}onChildOutletDestroyed(I){const b=this.getContext(I);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let b=this.getContext(I);return b||(b=new Ar,this.contexts.set(I,b)),b}getContext(I){return this.contexts.get(I)||null}}let rs=(()=>{class S{constructor(b,P,V,Y,ye){this.parentContexts=b,this.location=P,this.resolver=V,this.changeDetector=ye,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=Y||tt,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,P){this.activated=b,this._activatedRoute=P,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,P){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const ye=(P=P||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),Ae=this.parentContexts.getOrCreateContext(this.name).children,et=new bs(b,Ae,this.location.injector);this.activated=this.location.createComponent(ye,this.location.length,et),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(b){return new(b||S)(c.Y36(ji),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},S.\u0275dir=c.lG2({type:S,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),S})();class bs{constructor(I,b,P){this.route=I,this.childContexts=b,this.parent=P}get(I,b){return I===Fe?this.route:I===ji?this.childContexts:this.parent.get(I,b)}}let $i=(()=>{class S{}return S.\u0275fac=function(b){return new(b||S)},S.\u0275cmp=c.Xpm({type:S,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,P){1&b&&c._UZ(0,"router-outlet")},directives:[rs],encapsulation:2}),S})();function Is(S,I=""){for(let b=0;b<S.length;b++){const P=S[b];fi(P,Sr(I,P))}}function fi(S,I){S.children&&Is(S.children,I)}function Sr(S,I){return I?S||I.path?S&&!I.path?`${S}/`:!S&&I.path?I.path:`${S}/${I.path}`:"":S}function Ri(S){const I=S.children&&S.children.map(Ri),b=I?Object.assign(Object.assign({},S),{children:I}):Object.assign({},S);return!b.component&&(I||b.loadChildren)&&b.outlet&&b.outlet!==tt&&(b.component=$i),b}function wr(S){return S.outlet||tt}function R(S,I){const b=S.filter(P=>wr(P)===I);return b.push(...S.filter(P=>wr(P)!==I)),b}const q={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function F(S,I,b){var P;if(""===I.path)return"full"===I.pathMatch&&(S.hasChildren()||b.length>0)?Object.assign({},q):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Y=(I.matcher||Jn)(b,S,I);if(!Y)return Object.assign({},q);const ye={};rt(Y.posParams,(et,hn)=>{ye[hn]=et.path});const Ae=Y.consumed.length>0?Object.assign(Object.assign({},ye),Y.consumed[Y.consumed.length-1].parameters):ye;return{matched:!0,consumedSegments:Y.consumed,lastChild:Y.consumed.length,parameters:Ae,positionalParamSegments:null!==(P=Y.posParams)&&void 0!==P?P:{}}}function ee(S,I,b,P,V="corrected"){if(b.length>0&&function Ft(S,I,b){return b.some(P=>L(S,I,P)&&wr(P)!==tt)}(S,b,P)){const ye=new U(I,function vt(S,I,b,P){const V={};V[tt]=P,P._sourceSegment=S,P._segmentIndexShift=I.length;for(const Y of b)if(""===Y.path&&wr(Y)!==tt){const ye=new U([],{});ye._sourceSegment=S,ye._segmentIndexShift=I.length,V[wr(Y)]=ye}return V}(S,I,P,new U(b,S.children)));return ye._sourceSegment=S,ye._segmentIndexShift=I.length,{segmentGroup:ye,slicedSegments:[]}}if(0===b.length&&function gn(S,I,b){return b.some(P=>L(S,I,P))}(S,b,P)){const ye=new U(S.segments,function Oe(S,I,b,P,V,Y){const ye={};for(const Ae of P)if(L(S,b,Ae)&&!V[wr(Ae)]){const et=new U([],{});et._sourceSegment=S,et._segmentIndexShift="legacy"===Y?S.segments.length:I.length,ye[wr(Ae)]=et}return Object.assign(Object.assign({},V),ye)}(S,I,b,P,S.children,V));return ye._sourceSegment=S,ye._segmentIndexShift=I.length,{segmentGroup:ye,slicedSegments:b}}const Y=new U(S.segments,S.children);return Y._sourceSegment=S,Y._segmentIndexShift=I.length,{segmentGroup:Y,slicedSegments:b}}function L(S,I,b){return(!(S.hasChildren()||I.length>0)||"full"!==b.pathMatch)&&""===b.path}function E(S,I,b,P){return!!(wr(S)===P||P!==tt&&L(I,b,S))&&("**"===S.path||F(I,S,b).matched)}function y(S,I,b){return 0===I.length&&!S.children[b]}class x{constructor(I){this.segmentGroup=I||null}}class ae{constructor(I){this.urlTree=I}}function Ze(S){return new ve.y(I=>I.error(new x(S)))}function At(S){return new ve.y(I=>I.error(new ae(S)))}function Lt(S){return new ve.y(I=>I.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${S}'`)))}class ur{constructor(I,b,P,V,Y){this.configLoader=b,this.urlSerializer=P,this.urlTree=V,this.config=Y,this.allowRedirects=!0,this.ngModule=I.get(c.h0i)}apply(){const I=ee(this.urlTree.root,[],[],this.config).segmentGroup,b=new U(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,b,tt).pipe((0,mt.U)(Y=>this.createUrlTree($n(Y),this.urlTree.queryParams,this.urlTree.fragment))).pipe(St(Y=>{if(Y instanceof ae)return this.allowRedirects=!1,this.match(Y.urlTree);throw Y instanceof x?this.noMatchError(Y):Y}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,tt).pipe((0,mt.U)(V=>this.createUrlTree($n(V),I.queryParams,I.fragment))).pipe(St(V=>{throw V instanceof x?this.noMatchError(V):V}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,b,P){const V=I.segments.length>0?new U([],{[tt]:I}):I;return new ie(V,b,P)}expandSegmentGroup(I,b,P,V){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(I,b,P).pipe((0,mt.U)(Y=>new U([],Y))):this.expandSegment(I,P,b,P.segments,V,!0)}expandChildren(I,b,P){const V=[];for(const Y of Object.keys(P.children))"primary"===Y?V.unshift(Y):V.push(Y);return(0,Te.D)(V).pipe((0,Jt.b)(Y=>{const ye=P.children[Y],Ae=R(b,Y);return this.expandSegmentGroup(I,Ae,ye,Y).pipe((0,mt.U)(et=>({segment:et,outlet:Y})))}),(0,qt.R)((Y,ye)=>(Y[ye.outlet]=ye.segment,Y),{}),function He(S,I){const b=arguments.length>=2;return P=>P.pipe(S?(0,ue.h)((V,Y)=>S(V,Y,P)):De.y,me(1),b?(0,xe.d)(I):(0,_e.T)(()=>new at.K))}())}expandSegment(I,b,P,V,Y,ye){return(0,Te.D)(P).pipe((0,Jt.b)(Ae=>this.expandSegmentAgainstRoute(I,b,P,Ae,V,Y,ye).pipe(St(hn=>{if(hn instanceof x)return(0,Re.of)(null);throw hn}))),(0,rn.P)(Ae=>!!Ae),St((Ae,et)=>{if(Ae instanceof at.K||"EmptyError"===Ae.name){if(y(b,V,Y))return(0,Re.of)(new U([],{}));throw new x(b)}throw Ae}))}expandSegmentAgainstRoute(I,b,P,V,Y,ye,Ae){return E(V,b,Y,ye)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(I,b,V,Y,ye):Ae&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,b,P,V,Y,ye):Ze(b):Ze(b)}expandSegmentAgainstRouteUsingRedirect(I,b,P,V,Y,ye){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,P,V,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(I,b,P,V,Y,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,b,P,V){const Y=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?At(Y):this.lineralizeSegments(P,Y).pipe((0,dt.z)(ye=>{const Ae=new U(ye,{});return this.expandSegment(I,Ae,b,ye,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,b,P,V,Y,ye){const{matched:Ae,consumedSegments:et,lastChild:hn,positionalParamSegments:nr}=F(b,V,Y);if(!Ae)return Ze(b);const Nn=this.applyRedirectCommands(et,V.redirectTo,nr);return V.redirectTo.startsWith("/")?At(Nn):this.lineralizeSegments(V,Nn).pipe((0,dt.z)(vr=>this.expandSegment(I,b,P,vr.concat(Y.slice(hn)),ye,!1)))}matchSegmentAgainstRoute(I,b,P,V,Y){if("**"===P.path)return P.loadChildren?(P._loadedConfig?(0,Re.of)(P._loadedConfig):this.configLoader.load(I.injector,P)).pipe((0,mt.U)(vr=>(P._loadedConfig=vr,new U(V,{})))):(0,Re.of)(new U(V,{}));const{matched:ye,consumedSegments:Ae,lastChild:et}=F(b,P,V);if(!ye)return Ze(b);const hn=V.slice(et);return this.getChildConfig(I,P,V).pipe((0,dt.z)(Nn=>{const vr=Nn.module,Sn=Nn.routes,{segmentGroup:Qs,slicedSegments:Rr}=ee(b,Ae,hn,Sn),ki=new U(Qs.segments,Qs.children);if(0===Rr.length&&ki.hasChildren())return this.expandChildren(vr,Sn,ki).pipe((0,mt.U)(Ei=>new U(Ae,Ei)));if(0===Sn.length&&0===Rr.length)return(0,Re.of)(new U(Ae,{}));const js=wr(P)===Y;return this.expandSegment(vr,ki,Sn,Rr,js?tt:Y,!0).pipe((0,mt.U)(Qi=>new U(Ae.concat(Qi.segments),Qi.children)))}))}getChildConfig(I,b,P){return b.children?(0,Re.of)(new vi(b.children,I)):b.loadChildren?void 0!==b._loadedConfig?(0,Re.of)(b._loadedConfig):this.runCanLoadGuards(I.injector,b,P).pipe((0,dt.z)(V=>V?this.configLoader.load(I.injector,b).pipe((0,mt.U)(Y=>(b._loadedConfig=Y,Y))):function hr(S){return new ve.y(I=>I.error(xt(`Cannot load children because the guard of the route "path: '${S.path}'" returned false`)))}(b))):(0,Re.of)(new vi([],I))}runCanLoadGuards(I,b,P){const V=b.canLoad;if(!V||0===V.length)return(0,Re.of)(!0);const Y=V.map(ye=>{const Ae=I.get(ye);let et;if(function ws(S){return S&&Vr(S.canLoad)}(Ae))et=Ae.canLoad(b,P);else{if(!Vr(Ae))throw new Error("Invalid CanLoad guard");et=Ae(b,P)}return j(et)});return(0,Re.of)(Y).pipe(Ur(),(0,pt.b)(ye=>{if(!Qr(ye))return;const Ae=xt(`Redirecting to "${this.urlSerializer.serialize(ye)}"`);throw Ae.url=ye,Ae}),(0,mt.U)(ye=>!0===ye))}lineralizeSegments(I,b){let P=[],V=b.root;for(;;){if(P=P.concat(V.segments),0===V.numberOfChildren)return(0,Re.of)(P);if(V.numberOfChildren>1||!V.children[tt])return Lt(I.redirectTo);V=V.children[tt]}}applyRedirectCommands(I,b,P){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),I,P)}applyRedirectCreatreUrlTree(I,b,P,V){const Y=this.createSegmentGroup(I,b.root,P,V);return new ie(Y,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(I,b){const P={};return rt(I,(V,Y)=>{if("string"==typeof V&&V.startsWith(":")){const Ae=V.substring(1);P[Y]=b[Ae]}else P[Y]=V}),P}createSegmentGroup(I,b,P,V){const Y=this.createSegments(I,b.segments,P,V);let ye={};return rt(b.children,(Ae,et)=>{ye[et]=this.createSegmentGroup(I,Ae,P,V)}),new U(Y,ye)}createSegments(I,b,P,V){return b.map(Y=>Y.path.startsWith(":")?this.findPosParam(I,Y,V):this.findOrReturn(Y,P))}findPosParam(I,b,P){const V=P[b.path.substring(1)];if(!V)throw new Error(`Cannot redirect to '${I}'. Cannot find '${b.path}'.`);return V}findOrReturn(I,b){let P=0;for(const V of b){if(V.path===I.path)return b.splice(P),V;P++}return I}}function $n(S){const I={};for(const P of Object.keys(S.children)){const Y=$n(S.children[P]);(Y.segments.length>0||Y.hasChildren())&&(I[P]=Y)}return function fr(S){if(1===S.numberOfChildren&&S.children[tt]){const I=S.children[tt];return new U(S.segments.concat(I.segments),I.children)}return S}(new U(S.segments,I))}class is{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class Pt{constructor(I,b){this.component=I,this.route=b}}function ar(S,I,b){const P=S._root;return ss(P,I?I._root:null,b,[P.value])}function zn(S,I,b){const P=function qs(S){if(!S)return null;for(let I=S.parent;I;I=I.parent){const b=I.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(I);return(P?P.module.injector:b).get(S)}function ss(S,I,b,P,V={canDeactivateChecks:[],canActivateChecks:[]}){const Y=Wr(I);return S.children.forEach(ye=>{(function Zs(S,I,b,P,V={canDeactivateChecks:[],canActivateChecks:[]}){const Y=S.value,ye=I?I.value:null,Ae=b?b.getContext(S.value.outlet):null;if(ye&&Y.routeConfig===ye.routeConfig){const et=function po(S,I,b){if("function"==typeof b)return b(S,I);switch(b){case"pathParamsChange":return!be(S.url,I.url);case"pathParamsOrQueryParamsChange":return!be(S.url,I.url)||!yn(S.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wn(S,I)||!yn(S.queryParams,I.queryParams);default:return!Wn(S,I)}}(ye,Y,Y.routeConfig.runGuardsAndResolvers);et?V.canActivateChecks.push(new is(P)):(Y.data=ye.data,Y._resolvedData=ye._resolvedData),ss(S,I,Y.component?Ae?Ae.children:null:b,P,V),et&&Ae&&Ae.outlet&&Ae.outlet.isActivated&&V.canDeactivateChecks.push(new Pt(Ae.outlet.component,ye))}else ye&&Io(I,Ae,V),V.canActivateChecks.push(new is(P)),ss(S,null,Y.component?Ae?Ae.children:null:b,P,V)})(ye,Y[ye.value.outlet],b,P.concat([ye.value]),V),delete Y[ye.value.outlet]}),rt(Y,(ye,Ae)=>Io(ye,b.getContext(Ae),V)),V}function Io(S,I,b){const P=Wr(S),V=S.value;rt(P,(Y,ye)=>{Io(Y,V.component?I?I.children.getContext(ye):null:I,b)}),b.canDeactivateChecks.push(new Pt(V.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,V))}class fs{}function go(S){return new ve.y(I=>I.error(S))}class $o{constructor(I,b,P,V,Y,ye){this.rootComponentType=I,this.config=b,this.urlTree=P,this.url=V,this.paramsInheritanceStrategy=Y,this.relativeLinkResolution=ye}recognize(){const I=ee(this.urlTree.root,[],[],this.config.filter(ye=>void 0===ye.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,I,tt);if(null===b)return null;const P=new Bt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},tt,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new Xr(P,b),Y=new sn(this.url,V);return this.inheritParamsAndData(Y._root),Y}inheritParamsAndData(I){const b=I.value,P=qe(b,this.paramsInheritanceStrategy);b.params=Object.freeze(P.params),b.data=Object.freeze(P.data),I.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(I,b,P){return 0===b.segments.length&&b.hasChildren()?this.processChildren(I,b):this.processSegment(I,b,b.segments,P)}processChildren(I,b){const P=[];for(const Y of Object.keys(b.children)){const ye=b.children[Y],Ae=R(I,Y),et=this.processSegmentGroup(Ae,ye,Y);if(null===et)return null;P.push(...et)}const V=So(P);return function mo(S){S.sort((I,b)=>I.value.outlet===tt?-1:b.value.outlet===tt?1:I.value.outlet.localeCompare(b.value.outlet))}(V),V}processSegment(I,b,P,V){for(const Y of I){const ye=this.processSegmentAgainstRoute(Y,b,P,V);if(null!==ye)return ye}return y(b,P,V)?[]:null}processSegmentAgainstRoute(I,b,P,V){if(I.redirectTo||!E(I,b,P,V))return null;let Y,ye=[],Ae=[];if("**"===I.path){const Sn=P.length>0?fn(P).parameters:{};Y=new Bt(P,Sn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ho(I),wr(I),I.component,I,Au(b),io(b)+P.length,Go(I))}else{const Sn=F(b,I,P);if(!Sn.matched)return null;ye=Sn.consumedSegments,Ae=P.slice(Sn.lastChild),Y=new Bt(ye,Sn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ho(I),wr(I),I.component,I,Au(b),io(b)+ye.length,Go(I))}const et=function Co(S){return S.children?S.children:S.loadChildren?S._loadedConfig.routes:[]}(I),{segmentGroup:hn,slicedSegments:nr}=ee(b,ye,Ae,et.filter(Sn=>void 0===Sn.redirectTo),this.relativeLinkResolution);if(0===nr.length&&hn.hasChildren()){const Sn=this.processChildren(et,hn);return null===Sn?null:[new Xr(Y,Sn)]}if(0===et.length&&0===nr.length)return[new Xr(Y,[])];const Nn=wr(I)===V,vr=this.processSegment(et,hn,nr,Nn?tt:V);return null===vr?null:[new Xr(Y,vr)]}}function Ao(S){const I=S.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function So(S){const I=[],b=new Set;for(const P of S){if(!Ao(P)){I.push(P);continue}const V=I.find(Y=>P.value.routeConfig===Y.value.routeConfig);void 0!==V?(V.children.push(...P.children),b.add(V)):I.push(P)}for(const P of b){const V=So(P.children);I.push(new Xr(P.value,V))}return I.filter(P=>!b.has(P))}function Au(S){let I=S;for(;I._sourceSegment;)I=I._sourceSegment;return I}function io(S){let I=S,b=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,b+=I._segmentIndexShift?I._segmentIndexShift:0;return b-1}function Ho(S){return S.data||{}}function Go(S){return S.resolve||{}}function xa(S){return(0,Vt.w)(I=>{const b=S(I);return b?(0,Te.D)(b).pipe((0,mt.U)(()=>I)):(0,Re.of)(I)})}class ti extends class ao{shouldDetach(I){return!1}store(I,b){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,b){return I.routeConfig===b.routeConfig}}{}const Qa=new c.OlP("ROUTES");class Ja{constructor(I,b,P,V){this.injector=I,this.compiler=b,this.onLoadStartListener=P,this.onLoadEndListener=V}load(I,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const V=this.loadModuleFactory(b.loadChildren).pipe((0,mt.U)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(b);const ye=Y.create(I);return new vi(ln(ye.injector.get(Qa,void 0,c.XFs.Self|c.XFs.Optional)).map(Ri),ye)}),St(Y=>{throw b._loader$=void 0,Y}));return b._loader$=new We(V,()=>new w.x).pipe(wt()),b._loader$}loadModuleFactory(I){return j(I()).pipe((0,dt.z)(b=>b instanceof c.YKP?(0,Re.of)(b):(0,Te.D)(this.compiler.compileModuleAsync(b))))}}class Ds{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,b){return I}}function Su(S){throw S}function bl(S,I,b){return I.parse("/")}function ps(S,I){return(0,Re.of)(null)}const Ls={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ci=(()=>{class S{constructor(b,P,V,Y,ye,Ae,et){this.rootComponentType=b,this.urlSerializer=P,this.rootContexts=V,this.location=Y,this.config=et,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new w.x,this.errorHandler=Su,this.malformedUriErrorHandler=bl,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ps,afterPreactivation:ps},this.urlHandlingStrategy=new Ds,this.routeReuseStrategy=new ti,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ye.get(c.h0i),this.console=ye.get(c.c2e);const Nn=ye.get(c.R0b);this.isNgZoneEnabled=Nn instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(et),this.currentUrlTree=function Z(){return new ie(new U([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ja(ye,Ae,vr=>this.triggerEvent(new nn(vr)),vr=>this.triggerEvent(new kn(vr))),this.routerState=xr(this.currentUrlTree,this.rootComponentType),this.transitions=new G({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const P=this.events;return b.pipe((0,ue.h)(V=>0!==V.id),(0,mt.U)(V=>Object.assign(Object.assign({},V),{extractedUrl:this.urlHandlingStrategy.extract(V.rawUrl)})),(0,Vt.w)(V=>{let Y=!1,ye=!1;return(0,Re.of)(V).pipe((0,pt.b)(Ae=>{this.currentNavigation={id:Ae.id,initialUrl:Ae.currentRawUrl,extractedUrl:Ae.extractedUrl,trigger:Ae.source,extras:Ae.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Vt.w)(Ae=>{const et=this.browserUrlTree.toString(),hn=!this.navigated||Ae.extractedUrl.toString()!==et||et!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||hn)&&this.urlHandlingStrategy.shouldProcessUrl(Ae.rawUrl))return ca(Ae.source)&&(this.browserUrlTree=Ae.extractedUrl),(0,Re.of)(Ae).pipe((0,Vt.w)(Nn=>{const vr=this.transitions.getValue();return P.next(new en(Nn.id,this.serializeUrl(Nn.extractedUrl),Nn.source,Nn.restoredState)),vr!==this.transitions.getValue()?Ne.E:Promise.resolve(Nn)}),function Yi(S,I,b,P){return(0,Vt.w)(V=>function Mr(S,I,b,P,V){return new ur(S,I,b,P,V).apply()}(S,I,b,V.extractedUrl,P).pipe((0,mt.U)(Y=>Object.assign(Object.assign({},V),{urlAfterRedirects:Y}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pt.b)(Nn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Nn.urlAfterRedirects})}),function Oa(S,I,b,P,V){return(0,dt.z)(Y=>function ua(S,I,b,P,V="emptyOnly",Y="legacy"){try{const ye=new $o(S,I,b,P,V,Y).recognize();return null===ye?go(new fs):(0,Re.of)(ye)}catch(ye){return go(ye)}}(S,I,Y.urlAfterRedirects,b(Y.urlAfterRedirects),P,V).pipe((0,mt.U)(ye=>Object.assign(Object.assign({},Y),{targetSnapshot:ye}))))}(this.rootComponentType,this.config,Nn=>this.serializeUrl(Nn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pt.b)(Nn=>{if("eager"===this.urlUpdateStrategy){if(!Nn.extras.skipLocationChange){const Sn=this.urlHandlingStrategy.merge(Nn.urlAfterRedirects,Nn.rawUrl);this.setBrowserUrl(Sn,Nn)}this.browserUrlTree=Nn.urlAfterRedirects}const vr=new sr(Nn.id,this.serializeUrl(Nn.extractedUrl),this.serializeUrl(Nn.urlAfterRedirects),Nn.targetSnapshot);P.next(vr)}));if(hn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:vr,extractedUrl:Sn,source:Qs,restoredState:Rr,extras:ki}=Ae,js=new en(vr,this.serializeUrl(Sn),Qs,Rr);P.next(js);const Br=xr(Sn,this.rootComponentType).snapshot;return(0,Re.of)(Object.assign(Object.assign({},Ae),{targetSnapshot:Br,urlAfterRedirects:Sn,extras:Object.assign(Object.assign({},ki),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ae.rawUrl,Ae.resolve(null),Ne.E}),xa(Ae=>{const{targetSnapshot:et,id:hn,extractedUrl:nr,rawUrl:Nn,extras:{skipLocationChange:vr,replaceUrl:Sn}}=Ae;return this.hooks.beforePreactivation(et,{navigationId:hn,appliedUrlTree:nr,rawUrlTree:Nn,skipLocationChange:!!vr,replaceUrl:!!Sn})}),(0,pt.b)(Ae=>{const et=new Un(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(et)}),(0,mt.U)(Ae=>Object.assign(Object.assign({},Ae),{guards:ar(Ae.targetSnapshot,Ae.currentSnapshot,this.rootContexts)})),function Do(S,I){return(0,dt.z)(b=>{const{targetSnapshot:P,currentSnapshot:V,guards:{canActivateChecks:Y,canDeactivateChecks:ye}}=b;return 0===ye.length&&0===Y.length?(0,Re.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function Bo(S,I,b,P){return(0,Te.D)(S).pipe((0,dt.z)(V=>function jo(S,I,b,P,V){const Y=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,Re.of)(!0);const ye=Y.map(Ae=>{const et=zn(Ae,I,V);let hn;if(function Bi(S){return S&&Vr(S.canDeactivate)}(et))hn=j(et.canDeactivate(S,I,b,P));else{if(!Vr(et))throw new Error("Invalid CanDeactivate guard");hn=j(et(S,I,b,P))}return hn.pipe((0,rn.P)())});return(0,Re.of)(ye).pipe(Ur())}(V.component,V.route,b,I,P)),(0,rn.P)(V=>!0!==V,!0))}(ye,P,V,S).pipe((0,dt.z)(Ae=>Ae&&function Ni(S){return"boolean"==typeof S}(Ae)?function To(S,I,b,P){return(0,Te.D)(I).pipe((0,Jt.b)(V=>(0,It.z)(function Ti(S,I){return null!==S&&I&&I(new xn(S)),(0,Re.of)(!0)}(V.route.parent,P),function Ys(S,I){return null!==S&&I&&I(new Et(S)),(0,Re.of)(!0)}(V.route,P),function aa(S,I,b){const P=I[I.length-1],Y=I.slice(0,I.length-1).reverse().map(ye=>function ro(S){const I=S.routeConfig?S.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:S,guards:I}:null}(ye)).filter(ye=>null!==ye).map(ye=>Pe(()=>{const Ae=ye.guards.map(et=>{const hn=zn(et,ye.node,b);let nr;if(function _r(S){return S&&Vr(S.canActivateChild)}(hn))nr=j(hn.canActivateChild(P,S));else{if(!Vr(hn))throw new Error("Invalid CanActivateChild guard");nr=j(hn(P,S))}return nr.pipe((0,rn.P)())});return(0,Re.of)(Ae).pipe(Ur())}));return(0,Re.of)(Y).pipe(Ur())}(S,V.path,b),function Pi(S,I,b){const P=I.routeConfig?I.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Re.of)(!0);const V=P.map(Y=>Pe(()=>{const ye=zn(Y,I,b);let Ae;if(function ns(S){return S&&Vr(S.canActivate)}(ye))Ae=j(ye.canActivate(I,S));else{if(!Vr(ye))throw new Error("Invalid CanActivate guard");Ae=j(ye(I,S))}return Ae.pipe((0,rn.P)())}));return(0,Re.of)(V).pipe(Ur())}(S,V.route,b))),(0,rn.P)(V=>!0!==V,!0))}(P,Y,S,I):(0,Re.of)(Ae)),(0,mt.U)(Ae=>Object.assign(Object.assign({},b),{guardsResult:Ae})))})}(this.ngModule.injector,Ae=>this.triggerEvent(Ae)),(0,pt.b)(Ae=>{if(Qr(Ae.guardsResult)){const hn=xt(`Redirecting to "${this.serializeUrl(Ae.guardsResult)}"`);throw hn.url=Ae.guardsResult,hn}const et=new an(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot,!!Ae.guardsResult);this.triggerEvent(et)}),(0,ue.h)(Ae=>!!Ae.guardsResult||(this.restoreHistory(Ae),this.cancelNavigationTransition(Ae,""),!1)),xa(Ae=>{if(Ae.guards.canActivateChecks.length)return(0,Re.of)(Ae).pipe((0,pt.b)(et=>{const hn=new An(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot);this.triggerEvent(hn)}),(0,Vt.w)(et=>{let hn=!1;return(0,Re.of)(et).pipe(function so(S,I){return(0,dt.z)(b=>{const{targetSnapshot:P,guards:{canActivateChecks:V}}=b;if(!V.length)return(0,Re.of)(b);let Y=0;return(0,Te.D)(V).pipe((0,Jt.b)(ye=>function la(S,I,b,P){return function oo(S,I,b,P){const V=Object.keys(S);if(0===V.length)return(0,Re.of)({});const Y={};return(0,Te.D)(V).pipe((0,dt.z)(ye=>function Ya(S,I,b,P){const V=zn(S,I,P);return j(V.resolve?V.resolve(I,b):V(I,b))}(S[ye],I,b,P).pipe((0,pt.b)(Ae=>{Y[ye]=Ae}))),me(1),(0,dt.z)(()=>Object.keys(Y).length===V.length?(0,Re.of)(Y):Ne.E))}(S._resolve,S,I,P).pipe((0,mt.U)(Y=>(S._resolvedData=Y,S.data=Object.assign(Object.assign({},S.data),qe(S,b).resolve),null)))}(ye.route,P,S,I)),(0,pt.b)(()=>Y++),me(1),(0,dt.z)(ye=>Y===V.length?(0,Re.of)(b):Ne.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pt.b)({next:()=>hn=!0,complete:()=>{hn||(this.restoreHistory(et),this.cancelNavigationTransition(et,"At least one route resolver didn't emit any value."))}}))}),(0,pt.b)(et=>{const hn=new or(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot);this.triggerEvent(hn)}))}),xa(Ae=>{const{targetSnapshot:et,id:hn,extractedUrl:nr,rawUrl:Nn,extras:{skipLocationChange:vr,replaceUrl:Sn}}=Ae;return this.hooks.afterPreactivation(et,{navigationId:hn,appliedUrlTree:nr,rawUrlTree:Nn,skipLocationChange:!!vr,replaceUrl:!!Sn})}),(0,mt.U)(Ae=>{const et=function Lr(S,I,b){const P=Nr(S,I._root,b?b._root:void 0);return new Fr(P,I)}(this.routeReuseStrategy,Ae.targetSnapshot,Ae.currentRouterState);return Object.assign(Object.assign({},Ae),{targetRouterState:et})}),(0,pt.b)(Ae=>{this.currentUrlTree=Ae.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ae.urlAfterRedirects,Ae.rawUrl),this.routerState=Ae.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ae.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ae),this.browserUrlTree=Ae.urlAfterRedirects)}),((S,I,b)=>(0,mt.U)(P=>(new qi(I,P.targetRouterState,P.currentRouterState,b).activate(S),P)))(this.rootContexts,this.routeReuseStrategy,Ae=>this.triggerEvent(Ae)),(0,pt.b)({next(){Y=!0},complete(){Y=!0}}),function fe(S){return(0,lt.e)((I,b)=>{try{I.subscribe(b)}finally{b.add(S)}})}(()=>{var Ae;Y||ye||this.cancelNavigationTransition(V,`Navigation ID ${V.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Ae=this.currentNavigation)||void 0===Ae?void 0:Ae.id)===V.id&&(this.currentNavigation=null)}),St(Ae=>{if(ye=!0,function Dn(S){return S&&S[kt]}(Ae)){const et=Qr(Ae.url);et||(this.navigated=!0,this.restoreHistory(V,!0));const hn=new En(V.id,this.serializeUrl(V.extractedUrl),Ae.message);P.next(hn),et?setTimeout(()=>{const nr=this.urlHandlingStrategy.merge(Ae.url,this.rawUrlTree),Nn={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ca(V.source)};this.scheduleNavigation(nr,"imperative",null,Nn,{resolve:V.resolve,reject:V.reject,promise:V.promise})},0):V.resolve(!1)}else{this.restoreHistory(V,!0);const et=new ir(V.id,this.serializeUrl(V.extractedUrl),Ae);P.next(et);try{V.resolve(this.errorHandler(Ae))}catch(hn){V.reject(hn)}}return Ne.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const P="popstate"===b.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{var V;const Y={replaceUrl:!0},ye=(null===(V=b.state)||void 0===V?void 0:V.navigationId)?b.state:null;if(ye){const et=Object.assign({},ye);delete et.navigationId,delete et.\u0275routerPageId,0!==Object.keys(et).length&&(Y.state=et)}const Ae=this.parseUrl(b.url);this.scheduleNavigation(Ae,P,ye,Y)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){Is(b),this.config=b.map(Ri),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,P={}){const{relativeTo:V,queryParams:Y,fragment:ye,queryParamsHandling:Ae,preserveFragment:et}=P,hn=V||this.routerState.root,nr=et?this.currentUrlTree.fragment:ye;let Nn=null;switch(Ae){case"merge":Nn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Y);break;case"preserve":Nn=this.currentUrlTree.queryParams;break;default:Nn=Y||null}return null!==Nn&&(Nn=this.removeEmptyProps(Nn)),function Ws(S,I,b,P,V){if(0===b.length)return Kr(I.root,I.root,I,P,V);const Y=function Ns(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new ts(!0,0,S);let I=0,b=!1;const P=S.reduce((V,Y,ye)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const Ae={};return rt(Y.outlets,(et,hn)=>{Ae[hn]="string"==typeof et?et.split("/"):et}),[...V,{outlets:Ae}]}if(Y.segmentPath)return[...V,Y.segmentPath]}return"string"!=typeof Y?[...V,Y]:0===ye?(Y.split("/").forEach((Ae,et)=>{0==et&&"."===Ae||(0==et&&""===Ae?b=!0:".."===Ae?I++:""!=Ae&&V.push(Ae))}),V):[...V,Y]},[]);return new ts(b,I,P)}(b);if(Y.toRoot())return Kr(I.root,new U([],{}),I,P,V);const ye=function Ks(S,I,b){if(S.isAbsolute)return new Rs(I.root,!0,0);if(-1===b.snapshot._lastPathIndex){const Y=b.snapshot._urlSegment;return new Rs(Y,Y===I.root,0)}const P=ei(S.commands[0])?0:1;return function Ps(S,I,b){let P=S,V=I,Y=b;for(;Y>V;){if(Y-=V,P=P.parent,!P)throw new Error("Invalid number of '../'");V=P.segments.length}return new Rs(P,!1,V-Y)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+P,S.numberOfDoubleDots)}(Y,I,S),Ae=ye.processChildren?xi(ye.segmentGroup,ye.index,Y.commands):Ii(ye.segmentGroup,ye.index,Y.commands);return Kr(ye.segmentGroup,Ae,I,P,V)}(hn,this.currentUrlTree,b,Nn,null!=nr?nr:null)}navigateByUrl(b,P={skipLocationChange:!1}){const V=Qr(b)?b:this.parseUrl(b),Y=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(Y,"imperative",null,P)}navigate(b,P={skipLocationChange:!1}){return function Mu(S){for(let I=0;I<S.length;I++){const b=S[I];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${I}`)}}(b),this.navigateByUrl(this.createUrlTree(b,P),P)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let P;try{P=this.urlSerializer.parse(b)}catch(V){P=this.malformedUriErrorHandler(V,this.urlSerializer,b)}return P}isActive(b,P){let V;if(V=!0===P?Object.assign({},Ls):!1===P?Object.assign({},zo):P,Qr(b))return Ye(this.currentUrlTree,b,V);const Y=this.parseUrl(b);return Ye(this.currentUrlTree,Y,V)}removeEmptyProps(b){return Object.keys(b).reduce((P,V)=>{const Y=b[V];return null!=Y&&(P[V]=Y),P},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new vn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,P,V,Y,ye){var Ae,et,hn;if(this.disposed)return Promise.resolve(!1);const nr=this.transitions.value,Nn=ca(P)&&nr&&!ca(nr.source),vr=nr.rawUrl.toString()===b.toString(),Sn=nr.id===(null===(Ae=this.currentNavigation)||void 0===Ae?void 0:Ae.id);if(Nn&&vr&&Sn)return Promise.resolve(!0);let Rr,ki,js;ye?(Rr=ye.resolve,ki=ye.reject,js=ye.promise):js=new Promise((Ei,Zr)=>{Rr=Ei,ki=Zr});const Br=++this.navigationId;let Qi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(V=this.location.getState()),Qi=V&&V.\u0275routerPageId?V.\u0275routerPageId:Y.replaceUrl||Y.skipLocationChange?null!==(et=this.browserPageId)&&void 0!==et?et:0:(null!==(hn=this.browserPageId)&&void 0!==hn?hn:0)+1):Qi=0,this.setTransition({id:Br,targetPageId:Qi,source:P,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:Y,resolve:Rr,reject:ki,promise:js,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),js.catch(Ei=>Promise.reject(Ei))}setBrowserUrl(b,P){const V=this.urlSerializer.serialize(b),Y=Object.assign(Object.assign({},P.extras.state),this.generateNgRouterState(P.id,P.targetPageId));this.location.isCurrentPathEqualTo(V)||P.extras.replaceUrl?this.location.replaceState(V,"",Y):this.location.go(V,"",Y)}restoreHistory(b,P=!1){var V,Y;if("computed"===this.canceledNavigationResolution){const ye=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(V=this.currentNavigation)||void 0===V?void 0:V.finalUrl)||0===ye?this.currentUrlTree===(null===(Y=this.currentNavigation)||void 0===Y?void 0:Y.finalUrl)&&0===ye&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ye)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,P){const V=new En(b.id,this.serializeUrl(b.extractedUrl),P);this.triggerEvent(V),b.resolve(!1)}generateNgRouterState(b,P){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:P}:{navigationId:b}}}return S.\u0275fac=function(b){c.$Z()},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})();function ca(S){return"imperative"!==S}let Ts=(()=>{class S{constructor(b,P,V,Y,ye){this.router=b,this.route=P,this.tabIndexAttribute=V,this.renderer=Y,this.el=ye,this.commands=null,this.onChanges=new w.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){if(null!=this.tabIndexAttribute)return;const P=this.renderer,V=this.el.nativeElement;null!==b?P.setAttribute(V,"tabindex",b):P.removeAttribute(V,"tabindex")}ngOnChanges(b){this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const b={skipLocationChange:gs(this.skipLocationChange),replaceUrl:gs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gs(this.preserveFragment)})}}return S.\u0275fac=function(b){return new(b||S)(c.Y36(Ci),c.Y36(Fe),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},S.\u0275dir=c.lG2({type:S,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,P){1&b&&c.NdJ("click",function(){return P.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),S})(),si=(()=>{class S{constructor(b,P,V){this.router=b,this.route=P,this.locationStrategy=V,this.commands=null,this.href=null,this.onChanges=new w.x,this.subscription=b.events.subscribe(Y=>{Y instanceof vn&&this.updateTargetUrlAndHref()})}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:null}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,P,V,Y,ye){if(0!==b||P||V||Y||ye||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Ae={skipLocationChange:gs(this.skipLocationChange),replaceUrl:gs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ae),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gs(this.preserveFragment)})}}return S.\u0275fac=function(b){return new(b||S)(c.Y36(Ci),c.Y36(Fe),c.Y36(Ke.S$))},S.\u0275dir=c.lG2({type:S,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,P){1&b&&c.NdJ("click",function(Y){return P.onClick(Y.button,Y.ctrlKey,Y.shiftKey,Y.altKey,Y.metaKey)}),2&b&&c.uIk("target",P.target)("href",P.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),S})();function gs(S){return""===S||!!S}let Wo=(()=>{class S{constructor(b,P,V,Y,ye,Ae){this.router=b,this.element=P,this.renderer=V,this.cdr=Y,this.link=ye,this.linkWithHref=Ae,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=b.events.subscribe(et=>{et instanceof vn&&this.update()})}ngAfterContentInit(){(0,Re.of)(this.links.changes,this.linksWithHrefs.changes,(0,Re.of)(null)).pipe((0,Ce.J)()).subscribe(b=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var b;null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe();const P=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(V=>!!V).map(V=>V.onChanges);this.linkInputChangesSubscription=(0,Te.D)(P).pipe((0,Ce.J)()).subscribe(V=>{this.isActive!==this.isLinkActive(this.router)(V)&&this.update()})}set routerLinkActive(b){const P=Array.isArray(b)?b:b.split(" ");this.classes=P.filter(V=>!!V)}ngOnChanges(b){this.update()}ngOnDestroy(){var b;this.routerEventsSubscription.unsubscribe(),null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const b=this.hasActiveLinks();this.isActive!==b&&(this.isActive=b,this.cdr.markForCheck(),this.classes.forEach(P=>{b?this.renderer.addClass(this.element.nativeElement,P):this.renderer.removeClass(this.element.nativeElement,P)}),this.isActiveChange.emit(b))})}isLinkActive(b){const P=function Vs(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return V=>!!V.urlTree&&b.isActive(V.urlTree,P)}hasActiveLinks(){const b=this.isLinkActive(this.router);return this.link&&b(this.link)||this.linkWithHref&&b(this.linkWithHref)||this.links.some(b)||this.linksWithHrefs.some(b)}}return S.\u0275fac=function(b){return new(b||S)(c.Y36(Ci),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(Ts,8),c.Y36(si,8))},S.\u0275dir=c.lG2({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(b,P,V){if(1&b&&(c.Suo(V,Ts,5),c.Suo(V,si,5)),2&b){let Y;c.iGM(Y=c.CRH())&&(P.links=Y),c.iGM(Y=c.CRH())&&(P.linksWithHrefs=Y)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.TTD]}),S})();class oi{}class Us{preload(I,b){return(0,Re.of)(null)}}let eu=(()=>{class S{constructor(b,P,V,Y){this.router=b,this.injector=V,this.preloadingStrategy=Y,this.loader=new Ja(V,P,et=>b.triggerEvent(new nn(et)),et=>b.triggerEvent(new kn(et)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ue.h)(b=>b instanceof vn),(0,Jt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(c.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,P){const V=[];for(const Y of P)if(Y.loadChildren&&!Y.canLoad&&Y._loadedConfig){const ye=Y._loadedConfig;V.push(this.processRoutes(ye.module,ye.routes))}else Y.loadChildren&&!Y.canLoad?V.push(this.preloadConfig(b,Y)):Y.children&&V.push(this.processRoutes(b,Y.children));return(0,Te.D)(V).pipe((0,Ce.J)(),(0,mt.U)(Y=>{}))}preloadConfig(b,P){return this.preloadingStrategy.preload(P,()=>(P._loadedConfig?(0,Re.of)(P._loadedConfig):this.loader.load(b.injector,P)).pipe((0,dt.z)(Y=>(P._loadedConfig=Y,this.processRoutes(Y.module,Y.routes)))))}}return S.\u0275fac=function(b){return new(b||S)(c.LFG(Ci),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(oi))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})(),Il=(()=>{class S{constructor(b,P,V={}){this.router=b,this.viewportScroller=P,this.options=V,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},V.scrollPositionRestoration=V.scrollPositionRestoration||"disabled",V.anchorScrolling=V.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof en?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof vn&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof Se&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,P){this.router.triggerEvent(new Se(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return S.\u0275fac=function(b){c.$Z()},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})();const qr=new c.OlP("ROUTER_CONFIGURATION"),Bs=new c.OlP("ROUTER_FORROOT_GUARD"),Mo=[Ke.Ye,{provide:Tt,useClass:Yt},{provide:Ci,useFactory:function ai(S,I,b,P,V,Y,ye={},Ae,et){const hn=new Ci(null,S,I,b,P,V,ln(Y));return Ae&&(hn.urlHandlingStrategy=Ae),et&&(hn.routeReuseStrategy=et),function Na(S,I){S.errorHandler&&(I.errorHandler=S.errorHandler),S.malformedUriErrorHandler&&(I.malformedUriErrorHandler=S.malformedUriErrorHandler),S.onSameUrlNavigation&&(I.onSameUrlNavigation=S.onSameUrlNavigation),S.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=S.paramsInheritanceStrategy),S.relativeLinkResolution&&(I.relativeLinkResolution=S.relativeLinkResolution),S.urlUpdateStrategy&&(I.urlUpdateStrategy=S.urlUpdateStrategy),S.canceledNavigationResolution&&(I.canceledNavigationResolution=S.canceledNavigationResolution)}(ye,hn),ye.enableTracing&&hn.events.subscribe(nr=>{var Nn,vr;null===(Nn=console.group)||void 0===Nn||Nn.call(console,`Router Event: ${nr.constructor.name}`),console.log(nr.toString()),console.log(nr),null===(vr=console.groupEnd)||void 0===vr||vr.call(console)}),hn},deps:[Tt,ji,Ke.Ye,c.zs3,c.Sil,Qa,qr,[class Xa{},new c.FiY],[class ii{},new c.FiY]]},ji,{provide:Fe,useFactory:function Ou(S){return S.routerState.root},deps:[Ci]},eu,Us,class Ko{preload(I,b){return b().pipe(St(()=>(0,Re.of)(null)))}},{provide:qr,useValue:{enableTracing:!1}}];function In(){return new c.PXZ("Router",Ci)}let Ln=(()=>{class S{constructor(b,P){}static forRoot(b,P){return{ngModule:S,providers:[Mo,jt(b),{provide:Bs,useFactory:ht,deps:[[Ci,new c.FiY,new c.tp0]]},{provide:qr,useValue:P||{}},{provide:Ke.S$,useFactory:$t,deps:[Ke.lw,[new c.tBr(Ke.mr),new c.FiY],qr]},{provide:Il,useFactory:da,deps:[Ci,Ke.EM,qr]},{provide:oi,useExisting:P&&P.preloadingStrategy?P.preloadingStrategy:Us},{provide:c.PXZ,multi:!0,useFactory:In},[ha,{provide:c.ip1,multi:!0,useFactory:fa,deps:[ha]},{provide:uo,useFactory:xu,deps:[ha]},{provide:c.tb,multi:!0,useExisting:uo}]]}}static forChild(b){return{ngModule:S,providers:[jt(b)]}}}return S.\u0275fac=function(b){return new(b||S)(c.LFG(Bs,8),c.LFG(Ci,8))},S.\u0275mod=c.oAB({type:S}),S.\u0275inj=c.cJS({}),S})();function da(S,I,b){return b.scrollOffset&&I.setOffset(b.scrollOffset),new Il(S,I,b)}function $t(S,I,b={}){return b.useHash?new Ke.Do(S,I):new Ke.b0(S,I)}function ht(S){return"guarded"}function jt(S){return[{provide:c.deG,multi:!0,useValue:S},{provide:Qa,multi:!0,useValue:S}]}let ha=(()=>{class S{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new w.x}appInitializer(){return this.injector.get(Ke.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let P=null;const V=new Promise(Ae=>P=Ae),Y=this.injector.get(Ci),ye=this.injector.get(qr);return"disabled"===ye.initialNavigation?(Y.setUpLocationChangeListener(),P(!0)):"enabled"===ye.initialNavigation||"enabledBlocking"===ye.initialNavigation?(Y.hooks.afterPreactivation=()=>this.initNavigation?(0,Re.of)(null):(this.initNavigation=!0,P(!0),this.resultOfPreactivationDone),Y.initialNavigation()):P(!0),V})}bootstrapListener(b){const P=this.injector.get(qr),V=this.injector.get(eu),Y=this.injector.get(Il),ye=this.injector.get(Ci),Ae=this.injector.get(c.z2F);b===Ae.components[0]&&(("enabledNonBlocking"===P.initialNavigation||void 0===P.initialNavigation)&&ye.initialNavigation(),V.setUpPreloading(),Y.init(),ye.resetRootComponentType(Ae.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return S.\u0275fac=function(b){return new(b||S)(c.LFG(c.zs3))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})();function fa(S){return S.appInitializer.bind(S)}function xu(S){return S.bootstrapListener.bind(S)}const uo=new c.OlP("Router Initializer")},579:(Qt,nt,k)=>{k.d(nt,{EI:()=>Tn,Gb:()=>Xn,Iv:()=>ln,Kz:()=>rt,Xd:()=>or,lT:()=>Bn,xP:()=>fn});var c=k(5861),w=k(9681),G=k(1877),ve=k(2090),Ie=k(4859);k(2833);const De="analytics",oe="firebase_id",de="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Le="https://www.googletagmanager.com/gtag/js",ot=new G.Yd("@firebase/analytics");function it(pe){return Promise.all(pe.map(Ye=>Ye.catch(ct=>ct)))}function Dt(pe,Ye){const ct=document.createElement("script");ct.src=`${Le}?l=${pe}&id=${Ye}`,ct.async=!0,document.head.appendChild(ct)}function Pe(pe,Ye,ct,le,re,ce){return Je.apply(this,arguments)}function Je(){return(Je=(0,c.Z)(function*(pe,Ye,ct,le,re,ce){const Be=le[re];try{if(Be)yield Ye[Be];else{const ie=(yield it(ct)).find(U=>U.measurementId===re);ie&&(yield Ye[ie.appId])}}catch(X){ot.error(X)}pe("config",re,ce)})).apply(this,arguments)}function lt(pe,Ye,ct,le,re){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(pe,Ye,ct,le,re){try{let ce=[];if(re&&re.send_to){let Be=re.send_to;Array.isArray(Be)||(Be=[Be]);const X=yield it(ct);for(const ie of Be){const U=X.find(Q=>Q.measurementId===ie),J=U&&Ye[U.appId];if(!J){ce=[];break}ce.push(J)}}0===ce.length&&(ce=Object.values(Ye)),yield Promise.all(ce),pe("event",le,re||{})}catch(ce){ot.error(ce)}})).apply(this,arguments)}function at(){const pe=window.document.getElementsByTagName("script");for(const Ye of Object.values(pe))if(Ye.src&&Ye.src.includes(Le))return Ye;return null}const Ne=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_e=new class me{constructor(Ye={},ct=1e3){this.throttleMetadata=Ye,this.intervalMillis=ct}getThrottleMetadata(Ye){return this.throttleMetadata[Ye]}setThrottleMetadata(Ye,ct){this.throttleMetadata[Ye]=ct}deleteThrottleMetadata(Ye){delete this.throttleMetadata[Ye]}};function xe(pe){return new Headers({Accept:"application/json","x-goog-api-key":pe})}function He(pe){return fe.apply(this,arguments)}function fe(){return(fe=(0,c.Z)(function*(pe){var Ye;const{appId:ct,apiKey:le}=pe,re={method:"GET",headers:xe(le)},ce=de.replace("{app-id}",ct),Be=yield fetch(ce,re);if(200!==Be.status&&304!==Be.status){let X="";try{const ie=yield Be.json();(null===(Ye=ie.error)||void 0===Ye?void 0:Ye.message)&&(X=ie.error.message)}catch(ie){}throw Ne.create("config-fetch-failed",{httpStatus:Be.status,responseMessage:X})}return Be.json()})).apply(this,arguments)}function mt(pe){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(pe,Ye=_e,ct){const{appId:le,apiKey:re,measurementId:ce}=pe.options;if(!le)throw Ne.create("no-app-id");if(!re){if(ce)return{measurementId:ce,appId:le};throw Ne.create("no-api-key")}const Be=Ye.getThrottleMetadata(le)||{backoffCount:0,throttleEndTimeMillis:Date.now()},X=new rn;return setTimeout((0,c.Z)(function*(){X.abort()}),void 0!==ct?ct:6e4),cn({appId:le,apiKey:re,measurementId:ce},Be,X,Ye)})).apply(this,arguments)}function cn(pe,Ye,ct){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(pe,{throttleEndTimeMillis:Ye,backoffCount:ct},le,re=_e){const{appId:ce,measurementId:Be}=pe;try{yield qt(le,Ye)}catch(X){if(Be)return ot.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${X.message}]`),{appId:ce,measurementId:Be};throw X}try{const X=yield He(pe);return re.deleteThrottleMetadata(ce),X}catch(X){if(!Jt(X)){if(re.deleteThrottleMetadata(ce),Be)return ot.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${X.message}]`),{appId:ce,measurementId:Be};throw X}const ie=503===Number(X.customData.httpStatus)?(0,ve.$s)(ct,re.intervalMillis,30):(0,ve.$s)(ct,re.intervalMillis),U={throttleEndTimeMillis:Date.now()+ie,backoffCount:ct+1};return re.setThrottleMetadata(ce,U),ot.debug(`Calling attemptFetch again in ${ie} millis`),cn(pe,U,le,re)}})).apply(this,arguments)}function qt(pe,Ye){return new Promise((ct,le)=>{const re=Math.max(Ye-Date.now(),0),ce=setTimeout(ct,re);pe.addEventListener(()=>{clearTimeout(ce),le(Ne.create("fetch-throttle",{throttleEndTimeMillis:Ye}))})})}function Jt(pe){if(!(pe instanceof ve.ZR&&pe.customData))return!1;const Ye=Number(pe.customData.httpStatus);return 429===Ye||500===Ye||503===Ye||504===Ye}class rn{constructor(){this.listeners=[]}addEventListener(Ye){this.listeners.push(Ye)}abort(){this.listeners.forEach(Ye=>Ye())}}function dt(){return pt.apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(){if(!(0,ve.hl)())return ot.warn(Ne.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(pe){return ot.warn(Ne.create("indexeddb-unavailable",{errorInfo:pe}).message),!1}return!0})).apply(this,arguments)}function Ke(){return(Ke=(0,c.Z)(function*(pe,Ye,ct,le,re,ce,Be){var X;const ie=mt(pe);ie.then(Xe=>{ct[Xe.measurementId]=Xe.appId,pe.options.measurementId&&Xe.measurementId!==pe.options.measurementId&&ot.warn(`The measurement ID in the local Firebase config (${pe.options.measurementId}) does not match the measurement ID fetched from the server (${Xe.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xe=>ot.error(Xe)),Ye.push(ie);const U=dt().then(Xe=>{if(Xe)return le.getId()}),[J,Q]=yield Promise.all([ie,U]);at()||Dt(ce,J.measurementId),re("js",new Date);const be=null!==(X=null==Be?void 0:Be.config)&&void 0!==X?X:{};return be.origin="firebase",be.update=!0,null!=Q&&(be[oe]=Q),re("config",J.measurementId,be),J.measurementId})).apply(this,arguments)}class Ct{constructor(Ye){this.app=Ye}_delete(){return delete en[this.app.options.appId],Promise.resolve()}}let en={},vn=[];const En={};let Un,an,ir="dataLayer",sr="gtag",An=!1;function or(pe){if(An)throw Ne.create("already-initialized");pe.dataLayerName&&(ir=pe.dataLayerName),pe.gtagName&&(sr=pe.gtagName)}function kn(pe,Ye,ct){!function nn(){const pe=[];if((0,ve.ru)()&&pe.push("This is a browser extension environment."),(0,ve.zI)()||pe.push("Cookies are not available."),pe.length>0){const Ye=pe.map((le,re)=>`(${re+1}) ${le}`).join(" "),ct=Ne.create("invalid-analytics-context",{errorInfo:Ye});ot.warn(ct.message)}}();const le=pe.options.appId;if(!le)throw Ne.create("no-app-id");if(!pe.options.apiKey){if(!pe.options.measurementId)throw Ne.create("no-api-key");ot.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${pe.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=en[le])throw Ne.create("already-exists",{id:le});if(!An){!function Ot(pe){let Ye=[];Array.isArray(window[pe])?Ye=window[pe]:window[pe]=Ye}(ir);const{wrappedGtag:ce,gtagCore:Be}=function Re(pe,Ye,ct,le,re){let ce=function(...Be){window[le].push(arguments)};return window[re]&&"function"==typeof window[re]&&(ce=window[re]),window[re]=function We(pe,Ye,ct,le){function ce(){return(ce=(0,c.Z)(function*(Be,X,ie){try{"event"===Be?yield lt(pe,Ye,ct,X,ie):"config"===Be?yield Pe(pe,Ye,ct,le,X,ie):pe("set",X)}catch(U){ot.error(U)}})).apply(this,arguments)}return function re(Be,X,ie){return ce.apply(this,arguments)}}(ce,pe,Ye,ct),{gtagCore:ce,wrappedGtag:window[re]}}(en,vn,En,ir,sr);an=ce,Un=Be,An=!0}return en[le]=function Ce(pe,Ye,ct,le,re,ce,Be){return Ke.apply(this,arguments)}(pe,vn,En,Ye,Un,ir,ct),new Ct(pe)}function Kn(){return(Kn=(0,c.Z)(function*(pe,Ye,ct,le,re){if(re&&re.global)pe("event",ct,le);else{const ce=yield Ye;pe("event",ct,Object.assign(Object.assign({},le),{send_to:ce}))}})).apply(this,arguments)}function ke(){return(ke=(0,c.Z)(function*(pe,Ye,ct,le){if(le&&le.global)return pe("set",{screen_name:ct}),Promise.resolve();pe("config",yield Ye,{update:!0,screen_name:ct})})).apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(pe,Ye,ct,le){if(le&&le.global)return pe("set",{user_id:ct}),Promise.resolve();pe("config",yield Ye,{update:!0,user_id:ct})})).apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(pe,Ye,ct,le){if(le&&le.global){const re={};for(const ce of Object.keys(ct))re[`user_properties.${ce}`]=ct[ce];return pe("set",re),Promise.resolve()}pe("config",yield Ye,{update:!0,user_properties:ct})})).apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(pe,Ye){const ct=yield pe;window[`ga-disable-${ct}`]=!Ye})).apply(this,arguments)}function Xn(){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch(pe){return!1}})).apply(this,arguments)}function Bn(pe,Ye,ct){pe=(0,ve.m9)(pe),function Et(pe,Ye,ct,le){return ke.apply(this,arguments)}(an,en[pe.app.options.appId],Ye,ct).catch(le=>ot.error(le))}function ln(pe,Ye,ct){pe=(0,ve.m9)(pe),function Se(pe,Ye,ct,le){return tt.apply(this,arguments)}(an,en[pe.app.options.appId],Ye,ct).catch(le=>ot.error(le))}function fn(pe,Ye,ct){pe=(0,ve.m9)(pe),function Mt(pe,Ye,ct,le){return Ut.apply(this,arguments)}(an,en[pe.app.options.appId],Ye,ct).catch(le=>ot.error(le))}function Tn(pe,Ye){pe=(0,ve.m9)(pe),function kt(pe,Ye){return xt.apply(this,arguments)}(en[pe.app.options.appId],Ye).catch(ct=>ot.error(ct))}function rt(pe,Ye,ct,le){pe=(0,ve.m9)(pe),function xn(pe,Ye,ct,le,re){return Kn.apply(this,arguments)}(an,en[pe.app.options.appId],Ye,ct,le).catch(re=>ot.error(re))}const j="@firebase/analytics",Z="0.7.8";!function $e(){(0,w._registerComponent)(new Ie.wA(De,(Ye,{options:ct})=>kn(Ye.getProvider("app").getImmediate(),Ye.getProvider("installations-internal").getImmediate(),ct),"PUBLIC")),(0,w._registerComponent)(new Ie.wA("analytics-internal",function pe(Ye){try{const ct=Ye.getProvider(De).getImmediate();return{logEvent:(le,re,ce)=>rt(ct,le,re,ce)}}catch(ct){throw Ne.create("interop-component-reg-failed",{reason:ct})}},"PRIVATE")),(0,w.registerVersion)(j,Z),(0,w.registerVersion)(j,Z,"esm2017")}()},3942:(Qt,nt,k)=>{k.d(nt,{Z:()=>Dt});var c=k(2090),w=k(4859),G=k(9681),ve=k(1877);class Ie{constructor(Pe,Je){this._delegate=Pe,this.firebase=Je,(0,G._addComponent)(Pe,new w.wA("app-compat",()=>this,"PUBLIC")),this.container=Pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this._delegate.automaticDataCollectionEnabled=Pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Pe=>{this._delegate.checkDestroyed(),Pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(Pe,Je=G._DEFAULT_ENTRY_NAME){var lt;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(Pe);return!wt.isInitialized()&&"EXPLICIT"===(null===(lt=wt.getComponent())||void 0===lt?void 0:lt.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:Je})}_removeServiceInstance(Pe,Je=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Pe).clearInstance(Je)}_addComponent(Pe){(0,G._addComponent)(this._delegate,Pe)}_addOrOverwriteComponent(Pe){(0,G._addOrOverwriteComponent)(this._delegate,Pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function Me(){const Ot=function oe(Ot){const Pe={},Je={__esModule:!0,initializeApp:function We(Ne,St={}){const ue=G.initializeApp(Ne,St);if((0,c.r3)(Pe,ue.name))return Pe[ue.name];const me=new Ot(ue,Je);return Pe[ue.name]=me,me},app:wt,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function at(Ne){const St=Ne.name,ue=St.replace("-compat","");if(G._registerComponent(Ne)&&"PUBLIC"===Ne.type){const me=(_e=wt())=>{if("function"!=typeof _e[ue])throw De.create("invalid-app-argument",{appName:St});return _e[ue]()};void 0!==Ne.serviceProps&&(0,c.ZB)(me,Ne.serviceProps),Je[ue]=me,Ot.prototype[ue]=function(..._e){return this._getService.bind(this,St).apply(this,Ne.multipleInstances?_e:[])}}return"PUBLIC"===Ne.type?Je[ue]:null},removeApp:function lt(Ne){delete Pe[Ne]},useAsService:function It(Ne,St){return"serverAuth"===St?null:St},modularAPIs:G}};function wt(Ne){if(!(0,c.r3)(Pe,Ne=Ne||G._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:Ne});return Pe[Ne]}return Je.default=Je,Object.defineProperty(Je,"apps",{get:function Re(){return Object.keys(Pe).map(Ne=>Pe[Ne])}}),wt.App=Ot,Je}(Ie);return Ot.INTERNAL=Object.assign(Object.assign({},Ot.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function Pe(Je){(0,c.ZB)(Ot,Je)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ot}(),de=new ve.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ot=self.firebase.SDK_VERSION;Ot&&Ot.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Dt=ne;!function it(Ot){(0,G.registerVersion)("@firebase/app-compat","0.1.23",Ot)}()},9681:(Qt,nt,k)=>{k.r(nt),k.d(nt,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>ir,_DEFAULT_ENTRY_NAME:()=>cn,_addComponent:()=>rn,_addOrOverwriteComponent:()=>dt,_apps:()=>qt,_clearComponents:()=>Ct,_components:()=>Jt,_getProvider:()=>Ce,_registerComponent:()=>pt,_removeServiceInstance:()=>Ke,deleteApp:()=>An,getApp:()=>Un,getApps:()=>an,initializeApp:()=>sr,onLog:()=>kn,registerVersion:()=>nn,setLogLevel:()=>xn});var c=k(5861),w=k(4859),G=k(1877),ve=k(2090);class Ie{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map($e=>{if(function Te(j){const Z=j.getComponent();return"VERSION"===(null==Z?void 0:Z.type)}($e)){const pe=$e.getImmediate();return`${pe.library}/${pe.version}`}return null}).filter($e=>$e).join(" ")}}const De="@firebase/app",Me=new G.Yd("@firebase/app"),cn="[DEFAULT]",bt={[De]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qt=new Map,Jt=new Map;function rn(j,Z){try{j.container.addComponent(Z)}catch($e){Me.debug(`Component ${Z.name} failed to register with FirebaseApp ${j.name}`,$e)}}function dt(j,Z){j.container.addOrOverwriteComponent(Z)}function pt(j){const Z=j.name;if(Jt.has(Z))return Me.debug(`There were multiple attempts to register component ${Z}.`),!1;Jt.set(Z,j);for(const $e of qt.values())rn($e,j);return!0}function Ce(j,Z){const $e=j.container.getProvider("heartbeat").getImmediate({optional:!0});return $e&&$e.triggerHeartbeat(),j.container.getProvider(Z)}function Ke(j,Z,$e=cn){Ce(j,Z).clearInstance($e)}function Ct(){Jt.clear()}const vn=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class En{constructor(Z,$e,pe){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},$e),this._name=$e.name,this._automaticDataCollectionEnabled=$e.automaticDataCollectionEnabled,this._container=pe,this.container.addComponent(new w.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}const ir="9.7.0";function sr(j,Z={}){"object"!=typeof Z&&(Z={name:Z});const $e=Object.assign({name:cn,automaticDataCollectionEnabled:!1},Z),pe=$e.name;if("string"!=typeof pe||!pe)throw vn.create("bad-app-name",{appName:String(pe)});const Ye=qt.get(pe);if(Ye){if((0,ve.vZ)(j,Ye.options)&&(0,ve.vZ)($e,Ye.config))return Ye;throw vn.create("duplicate-app",{appName:pe})}const ct=new w.H0(pe);for(const re of Jt.values())ct.addComponent(re);const le=new En(j,$e,ct);return qt.set(pe,le),le}function Un(j=cn){const Z=qt.get(j);if(!Z)throw vn.create("no-app",{appName:j});return Z}function an(){return Array.from(qt.values())}function An(j){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(j){const Z=j.name;qt.has(Z)&&(qt.delete(Z),yield Promise.all(j.container.getProviders().map($e=>$e.delete())),j.isDeleted=!0)})).apply(this,arguments)}function nn(j,Z,$e){var pe;let Ye=null!==(pe=bt[j])&&void 0!==pe?pe:j;$e&&(Ye+=`-${$e}`);const ct=Ye.match(/\s|\//),le=Z.match(/\s|\//);if(ct||le){const re=[`Unable to register library "${Ye}" with version "${Z}":`];return ct&&re.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),ct&&le&&re.push("and"),le&&re.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void Me.warn(re.join(" "))}pt(new w.wA(`${Ye}-version`,()=>({library:Ye,version:Z}),"VERSION"))}function kn(j,Z){if(null!==j&&"function"!=typeof j)throw vn.create("invalid-log-argument");(0,G.Am)(j,Z)}function xn(j){(0,G.Ub)(j)}const ke="firebase-heartbeat-store";let Se=null;function tt(){return Se||(Se=(0,ve.X3)("firebase-heartbeat-database",1,(j,Z)=>{0===Z&&j.createObjectStore(ke)}).catch(j=>{throw vn.create("storage-open",{originalErrorMessage:j.message})})),Se}function Ut(){return(Ut=(0,c.Z)(function*(j){try{return(yield tt()).transaction(ke).objectStore(ke).get(Dn(j))}catch(Z){throw vn.create("storage-get",{originalErrorMessage:Z.message})}})).apply(this,arguments)}function kt(j,Z){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(j,Z){try{const pe=(yield tt()).transaction(ke,"readwrite");return yield pe.objectStore(ke).put(Z,Dn(j)),pe.complete}catch($e){throw vn.create("storage-set",{originalErrorMessage:$e.message})}})).apply(this,arguments)}function Dn(j){return`${j.name}!${j.options.appId}`}class yn{constructor(Z){this.container=Z,this._heartbeatsCache=null;const $e=this.container.getProvider("app").getImmediate();this._storage=new fn($e),this._heartbeatsCachePromise=this._storage.read().then(pe=>(this._heartbeatsCache=pe,pe))}triggerHeartbeat(){var Z=this;return(0,c.Z)(function*(){const pe=Z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=Bn();if(null===Z._heartbeatsCache&&(Z._heartbeatsCache=yield Z._heartbeatsCachePromise),Z._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!Z._heartbeatsCache.heartbeats.some(ct=>ct.date===Ye))return Z._heartbeatsCache.heartbeats.push({date:Ye,agent:pe}),Z._heartbeatsCache.heartbeats=Z._heartbeatsCache.heartbeats.filter(ct=>{const le=new Date(ct.date).valueOf();return Date.now()-le<=2592e6}),Z._storage.overwrite(Z._heartbeatsCache)})()}getHeartbeatsHeader(){var Z=this;return(0,c.Z)(function*(){if(null===Z._heartbeatsCache&&(yield Z._heartbeatsCachePromise),null===Z._heartbeatsCache||0===Z._heartbeatsCache.heartbeats.length)return"";const $e=Bn(),{heartbeatsToSend:pe,unsentEntries:Ye}=function ln(j,Z=1024){const $e=[];let pe=j.slice();for(const Ye of j){const ct=$e.find(le=>le.agent===Ye.agent);if(ct){if(ct.dates.push(Ye.date),Tn($e)>Z){ct.dates.pop();break}}else if($e.push({agent:Ye.agent,dates:[Ye.date]}),Tn($e)>Z){$e.pop();break}pe=pe.slice(1)}return{heartbeatsToSend:$e,unsentEntries:pe}}(Z._heartbeatsCache.heartbeats),ct=(0,ve.L)(JSON.stringify({version:2,heartbeats:pe}));return Z._heartbeatsCache.lastSentHeartbeatDate=$e,Ye.length>0?(Z._heartbeatsCache.heartbeats=Ye,yield Z._storage.overwrite(Z._heartbeatsCache)):(Z._heartbeatsCache.heartbeats=[],Z._storage.overwrite(Z._heartbeatsCache)),ct})()}}function Bn(){return(new Date).toISOString().substring(0,10)}class fn{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Z=this;return(0,c.Z)(function*(){return(yield Z._canUseIndexedDBPromise)&&(yield function Mt(j){return Ut.apply(this,arguments)}(Z.app))||{heartbeats:[]}})()}overwrite(Z){var $e=this;return(0,c.Z)(function*(){var pe;if(yield $e._canUseIndexedDBPromise){const ct=yield $e.read();return kt($e.app,{lastSentHeartbeatDate:null!==(pe=Z.lastSentHeartbeatDate)&&void 0!==pe?pe:ct.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}})()}add(Z){var $e=this;return(0,c.Z)(function*(){var pe;if(yield $e._canUseIndexedDBPromise){const ct=yield $e.read();return kt($e.app,{lastSentHeartbeatDate:null!==(pe=Z.lastSentHeartbeatDate)&&void 0!==pe?pe:ct.lastSentHeartbeatDate,heartbeats:[...ct.heartbeats,...Z.heartbeats]})}})()}}function Tn(j){return(0,ve.L)(JSON.stringify({version:2,heartbeats:j})).length}!function rt(j){pt(new w.wA("platform-logger",Z=>new Ie(Z),"PRIVATE")),pt(new w.wA("heartbeat",Z=>new yn(Z),"PRIVATE")),nn(De,"0.7.22",j),nn(De,"0.7.22","esm2017"),nn("fire-js","")}("")},4859:(Qt,nt,k)=>{k.d(nt,{H0:()=>oe,wA:()=>G});var c=k(5861),w=k(2090);class G{constructor(ne,de,Le){this.name=ne,this.instanceFactory=de,this.type=Le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const ve="[DEFAULT]";class Ie{constructor(ne,de){this.name=ne,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const de=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(de)){const Le=new w.BH;if(this.instancesDeferred.set(de,Le),this.isInitialized(de)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:de});ot&&Le.resolve(ot)}catch(ot){}}return this.instancesDeferred.get(de).promise}getImmediate(ne){var de;const Le=this.normalizeInstanceIdentifier(null==ne?void 0:ne.identifier),ot=null!==(de=null==ne?void 0:ne.optional)&&void 0!==de&&de;if(!this.isInitialized(Le)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Le})}catch(it){if(ot)return null;throw it}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function De(Me){return"EAGER"===Me.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:ve})}catch(de){}for(const[de,Le]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(de);try{const it=this.getOrInitializeService({instanceIdentifier:ot});Le.resolve(it)}catch(it){}}}}clearInstance(ne=ve){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,c.Z)(function*(){const de=Array.from(ne.instances.values());yield Promise.all([...de.filter(Le=>"INTERNAL"in Le).map(Le=>Le.INTERNAL.delete()),...de.filter(Le=>"_delete"in Le).map(Le=>Le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=ve){return this.instances.has(ne)}getOptions(ne=ve){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:de={}}=ne,Le=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Le))throw Error(`${this.name}(${Le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:Le,options:de});for(const[it,Dt]of this.instancesDeferred.entries())Le===this.normalizeInstanceIdentifier(it)&&Dt.resolve(ot);return ot}onInit(ne,de){var Le;const ot=this.normalizeInstanceIdentifier(de),it=null!==(Le=this.onInitCallbacks.get(ot))&&void 0!==Le?Le:new Set;it.add(ne),this.onInitCallbacks.set(ot,it);const Dt=this.instances.get(ot);return Dt&&ne(Dt,ot),()=>{it.delete(ne)}}invokeOnInitCallbacks(ne,de){const Le=this.onInitCallbacks.get(de);if(Le)for(const ot of Le)try{ot(ne,de)}catch(it){}}getOrInitializeService({instanceIdentifier:ne,options:de={}}){let Le=this.instances.get(ne);if(!Le&&this.component&&(Le=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=ne,Me===ve?void 0:Me),options:de}),this.instances.set(ne,Le),this.instancesOptions.set(ne,de),this.invokeOnInitCallbacks(Le,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Le)}catch(ot){}var Me;return Le||null}normalizeInstanceIdentifier(ne=ve){return this.component?this.component.multipleInstances?ne:ve:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const de=this.getProvider(ne.name);if(de.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);de.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const de=new Ie(ne,this);return this.providers.set(ne,de),de}getProviders(){return Array.from(this.providers.values())}}},2833:(Qt,nt,k)=>{var c=k(5861),w=k(9681),G=k(4859),ve=k(2090);const Ie="@firebase/installations",oe="w:0.5.8",Me="FIS_v2",Dt=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ot(Ge){return Ge instanceof ve.ZR&&Ge.code.includes("request-failed")}function Pe({projectId:Ge}){return`https://firebaseinstallations.googleapis.com/v1/projects/${Ge}/installations`}function Je(Ge){return{token:Ge.token,requestStatus:2,expiresIn:Ne(Ge.expiresIn),creationTime:Date.now()}}function lt(Ge,Ve){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(Ge,Ve){const Xt=(yield Ve.json()).error;return Dt.create("request-failed",{requestName:Ge,serverCode:Xt.code,serverMessage:Xt.message,serverStatus:Xt.status})})).apply(this,arguments)}function We({apiKey:Ge}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ge})}function Re(Ge,{refreshToken:Ve}){const ft=We(Ge);return ft.append("Authorization",function St(Ge){return`${Me} ${Ge}`}(Ve)),ft}function at(Ge){return It.apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(Ge){const Ve=yield Ge();return Ve.status>=500&&Ve.status<600?Ge():Ve})).apply(this,arguments)}function Ne(Ge){return Number(Ge.replace("s","000"))}function ue(Ge,Ve){return me.apply(this,arguments)}function me(){return(me=(0,c.Z)(function*({appConfig:Ge,heartbeatServiceProvider:Ve},{fid:ft}){const Xt=Pe(Ge),Hn=We(Ge),Gn=Ve.getImmediate({optional:!0});if(Gn){const kr=yield Gn.getHeartbeatsHeader();kr&&Hn.append("x-firebase-client",kr)}const Dr={method:"POST",headers:Hn,body:JSON.stringify({fid:ft,authVersion:Me,appId:Ge.appId,sdkVersion:oe})},Qn=yield at(()=>fetch(Xt,Dr));if(Qn.ok){const kr=yield Qn.json();return{fid:kr.fid||ft,registrationStatus:2,refreshToken:kr.refreshToken,authToken:Je(kr.authToken)}}throw yield lt("Create Installation",Qn)})).apply(this,arguments)}function _e(Ge){return new Promise(Ve=>{setTimeout(Ve,Ge)})}const He=/^[cdef][\w-]{21}$/;function mt(){try{const Ge=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Ge),Ge[0]=112+Ge[0]%16;const ft=function Vt(Ge){return function xe(Ge){return btoa(String.fromCharCode(...Ge)).replace(/\+/g,"-").replace(/\//g,"_")}(Ge).substr(0,22)}(Ge);return He.test(ft)?ft:""}catch(Ge){return""}}function cn(Ge){return`${Ge.appName}!${Ge.appId}`}const bt=new Map;function qt(Ge,Ve){const ft=cn(Ge);dt(ft,Ve),function pt(Ge,Ve){const ft=function Ke(){return!Ce&&"BroadcastChannel"in self&&(Ce=new BroadcastChannel("[Firebase] FID Change"),Ce.onmessage=Ge=>{dt(Ge.data.key,Ge.data.fid)}),Ce}();ft&&ft.postMessage({key:Ge,fid:Ve}),function Ct(){0===bt.size&&Ce&&(Ce.close(),Ce=null)}()}(ft,Ve)}function dt(Ge,Ve){const ft=bt.get(Ge);if(ft)for(const Xt of ft)Xt(Ve)}let Ce=null;const En="firebase-installations-store";let ir=null;function sr(){return ir||(ir=(0,ve.X3)("firebase-installations-database",1,(Ge,Ve)=>{0===Ve&&Ge.createObjectStore(En)})),ir}function Un(Ge,Ve){return an.apply(this,arguments)}function an(){return(an=(0,c.Z)(function*(Ge,Ve){const ft=cn(Ge),Hn=(yield sr()).transaction(En,"readwrite"),Gn=Hn.objectStore(En),Yn=yield Gn.get(ft);return yield Gn.put(Ve,ft),yield Hn.complete,(!Yn||Yn.fid!==Ve.fid)&&qt(Ge,Ve.fid),Ve})).apply(this,arguments)}function An(Ge){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(Ge){const Ve=cn(Ge),Xt=(yield sr()).transaction(En,"readwrite");yield Xt.objectStore(En).delete(Ve),yield Xt.complete})).apply(this,arguments)}function nn(Ge,Ve){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(Ge,Ve){const ft=cn(Ge),Hn=(yield sr()).transaction(En,"readwrite"),Gn=Hn.objectStore(En),Yn=yield Gn.get(ft),Dr=Ve(Yn);return void 0===Dr?yield Gn.delete(ft):yield Gn.put(Dr,ft),yield Hn.complete,Dr&&(!Yn||Yn.fid!==Dr.fid)&&qt(Ge,Dr.fid),Dr})).apply(this,arguments)}function xn(Ge){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(Ge){let Ve;const ft=yield nn(Ge.appConfig,Xt=>{const Hn=Et(Xt),Gn=ke(Ge,Hn);return Ve=Gn.registrationPromise,Gn.installationEntry});return""===ft.fid?{installationEntry:yield Ve}:{installationEntry:ft,registrationPromise:Ve}})).apply(this,arguments)}function Et(Ge){return xt(Ge||{fid:mt(),registrationStatus:0})}function ke(Ge,Ve){if(0===Ve.registrationStatus){if(!navigator.onLine)return{installationEntry:Ve,registrationPromise:Promise.reject(Dt.create("app-offline"))};const ft={fid:Ve.fid,registrationStatus:1,registrationTime:Date.now()},Xt=function Se(Ge,Ve){return tt.apply(this,arguments)}(Ge,ft);return{installationEntry:ft,registrationPromise:Xt}}return 1===Ve.registrationStatus?{installationEntry:Ve,registrationPromise:Mt(Ge)}:{installationEntry:Ve}}function tt(){return(tt=(0,c.Z)(function*(Ge,Ve){try{const ft=yield ue(Ge,Ve);return Un(Ge.appConfig,ft)}catch(ft){throw Ot(ft)&&409===ft.customData.serverCode?yield An(Ge.appConfig):yield Un(Ge.appConfig,{fid:Ve.fid,registrationStatus:0}),ft}})).apply(this,arguments)}function Mt(Ge){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(Ge){let Ve=yield kt(Ge.appConfig);for(;1===Ve.registrationStatus;)yield _e(100),Ve=yield kt(Ge.appConfig);if(0===Ve.registrationStatus){const{installationEntry:ft,registrationPromise:Xt}=yield xn(Ge);return Xt||ft}return Ve})).apply(this,arguments)}function kt(Ge){return nn(Ge,Ve=>{if(!Ve)throw Dt.create("installation-not-found");return xt(Ve)})}function xt(Ge){return function Dn(Ge){return 1===Ge.registrationStatus&&Ge.registrationTime+1e4<Date.now()}(Ge)?{fid:Ge.fid,registrationStatus:0}:Ge}function Jn(Ge,Ve){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*({appConfig:Ge,heartbeatServiceProvider:Ve},ft){const Xt=yn(Ge,ft),Hn=Re(Ge,ft),Gn=Ve.getImmediate({optional:!0});if(Gn){const kr=yield Gn.getHeartbeatsHeader();kr&&Hn.append("x-firebase-client",kr)}const Dr={method:"POST",headers:Hn,body:JSON.stringify({installation:{sdkVersion:oe,appId:Ge.appId}})},Qn=yield at(()=>fetch(Xt,Dr));if(Qn.ok)return Je(yield Qn.json());throw yield lt("Generate Auth Token",Qn)})).apply(this,arguments)}function yn(Ge,{fid:Ve}){return`${Pe(Ge)}/${Ve}/authTokens:generate`}function Bn(Ge){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(Ge,Ve=!1){let ft;const Xt=yield nn(Ge.appConfig,Gn=>{if(!$e(Gn))throw Dt.create("not-registered");const Yn=Gn.authToken;if(!Ve&&pe(Yn))return Gn;if(1===Yn.requestStatus)return ft=fn(Ge,Ve),Gn;{if(!navigator.onLine)throw Dt.create("app-offline");const Dr=ct(Gn);return ft=j(Ge,Dr),Dr}});return ft?yield ft:Xt.authToken})).apply(this,arguments)}function fn(Ge,Ve){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(Ge,Ve){let ft=yield rt(Ge.appConfig);for(;1===ft.authToken.requestStatus;)yield _e(100),ft=yield rt(Ge.appConfig);const Xt=ft.authToken;return 0===Xt.requestStatus?Bn(Ge,Ve):Xt})).apply(this,arguments)}function rt(Ge){return nn(Ge,Ve=>{if(!$e(Ve))throw Dt.create("not-registered");return function le(Ge){return 1===Ge.requestStatus&&Ge.requestTime+1e4<Date.now()}(Ve.authToken)?Object.assign(Object.assign({},Ve),{authToken:{requestStatus:0}}):Ve})}function j(Ge,Ve){return Z.apply(this,arguments)}function Z(){return(Z=(0,c.Z)(function*(Ge,Ve){try{const ft=yield Jn(Ge,Ve),Xt=Object.assign(Object.assign({},Ve),{authToken:ft});return yield Un(Ge.appConfig,Xt),ft}catch(ft){if(!Ot(ft)||401!==ft.customData.serverCode&&404!==ft.customData.serverCode){const Xt=Object.assign(Object.assign({},Ve),{authToken:{requestStatus:0}});yield Un(Ge.appConfig,Xt)}else yield An(Ge.appConfig);throw ft}})).apply(this,arguments)}function $e(Ge){return void 0!==Ge&&2===Ge.registrationStatus}function pe(Ge){return 2===Ge.requestStatus&&!function Ye(Ge){const Ve=Date.now();return Ve<Ge.creationTime||Ge.creationTime+Ge.expiresIn<Ve+36e5}(Ge)}function ct(Ge){const Ve={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Ge),{authToken:Ve})}function ce(){return(ce=(0,c.Z)(function*(Ge){const Ve=Ge,{installationEntry:ft,registrationPromise:Xt}=yield xn(Ve);return Xt?Xt.catch(console.error):Bn(Ve).catch(console.error),ft.fid})).apply(this,arguments)}function X(){return(X=(0,c.Z)(function*(Ge,Ve=!1){const ft=Ge;return yield ie(ft),(yield Bn(ft,Ve)).token})).apply(this,arguments)}function ie(Ge){return U.apply(this,arguments)}function U(){return(U=(0,c.Z)(function*(Ge){const{registrationPromise:Ve}=yield xn(Ge);Ve&&(yield Ve)})).apply(this,arguments)}function Rn(Ge){return Dt.create("missing-app-config-values",{valueName:Ge})}const gr="installations",Jr=Ge=>{const Ve=Ge.getProvider("app").getImmediate(),ft=function Fn(Ge){if(!Ge||!Ge.options)throw Rn("App Configuration");if(!Ge.name)throw Rn("App Name");const Ve=["projectId","apiKey","appId"];for(const ft of Ve)if(!Ge.options[ft])throw Rn(ft);return{appName:Ge.name,projectId:Ge.options.projectId,apiKey:Ge.options.apiKey,appId:Ge.options.appId}}(Ve);return{app:Ve,appConfig:ft,heartbeatServiceProvider:(0,w._getProvider)(Ve,"heartbeat"),_delete:()=>Promise.resolve()}},mr=Ge=>{const Ve=Ge.getProvider("app").getImmediate(),ft=(0,w._getProvider)(Ve,gr).getImmediate();return{getId:()=>function re(Ge){return ce.apply(this,arguments)}(ft),getToken:Hn=>function Be(Ge){return X.apply(this,arguments)}(ft,Hn)}};(function Ir(){(0,w._registerComponent)(new G.wA(gr,Jr,"PUBLIC")),(0,w._registerComponent)(new G.wA("installations-internal",mr,"PRIVATE"))})(),(0,w.registerVersion)(Ie,"0.5.8"),(0,w.registerVersion)(Ie,"0.5.8","esm2017")},1877:(Qt,nt,k)=>{k.d(nt,{Am:()=>Me,Ub:()=>oe,Yd:()=>De,in:()=>w});const c=[];var w=(()=>{return(ne=w||(w={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",w;var ne})();const G={debug:w.DEBUG,verbose:w.VERBOSE,info:w.INFO,warn:w.WARN,error:w.ERROR,silent:w.SILENT},ve=w.INFO,Ie={[w.DEBUG]:"log",[w.VERBOSE]:"log",[w.INFO]:"info",[w.WARN]:"warn",[w.ERROR]:"error"},Te=(ne,de,...Le)=>{if(de<ne.logLevel)return;const ot=(new Date).toISOString(),it=Ie[de];if(!it)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[it](`[${ot}]  ${ne.name}:`,...Le)};class De{constructor(de){this.name=de,this._logLevel=ve,this._logHandler=Te,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in w))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?G[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,w.DEBUG,...de),this._logHandler(this,w.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,w.VERBOSE,...de),this._logHandler(this,w.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,w.INFO,...de),this._logHandler(this,w.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,w.WARN,...de),this._logHandler(this,w.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,w.ERROR,...de),this._logHandler(this,w.ERROR,...de)}}function oe(ne){c.forEach(de=>{de.setLogLevel(ne)})}function Me(ne,de){for(const Le of c){let ot=null;de&&de.level&&(ot=G[de.level]),Le.userLogHandler=null===ne?null:(it,Dt,...Ot)=>{const Pe=Ot.map(Je=>{if(null==Je)return null;if("string"==typeof Je)return Je;if("number"==typeof Je||"boolean"==typeof Je)return Je.toString();if(Je instanceof Error)return Je.message;try{return JSON.stringify(Je)}catch(lt){return null}}).filter(Je=>Je).join(" ");Dt>=(null!=ot?ot:it.logLevel)&&ne({level:w[Dt].toLowerCase(),message:Pe,args:Ot,type:it.name})}}}},2290:(Qt,nt,k)=>{k.d(nt,{Rh:()=>cn,_W:()=>fe});var c=k(5e3),w=k(1777),G=k(7579),ve=k(9808),Ie=k(2313);const Te=["toast-component",""];function De(dt,pt){if(1&dt){const Ce=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){return c.CHM(Ce),c.oxw().remove()}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA(),c.qZA()}}function oe(dt,pt){if(1&dt&&(c.ynx(0),c._uU(1),c.BQk()),2&dt){const Ce=c.oxw(2);c.xp6(1),c.hij("[",Ce.duplicatesCount+1,"]")}}function Me(dt,pt){if(1&dt&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,oe,2,1,"ng-container",4),c.qZA()),2&dt){const Ce=c.oxw();c.Tol(Ce.options.titleClass),c.uIk("aria-label",Ce.title),c.xp6(1),c.hij(" ",Ce.title," "),c.xp6(1),c.Q6J("ngIf",Ce.duplicatesCount)}}function ne(dt,pt){if(1&dt&&c._UZ(0,"div",7),2&dt){const Ce=c.oxw();c.Tol(Ce.options.messageClass),c.Q6J("innerHTML",Ce.message,c.oJD)}}function de(dt,pt){if(1&dt&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&dt){const Ce=c.oxw();c.Tol(Ce.options.messageClass),c.uIk("aria-label",Ce.message),c.xp6(1),c.hij(" ",Ce.message," ")}}function Le(dt,pt){if(1&dt&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&dt){const Ce=c.oxw();c.xp6(1),c.Udp("width",Ce.width+"%")}}function ot(dt,pt){if(1&dt){const Ce=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){return c.CHM(Ce),c.oxw().remove()}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA(),c.qZA()}}function it(dt,pt){if(1&dt&&(c.ynx(0),c._uU(1),c.BQk()),2&dt){const Ce=c.oxw(2);c.xp6(1),c.hij("[",Ce.duplicatesCount+1,"]")}}function Dt(dt,pt){if(1&dt&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,it,2,1,"ng-container",4),c.qZA()),2&dt){const Ce=c.oxw();c.Tol(Ce.options.titleClass),c.uIk("aria-label",Ce.title),c.xp6(1),c.hij(" ",Ce.title," "),c.xp6(1),c.Q6J("ngIf",Ce.duplicatesCount)}}function Ot(dt,pt){if(1&dt&&c._UZ(0,"div",7),2&dt){const Ce=c.oxw();c.Tol(Ce.options.messageClass),c.Q6J("innerHTML",Ce.message,c.oJD)}}function Pe(dt,pt){if(1&dt&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&dt){const Ce=c.oxw();c.Tol(Ce.options.messageClass),c.uIk("aria-label",Ce.message),c.xp6(1),c.hij(" ",Ce.message," ")}}function Je(dt,pt){if(1&dt&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&dt){const Ce=c.oxw();c.xp6(1),c.Udp("width",Ce.width+"%")}}class We{constructor(pt,Ce){this.component=pt,this.injector=Ce}attach(pt,Ce){return this._attachedHost=pt,pt.attach(this,Ce)}detach(){const pt=this._attachedHost;if(pt)return this._attachedHost=void 0,pt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(pt){this._attachedHost=pt}}class at{constructor(pt,Ce,Ke,Ct,en,vn){this.toastId=pt,this.config=Ce,this.message=Ke,this.title=Ct,this.toastType=en,this.toastRef=vn,this._onTap=new G.x,this._onAction=new G.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(pt){this._onAction.next(pt)}onAction(){return this._onAction.asObservable()}}const It={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},Ne=new c.OlP("ToastConfig");class St{constructor(pt){this._overlayRef=pt,this.duplicatesCount=0,this._afterClosed=new G.x,this._activate=new G.x,this._manualClose=new G.x,this._resetTimeout=new G.x,this._countDuplicate=new G.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(pt,Ce){pt&&this._resetTimeout.next(),Ce&&this._countDuplicate.next(++this.duplicatesCount)}}class ue{constructor(pt,Ce){this._toastPackage=pt,this._parentInjector=Ce}get(pt,Ce,Ke){return pt===at?this._toastPackage:this._parentInjector.get(pt,Ce,Ke)}}class me extends class Re{attach(pt,Ce){return this._attachedPortal=pt,this.attachComponentPortal(pt,Ce)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(pt){this._disposeFn=pt}}{constructor(pt,Ce,Ke){super(),this._hostDomElement=pt,this._componentFactoryResolver=Ce,this._appRef=Ke}attachComponentPortal(pt,Ce){const Ke=this._componentFactoryResolver.resolveComponentFactory(pt.component);let Ct;return Ct=Ke.create(pt.injector),this._appRef.attachView(Ct.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ct.hostView),Ct.destroy()}),Ce?this._hostDomElement.insertBefore(this._getComponentRootNode(Ct),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ct)),Ct}_getComponentRootNode(pt){return pt.hostView.rootNodes[0]}}class _e{constructor(pt){this._portalHost=pt}attach(pt,Ce=!0){return this._portalHost.attach(pt,Ce)}detach(){return this._portalHost.detach()}}let xe=(()=>{class dt{constructor(Ce){this._document=Ce}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ce=this._document.createElement("div");Ce.classList.add("overlay-container"),Ce.setAttribute("aria-live","polite"),this._document.body.appendChild(Ce),this._containerElement=Ce}}return dt.\u0275fac=function(Ce){return new(Ce||dt)(c.LFG(ve.K0))},dt.\u0275prov=c.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})(),He=(()=>{class dt{constructor(Ce,Ke,Ct,en){this._overlayContainer=Ce,this._componentFactoryResolver=Ke,this._appRef=Ct,this._document=en,this._paneElements=new Map}create(Ce,Ke){return this._createOverlayRef(this.getPaneElement(Ce,Ke))}getPaneElement(Ce="",Ke){return this._paneElements.get(Ke)||this._paneElements.set(Ke,{}),this._paneElements.get(Ke)[Ce]||(this._paneElements.get(Ke)[Ce]=this._createPaneElement(Ce,Ke)),this._paneElements.get(Ke)[Ce]}_createPaneElement(Ce,Ke){const Ct=this._document.createElement("div");return Ct.id="toast-container",Ct.classList.add(Ce),Ct.classList.add("toast-container"),Ke?Ke.getContainerElement().appendChild(Ct):this._overlayContainer.getContainerElement().appendChild(Ct),Ct}_createPortalHost(Ce){return new me(Ce,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ce){return new _e(this._createPortalHost(Ce))}}return dt.\u0275fac=function(Ce){return new(Ce||dt)(c.LFG(xe),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(ve.K0))},dt.\u0275prov=c.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})(),fe=(()=>{class dt{constructor(Ce,Ke,Ct,en,vn){this.overlay=Ke,this._injector=Ct,this.sanitizer=en,this.ngZone=vn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},Ce.default),Ce.config),Ce.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},Ce.default.iconClasses),Ce.config.iconClasses))}show(Ce,Ke,Ct={},en=""){return this._preBuildNotification(en,Ce,Ke,this.applyConfig(Ct))}success(Ce,Ke,Ct={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ce,Ke,this.applyConfig(Ct))}error(Ce,Ke,Ct={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ce,Ke,this.applyConfig(Ct))}info(Ce,Ke,Ct={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ce,Ke,this.applyConfig(Ct))}warning(Ce,Ke,Ct={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ce,Ke,this.applyConfig(Ct))}clear(Ce){for(const Ke of this.toasts)if(void 0!==Ce){if(Ke.toastId===Ce)return void Ke.toastRef.manualClose()}else Ke.toastRef.manualClose()}remove(Ce){const Ke=this._findToast(Ce);if(!Ke||(Ke.activeToast.toastRef.close(),this.toasts.splice(Ke.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ct=this.toasts[this.currentlyActive].toastRef;Ct.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ct.activate())}return!0}findDuplicate(Ce="",Ke="",Ct,en){const{includeTitleDuplicates:vn}=this.toastrConfig;for(const En of this.toasts){const ir=vn&&En.title===Ce;if((!vn||ir)&&En.message===Ke)return En.toastRef.onDuplicate(Ct,en),En}return null}applyConfig(Ce={}){return Object.assign(Object.assign({},this.toastrConfig),Ce)}_findToast(Ce){for(let Ke=0;Ke<this.toasts.length;Ke++)if(this.toasts[Ke].toastId===Ce)return{index:Ke,activeToast:this.toasts[Ke]};return null}_preBuildNotification(Ce,Ke,Ct,en){return en.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ce,Ke,Ct,en)):this._buildNotification(Ce,Ke,Ct,en)}_buildNotification(Ce,Ke,Ct,en){if(!en.toastComponent)throw new Error("toastComponent required");const vn=this.findDuplicate(Ct,Ke,this.toastrConfig.resetTimeoutOnDuplicate&&en.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ct||Ke)&&this.toastrConfig.preventDuplicates&&null!==vn)return vn;this.previousToastMessage=Ke;let En=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(En=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const ir=this.overlay.create(en.positionClass,this.overlayContainer);this.index=this.index+1;let sr=Ke;Ke&&en.enableHtml&&(sr=this.sanitizer.sanitize(c.q3G.HTML,Ke));const Un=new St(ir),an=new at(this.index,en,sr,Ct,Ce,Un),An=new ue(an,this._injector),or=new We(en.toastComponent,An),nn=ir.attach(or,this.toastrConfig.newestOnTop);Un.componentInstance=nn.instance;const kn={toastId:this.index,title:Ct||"",message:Ke||"",toastRef:Un,onShown:Un.afterActivate(),onHidden:Un.afterClosed(),onTap:an.onTap(),onAction:an.onAction(),portal:nn};return En||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{kn.toastRef.activate()})),this.toasts.push(kn),kn}}return dt.\u0275fac=function(Ce){return new(Ce||dt)(c.LFG(Ne),c.LFG(He),c.LFG(c.zs3),c.LFG(Ie.H7),c.LFG(c.R0b))},dt.\u0275prov=c.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})(),mt=(()=>{class dt{constructor(Ce,Ke,Ct){this.toastrService=Ce,this.toastPackage=Ke,this.ngZone=Ct,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ke.message,this.title=Ke.title,this.options=Ke.config,this.originalTimeout=Ke.config.timeOut,this.toastClasses=`${Ke.toastType} ${Ke.config.toastClass}`,this.sub=Ke.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ke.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ke.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ke.toastRef.countDuplicate().subscribe(en=>{this.duplicatesCount=en})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ce=(new Date).getTime();this.width=(this.hideTime-Ce)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ce,Ke){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ce),Ke)):this.timeout=setTimeout(()=>Ce(),Ke)}outsideInterval(Ce,Ke){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ce),Ke)):this.intervalId=setInterval(()=>Ce(),Ke)}runInsideAngular(Ce){this.ngZone?this.ngZone.run(()=>Ce()):Ce()}}return dt.\u0275fac=function(Ce){return new(Ce||dt)(c.Y36(fe),c.Y36(at),c.Y36(c.R0b))},dt.\u0275cmp=c.Xpm({type:dt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ce,Ke){1&Ce&&c.NdJ("click",function(){return Ke.tapToast()})("mouseenter",function(){return Ke.stickAround()})("mouseleave",function(){return Ke.delayedHideToast()}),2&Ce&&(c.d8E("@flyInOut",Ke.state),c.Tol(Ke.toastClasses),c.Udp("display",Ke.displayStyle))},attrs:Te,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ce,Ke){1&Ce&&(c.YNc(0,De,3,0,"button",0),c.YNc(1,Me,3,5,"div",1),c.YNc(2,ne,1,3,"div",2),c.YNc(3,de,2,4,"div",3),c.YNc(4,Le,2,2,"div",4)),2&Ce&&(c.Q6J("ngIf",Ke.options.closeButton),c.xp6(1),c.Q6J("ngIf",Ke.title),c.xp6(1),c.Q6J("ngIf",Ke.message&&Ke.options.enableHtml),c.xp6(1),c.Q6J("ngIf",Ke.message&&!Ke.options.enableHtml),c.xp6(1),c.Q6J("ngIf",Ke.options.progressBar))},directives:[ve.O5],encapsulation:2,data:{animation:[(0,w.X$)("flyInOut",[(0,w.SB)("inactive",(0,w.oB)({opacity:0})),(0,w.SB)("active",(0,w.oB)({opacity:1})),(0,w.SB)("removed",(0,w.oB)({opacity:0})),(0,w.eR)("inactive => active",(0,w.jt)("{{ easeTime }}ms {{ easing }}")),(0,w.eR)("active => removed",(0,w.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),dt})();const Vt=Object.assign(Object.assign({},It),{toastComponent:mt});let cn=(()=>{class dt{static forRoot(Ce={}){return{ngModule:dt,providers:[{provide:Ne,useValue:{default:Vt,config:Ce}}]}}}return dt.\u0275fac=function(Ce){return new(Ce||dt)},dt.\u0275mod=c.oAB({type:dt}),dt.\u0275inj=c.cJS({imports:[[ve.ez]]}),dt})(),qt=(()=>{class dt{constructor(Ce,Ke,Ct){this.toastrService=Ce,this.toastPackage=Ke,this.appRef=Ct,this.width=-1,this.toastClasses="",this.state="inactive",this.message=Ke.message,this.title=Ke.title,this.options=Ke.config,this.originalTimeout=Ke.config.timeOut,this.toastClasses=`${Ke.toastType} ${Ke.config.toastClass}`,this.sub=Ke.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ke.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ke.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ke.toastRef.countDuplicate().subscribe(en=>{this.duplicatesCount=en})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ce=(new Date).getTime();this.width=(this.hideTime-Ce)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return dt.\u0275fac=function(Ce){return new(Ce||dt)(c.Y36(fe),c.Y36(at),c.Y36(c.z2F))},dt.\u0275cmp=c.Xpm({type:dt,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(Ce,Ke){1&Ce&&c.NdJ("click",function(){return Ke.tapToast()})("mouseenter",function(){return Ke.stickAround()})("mouseleave",function(){return Ke.delayedHideToast()}),2&Ce&&(c.Tol(Ke.toastClasses),c.Udp("display",Ke.displayStyle))},attrs:Te,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ce,Ke){1&Ce&&(c.YNc(0,ot,3,0,"button",0),c.YNc(1,Dt,3,5,"div",1),c.YNc(2,Ot,1,3,"div",2),c.YNc(3,Pe,2,4,"div",3),c.YNc(4,Je,2,2,"div",4)),2&Ce&&(c.Q6J("ngIf",Ke.options.closeButton),c.xp6(1),c.Q6J("ngIf",Ke.title),c.xp6(1),c.Q6J("ngIf",Ke.message&&Ke.options.enableHtml),c.xp6(1),c.Q6J("ngIf",Ke.message&&!Ke.options.enableHtml),c.xp6(1),c.Q6J("ngIf",Ke.options.progressBar))},directives:[ve.O5],encapsulation:2}),dt})();Object.assign(Object.assign({},It),{toastComponent:qt})},5861:(Qt,nt,k)=>{function c(G,ve,Ie,Te,De,oe,Me){try{var ne=G[oe](Me),de=ne.value}catch(Le){return void Ie(Le)}ne.done?ve(de):Promise.resolve(de).then(Te,De)}function w(G){return function(){var ve=this,Ie=arguments;return new Promise(function(Te,De){var oe=G.apply(ve,Ie);function Me(de){c(oe,Te,De,Me,ne,"next",de)}function ne(de){c(oe,Te,De,Me,ne,"throw",de)}Me(void 0)})}}k.d(nt,{Z:()=>w})}},Qt=>{Qt(Qt.s=6568)}]);